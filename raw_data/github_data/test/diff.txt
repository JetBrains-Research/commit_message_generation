common \ src \ main \ java \ io \ netty \ util \ internal \ ObjectUtil . java \n + / * * \n + * Checks that the given argument is in range . If it is not , throws { @ link IllegalArgumentException } . \n + * Otherwise , returns the argument . \n + * / \n + public static int checkInRange ( int i , int start , int end , String name ) { \n + if ( i < start | | i > end ) { \n + throw new IllegalArgumentException ( name + " : " + i + " ( expected : " + start + " - " + end + " ) " ) ; \n + } \n + return i ; \n + } \n + \n + / * * \n + * Checks that the given argument is in range . If it is not , throws { @ link IllegalArgumentException } . \n + * Otherwise , returns the argument . \n + * / \n + public static long checkInRange ( long l , long start , long end , String name ) { \n + if ( l < start | | l > end ) { \n + throw new IllegalArgumentException ( name + " : " + l + " ( expected : " + start + " - " + end + " ) " ) ; \n + } \n + return l ; \n + } \n + \n
codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ DefaultHttpHeaders . java \n - switch ( character ) { \n - case ' \ n ' : \n - return 2 ; \n - default : \n - throw new IllegalArgumentException ( " only ' \ \ n ' is allowed after ' \ \ r ' : " + seq ) ; \n + if ( character = = ' \ n ' ) { \n + return 2 ; \n + throw new IllegalArgumentException ( " only ' \ \ n ' is allowed after ' \ \ r ' : " + seq ) ; \n
pom . xml \n - < version > 1 . 65 < / version > \n + < version > 1 . 68 < / version > \n - < version > 1 . 54 < / version > \n + < version > 1 . 68 < / version > \n
docs \ painless \ painless - contexts \ painless - runtime - fields - context . asciidoc \n - beta : : [ ] \n docs \ painless \ painless - guide \ painless - runtime - fields . asciidoc \n - beta : : [ ] \n docs \ reference \ mapping \ runtime . asciidoc \n - beta : : [ ] \n - beta : : [ ] \n - beta : : [ ] \n - beta : : [ ] \n - beta : : [ ] \n - beta : : [ ] \n
docs \ reference \ ilm \ update - lifecycle - policy . asciidoc \n + + + + \n - by modifying the current policy or switching to a different policy . \n + by modifying the current policy or switching to a different policy . \n - To ensure that policy updates don ' t put an index into a state where it can ' t exit the current phase , \n - the phase definition is cached in the index metadata when it enters the phase . \n - This cached definition is used to complete the phase . \n + To ensure that policy updates don ' t put an index into a state where it can ' t \n + exit the current phase , the phase definition is cached in the index metadata \n + when it enters the phase . If changes can be safely applied , { ilm - init } updates \n + the cached phase definition . If they cannot , phase execution continues using \n + the cached definition . \n - For example , if you create a policy that has a hot phase that does not specify a ` min _ age ` , \n - indices immediately enter the hot phase when the policy is applied . \n - If you then update the policy to specify a ` min _ age ` of 1 day for the hot phase , \n + For example , if you create a policy that has a hot phase that does not specify a ` min _ age ` , \n + indices immediately enter the hot phase when the policy is applied . \n + If you then update the policy to specify a ` min _ age ` of 1 day for the hot phase , \n - When you apply a different policy to a managed index , \n - the index completes the current phase using the cached definition from the previous policy . \n + When you apply a different policy to a managed index , \n + the index completes the current phase using the cached definition from the previous policy . \n
docs \ reference \ mapping . asciidoc \n - applied to dynamically added fields based on the matching condition . You can \n - < < match - mapping - runtime - fields , map runtime fields in a dynamic template > > \n - so that new fields are automatically added to the index mapping as runtime \n - fields . \n + applied to dynamically added fields based on the matching condition . \n - < < runtime - mapping - fields , Explicitly mapping runtime fields > > allows you to make \n - schema changes without reindexing . You can use runtime fields in conjunction \n - with indexed fields to balance resource usage and performance . Your index will \n - be smaller , but with slower search performance . \n + Use < < runtime - mapping - fields , runtime fields > > to make schema changes without \n + reindexing . You can use runtime fields in conjunction with indexed fields to \n + balance resource usage and performance . Your index will be smaller , but with \n + slower search performance . \n
okhttp \ src \ main \ java \ com \ squareup \ okhttp \ OkHttpClient . java \n - import com . squareup . okhttp . internal . bytes . ByteString ; \n + import com . squareup . okhttp . internal . bytes . ByteString ; \n + import java . security . GeneralSecurityException ; \n - import javax . net . ssl . HttpsURLConnection ; \n + import javax . net . ssl . SSLContext ; \n - * < p > If unset , the { @ link HttpsURLConnection # getDefaultSSLSocketFactory ( ) \n - * system - wide default } SSL socket factory will be used . \n + * < p > If unset , a lazily created SSL socket factory will be used . \n - * < p > If unset , the { @ link HttpsURLConnection # getDefaultHostnameVerifier ( ) \n + * < p > If unset , the \n + * { @ link javax . net . ssl . HttpsURLConnection # getDefaultHostnameVerifier ( ) \n - result . sslSocketFactory = HttpsURLConnection . getDefaultSSLSocketFactory ( ) ; \n + result . sslSocketFactory = getDefaultSSLSocketFactory ( ) ; \n + / * * \n + * Java and Android programs default to using a single global SSL context , \n + * accessible to HTTP clients as { @ link SSLSocketFactory # getDefault ( ) } . If we \n + * used the shared SSL context , when OkHttp enables NPN for its SPDY - related \n + * stuff , it would also enable NPN for other usages , which might crash them \n + * because NPN is enabled when it isn ' t expected to be . \n + * < p > \n + * This code avoids that by defaulting to an OkHttp created SSL context . The \n + * significant drawback of this approach is that apps that customize the \n + * global SSL context will lose these customizations . \n + * / \n + private synchronized SSLSocketFactory getDefaultSSLSocketFactory ( ) { \n + if ( sslSocketFactory = = null ) { \n + try { \n + SSLContext sslContext = SSLContext . getInstance ( " TLS " ) ; \n + sslContext . init ( null , null , null ) ; \n + sslSocketFactory = sslContext . getSocketFactory ( ) ; \n + } catch ( GeneralSecurityException e ) { \n + throw new AssertionError ( ) ; / / The system has no TLS . Just give up . \n + } \n + } \n + return sslSocketFactory ; \n + } \n + \n
okhttp \ src \ main \ java \ com \ squareup \ okhttp \ internal \ spdy \ Huffman . java \n - / / FIXME \n
okcurl \ src \ main \ java \ com \ squareup \ okhttp \ curl \ Main . java \n + @ Option ( name = { " - X " , " - - request " } , description = " Specify request command to use " , \n + allowedValues = { " GET " , " HEAD " } ) \n + public String method = " GET " ; \n + \n + request . method ( method , null ) ; \n
core \ java \ android \ window \ TaskOrganizer . java \n + import android . annotation . SuppressLint ; \n + @ SuppressLint ( " NullableCollection " ) \n + @ SuppressLint ( " NullableCollection " ) \n
core \ java \ android \ content \ AutofillOptions . java \n + import android . annotation . SuppressLint ; \n + @ SuppressLint ( " NullableCollection " ) \n + @ SuppressLint ( " NullableCollection " ) \n core \ java \ android \ content \ ContentCaptureOptions . java \n + import android . annotation . SuppressLint ; \n + @ SuppressLint ( " NullableCollection " ) \n + @ SuppressLint ( " NullableCollection " ) \n core \ java \ android \ content \ pm \ PackageManager . java \n - @ SuppressWarnings ( " HiddenAbstractMethod " ) \n + @ SuppressWarnings ( { " HiddenAbstractMethod " , " NullableCollection " } ) \n core \ java \ android \ view \ inputmethod \ InlineSuggestionInfo . java \n + @ SuppressLint ( " NullableCollection " ) \n location \ java \ android \ location \ LocationManager . java \n + @ SuppressWarnings ( " NullableCollection " ) \n packages \ Connectivity \ framework \ src \ android \ net \ NetworkAgent . java \n + import android . annotation . SuppressLint ; \n - public final void setUnderlyingNetworks ( @ Nullable List < Network > underlyingNetworks ) { \n + public final void setUnderlyingNetworks ( \n + @ SuppressLint ( " NullableCollection " ) @ Nullable List < Network > underlyingNetworks ) { \n telecomm \ java \ android \ telecom \ ConnectionRequest . java \n + import android . annotation . SuppressLint ; \n - public @ NonNull Builder setParticipants ( @ Nullable List < Uri > participants ) { \n + public @ NonNull Builder setParticipants ( \n + @ SuppressLint ( " NullableCollection " ) @ Nullable List < Uri > participants ) { \n telephony \ java \ android \ telephony \ ims \ DelegateStateCallback . java \n + import android . annotation . SuppressLint ; \n - void onCreated ( @ NonNull SipDelegate delegate , @ Nullable Set < FeatureTagState > deniedTags ) ; \n + void onCreated ( @ NonNull SipDelegate delegate , \n + @ SuppressLint ( " NullableCollection " ) / / TODO ( b / 154763999 ) : Mark deniedTags @ Nonnull \n + @ Nullable Set < FeatureTagState > deniedTags ) ; \n
new file \n core \ tests \ coretests \ src \ android \ view \ inputmethod \ OWNERS \n + # Bug component : 34867 \n + \n + include / core / java / android / view / inputmethod / OWNERS \n
code \ src \ main \ com \ lmax \ disruptor \ dsl \ Disruptor . java \n - eventProcessorRepository . unmarkEventProcessorsAsEndOfChain ( barrierEventProcessors ) ; \n + if ( createdEventProcessors . length > 0 ) \n + { \n + eventProcessorRepository . unmarkEventProcessorsAsEndOfChain ( barrierEventProcessors ) ; \n + } \n + \n
code \ src \ main \ com \ lmax \ disruptor \ dsl \ EventProcessorRepository . java \n - for ( EventProcessorInfo < T > eventProcessorInfo : eventProcessorInfoByHandler . values ( ) ) \n + for ( EventProcessorInfo < T > eventProcessorInfo : eventProcessorInfoByEventProcessor . values ( ) ) \n
src \ main \ java \ com \ lmax \ disruptor \ dsl \ EventHandlerGroup . java \n - / * * \n - * Create a new event handler group that combines the handlers in this group with \n - * < tt > handlers < / tt > . \n - * \n - * @ param handlers the handlers to combine . \n - * @ return a new EventHandlerGroup combining the existing and new handlers into a \n - * single dependency group . \n - * / \n - public EventHandlerGroup < T > and ( final EventHandler < T > . . . handlers ) \n - { \n - Sequence [ ] combinedSequences = new Sequence [ sequences . length + handlers . length ] ; \n - for ( int i = 0 ; i < handlers . length ; i + + ) \n - { \n - combinedSequences [ i ] = consumerRepository . getSequenceFor ( handlers [ i ] ) ; \n - } \n - System . arraycopy ( sequences , 0 , combinedSequences , handlers . length , sequences . length ) ; \n - \n - return new EventHandlerGroup < T > ( disruptor , consumerRepository , combinedSequences ) ; \n - } \n - \n src \ test \ java \ com \ lmax \ disruptor \ dsl \ DisruptorTest . java \n - disruptor . handleEventsWith ( handler1 , handler2 ) ; \n - disruptor . after ( handler1 ) . and ( handler2 ) . handleEventsWith ( handlerWithBarrier ) ; \n + disruptor . handleEventsWith ( handler1 ) ; \n + final EventHandlerGroup < TestEvent > handler2Group = disruptor . handleEventsWith ( handler2 ) ; \n + disruptor . after ( handler1 ) . and ( handler2Group ) . handleEventsWith ( handlerWithBarrier ) ; \n - @ Test ( expected = IllegalArgumentException . class ) \n - public void shouldThrowExceptionIfHandlerUsedWithAndIsNotAlreadyConsuming ( ) \n - throws Exception \n - { \n - final DelayedEventHandler handler1 = createDelayedEventHandler ( ) ; \n - final DelayedEventHandler handler2 = createDelayedEventHandler ( ) ; \n - disruptor . handleEventsWith ( handler1 ) ; \n - disruptor . after ( handler1 ) . and ( handler2 ) ; \n - } \n - \n
core \ build . gradle \n - implementation ' com . android . support : support - v13 : ' + versions . supportLib \n - implementation ' com . android . support : appcompat - v7 : ' + versions . supportLib \n - implementation ' com . android . support : recyclerview - v7 : ' + versions . supportLib \n - implementation ' com . android . support : support - annotations : ' + versions . supportLib \n - implementation ' me . zhanghai . android . materialprogressbar : library : ' + versions . mdProgressBar \n + api ' com . android . support : support - v13 : ' + versions . supportLib \n + api ' com . android . support : appcompat - v7 : ' + versions . supportLib \n + api ' com . android . support : recyclerview - v7 : ' + versions . supportLib \n + api ' com . android . support : support - annotations : ' + versions . supportLib \n + api ' me . zhanghai . android . materialprogressbar : library : ' + versions . mdProgressBar \n sample \ build . gradle \n - dependencies { \n - classpath ' me . tatarka : gradle - retrolambda : 3 . 6 . 0 ' \n - } \n - apply plugin : ' me . tatarka . retrolambda ' \n
. travis . yml \n - tools \n - platform - tools \n - - build - tools - 26 . 0 . 0 \n + - build - tools - 26 . 0 . 1 \n - android - 26 \n - extra - android - support \n - extra - android - m2repository \n dependencies . gradle \n - buildTools : ' 26 . 0 . 0 ' , \n + buildTools : ' 26 . 0 . 1 ' , \n - gradlePlugin : ' 3 . 0 . 0 - alpha7 ' , \n + gradlePlugin : ' 3 . 0 . 0 - beta1 ' , \n gradle \ wrapper \ gradle - wrapper . properties \n - # Mon Jul 24 13 : 10 : 51 CDT 2017 \n + # Sun Aug 13 10 : 42 : 25 CDT 2017 \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 4 . 1 - milestone - 1 - all . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 4 . 1 - rc - 1 - all . zip \n
README . md \n - compile ' com . afollestad . material - dialogs : core : 0 . 9 . 4 . 7 ' \n + compile ' com . afollestad . material - dialogs : core : 0 . 9 . 5 . 0 ' \n - compile ' com . afollestad . material - dialogs : commons : 0 . 9 . 4 . 7 ' \n + compile ' com . afollestad . material - dialogs : commons : 0 . 9 . 5 . 0 ' \n
bottomsheets \ src \ main \ java \ com \ afollestad \ materialdialogs \ bottomsheets \ BottomSheet . kt \n - this . cornerRadius = cornerRadius \n + this . cornerRadii = floatArrayOf ( \n + cornerRadius , cornerRadius , / / top left \n + cornerRadius , cornerRadius , / / top right \n + 0f , 0f , / / bottom left \n + 0f , 0f / / bottom right \n + ) \n core \ src \ main \ java \ com \ afollestad \ materialdialogs \ DialogBehavior . kt \n + view . cornerRadii = floatArrayOf ( \n + cornerRadius , cornerRadius , / / top left \n + cornerRadius , cornerRadius , / / top right \n + 0f , 0f , / / bottom left \n + 0f , 0f / / bottom right \n + ) \n core \ src \ main \ java \ com \ afollestad \ materialdialogs \ MaterialDialog . kt \n - view . cornerRadius = cornerRadius \n core \ src \ main \ java \ com \ afollestad \ materialdialogs \ internal \ main \ DialogLayout . kt \n - var cornerRadius : Float = 0f \n + var cornerRadii : FloatArray = floatArrayOf ( ) \n - if ( cornerRadius > 0f ) { \n + if ( cornerRadii . isNotEmpty ( ) ) { \n - cornerRadiusPath . addRoundRect ( cornerRadiusRect , cornerRadius , cornerRadius , CW ) \n + cornerRadiusPath . addRoundRect ( cornerRadiusRect , cornerRadii , CW ) \n - if ( cornerRadius > 0f ) { \n + if ( cornerRadii . isNotEmpty ( ) ) { \n
core \ src \ main \ java \ com \ afollestad \ materialdialogs \ internal \ main \ DialogTitleLayout . kt \n + import com . afollestad . materialdialogs . utils . MDUtil . additionalPaddingForFont \n - import com . afollestad . materialdialogs . utils . MDUtil . maybeSetAdditionalPadding \n - setMeasuredDimension ( \n - parentWidth , \n - actualHeight \n - ) \n + setMeasuredDimension ( parentWidth , actualHeight ) \n - val titleBottom = contentMidPoint + titleHalfHeight \n - + titleView . maybeSetAdditionalPadding ( titleView . measuredHeight ) \n + val titleBottom = contentMidPoint + titleHalfHeight + \n + titleView . additionalPaddingForFont ( ) \n core \ src \ main \ java \ com \ afollestad \ materialdialogs \ utils \ MDUtil . kt \n - @ RestrictTo ( LIBRARY _ GROUP ) fun TextView . maybeSetAdditionalPadding ( height : Int ) : Int { \n + / * * \n + * See [ https : / / github . com / afollestad / material - dialogs / issues / 1936 ] . Calculates additional \n + * spacing required to prevent a given [ TextView ] from being cut off at the bottom . \n + * / \n + @ RestrictTo ( LIBRARY _ GROUP ) fun TextView . additionalPaddingForFont ( ) : Int { \n - return if ( textHeight > height ) ( textHeight - height ) . toInt ( ) else 0 \n + return if ( textHeight > measuredHeight ) ( textHeight - measuredHeight ) . toInt ( ) else 0 \n
sample \ build . gradle \n + android . defaultConfig . vectorDrawables . useSupportLibrary = true \n + \n
datetime \ src \ main \ java \ com \ afollestad \ materialdialogs \ datetime \ DateTimePickerExt . kt \n + import com . afollestad . date . dayOfMonth \n - onDateChanged { \n + addOnDateChanged { previous , date - > \n - if ( autoFlipToTime ) { \n + if ( autoFlipToTime & & didDateChange ( previous , date ) ) { \n + private fun didDateChange ( \n + from : Calendar ? , \n + to : Calendar \n + ) : Boolean { \n + if ( from = = null ) return false \n + return from . dayOfMonth ! = to . dayOfMonth \n + } \n + \n datetime \ src \ main \ res \ layout \ md _ datetime _ picker _ date . xml \n + xmlns : app = " http : / / schemas . android . com / apk / res - auto " \n - android : layout _ height = " wrap _ content " / > \n + android : layout _ height = " wrap _ content " \n + app : date _ picker _ calendar _ horizontal _ padding = " 8dp " \n + / > \n dependencies . gradle \n - datePicker : ' 0 . 2 . 1 ' \n + datePicker : ' 0 . 4 . 1 ' \n
bottomsheets \ src \ main \ java \ com \ afollestad \ materialdialogs \ bottomsheets \ BottomSheet . kt \n + import android . view . View . VISIBLE \n + import com . google . android . material . bottomsheet . BottomSheetBehavior . STATE _ COLLAPSED \n - dialog = null \n - bottomSheetBehavior ? . animatePeekHeight ( \n - view = bottomSheetView ! ! , \n - start = 0 , \n - dest = actualPeekHeight , \n - duration = LAYOUT _ PEEK _ CHANGE _ DURATION _ MS , \n - onEnd = { \n - invalidateDividers ( actualPeekHeight ) \n - } \n - ) \n - showButtons ( ) \n + \n + bottomSheetView ! ! . waitForHeight { \n + bottomSheetBehavior ? . peekHeight = 0 \n + bottomSheetBehavior ? . state = STATE _ COLLAPSED \n + bottomSheetBehavior ? . animatePeekHeight ( \n + view = bottomSheetView ! ! , \n + start = 0 , \n + dest = actualPeekHeight , \n + duration = LAYOUT _ PEEK _ CHANGE _ DURATION _ MS , \n + onEnd = { \n + invalidateDividers ( actualPeekHeight ) \n + } \n + ) \n + showButtons ( ) \n + } \n - hideButtons { cleanup ( ) } \n + hideButtons ( ) \n - private fun cleanup ( ) { \n - bottomSheetBehavior = null \n - bottomSheetView = null \n - buttonsLayout = null \n - rootView = null \n - } \n - \n + buttonsLayout ? . visibility = VISIBLE \n - private fun hideButtons ( onEnd : ( ) - > Unit ) { \n - if ( buttonsLayout . shouldBeVisible ( ) ) { \n - val animator = animateValues ( \n - from = 0 , \n - to = buttonsLayout ! ! . measuredHeight , \n - duration = LAYOUT _ PEEK _ CHANGE _ DURATION _ MS , \n - onUpdate = { buttonsLayout ? . translationY = it . toFloat ( ) } , \n - onEnd = onEnd \n - ) \n - buttonsLayout ? . onDetach { animator . cancel ( ) } \n - animator . start ( ) \n - return \n - } \n - onEnd ( ) \n + private fun hideButtons ( ) { \n + if ( ! buttonsLayout . shouldBeVisible ( ) ) return \n + val animator = animateValues ( \n + from = 0 , \n + to = buttonsLayout ! ! . measuredHeight , \n + duration = LAYOUT _ PEEK _ CHANGE _ DURATION _ MS , \n + onUpdate = { buttonsLayout ? . translationY = it . toFloat ( ) } \n + ) \n + buttonsLayout ? . onDetach { animator . cancel ( ) } \n + animator . start ( ) \n
bottomsheets \ src \ main \ res \ values \ styles . xml \n + < item name = " android : windowAnimationStyle " > @ null < / item > \n + < item name = " android : windowAnimationStyle " > @ null < / item > \n sample \ src \ main \ res \ values \ styles _ parent . xml \n - < style name = " ThemeParent " parent = " Theme . MaterialComponents . Light . DarkActionBar " / > \n + < style name = " ThemeParent " parent = " Theme . MaterialComponents . Light . DarkActionBar " > \n + < item name = " sample _ button _ color " > # 80000000 < / item > \n + < / style > \n - < style name = " ThemeParent . Dark " parent = " Theme . MaterialComponents " / > \n + < style name = " ThemeParent . Dark " parent = " Theme . MaterialComponents " > \n + < item name = " sample _ button _ color " > # 80000000 < / item > \n + < / style > \n
presto - cassandra \ pom . xml \n - < dependency > \n - < groupId > joda - time < / groupId > \n - < artifactId > joda - time < / artifactId > \n - < / dependency > \n - \n - < dependency > \n - < groupId > io . airlift < / groupId > \n - < artifactId > joda - to - java - time - bridge < / artifactId > \n - < scope > runtime < / scope > \n - < / dependency > \n - \n presto - cassandra \ src \ main \ java \ com \ facebook \ presto \ cassandra \ CassandraPageSink . java \n - import org . joda . time . format . DateTimeFormatter ; \n - import org . joda . time . format . ISODateTimeFormat ; \n + import java . time . Instant ; \n + import java . time . ZoneId ; \n + import java . time . format . DateTimeFormatter ; \n - private static final DateTimeFormatter DATE _ FORMATTER = ISODateTimeFormat . date ( ) . withZoneUTC ( ) ; \n + private static final DateTimeFormatter DATE _ FORMATTER = DateTimeFormatter . ISO _ LOCAL _ DATE . withZone ( ZoneId . of ( " UTC " ) ) ; \n - values . add ( DATE _ FORMATTER . print ( TimeUnit . DAYS . toMillis ( type . getLong ( block , position ) ) ) ) ; \n + values . add ( DATE _ FORMATTER . format ( Instant . ofEpochMilli ( TimeUnit . DAYS . toMillis ( type . getLong ( block , position ) ) ) ) ) ; \n
presto - memory - context \ pom . xml \n + < ! - - for testing - - > \n - < groupId > io . airlift < / groupId > \n - < artifactId > units < / artifactId > \n + < groupId > com . facebook . airlift < / groupId > \n + < artifactId > testing < / artifactId > \n + < scope > test < / scope > \n - < ! - - for testing - - > \n - < groupId > org . testng < / groupId > \n - < artifactId > testng < / artifactId > \n + < groupId > io . airlift < / groupId > \n + < artifactId > units < / artifactId > \n - < groupId > com . facebook . airlift < / groupId > \n - < artifactId > testing < / artifactId > \n + < groupId > org . testng < / groupId > \n + < artifactId > testng < / artifactId > \n
README . md \n - # Presto [ ! [ Build Status ] ( https : / / travis - ci . org / prestodb / presto . svg ? branch = master ) ] ( https : / / travis - ci . org / prestodb / presto ) \n + # Presto [ ! [ Build Status ] ( https : / / travis - ci . com / prestodb / presto . svg ? branch = master ) ] ( https : / / travis - ci . com / prestodb / presto ) \n
src \ clj \ clojure \ core _ deftype . clj \n - ( . ~ ( with - meta target { : tag on - interface } ) ~ ( or on - method method ) ~ @ ( rest gargs ) ) ) ) ) \n + ( . ~ ( with - meta target { : tag on - interface } ) ( ~ ( or on - method method ) ~ @ ( rest gargs ) ) ) ) ) ) \n test \ clojure \ test _ clojure \ protocols . clj \n + ( defprotocol Dasherizer \n + ( - do - dashed [ this ] ) ) \n + ( deftype Dashed [ ] \n + Dasherizer \n + ( - do - dashed [ this ] 10 ) ) \n + \n + ( deftest test - leading - dashes \n + ( is ( = 10 ( - do - dashed ( Dashed . ) ) ) ) \n + ( is ( = [ 10 ] ( map - do - dashed [ ( Dashed . ) ] ) ) ) ) \n
src \ jvm \ clojure \ lang \ Delay . java \n + Throwable exception ; \n + this . exception = null ; \n - val = fn . invoke ( ) ; \n + try \n + { \n + val = fn . invoke ( ) ; \n + } \n + catch ( Throwable t ) \n + { \n + exception = t ; \n + } \n + if ( exception ! = null ) \n + throw Util . sneakyThrow ( exception ) ; \n new file \n test \ clojure \ test _ clojure \ delays . clj \n + ( ns clojure . test - clojure . delays \n + ( : use clojure . test ) ) \n + \n + ( deftest calls - once \n + ( let [ a ( atom 0 ) \n + d ( delay ( swap ! a inc ) ) ] \n + ( is ( = 0 @ a ) ) \n + ( is ( = 1 @ d ) ) \n + ( is ( = 1 @ d ) ) \n + ( is ( = 1 @ a ) ) ) ) \n + \n + ( deftest saves - exceptions \n + ( let [ f # ( do ( throw ( Exception . " broken " ) ) \n + 1 ) \n + d ( delay ( f ) ) \n + try - call # ( try \n + @ d \n + ( catch Exception e e ) ) \n + first - result ( try - call ) ] \n + ( is ( instance ? Exception first - result ) ) \n + ( is ( identical ? first - result ( try - call ) ) ) ) ) \n
src \ jvm \ clojure \ lang \ Var . java \n - return AFn . applyToHelper ( this , arglist ) ; \n + return fn ( ) . applyTo ( arglist ) ; \n test \ clojure \ test _ clojure \ vars . clj \n - ( is ( = 1 dynamic - var ) ) ) \n + ( is ( = 1 dynamic - var ) ) ) \n + \n + ( defn sample [ & args ] \n + 0 ) \n + \n + ( deftest test - vars - apply - lazily \n + ( is ( = 0 ( deref ( future ( apply sample ( range ) ) ) \n + 1000 : timeout ) ) ) \n + ( is ( = 0 ( deref ( future ( apply # ' sample ( range ) ) ) \n + 1000 : timeout ) ) ) ) \n
server \ src \ main \ java \ org \ elasticsearch \ index \ mapper \ MapperService . java \n - public ObjectMapper getObjectMapper ( String name ) { \n - return this . mapper = = null ? null : this . mapper . mappers ( ) . objectMappers ( ) . get ( name ) ; \n - } \n - \n server \ src \ test \ java \ org \ elasticsearch \ index \ search \ NestedHelperTests . java \n - return new NestedHelper ( mapperService : : getObjectMapper , field - > mapperService . fieldType ( field ) ! = null ) ; \n + return new NestedHelper ( mapperService . mappingLookup ( ) . objectMappers ( ) : : get , field - > mapperService . fieldType ( field ) ! = null ) ; \n test \ framework \ src \ main \ java \ org \ elasticsearch \ index \ mapper \ MapperServiceTestCase . java \n - inv - > mapperService . getObjectMapper ( inv . getArguments ( ) [ 0 ] . toString ( ) ) ) ; \n + inv - > mapperService . mappingLookup ( ) . objectMappers ( ) . get ( inv . getArguments ( ) [ 0 ] . toString ( ) ) ) ; \n
server \ src \ test \ java \ org \ elasticsearch \ cluster \ metadata \ DateMathExpressionResolverTests . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / pull / 66914 " ) \n
server \ src \ main \ java \ org \ elasticsearch \ index \ mapper \ ParseContext . java \n + import org . apache . lucene . document . Field ; \n + import org . apache . lucene . index . IndexableField ; \n + import org . apache . lucene . util . BytesRef ; \n + import org . elasticsearch . common . time . DateFormatter ; \n + import org . elasticsearch . common . xcontent . XContentParser ; \n + import org . elasticsearch . index . IndexSettings ; \n + import org . elasticsearch . index . analysis . IndexAnalyzers ; \n + import org . elasticsearch . plugins . MapperPlugin ; \n + \n - import org . apache . lucene . document . Field ; \n - import org . apache . lucene . index . IndexableField ; \n - import org . apache . lucene . util . BytesRef ; \n - import org . elasticsearch . common . time . DateFormatter ; \n - import org . elasticsearch . common . xcontent . XContentParser ; \n - import org . elasticsearch . index . IndexSettings ; \n - import org . elasticsearch . index . analysis . IndexAnalyzers ; \n - import org . elasticsearch . plugins . MapperPlugin ; \n - \n - import com . carrotsearch . hppc . ObjectObjectHashMap ; \n - import com . carrotsearch . hppc . ObjectObjectMap ; \n - \n - private ObjectObjectMap < Object , IndexableField > keyedFields ; \n + private Map < Object , IndexableField > keyedFields ; \n - keyedFields = new ObjectObjectHashMap < > ( ) ; \n + keyedFields = new HashMap < > ( ) ; \n
x - pack \ qa \ smoke - test - plugins - ssl \ src \ test \ java \ org \ elasticsearch \ smoketest \ SmokeTestPluginsSslClientYamlTestSuiteIT . java \n - private static final String KEYSTORE _ PASS = " testnode " ; \n - static Path keyStore ; \n - \n - @ BeforeClass \n - public static void muteInFips ( ) { \n - assumeFalse ( " https : / / github . com / elastic / elasticsearch / issues / 49094 " , inFipsJvm ( ) ) ; \n - } \n + static Path certificateAuthorities ; \n - keyStore = PathUtils . get ( SmokeTestPluginsSslClientYamlTestSuiteIT . class . getResource ( " / testnode . jks " ) . toURI ( ) ) ; \n + certificateAuthorities = PathUtils . get ( SmokeTestPluginsSslClientYamlTestSuiteIT . class . getResource ( " / testnode . crt " ) . toURI ( ) ) ; \n - if ( ! Files . exists ( keyStore ) ) { \n - throw new IllegalStateException ( " Keystore file [ " + keyStore + " ] does not exist . " ) ; \n + if ( ! Files . exists ( certificateAuthorities ) ) { \n + throw new IllegalStateException ( " Keystore file [ " + certificateAuthorities + " ] does not exist . " ) ; \n - keyStore = null ; \n + certificateAuthorities = null ; \n - . put ( ESRestTestCase . TRUSTSTORE _ PATH , keyStore ) \n - . put ( ESRestTestCase . TRUSTSTORE _ PASSWORD , KEYSTORE _ PASS ) \n + . put ( ESRestTestCase . CERTIFICATE _ AUTHORITIES , certificateAuthorities ) \n
x - pack \ plugin \ repository - encrypted \ src \ test \ java \ org \ elasticsearch \ repositories \ encrypted \ ChainingInputStreamTests . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 67086 " ) \n - readLimit = randomInt ( 63 ) ; \n - test . mark ( readLimit ) ; \n + int readLimit2 = randomInt ( 63 ) ; \n + test . mark ( readLimit2 ) ; \n - verify ( lastCurrentIn ) . mark ( Mockito . eq ( readLimit ) ) ; \n + if ( currentIn = = lastCurrentIn & & readLimit = = readLimit2 ) { \n + verify ( lastCurrentIn , times ( 2 ) ) . mark ( Mockito . eq ( readLimit ) ) ; \n + } else { \n + verify ( lastCurrentIn ) . mark ( Mockito . eq ( readLimit2 ) ) ; \n + } \n - readLimit = randomInt ( 63 ) ; \n - test . mark ( readLimit ) ; \n + int readLimit3 = 128 + randomInt ( 63 ) ; / / it is harder to assert the cases with the same readLimit \n + test . mark ( readLimit3 ) ; \n - verify ( lastCurrentIn ) . mark ( Mockito . eq ( readLimit ) ) ; \n + verify ( lastCurrentIn ) . mark ( Mockito . eq ( readLimit3 ) ) ; \n
x - pack \ plugin \ security \ src \ test \ java \ org \ elasticsearch \ xpack \ security \ transport \ nio \ SSLDriverTests . java \n + import static org . hamcrest . Matchers . is ; \n + \n - String [ ] serverProtocols = { " TLSv1 . 2 " } ; \n + final String [ ] serverProtocols ; \n + final String [ ] clientProtocols ; \n + final String expectedMessage ; \n + if ( inFipsJvm ( ) ) { \n + / / fips JSSE does not support TLSv1 . 3 yet \n + serverProtocols = new String [ ] { " TLSv1 . 2 " } ; \n + clientProtocols = new String [ ] { " TLSv1 . 1 " } ; \n + expectedMessage = " org . bouncycastle . tls . TlsFatalAlert : protocol _ version ( 70 ) " ; \n + } else if ( JavaVersion . current ( ) . compareTo ( JavaVersion . parse ( " 16 " ) ) > = 0 ) { \n + / / JDK16 https : / / jdk . java . net / 16 / release - notes does not permit protocol TLSv1 . 1 OOB \n + serverProtocols = new String [ ] { " TLSv1 . 3 " } ; \n + clientProtocols = new String [ ] { " TLSv1 . 2 " } ; \n + expectedMessage = " The client supported protocol versions [ TLSv1 . 2 ] are not accepted by server preferences [ TLS13 ] " ; \n + } else { \n + serverProtocols = new String [ ] { " TLSv1 . 2 " } ; \n + clientProtocols = new String [ ] { " TLSv1 . 1 " } ; \n + expectedMessage = " The client supported protocol versions [ TLSv1 . 1 ] are not accepted by server preferences [ TLS12 ] " ; \n + } \n + \n - String [ ] clientProtocols = { " TLSv1 . 1 " } ; \n - String oldExpected = " Client requested protocol TLSv1 . 1 not enabled or not supported " ; \n - String jdk11Expected = " The client supported protocol versions [ TLSv1 . 1 ] are not accepted by server preferences [ TLS12 ] " ; \n - String bctlsExpected = " org . bouncycastle . tls . TlsFatalAlert : protocol _ version ( 70 ) " ; \n - boolean expectedMessage = oldExpected . equals ( sslException . getMessage ( ) ) | | jdk11Expected . equals ( sslException . getMessage ( ) ) \n - | | bctlsExpected . equals ( sslException . getMessage ( ) ) ; \n - assertTrue ( " Unexpected exception message : " + sslException . getMessage ( ) , expectedMessage ) ; \n + assertThat ( sslException . getMessage ( ) , is ( expectedMessage ) ) ; \n
src \ main \ java \ org \ junit \ rules \ RuleChain . java \n - * @ param enclosedRule the rule to enclose . \n + * @ param enclosedRule the rule to enclose ; must not be { @ code null } . \n + * @ throws NullPointerException if the argument { @ code enclosedRule } is { @ code null } \n + if ( enclosedRule = = null ) { \n + throw new NullPointerException ( " The enclosed rule must not be null " ) ; \n + } \n src \ test \ java \ org \ junit \ rules \ RuleChainTest . java \n + import static org . hamcrest . CoreMatchers . containsString ; \n + import static org . hamcrest . CoreMatchers . equalTo ; \n + import static org . hamcrest . MatcherAssert . assertThat ; \n + import static org . junit . Assert . fail ; \n + import java . io . PrintWriter ; \n + import java . io . StringWriter ; \n + import org . junit . internal . Throwables ; \n + import org . junit . runner . JUnitCore ; \n + import org . junit . runner . Result ; \n + \n + @ Test \n + public void aroundShouldNotAllowNullRules ( ) { \n + RuleChain chain = RuleChain . emptyRuleChain ( ) ; \n + try { \n + chain . around ( null ) ; \n + fail ( " around ( ) should not allow null rules " ) ; \n + } catch ( NullPointerException e ) { \n + assertThat ( e . getMessage ( ) , equalTo ( " The enclosed rule must not be null " ) ) ; \n + } \n + } \n + \n + public static class RuleChainWithNullRules { \n + @ Rule \n + public final RuleChain chain = outerRule ( new LoggingRule ( " outer rule " ) ) \n + . around ( null ) ; \n + \n + @ Test \n + public void example ( ) { } \n + } \n + \n + @ Test \n + public void whenRuleChainHasNullRuleTheStacktraceShouldPointToIt ( ) { \n + Result result = JUnitCore . runClasses ( RuleChainWithNullRules . class ) ; \n + \n + assertThat ( result . getFailures ( ) . size ( ) , equalTo ( 1 ) ) ; \n + String stacktrace = Throwables . getStacktrace ( result . getFailures ( ) . get ( 0 ) . getException ( ) ) ; \n + assertThat ( stacktrace , containsString ( " \ tat org . junit . rules . RuleChainTest $ RuleChainWithNullRules . < init > ( RuleChainTest . java : " ) ) ; \n + } \n
src \ main \ java \ org \ junit \ runners \ BlockJUnit4ClassRunner . java \n - * < li > HOWEVER , if { @ code method } ' s { @ code @ Test } annotation has the { @ code \n - * expecting } attribute , return normally only if the previous step threw an \n + * < li > HOWEVER , if { @ code method } ' s { @ code @ Test } annotation has the { @ link Test # expected ( ) } \n + * attribute , return normally only if the previous step threw an \n - * has the { @ code expecting } attribute , return normally only if { @ code next } \n + * has the { @ link Test # expected ( ) } attribute , return normally only if { @ code next } \n
src \ main \ java \ org \ junit \ rules \ ExternalResource . java \n + * \n + * @ throws Throwable if teardown fails \n - protected void after ( ) { \n + protected void after ( ) throws Throwable { \n
src \ main \ java \ io \ reactivex \ Single . java \n - * < img width = " 640 " height = " 310 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / filter . png " alt = " " > \n + * < img width = " 640 " height = " 457 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Single . filter . png " alt = " " > \n
src \ main \ java \ io \ reactivex \ Single . java \n + * < p > \n + * < img width = " 640 " height = " 457 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Single . delay . png " alt = " " > \n + * < p > \n + * < img width = " 640 " height = " 457 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Single . delay . e . png " alt = " " > \n + * < p > \n + * < img width = " 640 " height = " 457 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Single . delay . s . png " alt = " " > \n + * < p > \n + * < img width = " 640 " height = " 457 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Single . delay . se . png " alt = " " > \n
src \ main \ java \ io \ reactivex \ Single . java \n + * < p > \n + * < img width = " 640 " height = " 458 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Single . hide . png " alt = " " > \n
changes . md \n - # # 1 Fixes \n + # # 1 Dependencies \n - # # 1 . 1 Interop / JVM \n + Updated dependencies : \n + \n + * spec . alpha dependency to 0 . 2 . 194 - [ changes ] ( https : / / github . com / clojure / spec . alpha / blob / master / CHANGES . md ) \n + * core . specs . alpha dependency to 0 . 2 . 56 - [ changes ] ( https : / / github . com / clojure / core . specs . alpha / blob / master / CHANGES . md ) \n + \n + # # 2 Fixes \n + \n + # # 2 . 1 Interop / JVM \n + * [ CLJ - 2597 ] ( https : / / clojure . atlassian . net / browse / CLJ - 2597 ) \n + proxy should emit Java 1 . 8 bytecode \n - # # 1 . 2 Core \n + # # 2 . 2 Core \n - # # 1 . 3 Printing \n + # # 2 . 3 Printing \n - # # 1 . 4 Docstrings \n + # # 2 . 4 Docstrings \n - # # 2 Performance \n + # # 3 Performance \n
src \ clj \ clojure \ core . clj \n - ( defn case - fallthrough - err - impl \n - [ val ] \n - ( IllegalArgumentException . ( str " No matching clause : " ( pr - str val ) ) ) ) \n - ` ( throw ( case - fallthrough - err - impl ~ ge ) ) ) ] \n + ` ( throw ( IllegalArgumentException . ( str " No matching clause : " ~ ge ) ) ) ) ] \n
changes . md \n + # Changes to Clojure in Version 1 . 10 . 3 \n + \n + # # 1 Changes reverted \n + \n + * [ CLJ - 2564 ] ( https : / / clojure . atlassian . net / browse / CLJ - 2564 ) \n + Improve error message for case \n + \n + # # 2 Fixes \n + \n + * [ CLJ - 2453 ] ( https : / / clojure . atlassian . net / browse / CLJ - 2453 ) \n + Enable reader conditionals in Clojure prepl \n + \n
. travis . yml \n + before _ install : \n + - mkdir " $ ANDROID _ HOME / licenses " | | true \n + - echo - e " \ n8933bad161af4178b1185d1a37fbf41ea5269c55 \ nd56f5187479451eabf01fb78af6dfcb131a6481e " > " $ ANDROID _ HOME / licenses / android - sdk - license " \n + - echo - e " \ n84831b9409646a918e30573bab4c9c91346d8abd \ n504667f4c0de7af1a06de9f4b1727b84351f2910 " > " $ ANDROID _ HOME / licenses / android - sdk - preview - license " \n + \n - tools \n - tools \n - licenses : \n - - ' android - sdk - license . * ' \n - \n - oraclejdk8 \n
build . gradle \n - / / TODO ( # 2730 ) : Remove this after updating to the latest support library . \n - disable " GradleDependency " \n gradle . properties \n - ANDROID _ SUPPORT _ VERSION = 26 . 1 . 0 \n + ANDROID _ SUPPORT _ VERSION = 27 . 0 . 2 \n - COMPILE _ SDK _ VERSION = 26 \n - TARGET _ SDK _ VERSION = 26 \n + COMPILE _ SDK _ VERSION = 27 \n + TARGET _ SDK _ VERSION = 27 \n integration \ okhttp \ build . gradle \n - api " com . squareup . okhttp : okhttp : 2 . 7 . 1 " \n + api " com . squareup . okhttp : okhttp : 2 . 7 . 2 " \n samples \ imgur \ build . gradle \n - implementation ' com . squareup . retrofit2 : retrofit : 2 . 2 . 0 ' \n - implementation ' com . squareup . retrofit2 : converter - gson : 2 . 2 . 0 ' \n - implementation ' com . squareup . retrofit2 : adapter - rxjava : 2 . 2 . 0 ' \n + implementation ' com . squareup . retrofit2 : retrofit : 2 . 3 . 0 ' \n + implementation ' com . squareup . retrofit2 : converter - gson : 2 . 3 . 0 ' \n + implementation ' com . squareup . retrofit2 : adapter - rxjava : 2 . 3 . 0 ' \n - implementation ' io . reactivex : rxjava : 1 . 2 . 9 ' \n + implementation ' io . reactivex : rxjava : 1 . 3 . 4 ' \n - compileOnly " com . google . errorprone : error _ prone _ annotations : 2 . 0 . 19 " \n + compileOnly " com . google . errorprone : error _ prone _ annotations : 2 . 1 . 3 " \n
library \ src \ main \ java \ com \ bumptech \ glide \ load \ resource \ drawable \ ResourceDrawableDecoder . java \n - Context targetContext = packageName . equals ( context . getPackageName ( ) ) \n - ? context : getContextForPackage ( source , packageName ) ; \n + Context targetContext = findContextForPackage ( source , packageName ) ; \n - private Context getContextForPackage ( Uri source , String packageName ) { \n + private Context findContextForPackage ( Uri source , String packageName ) { \n + / / Fast path \n + if ( packageName . equals ( context . getPackageName ( ) ) ) { \n + return context ; \n + } \n + \n + / / The parent APK holds the correct context if the resource is located in a split \n + if ( packageName . contains ( context . getPackageName ( ) ) ) { \n + return context ; \n + } \n + \n
buildSrc \ src \ main \ kotlin \ tasks . kt \n - " : native : kotlin - klib - commonizer - api : install " \n + " : native : kotlin - klib - commonizer - api " \n
idea \ idea - gradle \ tests \ org \ jetbrains \ kotlin \ idea \ codeInsight \ gradle \ GradleQuickFixTest . kt \n - import com . intellij . testFramework . fixtures . impl . CodeInsightTestFixtureImpl \n - import com . intellij . testFramework . fixtures . impl . TempDirTestFixtureImpl \n - codeInsightTestFixture = object : CodeInsightTestFixtureImpl ( myTestFixture , TempDirTestFixtureImpl ( ) ) { \n - override fun shouldTrackVirtualFilePointers ( ) : Boolean = false \n - } \n + codeInsightTestFixture = IdeaTestFixtureFactory . getFixtureFactory ( ) . createCodeInsightFixture ( myTestFixture ) \n
idea \ idea - gradle \ tests \ org \ jetbrains \ kotlin \ idea \ codeInsight \ gradle \ GradleImportingTestCase . kt \n + import com . intellij . openapi . Disposable \n + import com . intellij . openapi . util . Disposer \n + if ( jdk is Disposable ) { \n + Disposer . dispose ( ( jdk as Disposable ) ) \n + } \n
libraries \ tools \ kotlin - gradle - plugin - integration - tests \ src \ test \ kotlin \ org \ jetbrains \ kotlin \ gradle \ ConfigurationCacheIT . kt \n + import org . jetbrains . kotlin . gradle . util . modify \n + \n + @ Test \n + fun testConfigurationCacheJsPlugin ( ) = with ( Project ( " kotlin - js - browser - project " ) ) { \n + setupWorkingDir ( ) \n + gradleBuildScript ( ) . modify ( : : transformBuildScriptWithPluginsDsl ) \n + gradleSettingsScript ( ) . modify ( : : transformBuildScriptWithPluginsDsl ) \n + testConfigurationCacheOf ( \n + " : app : build " , executedTaskNames = asList ( \n + " : app : packageJson " , \n + " : app : publicPackageJson " , \n + " : app : compileKotlinJs " , \n + " : app : processDceKotlinJs " , \n + " : app : browserProductionWebpack " , \n + ) \n + ) \n + } \n
libraries \ tools \ kotlin - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ gradle \ testing \ internal \ KotlinTestReport . kt \n - / / TODO : used in task action when the task is aggregate report , non compatible with configuration cache \n + / / TODO : this field is used in task action when the task is aggregate report , which makes it incompatible with configuration cache \n - report . suppressedRunningFailureListeners . filter { it . failure ! = null } . forEach { \n - allSuppressedRunningFailures . add ( it . taskPath to it . failure ! ! ) \n + report . suppressedRunningFailureListeners . forEach { listener - > \n + listener . failures . forEach { failure - > \n + allSuppressedRunningFailures . add ( listener . taskPath to failure ) \n + } \n - var failure : Error ? = null \n + private var failuresMutable : MutableList < Error > ? = mutableListOf ( ) \n + \n + val failures : List < Error > \n + get ( ) = failuresMutable ? : emptyList ( ) \n - this . failure = failure \n + var failures = failuresMutable \n + if ( failures = = null ) { \n + / / it is possible after deserialization \n + failures = mutableListOf ( ) \n + failuresMutable = failures \n + } \n + failures . add ( failure ) \n
libraries \ tools \ kotlin - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ gradle \ targets \ js \ testing \ karma \ KotlinKarma . kt \n - private val isTeamCity = project . hasProperty ( TC _ PROJECT _ PROPERTY ) \n + private val isTeamCity by lazy { \n + project . providers . gradleProperty ( TC _ PROJECT _ PROPERTY ) . forUseAtConfigurationTime ( ) . isPresent \n + } \n libraries \ tools \ kotlin - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ gradle \ targets \ js \ testing \ mocha \ KotlinMocha . kt \n - private val isTeamCity = project . hasProperty ( TC _ PROJECT _ PROPERTY ) \n + private val isTeamCity by lazy { \n + project . providers . gradleProperty ( TC _ PROJECT _ PROPERTY ) . forUseAtConfigurationTime ( ) . isPresent \n + } \n libraries \ tools \ kotlin - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ gradle \ targets \ native \ tasks \ KotlinNativeTest . kt \n - escapeTCMessagesInLog = project . hasProperty ( TC _ PROJECT _ PROPERTY ) \n + escapeTCMessagesInLog = project . providers . gradleProperty ( TC _ PROJECT _ PROPERTY ) . forUseAtConfigurationTime ( ) . isPresent \n
samples \ showcase \ src \ main \ java \ com \ facebook \ fresco \ samples \ showcase \ vito \ FrescoVitoLithoSimpleFragment . java \n - import android . util . Log ; \n - import com . facebook . drawee . drawable . FadeDrawable ; \n - return FrescoVitoImage2 . create ( c ) \n - . uri ( uri ) \n - . imageOptions ( IMAGE _ OPTIONS ) \n - . onFadeListener ( \n - new FadeDrawable . OnFadeListener ( ) { \n - @ Override \n - public void onFadeStarted ( ) { \n - Log . d ( " pewpew " , " f start " ) ; \n - } \n - \n - @ Override \n - public void onFadeFinished ( ) { \n - Log . d ( " pewpew " , " f finished " ) ; \n - } \n - } ) \n - . build ( ) ; \n + return FrescoVitoImage2 . create ( c ) . uri ( uri ) . imageOptions ( IMAGE _ OPTIONS ) . build ( ) ; \n
vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ core \ impl \ debug \ DebugOverlayDrawable . java \n - private int mTextGravity = Gravity . BOTTOM ; \n + private int mTextGravity = Gravity . TOP ; \n + public void setTextGravity ( int textGravity ) { \n + mTextGravity = textGravity ; \n + } \n + \n - if ( mTextGravity = = Gravity . BOTTOM ) { \n - mLineIncrementPx * = - 1 ; \n - } \n - : bounds . top + TEXT _ PADDING _ PX + MIN _ TEXT _ SIZE _ PX ; \n + : bounds . top + TEXT _ PADDING _ PX + textSizePx ; \n - mCurrentTextYPx + mLineIncrementPx + TEXT _ LINE _ SPACING _ PX , \n + mCurrentTextYPx - mLineIncrementPx + TEXT _ LINE _ SPACING _ PX , \n - mCurrentTextYPx + = mLineIncrementPx ; \n + if ( mTextGravity = = Gravity . BOTTOM ) { \n + mCurrentTextYPx - = mLineIncrementPx ; \n + } else { \n + mCurrentTextYPx + = mLineIncrementPx ; \n + } \n
vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ core \ VitoImagePipeline . java \n - VitoImageRequest imageSource , \n + VitoImageRequest imageRequest , \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ CAdapterGenerator . kt \n - | KObjHolder result _ holder ; \n + | KObjHolder result _ holder ; \n - | KObjHolder result _ holder ; \n + | KObjHolder result _ holder ; \n - output ( " KObjHolder result _ holder ; " , 1 ) \n + output ( " KObjHolder result _ holder ; " , 1 ) \n kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ llvm \ CodeGenerator . kt \n + / / Whether the generating function needs to initialize Kotlin runtime before execution . Useful for interop bridges , \n + / / for example . \n + var needsRuntimeInit = false \n + \n + if ( needsRuntimeInit ) { \n + call ( context . llvm . initRuntimeIfNeeded , emptyList ( ) ) \n + } \n kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ llvm \ objcexport \ ObjCExportCodeGenerator . kt \n - callFromBridge ( context . llvm . initRuntimeIfNeeded , emptyList ( ) ) \n + this . needsRuntimeInit = true \n kotlin - native \ runtime \ src \ main \ cpp \ Runtime . cpp \n - void Kotlin _ initRuntimeIfNeeded ( ) { \n + RUNTIME _ NOTHROW void Kotlin _ initRuntimeIfNeeded ( ) { \n kotlin - native \ runtime \ src \ main \ cpp \ Runtime . h \n - void Kotlin _ initRuntimeIfNeeded ( ) ; \n + RUNTIME _ NOTHROW void Kotlin _ initRuntimeIfNeeded ( ) ; \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ llvm \ CodeGenerator . kt \n + / / Marks that function is not allowed to call into Kotlin runtime . For this function no safepoints , no enter / leave \n + / / frames are generated . \n + / / TODO : Should forbid all calls into runtime except for explicitly allowed . Also should impose the same restriction \n + / / on function being called from this one . \n + / / TODO : Consider using a different abstraction than ` FunctionGenerationContext ` . \n + var forbidRuntime = false \n + \n + check ( ! forbidRuntime ) { " Attempt to init runtime where runtime usage is forbidden " } \n + check ( ! forbidRuntime ) { " Attempt to start a frame where runtime usage is forbidden " } \n - if ( context . memoryModel = = MemoryModel . EXPERIMENTAL ) \n + if ( ! forbidRuntime & & context . memoryModel = = MemoryModel . EXPERIMENTAL ) \n - if ( context . memoryModel = = MemoryModel . EXPERIMENTAL ) \n + if ( ! forbidRuntime & & context . memoryModel = = MemoryModel . EXPERIMENTAL ) \n - if ( context . memoryModel = = MemoryModel . EXPERIMENTAL ) \n + if ( ! forbidRuntime & & context . memoryModel = = MemoryModel . EXPERIMENTAL ) \n + check ( ! forbidRuntime ) { " Attempt to leave a frame where runtime usage is forbidden " } \n kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ llvm \ IrToBitcode . kt \n + forbidRuntime = true \n + forbidRuntime = true \n + forbidRuntime = true \n + forbidRuntime = true \n kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ llvm \ objcexport \ ObjCExportCodeGenerator . kt \n + forbidRuntime = true \n
kotlin - native \ runtime \ src \ main \ cpp \ KAssert . h \n - RUNTIME _ NORETURN void RuntimeAssertFailed ( const char * location , const char * message , . . . ) ; \n + RUNTIME _ NORETURN void RuntimeAssertFailed ( const char * location , const char * format , . . . ) _ _ attribute _ _ ( ( format ( printf , 2 , 3 ) ) ) ; \n - RuntimeAssertFailed ( location , message ) ; \n + RuntimeAssertFailed ( location , " % s " , message ) ; \n kotlin - native \ runtime \ src \ main \ cpp \ Porting . h \n - void consolePrintf ( const char * format , . . . ) ; \n - void consoleErrorf ( const char * format , . . . ) ; \n + void consolePrintf ( const char * format , . . . ) _ _ attribute _ _ ( ( format ( printf , 1 , 2 ) ) ) ; \n + void consoleErrorf ( const char * format , . . . ) _ _ attribute _ _ ( ( format ( printf , 1 , 2 ) ) ) ; \n - int snprintf ( char * buffer , size _ t size , const char * format , . . . ) ; \n - int vsnprintf ( char * buffer , size _ t size , const char * format , va _ list args ) ; \n + int snprintf ( char * buffer , size _ t size , const char * format , . . . ) _ _ attribute _ _ ( ( format ( printf , 3 , 4 ) ) ) ; \n + int vsnprintf ( char * buffer , size _ t size , const char * format , va _ list args ) _ _ attribute _ _ ( ( format ( printf , 3 , 0 ) ) ) ; \n kotlin - native \ runtime \ src \ main \ cpp \ StdCppStubs . cpp \n - RuntimeAssert ( false , _ _ s ) ; \n + RuntimeCheck ( false , " % s " , _ _ s ) ; \n kotlin - native \ runtime \ src \ main \ cpp \ Worker . cpp \n - " Unfinished workers detected , % lu workers leaked ! \ n " \n + " Unfinished workers detected , % zu workers leaked ! \ n " \n
src \ clj \ clojure \ core _ print . clj \n - ( defmethod print - dup java . math . BigInteger [ o w ] ( print - method o w ) ) \n - ( defmethod print - method java . math . BigInteger [ b , ^ Writer w ] \n - ( . write w ( str b ) ) \n - ( . write w " BIGINT " ) ) \n - \n test \ clojure \ test _ clojure \ printer . clj \n + ( java . math . BigInteger . " 1 " ) " # = ( java . math . BigInteger . \ " 1 \ " ) " \n
src \ clj \ clojure \ core _ deftype . clj \n - [ p ( zipmap ( map # ( - > % first keyword ) fs ) \n + [ p ( zipmap ( map # ( - > % first name keyword ) fs ) \n test \ clojure \ test _ clojure \ protocols . clj \n + \n + ; see CLJ - 845 \n + ( defprotocol SyntaxQuoteTestProtocol \n + ( sqtp [ p ] ) ) \n + \n + ( defmacro try - extend - type [ c ] \n + ` ( extend - type ~ c \n + SyntaxQuoteTestProtocol \n + ( sqtp [ p # ] p # ) ) ) \n + \n + ( defmacro try - extend - protocol [ c ] \n + ` ( extend - protocol SyntaxQuoteTestProtocol \n + ~ c \n + ( sqtp [ p # ] p # ) ) ) \n + \n + ( try - extend - type String ) \n + ( try - extend - protocol clojure . lang . Keyword ) \n + \n + ( deftest test - no - ns - capture \n + ( is ( = " foo " ( sqtp " foo " ) ) ) \n + ( is ( = : foo ( sqtp : foo ) ) ) ) \n + \n + \n
src \ jvm \ clojure \ lang \ Compiler . java \n - if ( ! isDynamic & & sym . name . startsWith ( " * " ) & & sym . name . endsWith ( " * " ) & & sym . name . length ( ) > 1 ) \n - { \n - RT . errPrintWriter ( ) . format ( " Var % s not marked : dynamic true , setting to : dynamic . You should fix this before next release ! \ n " , \n - sym ) ; \n - isDynamic = true ; \n - mm = ( IPersistentMap ) RT . assoc ( mm , dynamicKey , RT . T ) ; \n - } \n + if ( ! isDynamic & & sym . name . startsWith ( " * " ) & & sym . name . endsWith ( " * " ) & & sym . name . length ( ) > 1 ) \n + { \n + RT . errPrintWriter ( ) . format ( " Warning : % 1 $ s not declared dynamic and thus is not dynamically rebindable , " \n + + " but its name suggests otherwise . Please either indicate ^ : dynamic % 1 $ s or change the name . \ n " , \n + sym ) ; \n + } \n
compiler \ fir \ fir2ir \ tests - gen \ org \ jetbrains \ kotlin \ codegen \ ir \ FirBytecodeTextTestGenerated . java \n - @ TestMetadata ( " kt15806 . kt " ) \n - public void testKt15806 ( ) throws Exception { \n - runTest ( " compiler / testData / codegen / bytecodeText / whenEnumOptimization / kt15806 . kt " ) ; \n - } \n - \n deleted file \n compiler \ testData \ codegen \ bytecodeText \ whenEnumOptimization \ kt15806 . kt \n - / / IGNORE _ BACKEND : JVM _ IR \n - / / TODO KT - 36845 Generate enum - based TABLESWITCH / LOOKUPSWITCH on a value with smart cast to enum in JVM _ IR \n - \n - private fun Any ? . doTheThing ( ) : String { \n - when ( this ) { \n - is String - > return this \n - is Level - > { \n - when ( this ) { \n - Level . O - > return Level . O . name \n - Level . K - > return Level . K . name \n - } \n - } \n - \n - else - > return " fail " \n - } \n - } \n - \n - \n - enum class Level { \n - O , \n - K \n - } \n - \n - \n - fun box ( ) : String { \n - return " O " . doTheThing ( ) + Level . K . doTheThing ( ) \n - } \n - \n - / / 1 TABLESWITCH \n compiler \ tests - gen \ org \ jetbrains \ kotlin \ codegen \ BytecodeTextTestGenerated . java \n - @ TestMetadata ( " kt15806 . kt " ) \n - public void testKt15806 ( ) throws Exception { \n - runTest ( " compiler / testData / codegen / bytecodeText / whenEnumOptimization / kt15806 . kt " ) ; \n - } \n - \n compiler \ tests - gen \ org \ jetbrains \ kotlin \ codegen \ ir \ IrBytecodeTextTestGenerated . java \n - @ TestMetadata ( " kt15806 . kt " ) \n - public void testKt15806 ( ) throws Exception { \n - runTest ( " compiler / testData / codegen / bytecodeText / whenEnumOptimization / kt15806 . kt " ) ; \n - } \n - \n
gradle \ report . gradle . kts \n - log . warn ( " Build time for tasks : " ) \n + log . info ( " Build time for tasks : " ) \n - log . warn ( " $ { category . description ( ) } : $ { timeSec . asShortString ( ) } s ( $ { percent . asShortString ( ) } % of total time ) " ) \n + log . info ( " $ { category . description ( ) } : $ { timeSec . asShortString ( ) } s ( $ { percent . asShortString ( ) } % of total time ) " ) \n - } \n + } \n
compiler \ tests - for - compiler - generator \ tests \ org \ jetbrains \ kotlin \ test \ generators \ GenerateJUnit3CompilerTests . kt \n - model ( " integration / ant / jvm " , extension = null , recursive = false , excludeParentDirs = true ) \n + model ( " integration / ant / jvm " , extension = null , recursive = false ) \n compiler \ tests - gen \ org \ jetbrains \ kotlin \ integration \ AntTaskTestGenerated . java \n + @ TestMetadata ( " fork " ) \n + public void testFork ( ) throws Exception { \n + runTest ( " compiler / testData / integration / ant / jvm / fork / " ) ; \n + } \n + \n + @ TestMetadata ( " forkOnError " ) \n + public void testForkOnError ( ) throws Exception { \n + runTest ( " compiler / testData / integration / ant / jvm / forkOnError / " ) ; \n + } \n + \n + @ TestMetadata ( " manySourceRoots " ) \n + public void testManySourceRoots ( ) throws Exception { \n + runTest ( " compiler / testData / integration / ant / jvm / manySourceRoots / " ) ; \n + } \n + \n
okhttp \ src \ main \ java \ okhttp3 \ CacheControl . java \n + / * \n + * Copyright ( C ) 2019 Square , Inc . \n + * \n + * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + * you may not use this file except in compliance with the License . \n + * You may obtain a copy of the License at \n + * \n + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + * \n + * Unless required by applicable law or agreed to in writing , software \n + * distributed under the License is distributed on an " AS IS " BASIS , \n + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + * See the License for the specific language governing permissions and \n + * limitations under the License . \n + * / \n
okhttp - tests \ src \ test \ java \ okhttp3 \ internal \ ws \ WebSocketHttpTest . java \n - webSocket . close ( 1000 , null ) ; \n - \n
okhttp - tests \ src \ test \ java \ okhttp3 \ internal \ http2 \ HttpOverHttp2Test . java \n + fail ( ) ; \n
gdx \ src \ com \ badlogic \ gdx \ graphics \ glutils \ VertexBufferObjectWithVAO . java \n + Gdx . gl20 . glBindBuffer ( GL20 . GL _ ARRAY _ BUFFER , bufferHandle ) ; \n
gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ ui \ Image . java \n + \n + public int getAlign ( ) { \n + return align ; \n + } \n
gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ utils \ TiledDrawable . java \n - batch . getColor ( ) . mul ( color ) ; \n + batch . setColor ( batch . getColor ( ) . mul ( color ) ) ; \n
x - pack \ plugin \ sql \ src \ main \ java \ org \ elasticsearch \ xpack \ sql \ expression \ function \ scalar \ datetime \ ToCharFormatter . java \n - of ( " ID " ) . formatFn ( " e " ) . numeric ( ) , \n + of ( " ID " ) . formatFn ( t - > String . valueOf ( t . get ( ChronoField . DAY _ OF _ WEEK ) ) ) . numeric ( ) , \n
qa \ os \ src \ test \ java \ org \ elasticsearch \ packaging \ test \ SqlCliTests . java \n - import static org . junit . Assume . assumeFalse ; \n - assumeFalse ( " no docker " , distribution . isDocker ( ) ) ; \n x - pack \ plugin \ sql \ src \ main \ bin \ elasticsearch - sql - cli \n + CLI _ PARAMETERS = " $ @ " \n + \n - jar " $ CLI _ JAR " \ \n - " $ @ " \n + $ CLI _ PARAMETERS \n
x - pack \ plugin \ sql \ qa \ server \ src \ main \ resources \ datetime . csv - spec \n + minuteOfDayFilterEquality \n + SELECT MINUTE _ OF _ DAY ( CONCAT ( CONCAT ( ' 2021 - 01 - 22T14 : 26 : 06 . ' , ( salary % 2 ) : : text ) , ' Z ' ) : : datetime ) AS min _ of _ day \n + FROM test _ emp WHERE min _ of _ day = 866 LIMIT 2 ; \n + \n + min _ of _ day : i \n + - - - - - - - - - - - - - - - \n + 866 \n + 866 \n + ; \n + \n x - pack \ plugin \ sql \ src \ main \ java \ org \ elasticsearch \ xpack \ sql \ expression \ function \ scalar \ datetime \ MinuteOfDay . java \n - throw new UnsupportedOperationException ( " is there a format for it ? " ) ; \n + return null ; \n
README . md \n + This can serve as a skeleton , since your specific application may require a few more packages . \n
templates \ rx - architecture \ app \ build . gradle \n - throw new InvalidUserDataException ( " You should define KEYSTORE _ PASSWORD and KEY _ PASSWORD in gradle . properties . " ) \n + throw new InvalidUserDataException ( " You should define KEYSTORE _ PASSWORD and " + \n + " KEY _ PASSWORD in gradle . properties . " \n + ) \n - proguardFiles getDefaultProguardFile ( ' proguard - android . txt ' ) , ' proguard - rules . pro ' \n + proguardFiles ' proguard - rules . pro ' \n - \n - / / get location of adb \n - Properties properties = new Properties ( ) \n - properties . load ( project . rootProject . file ( ' local . properties ' ) . newDataInputStream ( ) ) \n - def adb = properties . getProperty ( ' sdk . dir ' ) + " / platform - tools / adb " \n - \n + / / Get location of adb \n + Properties localProperties = new Properties ( ) \n + try { \n + localProperties . load ( project . rootProject . file ( ' local . properties ' ) . newDataInputStream ( ) ) \n + } \n + catch ( ex ) { \n + throw new InvalidUserDataException ( " You should define the path to your Android SDK as a " + \n + " property ` sdk . dir ` in local . properties on the project root . " \n + ) \n + } \n + def adb = localProperties . getProperty ( ' sdk . dir ' ) + ' / platform - tools / adb ' \n + \n
README . md \n - Feedback is welcomed , but check the [ guidelines ] ( https : / / github . com / futurice / android - best - practices / tree / master / CONTRIBUTING . md ) first . \n - \n
docs \ reference \ ilm \ actions \ ilm - delete . asciidoc \n - beta : [ ] \n docs \ reference \ ilm \ actions \ ilm - searchable - snapshot . asciidoc \n - beta : : [ ] \n - \n docs \ reference \ ilm \ ilm - actions . asciidoc \n - beta : [ ] \n
x - pack \ plugin \ ilm \ qa \ multi - node \ src \ javaRestTest \ java \ org \ elasticsearch \ xpack \ ilm \ TimeSeriesLifecycleActionsIT . java \n - import static org . hamcrest . Matchers . greaterThan ; \n - assertThat ( getNumberOfSegments ( client ( ) , index ) , greaterThan ( 1 ) ) ; \n + assertThat ( getNumberOfSegments ( client ( ) , index ) , greaterThanOrEqualTo ( 1 ) ) ; \n x - pack \ plugin \ ilm \ qa \ multi - node \ src \ javaRestTest \ java \ org \ elasticsearch \ xpack \ ilm \ actions \ SearchableSnapshotActionIT . java \n - import static org . hamcrest . Matchers . greaterThan ; \n + import static org . hamcrest . Matchers . greaterThanOrEqualTo ; \n - assertThat ( getNumberOfSegments ( client ( ) , backingIndexName ) , greaterThan ( 1 ) ) ; \n + Integer preLifecycleBackingIndexSegments = getNumberOfSegments ( client ( ) , backingIndexName ) ; \n + assertThat ( preLifecycleBackingIndexSegments , greaterThanOrEqualTo ( 1 ) ) ; \n - return numberOfSegments = = 1 ; \n + / / this is a loose assertion here as forcemerge is best effort \n + if ( preLifecycleBackingIndexSegments > 1 ) { \n + return numberOfSegments < preLifecycleBackingIndexSegments ; \n + } else { \n + / / the index had only one segement to start with so nothing to assert \n + return true ; \n + } \n - } , 30 , TimeUnit . SECONDS ) ) ; \n + } , 60 , TimeUnit . SECONDS ) ) ; \n
client \ rest - high - level \ src \ test \ java \ org \ elasticsearch \ client \ ilm \ LifecyclePolicyTests . java \n - new Phase ( phaseName , TimeValue . ZERO , Collections . emptyMap ( ) ) ) ; \n + new Phase ( phaseName , TimeValue . ZERO , phaseName . equals ( " delete " ) ? Collections . singletonMap ( DeleteAction . NAME , \n + new DeleteAction ( ) ) : Collections . emptyMap ( ) ) ) ; \n
idea \ idea - analysis \ src \ org \ jetbrains \ kotlin \ idea \ compiler \ IdeSealedClassInheritorsProvider . kt \n - val psiPackage = JavaDirectoryService . getInstance ( ) . getPackage ( sealedKtClass . containingFile . containingDirectory ) \n + val psiPackage = getPackageViaDirectoryService ( sealedKtClass ) \n + \n + private fun getPackageViaDirectoryService ( ktClass : KtClass ) : PsiPackage ? { \n + val directory = ktClass . containingFile . containingDirectory ? : return null \n + return JavaDirectoryService . getInstance ( ) . getPackage ( directory ) \n + } \n
idea \ idea - analysis \ src \ org \ jetbrains \ kotlin \ idea \ compiler \ IdeSealedClassInheritorsProvider . kt \n - import com . intellij . openapi . module . ModuleManager \n + import com . intellij . openapi . module . Module \n + import org . jetbrains . kotlin . analyzer . moduleInfo \n - import org . jetbrains . kotlin . codegen . JvmCodegenUtil \n + import org . jetbrains . kotlin . idea . caches . project . ModuleSourceInfo \n - val moduleManager = ModuleManager . getInstance ( sealedKtClass . project ) \n - . apply { add ( sealedClass . module ) } \n - . mapNotNull { moduleManager . findModuleByName ( JvmCodegenUtil . getModuleName ( it ) ) ? . moduleScope } \n + . apply { add ( module ) } \n + . map { it . moduleScope } \n - private fun ModuleDescriptor . listCommonModulesIfAny ( ) : Collection < ModuleDescriptor > { \n + private fun ModuleDescriptor . listCommonModulesIfAny ( ) : Collection < Module > { \n + . mapNotNull { ( it . moduleInfo as ? ModuleSourceInfo ) ? . module } \n
idea \ tests \ org \ jetbrains \ kotlin \ idea \ refactoring \ AbstractMultifileRefactoringTest . kt \n - import com . intellij . openapi . application . ApplicationManager \n - import org . jetbrains . kotlin . idea . test . KotlinLightCodeInsightFixtureTestCase \n - import org . jetbrains . kotlin . idea . test . KotlinLightProjectDescriptor \n - import org . jetbrains . kotlin . idea . test . KotlinWithJdkAndRuntimeLightProjectDescriptor \n - import org . jetbrains . kotlin . idea . test . extractMultipleMarkerOffsets \n + import org . jetbrains . kotlin . idea . test . * \n + import org . jetbrains . kotlin . util . prefixIfNot \n - runRefactoring ( path , config , rootDir , project ) \n + val opts = config . getNullableString ( " customCompilerOpts " ) ? . prefixIfNot ( " / / " ) ? : " " \n + withCustomCompilerOptions ( opts , project , module ) { \n + runRefactoring ( path , config , rootDir , project ) \n + } \n
services \ core \ java \ com \ android \ server \ compat \ PlatformCompat . java \n - private static int sMaxTargetSdk = Build . VERSION _ CODES . R ; \n - if ( change . getEnableSinceTargetSdk ( ) < sMinTargetSdk \n - | | change . getEnableSinceTargetSdk ( ) > sMaxTargetSdk ) { \n + if ( change . getEnableSinceTargetSdk ( ) < sMinTargetSdk ) { \n services \ tests \ servicestests \ src \ com \ android \ server \ compat \ PlatformCompatTest . java \n - . addEnableAfterSdkChangeWithIdAndDescription ( Build . VERSION _ CODES . O , 3L , " desc " ) \n - . addEnableAfterSdkChangeWithId ( Build . VERSION _ CODES . P , 4L ) \n - . addEnableAfterSdkChangeWithId ( Build . VERSION _ CODES . Q , 5L ) \n - . addEnableAfterSdkChangeWithId ( Build . VERSION _ CODES . R , 6L ) \n + . addEnableSinceSdkChangeWithIdAndDescription ( Build . VERSION _ CODES . O , 3L , " desc " ) \n + . addEnableSinceSdkChangeWithId ( Build . VERSION _ CODES . P , 4L ) \n + . addEnableSinceSdkChangeWithId ( Build . VERSION _ CODES . Q , 5L ) \n + . addEnableSinceSdkChangeWithId ( Build . VERSION _ CODES . R , 6L ) \n - new CompatibilityChangeInfo ( 4L , " " , Build . VERSION _ CODES . P , - 1 , false , false , " " ) , \n - new CompatibilityChangeInfo ( 5L , " " , Build . VERSION _ CODES . Q , - 1 , false , false , " " ) ) ; \n + new CompatibilityChangeInfo ( 5L , " " , / * enableAfter * / - 1 , \n + / * enableSince * / Build . VERSION _ CODES . Q , false , false , " " ) , \n + new CompatibilityChangeInfo ( 6L , " " , / * enableAfter * / - 1 , \n + / * enableSince * / Build . VERSION _ CODES . R , false , false , " " ) ) ; \n
tests \ PlatformCompatGating \ src \ com \ android \ tests \ gating \ PlatformCompatCommandNotInstalledTest . kt \n - private fun command ( command : String ) = \n - FileReader ( uiAutomation . executeShellCommand ( command ) . fileDescriptor ) . readText ( ) \n + private fun command ( command : String ) : String { \n + val fileDescriptor = uiAutomation . executeShellCommand ( command ) \n + return String ( ParcelFileDescriptor . AutoCloseInputStream ( fileDescriptor ) . use { \n + inputStream - > inputStream . readBytes ( ) \n + } ) \n + } \n
services \ core \ java \ com \ android \ server \ compat \ CompatConfig . java \n + import java . util . ArrayList ; \n + / / Local cache of compat changes . Holding a lock on mChanges for the whole duration of the \n + / / method will cause a deadlock . \n + List < CompatChange > changes ; \n - boolean shouldInvalidateCache = false ; \n + changes = new ArrayList < > ( mChanges . size ( ) ) ; \n - CompatChange c = mChanges . valueAt ( idx ) ; \n - OverrideAllowedState allowedState = \n - mOverrideValidator . getOverrideAllowedState ( c . getId ( ) , packageName ) ; \n - shouldInvalidateCache | = c . recheckOverride ( packageName , allowedState , mContext ) ; \n - } \n - if ( shouldInvalidateCache ) { \n - invalidateCache ( ) ; \n + changes . add ( mChanges . valueAt ( idx ) ) ; \n + boolean shouldInvalidateCache = false ; \n + for ( CompatChange c : changes ) { \n + OverrideAllowedState allowedState = \n + mOverrideValidator . getOverrideAllowedState ( c . getId ( ) , packageName ) ; \n + shouldInvalidateCache | = c . recheckOverride ( packageName , allowedState , mContext ) ; \n + } \n + if ( shouldInvalidateCache ) { \n + invalidateCache ( ) ; \n + } \n
. circleci \ config . yml \n + # Temp - redownload expired yarn key before apt - get \n + - run : \n + name : Setup yarn key \n + command : curl - sS https : / / dl . yarnpkg . com / debian / pubkey . gpg | apt - key add - \n - run : \n
ReactAndroid \ src \ test \ java \ com \ facebook \ react \ RootViewTest . java \n + rootView . setRootViewTag ( rootViewId ) ; \n - 0 . ) ) ; \n + 0 . , \n + " targetSurface " , \n + rootViewId ) ) ; \n - 0 . ) ) ; \n + 0 . , \n + " targetSurface " , \n + rootViewId ) ) ; \n
packages \ react - native - codegen \ android \ gradlePlugin - build \ gradlePlugin \ src \ main \ java \ com \ facebook \ react \ codegen \ plugin \ CodegenPlugin . java \n + import org . apache . log4j . Logger ; \n + Logger logger = Logger . getLogger ( getClass ( ) ) ; \n + \n + logger . warn ( \n + " [ Gradle ] Codegen command on execution : " + ( ( Exec ) s ) . getCommandLine ( ) ) ; \n - ImmutableList < String > execCommands = \n - new ImmutableList . Builder < String > ( ) \n - . add ( " yarn " ) \n - . addAll ( ImmutableList . copyOf ( extension . nodeExecutableAndArgs ) ) \n - . add ( extension . codegenGenerateSchemaCLI ( ) . getAbsolutePath ( ) ) \n - . add ( generatedSchemaFile . getAbsolutePath ( ) ) \n - . add ( extension . jsRootDir . getAbsolutePath ( ) ) \n - . build ( ) ; \n - task . commandLine ( execCommands ) ; \n + task . executable ( " yarn " ) \n + . args ( ImmutableList . copyOf ( extension . nodeExecutableAndArgs ) ) \n + . args ( extension . codegenGenerateSchemaCLI ( ) . getAbsolutePath ( ) ) \n + . args ( generatedSchemaFile . getAbsolutePath ( ) ) \n + . args ( extension . jsRootDir . getAbsolutePath ( ) ) ; \n + \n + logger . warn ( " [ Gradle ] Codegen command on configure : " + task . getCommandLine ( ) ) ; \n packages \ react - native - codegen \ src \ cli \ combine \ combine - js - to - schema - cli . js \n + console . log ( ' [ JS ] Codegen args : ' + process . argv . join ( ' ' ) ) ; \n
x - pack \ plugin \ sql \ src \ main \ java \ org \ elasticsearch \ xpack \ sql \ plugin \ TransportSqlQueryAction . java \n + import org . elasticsearch . xpack . sql . expression . literal . geo . GeoShape ; \n + import org . elasticsearch . xpack . sql . expression . literal . interval . Interval ; \n - import org . elasticsearch . xpack . sql . session . SqlConfiguration ; \n + import org . elasticsearch . xpack . sql . session . SqlConfiguration ; \n + import static org . elasticsearch . xpack . sql . proto . Mode . CLI ; \n - rowView . forEachColumn ( row : : add ) ; \n + rowView . forEachColumn ( r - > row . add ( value ( r , request . mode ( ) ) ) ) ; \n + \n + @ SuppressWarnings ( " rawtypes " ) \n + private static Object value ( Object r , Mode mode ) { \n + / * \n + * Intervals and GeoShape instances need to be serialized ( as in StreamInput / Ouput serialization ) as Strings \n + * since SqlQueryResponse creation doesn ' t have access to GeoShape nor Interval classes to make the decision \n + * so , we flatten them as Strings before being serialized . \n + * CLI gets a special treatment see { @ link org . elasticsearch . xpack . sql . action . SqlQueryResponse # value ( ) } \n + * / \n + if ( r instanceof GeoShape ) { \n + r = r . toString ( ) ; \n + } else if ( r instanceof Interval ) { \n + if ( mode = = CLI ) { \n + r = r . toString ( ) ; \n + } else { \n + r = ( ( Interval ) r ) . value ( ) ; \n + } \n + } \n + \n + return r ; \n + } \n
x - pack \ plugin \ sql \ qa \ mixed - node \ src \ test \ java \ org \ elasticsearch \ xpack \ sql \ qa \ mixed _ node \ SqlSearchIT . java \n - / / TODO : remove the 8 . 0 . 0 version check after the code reaches 7 . x as well \n - isBwcNodeBeforeFieldsApiInQL = newVersion = = Version . V _ 8 _ 0 _ 0 | | bwcVersion . before ( FIELDS _ API _ QL _ INTRODUCTION ) ; \n + isBwcNodeBeforeFieldsApiInQL = bwcVersion . before ( FIELDS _ API _ QL _ INTRODUCTION ) ; \n
x - pack \ plugin \ eql \ qa \ mixed - node \ src \ test \ java \ org \ elasticsearch \ xpack \ eql \ qa \ mixed _ node \ EqlSearchIT . java \n - request . setJsonEntity ( " { \ " query \ " : \ " " + event + " where true \ " } " ) ; \n + request . setJsonEntity ( " { \ " query \ " : \ " " + event + " where true \ " , \ " size \ " : 15 } " ) ; \n + StringBuilder builder = new StringBuilder ( ) ; \n - StringBuilder builder = new StringBuilder ( ) ; \n + builder . append ( " { \ " index \ " : { \ " _ id \ " : " + i + " } } \ n " ) ; \n - builder . append ( " } " ) ; \n + builder . append ( " } \ n " ) ; \n - \n - Request request = new Request ( " PUT " , index + " / _ doc / " + i ) ; \n - request . setJsonEntity ( builder . toString ( ) ) ; \n - assertOK ( client ( ) . performRequest ( request ) ) ; \n + Request request = new Request ( " PUT " , index + " / _ bulk ? refresh " ) ; \n + request . setJsonEntity ( builder . toString ( ) ) ; \n + assertOK ( client ( ) . performRequest ( request ) ) ; \n
library \ src \ main \ java \ com \ afollestad \ materialdialogs \ MaterialDialog . java \n + private int lastDialogHeight ; \n + \n
library \ src \ main \ res \ values \ dimens . xml \n + < ! - - \n + Applied to content scrollview / listview and customview , the spec calls for 16dp between the \n + bottom of the content and the top of the button bar , we split this between the two for \n + ease of layouts and adjustments . Likewise the spec implies 16dp between the title and \n + content and we split that as well . \n + \n + Splitting makes it easier to have consistent padding against the dividers . \n + - - > \n
library \ src \ main \ java \ com \ afollestad \ materialdialogs \ MaterialDialog . java \n - title ! = null & & ( items = = null | | items . length = = 0 ) & & customView = = null ) { \n + title ! = null & & ( items = = null | | items . length = = 0 ) & & \n + customView = = null & & adapter = = null ) { \n
example \ src \ main \ java \ com \ github \ paolorotolo \ appintroexample \ IntroWithBackground . java \n - import com . github . paolorotolo . appintro . AppIntro ; \n - import com . github . paolorotolo . appintro . AppIntro2 ; \n - import com . github . paolorotolo . appintro . AppIntroFragment ; \n - \n - import android . widget . Toast ; \n + \n + import com . github . paolorotolo . appintro . AppIntro2 ; \n + import com . github . paolorotolo . appintro . AppIntroFragment ; \n example \ src \ main \ res \ layout - v23 \ activity _ main . xml \n + < Button \n + android : layout _ gravity = " center " \n + android : layout _ width = " wrap _ content " \n + android : layout _ height = " wrap _ content " \n + android : onClick = " customBackgroundView " \n + android : text = " custom background view " / > \n + \n example \ src \ main \ res \ layout \ activity _ main . xml \n + \n
README . md \n - compile ' com . github . paolorotolo : appintro : 4 . 0 . 0 ' \n + compile ' com . github . paolorotolo : appintro : 4 . 1 . 0 ' \n
. github \ ISSUE _ TEMPLATE . md \n + < ! - - Please include code snippets or whole files as necessary including XML layouts if applicable . If no code is being used , please explain why . Failure to do so will result in your issue being closed . We shouln ' t have to ask you for code snippets later on in the issue . - - > \n + * * Your Code : * * : \n + \n - - > \n
codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ multipart \ AbstractDiskHttpData . java \n - int written = 0 ; \n - buffer . getBytes ( buffer . readerIndex ( ) , fileChannel , fileChannel . position ( ) , localsize ) ; \n + int totalWritten = 0 ; \n + long position = fileChannel . position ( ) ; \n + int index = buffer . readerIndex ( ) ; \n + while ( totalWritten < localsize ) { \n + int written = buffer . getBytes ( index , fileChannel , position , localsize - totalWritten ) ; \n + if ( written < 0 ) { \n + break ; \n + } \n + totalWritten + = written ; \n + position + = written ; \n + index + = written ; \n + } \n + fileChannel . position ( position ) ; \n + buffer . readerIndex ( index ) ; \n - buffer . readerIndex ( buffer . readerIndex ( ) + written ) ; \n codec - http \ src \ test \ java \ io \ netty \ handler \ codec \ http \ multipart \ DiskFileUploadTest . java \n - String json = " { \ " foo \ " : \ " bar \ " } " ; \n - byte [ ] bytes = json . getBytes ( CharsetUtil . UTF _ 8 ) ; \n - f1 . addContent ( Unpooled . wrappedBuffer ( bytes ) , true ) ; \n - assertEquals ( json , f1 . getString ( ) ) ; \n - assertArrayEquals ( bytes , f1 . get ( ) ) ; \n + byte [ ] jsonBytes = new byte [ 4096 ] ; \n + PlatformDependent . threadLocalRandom ( ) . nextBytes ( jsonBytes ) ; \n + \n + f1 . addContent ( Unpooled . wrappedBuffer ( jsonBytes , 0 , 1024 ) , false ) ; \n + f1 . addContent ( Unpooled . wrappedBuffer ( jsonBytes , 1024 , jsonBytes . length - 1024 ) , true ) ; \n + assertArrayEquals ( jsonBytes , f1 . get ( ) ) ; \n + \n - assertEquals ( ( long ) bytes . length , file . length ( ) ) ; \n + assertEquals ( jsonBytes . length , file . length ( ) ) ; \n + \n - byte [ ] buf = new byte [ bytes . length ] ; \n + byte [ ] buf = new byte [ jsonBytes . length ] ; \n - assertArrayEquals ( bytes , buf ) ; \n + assertArrayEquals ( jsonBytes , buf ) ; \n
codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ multipart \ AbstractDiskHttpData . java \n - int totalWritten = 0 ; \n + int remaining = localsize ; \n - while ( totalWritten < localsize ) { \n - int written = buffer . getBytes ( index , fileChannel , position , localsize - totalWritten ) ; \n + while ( remaining > 0 ) { \n + int written = buffer . getBytes ( index , fileChannel , position , remaining ) ; \n - totalWritten + = written ; \n + remaining - = written ; \n - size + = localsize ; \n + size + = localsize - remaining ; \n
codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ websocketx \ WebSocketServerHandshaker00 . java \n - res . headers ( ) . add ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL , selectedSubprotocol ) ; \n + res . headers ( ) . set ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL , selectedSubprotocol ) ; \n - res . headers ( ) . add ( HttpHeaderNames . WEBSOCKET _ PROTOCOL , selectSubprotocol ( protocol ) ) ; \n + res . headers ( ) . set ( HttpHeaderNames . WEBSOCKET _ PROTOCOL , selectSubprotocol ( protocol ) ) ; \n codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ websocketx \ WebSocketServerHandshaker07 . java \n - res . headers ( ) . add ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL , selectedSubprotocol ) ; \n + res . headers ( ) . set ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL , selectedSubprotocol ) ; \n codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ websocketx \ WebSocketServerHandshaker08 . java \n - res . headers ( ) . add ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL , selectedSubprotocol ) ; \n + res . headers ( ) . set ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL , selectedSubprotocol ) ; \n codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ websocketx \ WebSocketServerHandshaker13 . java \n - res . headers ( ) . add ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL , selectedSubprotocol ) ; \n + res . headers ( ) . set ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL , selectedSubprotocol ) ; \n codec - http \ src \ test \ java \ io \ netty \ handler \ codec \ http \ websocketx \ WebSocketServerHandshakerTest . java \n + . set ( HttpHeaderNames . WEBSOCKET _ PROTOCOL , " chat , superchat " ) \n + . set ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL , " superchat " ) \n + . set ( HttpHeaderNames . WEBSOCKET _ PROTOCOL , " superchat " ) \n + \n + assertEquals ( 1 , responseHeaders . getAll ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL ) . size ( ) ) ; \n + assertEquals ( " chat " , responseHeaders . get ( HttpHeaderNames . SEC _ WEBSOCKET _ PROTOCOL ) ) ; \n + } else { \n + assertEquals ( 1 , responseHeaders . getAll ( HttpHeaderNames . WEBSOCKET _ PROTOCOL ) . size ( ) ) ; \n + assertEquals ( " chat " , responseHeaders . get ( HttpHeaderNames . WEBSOCKET _ PROTOCOL ) ) ; \n
presto - spark - base \ src \ main \ java \ com \ facebook \ presto \ spark \ PrestoSparkQueryExecutionFactory . java \n + import static java . util . Collections . unmodifiableList ; \n - ImmutableList . Builder < Object > columns = ImmutableList . builder ( ) ; \n + List < Object > columns = new ArrayList < > ( ) ; \n - result . add ( columns . build ( ) ) ; \n + result . add ( unmodifiableList ( columns ) ) ; \n
presto - spark - base \ src \ test \ java \ com \ facebook \ presto \ spark \ PrestoSparkQueryRunner . java \n + import static com . google . common . base . Preconditions . checkState ; \n - sparkContext . cancelAllJobs ( ) ; \n - sparkContext . stop ( ) ; \n + sparkContextHolder . release ( sparkContext ) ; \n + private static int referenceCount ; \n + referenceCount + + ; \n + \n + public void release ( SparkContext sparkContext ) \n + { \n + synchronized ( SparkContextHolder . class ) { \n + checkState ( SparkContextHolder . sparkContext = = sparkContext , " unexpected spark context " ) ; \n + referenceCount - - ; \n + if ( referenceCount = = 0 ) { \n + sparkContext . cancelAllJobs ( ) ; \n + sparkContext . stop ( ) ; \n + SparkContextHolder . sparkContext = null ; \n + } \n + } \n + } \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ spiller \ LocalTempStorage . java \n + initialize ( ) ; \n - @ Override \n - public void initialize ( ) \n - throws IOException \n + private void initialize ( ) \n presto - main \ src \ main \ java \ com \ facebook \ presto \ spiller \ TempStorageSingleStreamSpillerFactory . java \n - import com . facebook . presto . spi . PrestoException ; \n - import com . facebook . presto . spi . storage . TempStorage ; \n - import java . io . IOException ; \n - import static com . facebook . presto . spi . StandardErrorCode . GENERIC _ INTERNAL _ ERROR ; \n - private volatile TempStorage tempStorage ; \n - \n - if ( tempStorage = = null ) { \n - initialize ( ) ; \n - } \n - \n - tempStorage , \n + tempStorageManager . getTempStorage ( tempStorageName ) , \n - \n - private synchronized void initialize ( ) \n - { \n - if ( this . tempStorage ! = null ) { \n - return ; \n - } \n - \n - TempStorage tempStorage = tempStorageManager . getTempStorage ( tempStorageName ) ; \n - try { \n - tempStorage . initialize ( ) ; \n - } \n - catch ( IOException e ) { \n - throw new PrestoException ( GENERIC _ INTERNAL _ ERROR , " Failed to initialize temp storage " , e ) ; \n - } \n - \n - this . tempStorage = tempStorage ; \n - } \n presto - spi \ src \ main \ java \ com \ facebook \ presto \ spi \ storage \ TempStorage . java \n - void initialize ( ) \n - throws IOException ; \n - \n
translations \ Chinese \ README . cn . md \n - Antti Lammi , Joni Karppinen , Peter Tackage , Timo Tuominen , Vera Izrailit , Vihtori Mäntylä , Mark Voit , Andre Medeiros , Paul Houghton and other Futurice developers for sharing their knowledge on Android development . \n - \n
templates \ rx - architecture \ README . md \n - Make a ` gradle . properties ` file following the format of ` gradle . properties . template ` : \n + Make a ` gradle . properties ` file following this format : \n - KEYSTORE _ PASSWORD = * * * * * * * * \n - KEY _ PASSWORD = * * * * * * * * \n + ` ` ` \n + KEYSTORE _ PASSWORD = * * * * * * * * \n + KEY _ PASSWORD = * * * * * * * * \n + ` ` ` \n - Get these passwords from passwords . futurice . com . \n + Get these passwords from https : / / password . futurice . com . \n
README . md \n + * * strings . xml * * \n + \n + Name your strings with keys that resemble namespaces , and don ' t be afraid of repeating a value for two or more keys . Languages are complex , so namespaces are necessary to bring context and break ambiguity . \n + \n + * * Bad * * \n + ` ` ` xml \n + < string name = " network _ error " > Network error < / string > \n + < string name = " call _ failed " > Call failed < / string > \n + < string name = " map _ failed " > Map loading failed < / string > \n + ` ` ` \n + \n + * * Good * * \n + ` ` ` xml \n + < string name = " error . message . network " > Network error < / string > \n + < string name = " error . message . call " > Call failed < / string > \n + < string name = " error . message . map " > Map loading failed < / string > \n + ` ` ` \n + \n + Don ' t write string values in all uppercase . Stick to normal text conventions ( e . g . , capitalize first character ) . If you need to display the string in all caps , then do that using for instance the attribute [ ` textAllCaps ` ] ( http : / / developer . android . com / reference / android / widget / TextView . html # attr _ android : textAllCaps ) on a TextView . \n + \n + * * Bad * * \n + ` ` ` xml \n + < string name = " error . message . call " > CALL FAILED < / string > \n + ` ` ` \n + \n + * * Good * * \n + ` ` ` xml \n + < string name = " error . message . call " > Call failed < / string > \n + ` ` ` \n + \n
src \ clj \ clojure \ string . clj \n - forward from from - index or nil if not found . " \n + forward from from - index . Return nil if value not found . " \n - searching backward from from - index or nil if not found . " \n + searching backward from from - index . Return nil if value not found . " \n
src \ clj \ clojure \ repl . clj \n - ( do \n - ( println " Special Form " ) \n - ( println " " doc ) \n - ( if ( contains ? m : url ) \n - ( when url \n - ( println ( str " \ n Please see http : / / clojure . org / " url ) ) ) \n - ( println ( str " \ n Please see http : / / clojure . org / special _ forms # " nm ) ) ) ) \n + ( println " Special Form " ) \n + ( when special - form \n + ( if ( contains ? m : url ) \n + ( when url \n + ( println ( str " \ n Please see http : / / clojure . org / " url ) ) ) \n + ( println ( str " \ n Please see http : / / clojure . org / special _ forms # " nm ) ) ) ) \n
test \ clojure \ test _ clojure \ protocols . clj \n - ( = : foo ( . bar r : foo ) ) \n - ( = 1 ( . baz r ) ) \n - ( = 2 ( . baz r nil ) ) ) ) \n + ( is ( = : foo ( . bar r : foo ) ) ) \n + ( is ( = 1 ( . baz r ) ) ) \n + ( is ( = 2 ( . baz r nil ) ) ) ) ) \n - ( = : c ( . bar r [ : a : b : c ] ) ) ) ) \n + ( is ( = : c ( . bar r [ : a : b : c ] ) ) ) ) ) \n test \ clojure \ test _ clojure \ reader . cljc \n - ( is ( = ( read - string s ) ( read - string s2 ) ) ( read - string s3 ) ) ) ) ) \n + ( is ( = ( read - string s ) ( read - string s2 ) ( read - string s3 ) ) ) ) ) ) \n
buildSrc \ src \ main \ java \ org \ springframework \ boot \ build \ AsciidoctorConventions . java \n + * < li > The version of AsciidoctorJ is upgraded to 2 . 4 . 1 . \n + private static final String ASCIIDOCTORJ _ VERSION = " 2 . 4 . 1 " ; \n + \n + upgradeAsciidoctorJVersion ( project ) ; \n + private void upgradeAsciidoctorJVersion ( Project project ) { \n + project . getExtensions ( ) . getByType ( AsciidoctorJExtension . class ) . setVersion ( ASCIIDOCTORJ _ VERSION ) ; \n + } \n + \n
spring - boot - project \ spring - boot - docs \ src \ docs \ asciidoc \ production - ready - features . adoc \n - . application . properties \n - - - - \n - . application . properties \n - - - - \n - . application . properties \n - - - - \n
spring - context \ src \ main \ java \ org \ springframework \ context \ support \ DefaultLifecycleProcessor . java \n - this . phase + " within timeout of " + this . timeout + " : " + countDownBeanNames ) ; \n + this . phase + " within timeout of " + this . timeout + " ms : " + countDownBeanNames ) ; \n
spring - boot - project \ spring - boot - dependencies \ build . gradle \n - library ( " Solr " , " 8 . 7 . 0 " ) { \n + library ( " Solr " , " 8 . 8 . 0 " ) { \n - " solr - clustering " , \n
spring - boot - project \ spring - boot - dependencies \ build . gradle \n - library ( " Tomcat " , " 9 . 0 . 41 " ) { \n + library ( " Tomcat " , " 9 . 0 . 43 " ) { \n
spring - boot - project \ spring - boot - dependencies \ build . gradle \n - library ( " Undertow " , " 2 . 2 . 3 . Final " ) { \n + library ( " Undertow " , " 2 . 2 . 4 . Final " ) { \n
apex \ OWNERS \n - # Mainline modularization team \n - \n - andreionea @ google . com \n - dariofreni @ google . com \n - hansson @ google . com \n - mathewi @ google . com \n - pedroql @ google . com \n - satayev @ google . com \n + file : platform / packages / modules / common : / OWNERS \n
StubLibraries . bp \n - / / There are a few classes from modules used as type arguments that \n - / / need to be resolved by metalava . For now , we can use a previously \n - / / finalized stub library to resolve them . If a new class gets added , \n - / / this may be need to be revisited to use a manually maintained stub \n - / / library with empty classes in order to resolve those references . \n - " sdk _ system _ 30 _ android " , \n + / / There are a few classes from modules used by the core that \n + / / need to be resolved by metalava . We use a prebuilt stub of the \n + / / full sdk to ensure we can resolve them . If a new class gets added , \n + / / the prebuilts / sdk / current needs to be updated . \n + " sdk _ system _ current _ android " , \n - libs : [ " sdk _ system _ 29 _ android " ] , \n + libs : [ " sdk _ system _ current _ android " ] , \n
StubLibraries . bp \n + / / NOTE : The below can be removed once the prebuilt stub contains IKE . \n + " sdk _ system _ current _ android . net . ipsec . ike " , \n - libs : [ " sdk _ system _ current _ android " ] , \n + libs : [ \n + " sdk _ system _ current _ android " , \n + / / NOTE : The below can be removed once the prebuilt stub contains IKE . \n + " sdk _ system _ current _ android . net . ipsec . ike " , \n + ] , \n
src \ test \ java \ org \ junit \ tests \ AllTests . java \n + import org . junit . tests . assertion . ComparisonFailureTest ; \n + ComparisonFailureTest . class , \n new file \n src \ test \ java \ org \ junit \ tests \ assertion \ ComparisonFailureTest . java \n + package org . junit . tests . assertion ; \n + \n + import static org . junit . Assert . assertEquals ; \n + import org . junit . ComparisonFailure ; \n + import org . junit . Test ; \n + \n + public class ComparisonFailureTest { \n + \n + @ Test \n + public void stringsWithoutPrePostFix ( ) { \n + ComparisonFailure cf = new ComparisonFailure ( " usermsg " , " a " , " b " ) ; \n + assertEquals ( " usermsg expected : < [ a ] > but was : < [ b ] > " , cf . getMessage ( ) ) ; \n + } \n + \n + @ Test \n + public void testStartSame ( ) { \n + ComparisonFailure failure = new ComparisonFailure ( " " , " ba " , " bc " ) ; \n + assertEquals ( " expected : < b [ a ] > but was : < b [ c ] > " , failure . getMessage ( ) ) ; \n + } \n + \n + @ Test \n + public void testEndSame ( ) { \n + ComparisonFailure failure = new ComparisonFailure ( " " , " ab " , " cb " ) ; \n + assertEquals ( " expected : < [ a ] b > but was : < [ c ] b > " , failure . getMessage ( ) ) ; \n + } \n + \n + \n + } \n
src \ test \ java \ org \ junit \ tests \ running \ classes \ TestClassTest . java \n - import static org . hamcrest . core . IsCollectionContaining . hasItem ; \n + import static org . hamcrest . CoreMatchers . hasItem ; \n
pom . xml \n - < file > src / main / java / junit / runner / Version . java . template < / file > \n - < outputFile > src / main / java / junit / runner / Version . java < / outputFile > \n + < file > $ { project . build . sourceDirectory } / junit / runner / Version . java . template < / file > \n + < outputFile > $ { project . build . sourceDirectory } / junit / runner / Version . java < / outputFile > \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ optimizations \ ActualProperties . java \n + / / When doing an IN query NULL in empty set is false , NULL in non - empty set is NULL . Say non - NULL element A ( number 1 ) in \n + / / a set that is missing A ( say 2 , 3 ) is false , but A in ( 2 , 3 , NULL ) is NULL . \n + / / IN is equivalent to " a = b OR a = c OR a = d . . . ) . \n
presto - docs \ src \ main \ sphinx \ release . rst \n + release / release - 0 . 245 . 1 \n new file \n presto - docs \ src \ main \ sphinx \ release \ release - 0 . 245 . 1 . rst \n + = = = = = = = = = = = = = = = \n + Release 0 . 245 . 1 \n + = = = = = = = = = = = = = = = \n + \n + . . warning : : \n + There is a bug causing failure at startup if function namespace manager is enabled and Thrift is not configured ( : pr : ` 15501 ` ) . \n + \n + Hive Changes \n + _ _ _ _ _ _ _ _ _ _ _ _ \n + * Fix a bug reading ORC files with ` ` ARRAY ` ` / ` ` MAP ` ` / ` ` ROW ` ` of ` ` VARCHAR ` ` columns using the selective stream readers for some corner cases ( : pr : ` 15549 ` ) . \n presto - docs \ src \ main \ sphinx \ release \ release - 0 . 245 . rst \n + . . warning : : \n + There is a bug causing failure when reading ORC files with ` ` ARRAY ` ` / ` ` MAP ` ` / ` ` ROW ` ` of ` ` VARCHAR ` ` columns using the selective stream readers for some corner cases ( : pr : ` 15549 ` ) \n + \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ QueryManagerConfig . java \n + @ MinDuration ( " 30s " ) \n
CODING _ STYLE \n - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n - * Align parameter descriptions \n - Invalid tags \n - * Keep empty @ param tags \n - * Keep empty @ return tags \n - * Keep empty @ throws tags \n - \n - * Use @ throws rather then @ exception \n + * Use @ throws rather than @ exception \n - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n
src \ main \ java \ org \ junit \ rules \ TemporaryFolder . java \n - file . mkdir ( ) ; \n + if ( ! file . mkdir ( ) ) \n + throw new IllegalStateException ( \n + " a folder with the name \ ' " + folderName + " \ ' already exists " ) ; \n src \ test \ java \ org \ junit \ tests \ experimental \ rules \ TemporaryFolderUsageTest . java \n - new TemporaryFolder ( ) . newFolder ( " level1 " , " leve2 " , " leve3 " ) ; \n + new TemporaryFolder ( ) . newFolder ( " level1 " , " level2 " , " level3 " ) ; \n + } \n + \n + @ Test ( expected = IllegalStateException . class ) \n + public void newFolderWithGivenPathThrowsIllegalStateExceptionIfPathExists ( ) throws IOException { \n + tempFolder . create ( ) ; \n + tempFolder . newFolder ( " level1 " , " level2 " , " level3 " ) ; \n + tempFolder . newFolder ( " level1 " , " level2 " , " level3 " ) ; \n
src \ main \ java \ org \ junit \ rules \ TemporaryFolder . java \n - private final File parentFolder ; \n + private final File parentFolder ; \n - public TemporaryFolder ( ) { \n - this ( null ) ; \n - } \n + public TemporaryFolder ( ) { \n + this ( null ) ; \n + } \n - public TemporaryFolder ( File parentFolder ) { \n - this . parentFolder = parentFolder ; \n - } \n + public TemporaryFolder ( File parentFolder ) { \n + this . parentFolder = parentFolder ; \n + } \n src \ test \ java \ org \ junit \ tests \ experimental \ rules \ TemporaryFolderUsageTest . java \n - @ Test \n - public void canSetTheBaseFileForATemporaryFolder ( ) throws IOException { \n - File tempDir = createTemporaryFolder ( ) ; \n + @ Test \n + public void canSetTheBaseFileForATemporaryFolder ( ) throws IOException { \n + File tempDir = createTemporaryFolder ( ) ; \n - TemporaryFolder folder = new TemporaryFolder ( tempDir ) ; \n - folder . create ( ) ; \n + TemporaryFolder folder = new TemporaryFolder ( tempDir ) ; \n + folder . create ( ) ; \n - assertThat ( tempDir , is ( folder . getRoot ( ) . getParentFile ( ) ) ) ; \n - } \n + assertThat ( tempDir , is ( folder . getRoot ( ) . getParentFile ( ) ) ) ; \n + } \n - private File createTemporaryFolder ( ) throws IOException { \n - File tempDir = File . createTempFile ( " junit " , " tempFolder " ) ; \n - assertTrue ( " Unable to delete temporary file " , tempDir . delete ( ) ) ; \n - assertTrue ( " Unable to create temp directory " , tempDir . mkdir ( ) ) ; \n - return tempDir ; \n - } \n + private File createTemporaryFolder ( ) throws IOException { \n + File tempDir = File . createTempFile ( " junit " , " tempFolder " ) ; \n + assertTrue ( " Unable to delete temporary file " , tempDir . delete ( ) ) ; \n + assertTrue ( " Unable to create temp directory " , tempDir . mkdir ( ) ) ; \n + return tempDir ; \n + } \n - private void assertFileDoesNotExist ( File file ) { \n + private void assertFileDoesNotExist ( File file ) { \n
spring - web \ src \ main \ java \ org \ springframework \ http \ converter \ FormHttpMessageConverter . java \n - parameters . put ( " charset " , this . charset . name ( ) ) ; \n + if ( ! this . charset . equals ( StandardCharsets . UTF _ 8 ) & & \n + ! this . charset . equals ( StandardCharsets . US _ ASCII ) ) { \n + parameters . put ( " charset " , this . charset . name ( ) ) ; \n + } \n spring - web \ src \ test \ java \ org \ springframework \ http \ converter \ FormHttpMessageConverterTests . java \n + @ Test \n + public void writeMultipartCharset ( ) throws Exception { \n + MultiValueMap < String , Object > parts = new LinkedMultiValueMap < > ( ) ; \n + Resource logo = new ClassPathResource ( " / org / springframework / http / converter / logo . jpg " ) ; \n + parts . add ( " logo " , logo ) ; \n + \n + MockHttpOutputMessage outputMessage = new MockHttpOutputMessage ( ) ; \n + this . converter . write ( parts , MULTIPART _ FORM _ DATA , outputMessage ) ; \n + \n + MediaType contentType = outputMessage . getHeaders ( ) . getContentType ( ) ; \n + Map < String , String > parameters = contentType . getParameters ( ) ; \n + assertThat ( parameters ) . containsOnlyKeys ( " boundary " ) ; \n + \n + this . converter . setCharset ( StandardCharsets . ISO _ 8859 _ 1 ) ; \n + \n + outputMessage = new MockHttpOutputMessage ( ) ; \n + this . converter . write ( parts , MULTIPART _ FORM _ DATA , outputMessage ) ; \n + \n + parameters = outputMessage . getHeaders ( ) . getContentType ( ) . getParameters ( ) ; \n + assertThat ( parameters ) . containsOnlyKeys ( " boundary " , " charset " ) ; \n + assertThat ( parameters ) . containsEntry ( " charset " , " ISO - 8859 - 1 " ) ; \n + } \n + \n
spring - web \ src \ main \ java \ org \ springframework \ http \ codec \ multipart \ DefaultPartHttpMessageReader . java \n - private Scheduler blockingOperationScheduler = Schedulers . newBoundedElastic ( Schedulers . DEFAULT _ BOUNDED _ ELASTIC _ SIZE , \n - Schedulers . DEFAULT _ BOUNDED _ ELASTIC _ QUEUESIZE , IDENTIFIER , 60 , true ) ; \n + private Scheduler blockingOperationScheduler = Schedulers . boundedElastic ( ) ; \n - * directories , and writing to files . By default , a bounded scheduler is \n - * created with default properties . \n + * directories , and writing to files . By default , \n + * { @ link Schedulers # boundedElastic ( ) } is used , but this property allows for \n + * changing it to an externally managed scheduler . \n
spring - core \ src \ main \ java \ org \ springframework \ core \ codec \ StringDecoder . java \n - if ( this . stripDelimiter ) { \n - slice . writePosition ( slice . writePosition ( ) - matcher . delimiter ( ) . length ) ; \n - } \n + if ( this . stripDelimiter ) { \n + slice . writePosition ( slice . writePosition ( ) - matcher . delimiter ( ) . length ) ; \n + } \n - result . add ( buffer . factory ( ) . join ( chunks ) ) ; \n + DataBuffer joined = buffer . factory ( ) . join ( chunks ) ; \n + if ( this . stripDelimiter ) { \n + joined . writePosition ( joined . writePosition ( ) - matcher . delimiter ( ) . length ) ; \n + } \n + result . add ( joined ) ; \n spring - core \ src \ test \ java \ org \ springframework \ core \ codec \ StringDecoderTests . java \n - . expectNext ( " " ) \n + . expectNext ( " " ) . as ( " 1st " ) \n - . expectNext ( " " ) \n + . expectNext ( " " ) . as ( " 2nd " ) \n + @ Test \n + void decodeNewlinesAcrossBuffers ( ) { \n + Flux < DataBuffer > input = Flux . just ( \n + stringBuffer ( " \ r " ) , \n + stringBuffer ( " \ n " ) , \n + stringBuffer ( " xyz " ) \n + ) ; \n + \n + testDecode ( input , String . class , step - > step \n + . expectNext ( " " ) \n + . expectNext ( " xyz " ) \n + . expectComplete ( ) \n + . verify ( ) ) ; \n + } \n + \n
x - pack \ plugin \ searchable - snapshots \ src \ test \ java \ org \ elasticsearch \ index \ store \ cache \ SparseFileTrackerTests . java \n - } else { \n - e = expectThrows ( \n - IllegalArgumentException . class , \n - ( ) - > sparseFileTracker . waitForRange ( ByteRange . of ( start , end ) , ByteRange . of ( start - 1L , end ) , listener ) \n - ) ; \n - assertThat ( \n - " listener range start must not be smaller than zero " , \n - e . getMessage ( ) , \n - containsString ( " invalid range to listen to " ) \n - ) ; \n - assertThat ( invoked . get ( ) , is ( false ) ) ; \n
server \ src \ main \ java \ org \ elasticsearch \ common \ bytes \ BytesArray . java \n + if ( from = = 0 & & this . length = = length ) { \n + return this ; \n + } \n server \ src \ main \ java \ org \ elasticsearch \ common \ bytes \ CompositeBytesReference . java \n + if ( from = = 0 & & this . length = = length ) { \n + return this ; \n + } \n server \ src \ main \ java \ org \ elasticsearch \ common \ bytes \ PagedBytesReference . java \n + if ( from = = 0 & & this . length = = length ) { \n + return this ; \n + } \n server \ src \ main \ java \ org \ elasticsearch \ common \ bytes \ ReleasableBytesReference . java \n + if ( from = = 0 & & length ( ) = = length ) { \n + return retain ( ) ; \n + } \n
server \ src \ main \ java \ org \ elasticsearch \ common \ util \ SingleObjectCache . java \n - private Lock refreshLock = new ReentrantLock ( ) ; \n + private final Lock refreshLock = new ReentrantLock ( ) ; \n server \ src \ main \ java \ org \ elasticsearch \ monitor \ fs \ FsService . java \n + import java . io . UncheckedIOException ; \n - fsInfoSupplier = new FsInfoCache ( refreshInterval , initialValue , probe ) : : getOrRefresh ; \n + final FsInfoCache fsInfoCache = new FsInfoCache ( refreshInterval , initialValue , probe ) ; \n + fsInfoSupplier = ( ) - > { \n + try { \n + return fsInfoCache . getOrRefresh ( ) ; \n + } catch ( UncheckedIOException e ) { \n + logger . debug ( " unexpected exception reading filesystem info " , e ) ; \n + return null ; \n + } \n + } ; \n - return stats ( probe , initialValue ) ; \n + try { \n + return probe . stats ( initialValue ) ; \n + } catch ( IOException e ) { \n + throw new UncheckedIOException ( e ) ; \n + } \n
build . gradle \n - ' kotlin ' : ' 1 . 3 . 21 ' , \n + ' kotlin ' : ' 1 . 3 . 41 ' , \n - classpath ' com . android . tools . build : gradle : 3 . 4 . 2 ' \n + classpath ' com . android . tools . build : gradle : 3 . 5 . 0 ' \n
leakcanary - android - core \ src \ main \ java \ leakcanary \ internal \ tv \ TvOnRetainInstanceListener . kt \n - if ( retainedCount > = retainedVisibleThreshold ) \n + if ( retainedCount > = retainedVisibleThreshold ) { \n - else \n + } else { \n + } \n
leakcanary - android - sample \ src \ main \ java \ com \ example \ leakcanary \ MainActivity . kt \n + import android . widget . Button \n + findViewById < Button > ( R . id . button ) . setOnClickListener { recreate ( ) } \n + \n leakcanary - android - sample \ src \ main \ res \ layout \ main _ activity . xml \n + < Button \n + android : id = " @ + id / button " \n + android : layout _ width = " wrap _ content " \n + android : layout _ gravity = " center " \n + android : layout _ height = " wrap _ content " \n + android : text = " @ string / button _ text " \n + / > \n leakcanary - android - sample \ src \ main \ res \ values \ strings . xml \n - < string name = " helper _ text " > Rotate the screen 5 times to create 5 leaks and trigger a foreground \n - heap dump . Or press back to cause a leak and trigger a background heap dump . \n + < string name = " helper _ text " > Rotate the screen or press the button 5 times to create 5 leaks and \n + trigger a foreground heap dump . \ nOr press back to cause a leak and trigger a background heap dump . \n + < string name = " button _ text " > Leak Activity < / string > \n
build . gradle \n - ' kotlin ' : ' 1 . 3 . 71 ' , \n + ' kotlin ' : ' 1 . 3 . 72 ' , \n - androidGradlePlugin : " com . android . tools . build : gradle : 3 . 6 . 2 " , \n + androidGradlePlugin : " com . android . tools . build : gradle : 4 . 0 . 0 " , \n gradle \ wrapper \ gradle - wrapper . properties \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 6 . 2 . 1 - all . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 6 . 5 - all . zip \n
shark \ src \ main \ java \ shark \ internal \ PathFinder . kt \n - val computeRetainedHeapSize : Boolean \n + val computeRetainedHeapSize : Boolean , \n + val javaLangObjectId : Long \n - val sizeOfObjectInstances = determineSizeOfObjectInstances ( graph ) \n + val objectClass = graph . findClassByName ( " java . lang . Object " ) \n + val sizeOfObjectInstances = determineSizeOfObjectInstances ( objectClass , graph ) \n + val javaLangObjectId = objectClass ? . objectId ? : - 1 \n - State ( leakingObjectIds . toLongScatterSet ( ) , sizeOfObjectInstances , computeRetainedHeapSize ) \n + State ( \n + leakingObjectIds = leakingObjectIds . toLongScatterSet ( ) , \n + sizeOfObjectInstances = sizeOfObjectInstances , \n + computeRetainedHeapSize = computeRetainedHeapSize , \n + javaLangObjectId = javaLangObjectId \n + ) \n - private fun determineSizeOfObjectInstances ( graph : HeapGraph ) : Int { \n - val objectClass = graph . findClassByName ( " java . lang . Object " ) \n + private fun determineSizeOfObjectInstances ( objectClass : HeapClass ? , graph : HeapGraph ) : Int { \n - \n - val fieldNamesAndValues = instance . readAllNonNullFieldsOfReferenceType ( ) \n + val classHierarchy = \n + instance . instanceClass . classHierarchyWithoutJavaLangObject ( javaLangObjectId ) \n + val fieldNamesAndValues = \n + instance . readAllNonNullFieldsOfReferenceType ( classHierarchy ) \n - private fun HeapInstance . readAllNonNullFieldsOfReferenceType ( ) : MutableList < LongObjectPair < String > > { \n + private fun HeapInstance . readAllNonNullFieldsOfReferenceType ( \n + classHierarchy : List < HeapClass > \n + ) : MutableList < LongObjectPair < String > > { \n - for ( heapClass in instanceClass . classHierarchyWithoutJavaLangObject ( ) ) { \n + for ( heapClass in classHierarchy ) { \n - * Alternative would be calling ` instanceClass . classHierarchy . toList ( ) . dropLast ( 1 ) ` ; this version \n - * doesn ' t use Sequences and doesn ' t create extra list to drop one element . \n + * @ param javaLangObjectId ID of the java . lang . Object to run comparison against \n - private fun HeapClass . classHierarchyWithoutJavaLangObject ( ) : List < HeapClass > { \n + private fun HeapClass . classHierarchyWithoutJavaLangObject ( \n + javaLangObjectId : Long \n + ) : List < HeapClass > { \n - var nextParent = parent ? . superclass \n - while ( parent ! = null & & nextParent ! = null ) { \n + while ( parent ! = null & & parent . objectId ! = javaLangObjectId ) { \n - parent = nextParent \n - nextParent = parent . superclass \n + parent = parent . superclass \n
shark - graph \ src \ main \ java \ shark \ HprofHeapGraph . kt \n + / / java . lang . Object is the most accessed class in Heap , so we want to memorize a reference to it \n + private val javaLangObject : HeapClass \n + \n + init { \n + val classId = index . classId ( " java . lang . Object " ) ! ! \n + val indexedObject = index . indexedObjectOrNull ( classId ) ! ! \n + javaLangObject = wrapIndexedObject ( indexedObject , classId ) as HeapClass \n + } \n + if ( objectId = = javaLangObject . objectId ) return javaLangObject \n + \n
drawee - backends \ drawee - pipeline \ src \ main \ java \ com \ facebook \ drawee \ backends \ pipeline \ info \ internal \ ImagePerfControllerListener2 . java \n + import com . facebook . common . internal . Preconditions ; \n + import com . facebook . infer . annotation . Nullsafe ; \n + @ Nullsafe ( Nullsafe . Mode . LOCAL ) \n + ImagePerfState state = ( ImagePerfState ) Preconditions . checkNotNull ( msg . obj ) ; \n - mNotifier . notifyStatusUpdated ( ( ImagePerfState ) msg . obj , msg . arg1 ) ; \n + mNotifier . notifyStatusUpdated ( state , msg . arg1 ) ; \n - mNotifier . notifyListenersOfVisibilityStateUpdate ( ( ImagePerfState ) msg . obj , msg . arg1 ) ; \n + mNotifier . notifyListenersOfVisibilityStateUpdate ( state , msg . arg1 ) ; \n - Message msg = mHandler . obtainMessage ( ) ; \n + Message msg = Preconditions . checkNotNull ( mHandler ) . obtainMessage ( ) ; \n - Message msg = mHandler . obtainMessage ( ) ; \n + Message msg = Preconditions . checkNotNull ( mHandler ) . obtainMessage ( ) ; \n - mHandler = new LogHandler ( handlerThread . getLooper ( ) , mImagePerfNotifier ) ; \n + Looper looper = Preconditions . checkNotNull ( handlerThread . getLooper ( ) ) ; \n + mHandler = new LogHandler ( looper , mImagePerfNotifier ) ; \n
drawee \ src \ main \ java \ com \ facebook \ drawee \ drawable \ FadeDrawable . java \n + if ( mActualImageLayer < 0 | | mActualImageLayer > = mIsLayerOn . length ) { \n + return ; \n + } \n
drawee \ src \ main \ java \ com \ facebook \ drawee \ controller \ AbstractDraweeController . java \n + @ Override \n + public void onShownImmediately ( ) { } \n + \n drawee \ src \ main \ java \ com \ facebook \ drawee \ drawable \ FadeDrawable . java \n + private boolean mOnFadeListenerShowImmediately ; \n + if ( index = = mActualImageLayer ) { \n + mOnFadeListenerShowImmediately = true ; \n + } \n - onFadeStarted ( ) ; \n + maybeOnFadeStarted ( ) ; \n - onFadeFinished ( ) ; \n + maybeOnFadeFinished ( ) ; \n + maybeOnImageShownImmediately ( ) ; \n + private void maybeOnImageShownImmediately ( ) { \n + if ( ! mOnFadeListenerShowImmediately ) { \n + return ; \n + } \n + \n + if ( mTransitionState = = TRANSITION _ NONE & & mIsLayerOn [ mActualImageLayer ] ) { \n + if ( mOnFadeListener ! = null ) { \n + mOnFadeListener . onShownImmediately ( ) ; \n + } \n + mOnFadeListenerShowImmediately = false ; \n + } \n + } \n + \n - private void onFadeStarted ( ) { \n + private void maybeOnFadeStarted ( ) { \n - private void onFadeFinished ( ) { \n + private void maybeOnFadeFinished ( ) { \n + \n + void onShownImmediately ( ) ; \n
dropwizard - hibernate \ src \ main \ java \ io \ dropwizard \ hibernate \ AbstractDAO . java \n + * @ deprecated Use { @ link AbstractDAO # criteriaQuery ( ) } instead . \n + @ Deprecated \n dropwizard - hibernate \ src \ test \ java \ io \ dropwizard \ hibernate \ AbstractDAOTest . java \n + @ SuppressWarnings ( " deprecation " ) \n
docs \ source \ about \ release - notes . rst \n + . . _ rel - 1 . 3 . 8 : \n + \n + v1 . 3 . 8 : Jan 2 , 2018 \n + = = = = = = = = = = = = = = = = = = = \n + \n + * Fix CVE - 2018 - 10237 by upgrading Guava to 24 . 1 . 1 ( ` # 2587 < https : / / github . com / dropwizard / dropwizard / pull / 2587 > ` _ ) \n + \n + \n
dropwizard - bom \ pom . xml \n - < metrics4 . version > 4 . 0 . 3 < / metrics4 . version > \n + < metrics4 . version > 4 . 0 . 5 < / metrics4 . version > \n
. travis . yml \n - tools \n - platform - tools \n - android - 26 \n - - build - tools - 26 . 0 . 1 \n + - build - tools - 26 . 0 . 2 \n build . gradle \n + google ( ) \n - classpath ' com . android . tools . build : gradle : 2 . 3 . 3 ' \n + classpath ' com . android . tools . build : gradle : 3 . 0 . 0 ' \n + classpath ' com . github . dcendents : android - maven - gradle - plugin : 2 . 0 ' \n + classpath ' com . jfrog . bintray . gradle : gradle - bintray - plugin : 1 . 2 ' \n + classpath ' org . jfrog . buildinfo : build - info - extractor - gradle : 3 . 1 . 1 ' \n - buildToolsVersion = ' 26 . 0 . 1 ' \n + buildToolsVersion = ' 26 . 0 . 2 ' \n rxandroid \ build . gradle \n - buildscript { \n - dependencies { \n - classpath ' com . github . dcendents : android - maven - gradle - plugin : 1 . 4 . 1 ' \n - classpath ' com . jfrog . bintray . gradle : gradle - bintray - plugin : 1 . 2 ' \n - classpath " org . jfrog . buildinfo : build - info - extractor - gradle : 3 . 1 . 1 " \n - } \n - } \n - \n - compile ' io . reactivex . rxjava2 : rxjava : 2 . 0 . 1 ' \n + api ' io . reactivex . rxjava2 : rxjava : 2 . 0 . 1 ' \n - testCompile ' junit : junit : 4 . 12 ' \n - testCompile ' org . robolectric : robolectric : 3 . 1 . 2 ' \n + testImplementation ' junit : junit : 4 . 12 ' \n + testImplementation ' org . robolectric : robolectric : 3 . 1 . 2 ' \n sample - app \ build . gradle \n - compile project ( ' : rxandroid ' ) \n + implementation project ( ' : rxandroid ' ) \n
src \ main \ java \ io \ reactivex \ Single . java \n + * If the { @ code Iterable } of { @ link SingleSource } s is empty a { @ link NoSuchElementException } error is signalled after subscription . \n + * < p > \n - * @ param sources the Iterable sequence of SingleSource instances \n + * @ param sources the Iterable sequence of SingleSource instances . An empty sequence will result in an \n + * { @ code onError } signal of { @ link NoSuchElementException } . \n + * If the array of { @ link SingleSource } s is empty a { @ link NoSuchElementException } error is signalled immediately . \n + * < p > \n - * @ param sources the array of SingleSource instances \n + * @ param sources the array of SingleSource instances . An empty sequence will result in an \n + * { @ code onError } signal of { @ link NoSuchElementException } . \n
src \ main \ java \ io \ reactivex \ Completable . java \n - * @ return a { @ link Maybe } that emits a single item T or an error . \n + * @ return a { @ link Maybe } that only calls { @ code onComplete } or { @ code onError } , based on which one is \n + * called by the source Completable . \n
okhttp \ src \ main \ java \ okhttp3 \ Response . java \n + / * * \n + * Never { @ code null } , must be closed after consumption , can be consumed only once . \n + * / \n
okhttp \ src \ main \ java \ okhttp3 \ ResponseBody . java \n + / * * \n + * Returns the response as a byte array . \n + * \n + * < p > This method loads entire response body into memory . If the response body is very large this \n + * may trigger an { @ link OutOfMemoryError } . Prefer to stream the response body if this is a \n + * possibility for your response . \n + * / \n - * UTF - 8 . \n + * UTF - 8 . Closes { @ link ResponseBody } automatically . \n + * \n + * < p > This method loads entire response body into memory . If the response body is very large this \n + * may trigger an { @ link OutOfMemoryError } . Prefer to stream the response body if this is a \n + * possibility for your response . \n
src \ main \ java \ io \ reactivex \ plugins \ RxJavaPlugins . java \n - * Removes all handlers and resets the default behavior . \n + * Removes all handlers and resets to default behavior . \n
server \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ server \ schedule \ model \ DataExtractor . java \n + import com . google . samples . apps . iosched . server . schedule . model . InputJsonKeys . VendorAPISource . Rooms ; \n + int capacity = get ( origin , Rooms . Capacity ) . getAsInt ( ) ; \n + set ( new JsonPrimitive ( capacity ) , dest , OutputJsonKeys . Rooms . capacity ) ; \n server \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ server \ schedule \ model \ InputJsonKeys . java \n - Id , Name ; \n + Id , Name , Capacity ; \n server \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ server \ schedule \ model \ OutputJsonKeys . java \n - id , name , floor , original _ id ; \n + id , name , floor , original _ id , capacity ; \n
server \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ server \ schedule \ model \ DataExtractor . java \n - vid = getVideoFromTopicInfo ( origin , InputJsonKeys . VendorAPISource . Topics . INFO _ STREAM _ VIDEO _ ID , \n + vid = getVideoFromTopicInfo ( origin , Topics . INFO _ VIDEO _ URL , \n server \ src \ main \ webapp \ WEB - INF \ appengine - web . xml \n - < instances > 1 < / instances > \n + < instances > 10 < / instances > \n
server \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ server \ schedule \ Config . java \n - / / Used when the CMS doesn ' t have a proper live stream Youtube URL but we still want to \n - / / have a non - empty URL so that the app will show the " LIVE " indicator . \n - public final String VIDEO _ LIVESTREAMURL _ FOR _ EMPTY = " https : / / google . com / events / io " ; \n - \n - \n server \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ server \ schedule \ model \ DataExtractor . java \n - JsonPrimitive vid = null ; \n - JsonPrimitive channel = null ; \n - \n - if ( isLivestream ) { \n - vid = getVideoFromTopicInfo ( origin , Topics . INFO _ VIDEO _ URL , \n - Config . VIDEO _ LIVESTREAMURL _ FOR _ EMPTY ) ; \n - } else { \n - vid = getMapValue ( \n - get ( origin , InputJsonKeys . VendorAPISource . Topics . Info ) , InputJsonKeys . VendorAPISource . Topics . INFO _ VIDEO _ URL , \n - Converters . YOUTUBE _ URL , null ) ; \n - } \n - if ( vid ! = null & & ! vid . getAsString ( ) . isEmpty ( ) ) { \n - set ( vid , dest , OutputJsonKeys . Sessions . youtubeUrl ) ; \n - if ( isLivestream ) { \n - channel = getMapValue ( get ( origin , Topics . Info ) , Topics . INFO _ STREAM _ CHANNEL , null , " " ) ; \n - set ( channel , dest , Sessions . livestreamChannel ) ; \n - } \n - } \n + JsonPrimitive videoUrl = getVideoFromTopicInfo ( origin , Topics . INFO _ VIDEO _ URL , null ) ; \n + set ( videoUrl , dest , OutputJsonKeys . Sessions . youtubeUrl ) ; \n
transaction - script \ Readme . md \n - > All logic related to booking a hotel room like checking room availability , \n - > calculate rates and update the database is done inside a single transaction script . \n - > Similar procedure is also needed for cancelling a room booking and all \n - > that logic will be in another transaction script . \n + > Transaction Script organizes business logic into transactions that the system needs to carry out . \n
rename from transaction - script \ Readme . md \n rename to transaction - script \ README . md \n
rename from transaction - script \ src \ main \ java \ com \ ashishtrivedi16 \ transactionscript \ TransactionScriptApp . java \n rename to transaction - script \ src \ main \ java \ com \ ashishtrivedi16 \ transactionscript \ App . java \n
core \ src \ main \ java \ io \ plaidapp \ core \ designernews \ data \ api \ DesignerNewsSearchConverter . kt \n - return DesignerNewsSearchConverter \n + if ( annotations . anyMatch { it is HtmlResponse } ) { \n + return DesignerNewsSearchConverter \n + } \n + return null \n + } \n + \n + private fun Array < Annotation > ? . anyMatch ( condition : ( Annotation ) - > Boolean ) : Boolean { \n + this ? . let { \n + for ( annotation in this ) { \n + if ( condition ( annotation ) ) { \n + return true \n + } \n + } \n + } \n + return false \n core \ src \ main \ java \ io \ plaidapp \ core \ designernews \ data \ api \ DesignerNewsService . kt \n + @ HtmlResponse \n new file \n core \ src \ main \ java \ io \ plaidapp \ core \ designernews \ data \ api \ HtmlResponse . kt \n + / * \n + * Copyright 2018 Google , Inc . \n + * \n + * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + * you may not use this file except in compliance with the License . \n + * You may obtain a copy of the License at \n + * \n + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + * \n + * Unless required by applicable law or agreed to in writing , software \n + * distributed under the License is distributed on an " AS IS " BASIS , \n + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + * See the License for the specific language governing permissions and \n + * limitations under the License . \n + * / \n + \n + package io . plaidapp . core . designernews . data . api \n + \n + / * * \n + * Used to differentiate Designer News search response ( HTML ) from the JSON API responses . \n + * / \n + @ Target ( AnnotationTarget . FUNCTION ) \n + @ Retention ( AnnotationRetention . RUNTIME ) \n + internal annotation class HtmlResponse \n
core \ src \ main \ java \ io \ plaidapp \ core \ designernews \ data \ api \ DesignerNewsSearchConverter . kt \n - if ( annotations . anyMatch { it is DesignerNewsSearch } ) { \n - return DesignerNewsSearchConverter \n + return if ( annotations ! = null & & annotations . any { it is DesignerNewsSearch } ) { \n + DesignerNewsSearchConverter \n + } else { \n + null \n - return null \n - } \n - \n - private fun Array < Annotation > ? . anyMatch ( condition : ( Annotation ) - > Boolean ) : Boolean { \n - this ? . let { \n - for ( annotation in this ) { \n - if ( condition ( annotation ) ) { \n - return true \n - } \n - } \n - } \n - return false \n
app \ src \ main \ res \ values \ styles . xml \n - < item name = " materialThemeOverlay " > @ style / ThemeOverlay . MaterialComponents . Dark . ActionBar < / item > \n + < item name = " android : theme " > @ style / ThemeOverlay . Plaid . HomeToolbar < / item > \n + < / style > \n + \n + < style name = " ThemeOverlay . Plaid . HomeToolbar " parent = " @ style / ThemeOverlay . MaterialComponents . Dark . ActionBar " > \n + < item name = " popupTheme " > @ style / ThemeOverlay . Plaid . HomeToolbar . PopupTheme < / item > \n + < / style > \n + \n + < style name = " ThemeOverlay . Plaid . HomeToolbar . PopupTheme " parent = " " > \n + < item name = " android : textColorPrimary " > ? attr / colorOnSurface < / item > \n
vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ core \ FrescoController2 . java \n + FrescoDrawable2 createDrawable ( ) ; \n + \n vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ core \ impl \ FrescoController2Impl . java \n + @ Override \n + public FrescoDrawable2 createDrawable ( ) { \n + return new FrescoDrawable2Impl ( ) ; \n + } \n + \n vito \ litho \ src \ main \ java \ com \ facebook \ fresco \ vito \ litho \ FrescoVitoImage2Spec . java \n - import com . facebook . fresco . vito . core . impl . FrescoDrawable2Impl ; \n - return new FrescoDrawable2Impl ( ) ; \n + return FrescoVitoProvider . getController ( ) . createDrawable ( ) ; \n vito \ view \ src \ main \ java \ com \ facebook \ fresco \ vito \ view \ VitoViewImpl2 . java \n - import com . facebook . fresco . vito . core . impl . FrescoDrawable2Impl ; \n - final FrescoDrawable2 frescoDrawable = new FrescoDrawable2Impl ( ) ; \n + final FrescoDrawable2 frescoDrawable = mController . createDrawable ( ) ; \n
vito \ litho \ src \ main \ java \ com \ facebook \ fresco \ vito \ litho \ FrescoVitoImageSpec . java \n - import com . facebook . fresco . vito . provider . DefaultFrescoContext ; \n + import com . facebook . fresco . vito . provider . impl . DefaultFrescoContext ; \n rename from vito \ provider \ src \ main \ java \ com \ facebook \ fresco \ vito \ provider \ DefaultFrescoContext . java \n rename to vito \ provider \ src \ main \ java \ com \ facebook \ fresco \ vito \ provider \ impl \ DefaultFrescoContext . java \n - package com . facebook . fresco . vito . provider ; \n + package com . facebook . fresco . vito . provider . impl ; \n rename from vito \ provider \ src \ main \ java \ com \ facebook \ fresco \ vito \ provider \ DefaultFrescoVitoProvider . java \n rename to vito \ provider \ src \ main \ java \ com \ facebook \ fresco \ vito \ provider \ impl \ DefaultFrescoVitoProvider . java \n - package com . facebook . fresco . vito . provider ; \n + package com . facebook . fresco . vito . provider . impl ; \n + import com . facebook . fresco . vito . provider . FrescoVitoProvider ; \n
vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ core \ impl \ FrescoControllerImpl . java \n - import com . facebook . fresco . vito . listener . AutoPlayImageListener ; \n - import com . facebook . fresco . vito . listener . ForwardingImageListener ; \n + import com . facebook . fresco . vito . listener . impl . AutoPlayImageListener ; \n + import com . facebook . fresco . vito . listener . impl . ForwardingImageListener ; \n rename from vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ listener \ AutoPlayImageListener . java \n rename to vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ listener \ impl \ AutoPlayImageListener . java \n - package com . facebook . fresco . vito . listener ; \n + package com . facebook . fresco . vito . listener . impl ; \n + import com . facebook . fresco . vito . listener . BaseImageListener ; \n rename from vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ listener \ ForwardingImageListener . java \n rename to vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ listener \ impl \ ForwardingImageListener . java \n - package com . facebook . fresco . vito . listener ; \n + package com . facebook . fresco . vito . listener . impl ; \n + import com . facebook . fresco . vito . listener . ImageListener ; \n
wifi \ Android . bp \n + " / / packages / modules / Wifi / framework / tests " , \n + " / / packages / modules / Wifi / service / tests / wifitests : _ _ subpackages _ _ " , \n + \n
Android . bp \n - visibility : [ " / / frameworks / opt / net / wifi / service " ] , \n + visibility : [ \n + " / / frameworks / opt / net / wifi / service " , \n + " / / packages / modules / Wifi / service " , \n + ] , \n services \ net \ Android . bp \n + " / / packages / modules / Wifi / service " , \n + " / / packages / modules / Wifi / service / tests / wifitests " , \n
apex \ permission \ framework \ Android . bp \n - impl _ library _ visibility : [ " / / frameworks / base / apex / permission : _ _ subpackages _ _ " ] , \n + impl _ library _ visibility : [ \n + " / / frameworks / base / apex / permission : _ _ subpackages _ _ " , \n + " / / packages / modules / Permission : _ _ subpackages _ _ " , \n + ] , \n apex \ permission \ service \ Android . bp \n + " / / packages / modules / Permission / tests " , \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ server \ JavaVersion . java \n - / / As described in JEP - 223 \n - private static final String VERSION _ NUMBER = " ( ? < MAJOR > [ 1 - 9 ] [ 0 - 9 ] * ) ( \ \ . ( ? < MINOR > ( 0 | [ 1 - 9 ] [ 0 - 9 ] * ) ) ( \ \ . ( ? : ( 0 | [ 1 - 9 ] [ 0 - 9 ] * ) ) ) ? ) ? " ; \n + / / As described in JEP - 223 and JEP - 322 \n + private static final String VERSION _ NUMBER = " ( ? < MAJOR > [ 1 - 9 ] [ 0 - 9 ] * ) ( \ \ . ( ? < MINOR > ( 0 | [ 1 - 9 ] [ 0 - 9 ] * ) ) ( \ \ . ( ? : ( 0 | [ 1 - 9 ] [ 0 - 9 ] * ) ) ) ? ) * " ; \n presto - main \ src \ test \ java \ com \ facebook \ presto \ server \ TestJavaVersion . java \n + assertEquals ( JavaVersion . parse ( " 11 . 0 . 7 . 0 . 4 " ) , new JavaVersion ( 11 , 0 ) ) ; \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ rule \ HiveParquetDereferencePushDown . java \n - Map < String , HiveColumnHandle > regularHiveColumnHandles = tableScan . getAssignments ( ) . values ( ) . stream ( ) \n - . map ( columnHandle - > ( HiveColumnHandle ) columnHandle ) \n - . collect ( toMap ( HiveColumnHandle : : getName , identity ( ) ) ) ; \n + Map < String , HiveColumnHandle > regularHiveColumnHandles = tableScan . getAssignments ( ) . entrySet ( ) . stream ( ) \n + . collect ( toMap ( e - > e . getKey ( ) . getName ( ) , e - > ( HiveColumnHandle ) e . getValue ( ) ) ) ; \n
presto - hive \ src \ test \ java \ com \ facebook \ presto \ hive \ TestHiveLogicalPlanner . java \n + \n + / / Self - Join and Table scan assignments \n + assertPlan ( withParquetDereferencePushDownEnabled ( ) , " SELECT t1 . x . a , t2 . x . a FROM test _ pushdown _ nestedcolumn _ parquet t1 , test _ pushdown _ nestedcolumn _ parquet t2 where t1 . id = t2 . id " , \n + anyTree ( \n + node ( JoinNode . class , \n + anyTree ( tableScanParquetDeferencePushDowns ( " test _ pushdown _ nestedcolumn _ parquet " , nestedColumnMap ( " x . a " ) ) ) , \n + anyTree ( tableScanParquetDeferencePushDowns ( " test _ pushdown _ nestedcolumn _ parquet " , nestedColumnMap ( " x _ 1 . a " ) ) ) ) ) ) ; \n + \n
DESIGN . md \n - . . . under discussion . . . ( related to Observable / Flowable debate ) \n + Stream that supports async and synchronous push . It does not support interactive flow control ( ` request ( n ) ` ) . \n + \n + Usable for : \n + \n + - hot and cold sources \n + - sync or async \n + - push \n + - 0 , 1 , many or infinite items \n + \n + Flow control support : \n + \n + - buffering , sampling , throttling , windowing , dropping , etc \n + - temporal and count - based strategies \n + \n + # # # # # Flowable \n + \n + Stream that supports async and synchronous push and pull . It supports interactive flow control ( ` request ( n ) ` ) . \n + \n + Usable for : \n + \n + - hot and cold sources \n + - sync or async \n + - push \n + - pull \n + - 0 , 1 , many or infinite items \n + \n + Flow control support : \n + \n + - buffering , sampling , throttling , windowing , dropping , etc \n + - temporal and count - based strategies \n + - ` request ( n ) ` consumer demand signal \n + - for pull - based sources , this allows batched " async pull " \n + - for push - based sources , this allows backpressure signals to conditionally apply strategies ( i . e . drop , buffer , sample , fail , etc ) \n
DESIGN . md \n - A " hot " data source that allows a producer to emit events and consumers to receive events in a multicast manner . \n + A " hot " , push - based data source that allows a producer to emit events to it and consumers to subscribe to events in a multicast manner . It is " hot " because consumers subscribing to it does not cause side - effects , or affect the data flow in any way . It is push - based and reactive because the producer is fully in charge . \n - It is " hot " because consumers subscribing to it does not cause side - effects , or affect the data flow in any way . It is push and reactive because the producer is fully in charge . \n + Relation to Reactive Streams \n + \n + - It can not implement Reactive Streams ` Publisher ` unless it is created with a default flow control strategy . \n + - It can not implement ` Processor ` since a ` Processor ` must compose ` request ( n ) ` which can not be done with multicasting or pure push . \n + \n + Flow control support : \n + \n + - buffering , sampling , throttling , windowing , dropping , etc \n + - temporal and count - based strategies \n + - It does not support pull - based consumer - driven flow control . \n
DESIGN . md \n + # # # Behavior \n + \n + # # # # # Creation \n + \n + Creation of a stream falls into the following use cases , all of which should be catered to in API design . \n + \n + - async , hot , push ( ie . system or user events ) \n + - async , cold , push ( ie . events resulting from remote system via network connection ) \n + - sync , cold , pull ( ie . iterable , file , range ) \n + - async , cold , pull ( ie . RPC / REST network call , cross - thread queue draining ) \n + \n + Unknown : \n + \n + - hot , pull ( what is an example of this ? ) \n + \n + Flow control support : \n + \n + - If ` request ( n ) ` behavior is supported in the stream implementation , then : \n + - pull - based creation must support ` request ( n ) ` semantics \n + - push - based creation must provide a default * onBackpressure * strategy \n + - If ` request ( n ) ` behavior is not supported in the stream implementation , then : \n + - push - based creation can push without consideration of a backpressure strategy \n + - pull - based creation should be discouraged \n + \n + # # # # # Destruction \n + \n + A producer can terminate a stream by emitting ` onComplete ` or ` onError ` . A consumer can terminate a stream by calling ` cancel ` . \n + \n + Any resource cleanup of the source or operators must account for any of these three termination events . In other words , if an operator needs cleanup , then it should register the cleanup callback with ` cancel ` , ` onError ` and ` onComplete ` . \n + \n + The final ` subscribe ` will * not * invoke ` cancel ` after receiving an ` onComplete ` or ` onError ` . \n
src \ main \ java \ rx \ observers \ TestSubscriber . java \n - if ( ! latch . await ( timeout , unit ) ) { \n - throw new RuntimeException ( new TimeoutException ( ) ) ; \n - } \n + latch . await ( timeout , unit ) ; \n
. travis . yml \n + \n + script : gradle / buildViaTravis . sh \n + after _ success : \n + - gradle / publishViaTravis . sh \n + \n + secure : " HzRt91B6CLkBCxRXlo7V + F5L8SSHSW8dgkO8nAlTnOIK73k3QelDeBlcm1wnuNa3x + 54YS9WBv6QrTNZr9lVi / 8IPfKpd + jtjIbCWRvh6aNhqLIXWTL7oTvUd4E8DDUAKB6UMae6SiBSy2wsFELGHXeNwg7EiPfxsd5sKRiS7H4 = " \n + secure : " MSZLPasqNKAC + 8qhKQD3xO + ZbuOy65HpUN + 1 + KnoOLMkHCu / f4x60W1tpTAzn1DFEVpokHR0n3I4z4HpWybURDQfDHD1bB4IsznjCUBYA9Uo9Sb0U4TS17dQr8s7SORIjHDLGNSWETJjrA9TfuUV6HTVhRO1ECx3H + wuTwCVDN0 = " \n new file \n gradle \ buildViaTravis . sh \n + # ! / bin / bash \n + # This script will build the project . \n + \n + echo - e ' Build Script = > Branch [ ' $ TRAVIS _ BRANCH ' ] Tag [ ' $ TRAVIS _ TAG ' ] ' \n + \n + . / gradlew - Prelease . useLastTag = true build \n new file \n gradle \ publishViaTravis . sh \n + # ! / bin / bash \n + # This script will upload to Bintray . It is intended to be conditionally executed on tagged builds . \n + \n + echo - e ' Bintray Upload Script = > Branch [ ' $ TRAVIS _ BRANCH ' ] Tag [ ' $ TRAVIS _ TAG ' ] ' \n + \n + if [ " $ TRAVIS _ PULL _ REQUEST " = = " false " ] & & [ " $ TRAVIS _ TAG " ! = " " ] ; then \n + echo - e ' Bintray Upload = > Starting upload . . . \ n ' \n + \n + . / gradlew - Prelease . useLastTag = true - PbintrayUser = " $ { bintrayUser } " - PbintrayKey = " $ { bintrayKey } " final - - stacktrace \n + else \n + echo ' Bintray Upload = > Not a tagged build so will not upload ' \n + fi \n
src \ perf \ java \ rx \ operators \ OperatorFlatMapPerf . java \n + import rx . jmh . LatchedObserver ; \n + LatchedObserver < Integer > latchedObserver = input . newLatchedObserver ( ) ; \n - } ) . subscribe ( input . observer ) ; \n + } ) . subscribe ( latchedObserver ) ; \n + latchedObserver . latch . await ( ) ; \n
test \ clojure \ test _ clojure \ metadata . clj \n - ( is ( nil ? ( - > v meta : e ) ) ) ) ) ) ) \n + ( is ( nil ? ( - > v meta : e ) ) ) ) ) ) \n + ( testing " IllegalArgumentException should not be thrown " \n + ( testing " when defining var whose value is calculated with a primitive fn . " \n + ( testing " This case fails without a fix for CLJ - 852 " \n + ( is ( eval - in - temp - ns \n + ( defn foo ^ long [ ^ long x ] x ) \n + ( def x ( inc ( foo 10 ) ) ) ) ) ) \n + ( testing " This case should pass even without a fix for CLJ - 852 " \n + ( is ( eval - in - temp - ns \n + ( defn foo ^ long [ ^ long x ] x ) \n + ( def x ( foo ( inc 10 ) ) ) ) ) ) ) ) ) \n
src \ jvm \ clojure \ lang \ Compiler . java \n - / / aargh \n + / / aargh \n + / / leave c set to null - > return null \n - c = float [ ] . class ; \n - else if ( sym . name . equals ( " doubles " ) ) \n - c = double [ ] . class ; \n - else if ( sym . name . equals ( " chars " ) ) \n - c = char [ ] . class ; \n - else if ( sym . name . equals ( " shorts " ) ) \n - c = short [ ] . class ; \n - else if ( sym . name . equals ( " bytes " ) ) \n - c = byte [ ] . class ; \n - else if ( sym . name . equals ( " booleans " ) ) \n - c = boolean [ ] . class ; \n + c = float [ ] . class ; \n + else if ( sym . name . equals ( " doubles " ) ) \n + c = double [ ] . class ; \n + else if ( sym . name . equals ( " chars " ) ) \n + c = char [ ] . class ; \n + else if ( sym . name . equals ( " shorts " ) ) \n + c = short [ ] . class ; \n + else if ( sym . name . equals ( " bytes " ) ) \n + c = byte [ ] . class ; \n + else if ( sym . name . equals ( " booleans " ) ) \n + c = boolean [ ] . class ; \n + else if ( sym . name . equals ( " int " ) ) \n + c = Integer . TYPE ; \n + else if ( sym . name . equals ( " long " ) ) \n + c = Long . TYPE ; \n + else if ( sym . name . equals ( " float " ) ) \n + c = Float . TYPE ; \n + else if ( sym . name . equals ( " double " ) ) \n + c = Double . TYPE ; \n + else if ( sym . name . equals ( " char " ) ) \n + c = Character . TYPE ; \n + else if ( sym . name . equals ( " short " ) ) \n + c = Short . TYPE ; \n + else if ( sym . name . equals ( " byte " ) ) \n + c = Byte . TYPE ; \n + else if ( sym . name . equals ( " boolean " ) ) \n + c = Boolean . TYPE ; \n
src \ clj \ clojure \ core . clj \n - ( flatten nil ) returns nil . " \n + ( flatten nil ) returns an empty sequence . " \n
build . gradle \n - ' compileSdk ' : 28 , \n + ' compileSdk ' : 29 , \n - ' targetSdk ' : 28 , \n + ' targetSdk ' : 29 , \n - classpath ' com . android . tools . build : gradle : 3 . 6 . 0 - alpha12 ' \n + classpath ' com . android . tools . build : gradle : 3 . 6 . 0 - beta03 ' \n
buildSrc \ src \ main \ java \ Libs . kt \n + const val PLAYCORE _ KTX = " com . google . android . play : core - ktx " \n depconstraints \ build . gradle . kts \n + val playCore = " 1 . 6 . 5 " \n + api ( " $ { Libs . PLAYCORE _ KTX } : $ playCore " ) \n mobile \ build . gradle . kts \n + implementation ( Libs . PLAYCORE _ KTX ) \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ di \ AppModule . kt \n - fun providesPreferenceStorage ( context : Context ) : PreferenceStorage = \n + fun providePreferenceStorage ( context : Context ) : PreferenceStorage = \n - fun providesWifiManager ( context : Context ) : WifiManager = \n + fun provideWifiManager ( context : Context ) : WifiManager = \n - fun providesConnectivityManager ( context : Context ) : ConnectivityManager = \n + fun provideConnectivityManager ( context : Context ) : ConnectivityManager = \n - fun providesClipboardManager ( context : Context ) : ClipboardManager = \n + fun provideClipboardManager ( context : Context ) : ClipboardManager = \n - fun providesMainThreadHandler ( ) : IOSchedHandler = IOSchedMainHandler ( ) \n + fun provideMainThreadHandler ( ) : IOSchedHandler = IOSchedMainHandler ( ) \n - fun providesAnalyticsHelper ( \n + fun provideAnalyticsHelper ( \n - fun providesAppDatabase ( context : Context ) : AppDatabase = AppDatabase . buildDatabase ( context ) \n + fun provideAppDatabase ( context : Context ) : AppDatabase = AppDatabase . buildDatabase ( context ) \n
services \ core \ java \ com \ android \ server \ vcn \ Vcn . java \n + import static com . android . server . VcnManagementService . VDBG ; \n - Slog . v ( getLogTag ( ) , String . format ( " Config updated : config = % s " , config . hashCode ( ) ) ) ; \n + Slog . v ( getLogTag ( ) , " Config updated : config = " + config . hashCode ( ) ) ; \n - Slog . v ( getLogTag ( ) , \n - " Request already satisfied by higher - scoring ( " + score + " ) network from " \n - + " provider " + providerId + " : " + request ) ; \n + if ( VDBG ) { \n + Slog . v ( \n + getLogTag ( ) , \n + " Request already satisfied by higher - scoring ( " \n + + score \n + + " ) network from " \n + + " provider " \n + + providerId \n + + " : " \n + + request ) ; \n + } \n - Slog . v ( getLogTag ( ) , \n - " Request already satisfied by existing VcnGatewayConnection : " + request ) ; \n + if ( VDBG ) { \n + Slog . v ( \n + getLogTag ( ) , \n + " Request already satisfied by existing VcnGatewayConnection : " \n + + request ) ; \n + } \n - return String . format ( " % s [ % d ] " , TAG , mSubscriptionGroup . hashCode ( ) ) ; \n + return TAG + " [ " + mSubscriptionGroup . hashCode ( ) + " ] " ; \n services \ core \ java \ com \ android \ server \ vcn \ VcnNetworkProvider . java \n + import static com . android . server . VcnManagementService . VDBG ; \n + \n - Slog . v ( \n - TAG , \n - String . format ( \n - " Network requested : Request = % s , score = % d , providerId = % d " , \n - request , score , providerId ) ) ; \n + if ( VDBG ) { \n + Slog . v ( \n + TAG , \n + " Network requested : Request = " \n + + request \n + + " , score = " \n + + score \n + + " , providerId = " \n + + providerId ) ; \n + } \n
services \ core \ java \ com \ android \ server \ vcn \ VcnGatewayConnection . java \n + @ VisibleForTesting ( visibility = Visibility . PRIVATE ) \n + static final InetAddress DUMMY _ ADDR = InetAddresses . parseNumericAddress ( " 192 . 0 . 2 . 0 " ) ; \n + \n - \n - private static final InetAddress DUMMY _ ADDR = InetAddresses . parseNumericAddress ( " 192 . 0 . 2 . 0 " ) ; \n - \n - @ NonNull private final IpSecTunnelInterface mTunnelIface ; \n + \n + @ Nullable private IpSecTunnelInterface mTunnelIface = null ; \n - IpSecTunnelInterface iface ; \n - try { \n - iface = \n - mIpSecManager . createIpSecTunnelInterface ( \n - DUMMY _ ADDR , DUMMY _ ADDR , new Network ( - 1 ) ) ; \n - } catch ( IOException | ResourceUnavailableException e ) { \n - teardownAsynchronously ( ) ; \n - mTunnelIface = null ; \n - \n - return ; \n - } \n - \n - mTunnelIface = iface ; \n - \n + if ( mTunnelIface = = null ) { \n + try { \n + / / Requires a real Network object in order to be created ; doing this any earlier \n + / / means not having a real Network object , or picking an incorrect Network . \n + mTunnelIface = \n + mIpSecManager . createIpSecTunnelInterface ( \n + DUMMY _ ADDR , DUMMY _ ADDR , mUnderlying . network ) ; \n + } catch ( IOException | ResourceUnavailableException e ) { \n + teardownAsynchronously ( ) ; \n + } \n + } \n + \n + @ VisibleForTesting ( visibility = Visibility . PRIVATE ) \n + void setTunnelInterface ( IpSecTunnelInterface tunnelIface ) { \n + mTunnelIface = tunnelIface ; \n + } \n + \n tests \ vcn \ java \ com \ android \ server \ vcn \ VcnGatewayConnectionDisconnectedStateTest . java \n + import static android . net . IpSecManager . IpSecTunnelInterface ; \n + \n + import static com . android . server . vcn . VcnGatewayConnection . DUMMY _ ADDR ; \n + \n + import android . net . IpSecManager ; \n + \n + final IpSecTunnelInterface tunnelIface = \n + mContext . getSystemService ( IpSecManager . class ) \n + . createIpSecTunnelInterface ( \n + DUMMY _ ADDR , DUMMY _ ADDR , TEST _ UNDERLYING _ NETWORK _ RECORD _ 1 . network ) ; \n + mGatewayConnection . setTunnelInterface ( tunnelIface ) ; \n
services \ core \ java \ com \ android \ server \ vcn \ VcnGatewayConnection . java \n - / / TODO : Set underlying network of tunnel interface \n + / / TODO ( b / 180163196 ) : Set underlying network of tunnel interface \n + Slog . v ( TAG , " Migrating to new network : " + mUnderlying . network ) ; \n + @ Override \n + public void onIpSecTransformsMigrated ( \n + @ NonNull IpSecTransform inIpSecTransform , \n + @ NonNull IpSecTransform outIpSecTransform ) { \n + Slog . v ( TAG , " ChildTransformsMigrated ; token " + mToken ) ; \n + onIpSecTransformCreated ( inIpSecTransform , IpSecManager . DIRECTION _ IN ) ; \n + onIpSecTransformCreated ( outIpSecTransform , IpSecManager . DIRECTION _ OUT ) ; \n + } \n + \n tests \ vcn \ java \ com \ android \ server \ vcn \ VcnGatewayConnectionConnectedStateTest . java \n + @ Test \n + public void testMigratedTransformsAreApplied ( ) throws Exception { \n + getChildSessionCallback ( ) \n + . onIpSecTransformsMigrated ( makeDummyIpSecTransform ( ) , makeDummyIpSecTransform ( ) ) ; \n + mTestLooper . dispatchAll ( ) ; \n + \n + for ( int direction : new int [ ] { DIRECTION _ IN , DIRECTION _ OUT } ) { \n + verify ( mIpSecSvc ) \n + . applyTunnelModeTransform ( \n + eq ( TEST _ IPSEC _ TUNNEL _ RESOURCE _ ID ) , eq ( direction ) , anyInt ( ) , any ( ) ) ; \n + } \n + assertEquals ( mGatewayConnection . mConnectedState , mGatewayConnection . getCurrentState ( ) ) ; \n + } \n + \n
build . gradle \n + navigationVersion = " 2 . 0 . 0 - rc02 " \n + classpath " androidx . navigation : navigation - safe - args - gradle - plugin : $ navigationVersion " \n mobile \ build . gradle \n + apply plugin : ' androidx . navigation . safeargs . kotlin ' \n + implementation " androidx . navigation : navigation - fragment - ktx : $ navigationVersion " \n + implementation " androidx . navigation : navigation - ui - ktx : $ navigationVersion " \n
deleted file \n shared \ . gitignore \n - / build \n deleted file \n test - shared \ . gitignore \n - / build \n
new file \n benchmark \ src \ androidTest \ java \ com \ google \ samples \ apps \ iosched \ benchmark \ BootstrapConferenceDataSourceBenchmark . kt \n + / * \n + * Copyright 2020 Google LLC \n + * \n + * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + * you may not use this file except in compliance with the License . \n + * You may obtain a copy of the License at \n + * \n + * https : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + * \n + * Unless required by applicable law or agreed to in writing , software \n + * distributed under the License is distributed on an " AS IS " BASIS , \n + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + * See the License for the specific language governing permissions and \n + * limitations under the License . \n + * / \n + \n + package com . google . samples . apps . iosched . benchmark \n + \n + import androidx . benchmark . junit4 . BenchmarkRule \n + import androidx . benchmark . junit4 . measureRepeated \n + import androidx . test . ext . junit . runners . AndroidJUnit4 \n + import com . google . samples . apps . iosched . shared . data . BootstrapConferenceDataSource \n + import org . hamcrest . core . IsNot . not \n + import org . junit . Rule \n + import org . junit . Test \n + import org . junit . runner . RunWith \n + \n + / * * \n + * Benchmark test for parsing offline data . To keep startup times optimized , this benchmark \n + * test is used to monitor potential hot spots when the app first loads content . \n + * / \n + @ RunWith ( AndroidJUnit4 : : class ) \n + class BootstrapConferenceDataSourceBenchmark { \n + @ get : Rule \n + val benchmarkRule = BenchmarkRule ( ) \n + \n + / / Parsing JSON data can be quite time consuming . We have custom deserializers to improve the \n + / / performance . We parse this data when the app starts up which is a critical user path . This \n + / / benchmark is to ensure we maintain the level of quality around bootstrapping data to minimize \n + / / the app startup latency . Note that loadAndParseBootstrapData ( ) also normalizes after it has \n + / / been parsed . \n + @ Test \n + fun benchmark _ json _ parsing ( ) = benchmarkRule . measureRepeated { \n + BootstrapConferenceDataSource . loadAndParseBootstrapData ( ) \n + } \n + } \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ java \ JavaLibrary . java \n - / / java _ library doesn ' t need to return JavaRunfilesProvider \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ exec \ SpawnLogContext . java \n + if ( input instanceof VirtualActionInput . EmptyActionInput ) { \n + continue ; \n + } \n src \ test \ shell \ bazel \ bazel _ execlog _ test . sh \n + function test _ empty _ file _ in _ runfiles ( ) { \n + mkdir d \n + touch d / main . py \n + cat > BUILD < < ' EOF ' \n + py _ binary ( \n + name = " py _ tool " , \n + main = " d / main . py " , \n + srcs = [ " d / main . py " ] , \n + ) \n + genrule ( \n + name = " rule " , \n + outs = [ " out . txt " ] , \n + tools = [ " : py _ tool " ] , \n + cmd = " echo hello > $ ( location out . txt ) " \n + ) \n + EOF \n + bazel build / / : rule - - experimental _ execution _ log _ file output 2 > & 1 > > $ TEST _ log | | fail " could not build " \n + [ [ - e output ] ] | | fail " no output produced " \n + } \n + \n
tools \ cpp \ unix _ cc _ configure . bzl \n - def _ find _ linker _ path ( repository _ ctx , cc , linker ) : \n + def _ find _ linker _ path ( repository _ ctx , cc , linker , is _ clang ) : \n + is _ clang : whether the compiler is known to be clang \n - # Some macos clang versions don ' t fail when setting - fuse - ld = gold , adding \n + # Some macOS clang versions don ' t fail when setting - fuse - ld = gold , adding \n + if not is _ clang : \n + return linker \n + \n - if flag . find ( " - - enable - " + linker ) > - 1 or flag . find ( " - - with - plugin - ld " ) > - 1 : \n - # skip build configuration options of gcc itself \n - # TODO ( hlopko ) : Add redhat - like worker on the CI ( # 9392 ) \n - continue \n - \n - # flag is ' - fuse - ld = gold ' for GCC or " / usr / lib / ld . gold " for Clang \n - # strip space , single quote , and double quotes \n - flag = flag . strip ( " \ " ' " ) \n - # remove - fuse - ld = from GCC output so we have only the flag value part \n - flag = flag . replace ( " - fuse - ld = " , " " ) \n - return flag \n + # flag looks like " / usr / lib / ld . gold " . \n + return flag . strip ( " \ " ' " ) \n - _ find _ linker _ path ( repository _ ctx , cc , " lld " ) or \n - _ find _ linker _ path ( repository _ ctx , cc , " gold " ) \n + _ find _ linker _ path ( repository _ ctx , cc , " lld " , is _ clang ) or \n + _ find _ linker _ path ( repository _ ctx , cc , " gold " , is _ clang ) \n
build . gradle \n - jcenter ( ) \n + maven { url ' https : / / plugins . gradle . org / m2 / ' } \n - jcenter ( ) \n + maven { url ' https : / / plugins . gradle . org / m2 / ' } \n extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ BuildScriptHelper . java \n - write ( wr , DependencyBank . jCenter ) ; \n - write ( wr , DependencyBank . jCenter ) ; \n extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ DependencyBank . java \n - static String jCenter = " jcenter ( ) " ; \n
backends \ gdx - backend - robovm \ src \ com \ badlogic \ gdx \ backends \ iosrobovm \ DefaultIOSInput . java \n - return Keys . DEL ; \n + return Keys . FORWARD _ DEL ; \n backends \ gdx - backends - gwt \ src \ com \ badlogic \ gdx \ backends \ gwt \ DefaultGwtInput . java \n - return Keys . DEL ; \n + return Keys . FORWARD _ DEL ; \n
CHANGES \n - Scene2d . ui : Added new ParticleEffectActor to use particle effects on Stage \n - API addition : iOS : Added HdpiMode option to IOSApplicationConfiguration to allow users to set whether they want to work in logical or raw pixels ( default logical ) . \n + - Fix for # 6377 Gdx . net . openURI not working with targetSdk 30 \n - [ BREAKING CHANGE ] iOS : IOSUIViewController has been moved to its own separate class \n backends \ gdx - backend - android \ src \ com \ badlogic \ gdx \ backends \ android \ AndroidNet . java \n + import android . content . ActivityNotFoundException ; \n - import android . content . pm . PackageManager ; \n - boolean result = false ; \n - Intent intent = new Intent ( Intent . ACTION _ VIEW , uri ) ; \n - PackageManager pm = app . getContext ( ) . getPackageManager ( ) ; \n - if ( pm . resolveActivity ( intent , PackageManager . MATCH _ DEFAULT _ ONLY ) ! = null ) { \n - app . runOnUiThread ( new Runnable ( ) { \n - @ Override \n - public void run ( ) { \n - Intent intent = new Intent ( Intent . ACTION _ VIEW , uri ) ; \n - / / LiveWallpaper and Daydream applications need this flag \n - if ( ! ( app . getContext ( ) instanceof Activity ) ) \n - intent . addFlags ( Intent . FLAG _ ACTIVITY _ NEW _ TASK ) ; \n - app . startActivity ( intent ) ; \n - } \n - } ) ; \n - result = true ; \n + try { \n + Intent intent = new Intent ( Intent . ACTION _ VIEW , uri ) ; \n + / / LiveWallpaper and Daydream applications need this flag \n + if ( ! ( app . getContext ( ) instanceof Activity ) ) { \n + intent . addFlags ( Intent . FLAG _ ACTIVITY _ NEW _ TASK ) ; \n + } \n + app . startActivity ( intent ) ; \n + return true ; \n + } catch ( ActivityNotFoundException e ) { \n + return false ; \n - return result ; \n
extensions \ gdx - controllers \ gdx - controllers - android \ src \ com \ badlogic \ gdx \ controllers \ android \ AndroidControllers . java \n + Gdx . app . error ( TAG , " Could not get information about " + deviceId + \n + " , ignoring the device . " , e ) ; \n
backends \ gdx - backends - gwt \ src \ com \ badlogic \ gdx \ backends \ gwt \ DefaultGwtAudio . java \n + import com . badlogic . gdx . backends . gwt . webaudio . WebAudioAPIManager ; \n + private WebAudioAPIManager webAudioAPIManager = null ; \n + \n + public DefaultGwtAudio ( ) { \n + webAudioAPIManager = new WebAudioAPIManager ( ) ; \n + } \n - return new GwtSound ( fileHandle ) ; \n + return webAudioAPIManager . createSound ( fileHandle ) ; \n - return new GwtMusic ( file ) ; \n + return webAudioAPIManager . createMusic ( file ) ; \n
extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ DependencyBank . java \n - static String roboVMVersion = " 2 . 3 . 8 " ; \n + static String roboVMVersion = " 2 . 3 . 10 - SNAPSHOT " ; \n fetch . xml \n - < property name = " robovm - version " value = " 2 . 3 . 8 " / > \n + < property name = " robovm - version " value = " 2 . 3 . 10 - SNAPSHOT " / > \n pom . xml \n - < robovm . version > 2 . 3 . 8 < / robovm . version > \n + < robovm . version > 2 . 3 . 10 - SNAPSHOT < / robovm . version > \n
x - pack \ plugin \ ml \ src \ main \ java \ org \ elasticsearch \ xpack \ ml \ job \ process \ autodetect \ JobModelSnapshotUpgrader . java \n - fieldIndexes . put ( LengthEncodedWriter . CONTROL _ FIELD _ NAME , index ) ; \n + / / field for categorization tokens \n + if ( MachineLearning . CATEGORIZATION _ TOKENIZATION _ IN _ JAVA & & job . getAnalysisConfig ( ) . getCategorizationFieldName ( ) ! = null ) { \n + fieldIndexes . put ( LengthEncodedWriter . PRETOKENISED _ TOKEN _ FIELD , index + + ) ; \n + } \n + \n + / / control field \n + fieldIndexes . put ( LengthEncodedWriter . CONTROL _ FIELD _ NAME , index + + ) ; \n x - pack \ qa \ rolling - upgrade \ src \ test \ java \ org \ elasticsearch \ upgrades \ MlJobSnapshotUpgradeIT . java \n - AnalysisConfig . Builder analysisConfig = new AnalysisConfig . Builder ( Arrays . asList ( detector . build ( ) ) ) ; \n + List < Detector > detectors = new ArrayList < > ( ) ; \n + detectors . add ( detector . build ( ) ) ; \n + boolean isCategorization = randomBoolean ( ) ; \n + if ( isCategorization ) { \n + detectors . add ( new Detector . Builder ( " count " , null ) . setByFieldName ( " mlcategory " ) . build ( ) ) ; \n + } \n + AnalysisConfig . Builder analysisConfig = new AnalysisConfig . Builder ( detectors ) ; \n + if ( randomBoolean ( ) ) { \n + analysisConfig . setCategorizationFieldName ( " text " ) ; \n + } \n + record . put ( " text " , randomFrom ( " foo has landed 3 " , " bar has landed 5 " , " bar has finished 2 " , " foo has finished 10 " ) ) ; \n
x - pack \ plugin \ ml \ src \ main \ java \ org \ elasticsearch \ xpack \ ml \ action \ TransportUpgradeJobModelSnapshotAction . java \n + import org . elasticsearch . client . Client ; \n + import org . elasticsearch . xpack . core . ml . MlConfigIndex ; \n + import org . elasticsearch . xpack . core . ml . job . persistence . ElasticsearchMappings ; \n + private final Client client ; \n - JobResultsProvider jobResultsProvider ) { \n + JobResultsProvider jobResultsProvider , Client client ) { \n + this . client = client ; \n - ActionListener < Long > memoryRequirementRefreshListener = ActionListener . wrap ( \n - mem - > { \n + ActionListener < Boolean > configIndexMappingUpdaterListener = ActionListener . wrap ( \n + _ unused - > { \n + / / Update config index if necessary \n + ActionListener < Long > memoryRequirementRefreshListener = ActionListener . wrap ( \n + mem - > ElasticsearchMappings . addDocMappingIfMissing ( \n + MlConfigIndex . indexName ( ) , \n + MlConfigIndex : : mapping , \n + client , \n + state , \n + configIndexMappingUpdaterListener ) , \n + listener : : onFailure \n + ) ; \n + \n x - pack \ qa \ rolling - upgrade \ src \ test \ java \ org \ elasticsearch \ upgrades \ MlJobSnapshotUpgradeIT . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 67059 " ) \n - if ( randomBoolean ( ) ) { \n + if ( isCategorization ) { \n
x - pack \ plugin \ ml \ src \ main \ java \ org \ elasticsearch \ xpack \ ml \ job \ task \ OpenJobPersistentTasksExecutor . java \n + import org . elasticsearch . xpack . core . ml . job . persistence . ElasticsearchMappings ; \n - jobResultsProvider . setRunningForecastsToFailed ( params . getJobId ( ) , ActionListener . wrap ( \n - r - > runJob ( jobTask , jobState , params ) , \n + ActionListener < Boolean > resultsMappingUpdateHandler = ActionListener . wrap ( \n + mappingsUpdate - > jobResultsProvider . setRunningForecastsToFailed ( params . getJobId ( ) , ActionListener . wrap ( \n + r - > runJob ( jobTask , jobState , params ) , \n + e - > { \n + logger . warn ( new ParameterizedMessage ( " [ { } ] failed to set forecasts to failed " , params . getJobId ( ) ) , e ) ; \n + runJob ( jobTask , jobState , params ) ; \n + } \n + ) ) , \n - logger . warn ( new ParameterizedMessage ( " [ { } ] failed to set forecasts to failed " , params . getJobId ( ) ) , e ) ; \n - runJob ( jobTask , jobState , params ) ; \n + logger . error ( new ParameterizedMessage ( " [ { } ] Failed to update results mapping " , params . getJobId ( ) ) , e ) ; \n + jobTask . markAsFailed ( e ) ; \n - ) ) ; \n + ) ; \n + / / We need to update the results index as we MAY update the current forecast results , setting the running forcasts to failed \n + / / This writes to the results index , which might need updating \n + ElasticsearchMappings . addDocMappingIfMissing ( \n + AnomalyDetectorsIndex . jobResultsAliasedName ( params . getJobId ( ) ) , \n + AnomalyDetectorsIndex : : resultsMapping , \n + client , \n + clusterState , \n + resultsMappingUpdateHandler ) ; \n
presto - orc \ src \ main \ java \ com \ facebook \ presto \ orc \ reader \ MapDirectSelectiveStreamReader . java \n + if ( keyReader ! = null ) { \n + keyReader . close ( ) ; \n + } \n + if ( valueReader ! = null ) { \n + valueReader . close ( ) ; \n + } \n + \n + nestedOffsets = null ; \n + offsets = null ; \n + nulls = null ; \n + outputPositions = null ; \n + nestedLengths = null ; \n + nestedPositions = null ; \n + nestedOutputPositions = null ; \n + \n + lengthStream = null ; \n + lengthStreamSource = null ; \n + presentStream = null ; \n + lengthStreamSource = null ; \n + \n presto - orc \ src \ main \ java \ com \ facebook \ presto \ orc \ reader \ MapSelectiveStreamReader . java \n - if ( currentReader ! = null ) { \n - currentReader . close ( ) ; \n - } \n + directReader . close ( ) ; \n + flatReader . close ( ) ; \n
presto - orc \ src \ main \ java \ com \ facebook \ presto \ orc \ AbstractOrcRecordReader . java \n - \n + rowGroups = null ; \n presto - orc \ src \ main \ java \ com \ facebook \ presto \ orc \ OrcSelectiveRecordReader . java \n - import com . google . common . io . Closer ; \n - try ( Closer closer = Closer . create ( ) ) { \n - for ( SelectiveStreamReader streamReader : getStreamReaders ( ) ) { \n - if ( streamReader ! = null ) { \n - closer . register ( streamReader : : close ) ; \n - } \n - } \n - } \n - \n
presto - tests \ pom . xml \n + < argLine > - Xms4g - Xmx4g < / argLine > \n
android \ PhysicalWeb \ app \ src \ main \ java \ physical _ web \ org \ physicalweb \ UrlShortener . java \n - * Currently this class only supports google and few other url shortener \n + * Currently this class only supports google url shortener \n - private static final String [ ] SHORT _ URLS = new String [ ] { " goo . gl " , " bit . ly " , " bit . do " , " adf . ly " , " bitly . com " , " u . to " , \n - " tinyurl . com " , " buzurl . com " , " yourls . org " , " qr . net " } ; \n - for ( String shortUrl : SHORT _ URLS ) { \n - if ( url . startsWith ( " http : / / " + shortUrl + " / " ) | | url . startsWith ( " https : / / " + shortUrl + " / " ) ) { \n - return true ; \n - } \n + if ( url . startsWith ( " http : / / goo . gl / " ) | | url . startsWith ( " https : / / goo . gl / " ) ) { \n + return true ; \n + } \n
android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ NearbyBeaconsFragment . java \n - private static final int BEACON _ EXPIRATION _ DURATION = 5 ; \n + private static final int BEACON _ EXPIRATION _ DURATION = 120 ; \n
android \ PhysicalWeb \ app \ src \ main \ java \ physical _ web \ org \ physicalweb \ MainActivity . java \n - . add ( R . id . homeScreen _ container , NearbyDevicesFragment . newInstance ( ) ) \n + . add ( R . id . main _ activity _ container , NearbyDevicesFragment . newInstance ( ) ) \n android \ PhysicalWeb \ app \ src \ main \ res \ layout \ activity _ main . xml \n - \n - < LinearLayout \n - android : layout _ width = " match _ parent " \n - android : layout _ height = " match _ parent " \n - android : orientation = " vertical " \n - android : id = " @ + id / homeScreen _ container " > \n - < / LinearLayout > \n - \n
packages \ PrintSpooler \ res \ values - fr - rCA \ strings . xml \n - < item quantity = " many " > < xliff : g id = " COUNT _ 1 " > % 1 $ s < / xliff : g > printers found < / item > \n - < item quantity = " many " > Install to discover < xliff : g id = " COUNT _ 1 " > % 1 $ s < / xliff : g > printers < / item > \n packages \ PrintSpooler \ res \ values - fr \ strings . xml \n - < item quantity = " many " > < xliff : g id = " COUNT _ 1 " > % 1 $ s < / xliff : g > printers found < / item > \n - < item quantity = " many " > Install to discover < xliff : g id = " COUNT _ 1 " > % 1 $ s < / xliff : g > printers < / item > \n
packages \ SettingsLib \ HelpUtils \ res \ values - uz \ strings . xml \n - < string name = " help _ feedback _ label " msgid = " 7106780063063027882 " > " Yordam va fikr - mulohaza " < / string > \n + < string name = " help _ feedback _ label " msgid = " 7106780063063027882 " > " Yordam / fikr - mulohaza " < / string > \n
packages \ SettingsProvider \ res \ values - iw \ strings . xml \n - < string name = " wifi _ softap _ config _ change " msgid = " 5688373762357941645 " > " ההגדרות של הנקודה לשיתוף אינטרנט השתנו " < / string > \n + < string name = " wifi _ softap _ config _ change " msgid = " 5688373762357941645 " > " ‏הגדרות נקודת האינטרנט ( hotspot ) השתנו " < / string > \n
gradle . properties \n - version = 0 . 19 . 1 \n + version = 0 . 19 . 2 - SNAPSHOT \n
gradle . properties \n - version = 1 . 4 . 0 - RC6 - SNAPSHOT \n + version = 1 . 4 . 0 - RC6 \n
gradle . properties \n - version = 1 . 4 . 0 - RC6 \n + version = 1 . 4 . 0 - RC7 - SNAPSHOT \n
telephony \ java \ android \ telephony \ ims \ DelegateRegistrationState . java \n + \n + @ Override \n + public String toString ( ) { \n + return " DelegateRegistrationState { registered = { " + mRegisteredTags \n + + " } , deregistering = { " + mDeregisteringTags + " } , deregistered = { " \n + + mDeregisteredTags + " } } " ; \n + } \n
core \ api \ system - current . txt \n + field public static final String KEY _ SIP _ CONFIG _ CELLULAR _ NETWORK _ INFO _ HEADER _ STRING = " sip _ config _ cellular _ network _ info _ header _ string " ; \n + field public static final String KEY _ SIP _ CONFIG _ USER _ AGENT _ HEADER _ STRING = " sip _ config _ sip _ user _ agent _ header _ string " ; \n telephony \ java \ android \ telephony \ ims \ SipDelegateImsConfiguration . java \n + / * * \n + * The SIP User - Agent header value used by the IMS stack during IMS registration . \n + * / \n + public static final String KEY _ SIP _ CONFIG _ USER _ AGENT _ HEADER _ STRING = \n + " sip _ config _ sip _ user _ agent _ header _ string " ; \n + \n - * SIP P - last - access - network - info header string \n + * The SIP P - last - access - network - info header value , populated for networks that require this \n + * information to be provided in outgoing SIP messages . \n + / * * \n + * The Cellular - Network - Info header value ( See 3GPP 24 . 229 , section 7 . 2 . 15 ) , populated for \n + * networks that require this information to be provided as part of outgoing SIP messages . \n + * / \n + public static final String KEY _ SIP _ CONFIG _ CELLULAR _ NETWORK _ INFO _ HEADER _ STRING = \n + " sip _ config _ cellular _ network _ info _ header _ string " ; \n + \n + KEY _ SIP _ CONFIG _ USER _ AGENT _ HEADER _ STRING , \n + KEY _ SIP _ CONFIG _ CELLULAR _ NETWORK _ INFO _ HEADER _ STRING , \n
telephony \ java \ android \ telephony \ ims \ stub \ ImsEcbmImplBase . java \n - if ( mImsEcbm ! = null & & listener ! = null & & Objects . equals ( \n - mImsEcbm . asBinder ( ) , listener . asBinder ( ) ) ) { \n + if ( mListener ! = null & & ! mListener . asBinder ( ) . isBinderAlive ( ) ) { \n + Log . w ( TAG , " setListener : discarding dead Binder " ) ; \n + mListener = null ; \n + } \n + if ( mListener ! = null & & listener ! = null & & Objects . equals ( \n + mListener . asBinder ( ) , listener . asBinder ( ) ) ) { \n telephony \ java \ android \ telephony \ ims \ stub \ ImsMultiEndpointImplBase . java \n + if ( mListener ! = null & & ! mListener . asBinder ( ) . isBinderAlive ( ) ) { \n + Log . w ( TAG , " setListener : discarding dead Binder " ) ; \n + mListener = null ; \n + } \n telephony \ java \ android \ telephony \ ims \ stub \ ImsUtImplBase . java \n + import android . util . Log ; \n + private static final String TAG = " ImsUtImplBase " ; \n + if ( mUtListener ! = null \n + & & ! mUtListener . getListenerInterface ( ) . asBinder ( ) . isBinderAlive ( ) ) { \n + Log . w ( TAG , " setListener : discarding dead Binder " ) ; \n + mUtListener = null ; \n + } \n
src \ main \ java \ org \ junit \ internal \ runners \ JUnit38ClassRunner . java \n + if ( filtered . testCount ( ) = = 0 ) { \n + throw new NoTestsRemainException ( ) ; \n + } \n src \ test \ java \ org \ junit \ tests \ junit3compatibility \ JUnit38ClassRunnerTest . java \n + import org . junit . runner . manipulation . Filter ; \n + import org . junit . runner . manipulation . NoTestsRemainException ; \n + \n + public static class RejectAllFilter extends Filter { \n + @ Override \n + public boolean shouldRun ( Description description ) { \n + return false ; \n + } \n + \n + @ Override \n + public String describe ( ) { \n + return " filter all " ; \n + } \n + } \n + \n + / * * \n + * Test that NoTestsRemainException is thrown when all methods have been filtered . \n + * / \n + @ Test ( expected = NoTestsRemainException . class ) \n + public void filter _ noTestsRemain ( ) throws NoTestsRemainException { \n + JUnit38ClassRunner runner = new JUnit38ClassRunner ( OneTest . class ) ; \n + runner . filter ( new RejectAllFilter ( ) ) ; \n + } \n
src \ main \ java \ org \ junit \ internal \ runners \ JUnit38ClassRunner . java \n + if ( filtered . testCount ( ) = = 0 ) { \n + throw new NoTestsRemainException ( ) ; \n + } \n src \ test \ java \ org \ junit \ tests \ junit3compatibility \ JUnit38ClassRunnerTest . java \n + import org . junit . runner . manipulation . Filter ; \n + import org . junit . runner . manipulation . NoTestsRemainException ; \n + \n + public static class RejectAllFilter extends Filter { \n + @ Override \n + public boolean shouldRun ( Description description ) { \n + return false ; \n + } \n + \n + @ Override \n + public String describe ( ) { \n + return " filter all " ; \n + } \n + } \n + \n + / * * \n + * Test that NoTestsRemainException is thrown when description is returned when all methods \n + * have been filtered . \n + * / \n + @ Test ( expected = NoTestsRemainException . class ) \n + public void filter _ noTestsRemain ( ) throws NoTestsRemainException { \n + JUnit38ClassRunner runner = new JUnit38ClassRunner ( OneTest . class ) ; \n + runner . filter ( new RejectAllFilter ( ) ) ; \n + } \n
src \ test \ java \ org \ junit \ tests \ junit3compatibility \ JUnit38ClassRunnerTest . java \n - return false ; \n + if ( description . isTest ( ) ) { \n + return false ; \n + } \n + return true ; \n
ci \ images \ setup . sh \n - curl https : / / raw . githubusercontent . com / spring - io / concourse - java - scripts / v0 . 0 . 2 / concourse - java . sh > / opt / concourse - java . sh \n + curl https : / / raw . githubusercontent . com / spring - io / concourse - java - scripts / v0 . 0 . 3 / concourse - java . sh > / opt / concourse - java . sh \n - echo ' systemProp . user . name = concourse ' > ~ / . gradle / gradle . properties \n + echo ' systemProp . user . name = concourse ' > ~ / . gradle / gradle . properties \n
spring - core \ src \ main \ java \ org \ springframework \ util \ MimeTypeUtils . java \n - import java . util . concurrent . ConcurrentLinkedQueue ; \n + import java . util . concurrent . ConcurrentLinkedDeque ; \n - private final ConcurrentLinkedQueue < K > queue = new ConcurrentLinkedQueue < > ( ) ; \n + private final ConcurrentLinkedDeque < K > queue = new ConcurrentLinkedDeque < > ( ) ; \n - this . queue . remove ( key ) ; \n - this . queue . add ( key ) ; \n + if ( this . queue . removeLastOccurrence ( key ) ) { \n + this . queue . offer ( key ) ; \n + } \n - this . queue . remove ( key ) ; \n - this . queue . add ( key ) ; \n + if ( this . queue . removeLastOccurrence ( key ) ) { \n + this . queue . offer ( key ) ; \n + } \n - this . queue . add ( key ) ; \n + this . queue . offer ( key ) ; \n
spring - webflux \ src \ main \ java \ org \ springframework \ web \ reactive \ function \ client \ DefaultWebClientBuilder . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + this . strategiesConfigurers = other . strategiesConfigurers ! = null ? new ArrayList < > ( other . strategiesConfigurers ) : null ; \n spring - webflux \ src \ test \ java \ org \ springframework \ web \ reactive \ function \ client \ DefaultWebClientTests . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + import java . util . function . Consumer ; \n + import org . springframework . http . codec . ClientCodecConfigurer ; \n + @ Test \n + void cloneBuilder ( ) { \n + Consumer < ClientCodecConfigurer > codecsConfig = c - > { } ; \n + ExchangeFunction exchangeFunction = request - > Mono . empty ( ) ; \n + WebClient . Builder builder = WebClient . builder ( ) . baseUrl ( " https : / / example . org " ) \n + . exchangeFunction ( exchangeFunction ) \n + . filter ( ( request , next ) - > Mono . empty ( ) ) \n + . codecs ( codecsConfig ) ; \n + \n + WebClient . Builder clonedBuilder = builder . clone ( ) ; \n + \n + assertThat ( clonedBuilder ) . extracting ( " baseUrl " ) . isEqualTo ( " https : / / example . org " ) ; \n + assertThat ( clonedBuilder ) . extracting ( " filters " ) . isNotNull ( ) ; \n + assertThat ( clonedBuilder ) . extracting ( " strategiesConfigurers " ) . isNotNull ( ) ; \n + assertThat ( clonedBuilder ) . extracting ( " exchangeFunction " ) . isEqualTo ( exchangeFunction ) ; \n + } \n + \n
spring - context \ src \ main \ java \ org \ springframework \ context \ support \ AbstractApplicationContext . java \n + import org . springframework . context . ApplicationStartupAware ; \n - beanFactory . ignoreDependencyInterface ( ApplicationStartup . class ) ; \n + beanFactory . ignoreDependencyInterface ( ApplicationStartupAware . class ) ; \n
spring - web \ src \ main \ java \ org \ springframework \ http \ server \ ServletServerHttpResponse . java \n + long contentLength = getHeaders ( ) . getContentLength ( ) ; \n + if ( contentLength ! = - 1 ) { \n + this . servletResponse . setContentLengthLong ( contentLength ) ; \n + } \n
ci \ config \ release - scripts . yml \n - - ' . * \ \ . zip ' \n + - ' . * \ . zip ' \n - banner - mode : off \n + banner - mode : off \n
core \ java \ android \ uwb \ SessionHandle . java \n + import java . util . Objects ; \n + \n + @ Override \n + public int hashCode ( ) { \n + return Objects . hashCode ( mId ) ; \n + } \n + \n
core \ java \ android \ uwb \ OWNERS \n + matbev @ google . com \n
core \ java \ android \ uwb \ RangingManager . java \n - " onRangingOpened - received unexpected SessionHandle : " + sessionHandle ) ; \n + " onRangingOpenedFailed - received unexpected SessionHandle : " \n + + sessionHandle ) ; \n - Log . w ( TAG , " onRangingStartFailed - received unexpected SessionHandle : " \n + Log . w ( TAG , " onRangingReconfigureFailed - received unexpected SessionHandle : " \n + sessionHandle ) ; \n
handler \ src \ main \ java \ io \ netty \ handler \ ssl \ ReferenceCountedOpenSslEngine . java \n + parentContext . release ( ) ; \n + private final ReferenceCountedOpenSslContext parentContext ; \n + / / Now that everything looks good and we ' re going to successfully return the \n + / / object so we need to retain a reference to the parent context . \n + parentContext = context ; \n + parentContext . retain ( ) ; \n + \n handler \ src \ test \ java \ io \ netty \ handler \ ssl \ ReferenceCountedOpenSslEngineTest . java \n + import io . netty . buffer . UnpooledByteBufAllocator ; \n + import static junit . framework . TestCase . * ; \n + \n + \n + @ Test \n + public void parentContextIsRetainedByChildEngines ( ) throws Exception { \n + SslContext clientSslCtx = SslContextBuilder . forClient ( ) \n + . trustManager ( InsecureTrustManagerFactory . INSTANCE ) \n + . sslProvider ( sslClientProvider ( ) ) \n + . protocols ( protocols ( ) ) \n + . ciphers ( ciphers ( ) ) \n + . build ( ) ; \n + \n + SSLEngine engine = clientSslCtx . newEngine ( UnpooledByteBufAllocator . DEFAULT ) ; \n + assertEquals ( ReferenceCountUtil . refCnt ( clientSslCtx ) , 2 ) ; \n + \n + cleanupClientSslContext ( clientSslCtx ) ; \n + assertEquals ( ReferenceCountUtil . refCnt ( clientSslCtx ) , 1 ) ; \n + \n + cleanupClientSslEngine ( engine ) ; \n + assertEquals ( ReferenceCountUtil . refCnt ( clientSslCtx ) , 0 ) ; \n + } \n
codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ AbstractHttp2StreamChannel . java \n - ( message = inboundBuffer . poll ( ) ) ! = null ) ; \n + inboundBuffer ! = null & & ( message = inboundBuffer . poll ( ) ) ! = null ) ; \n codec - http2 \ src \ test \ java \ io \ netty \ handler \ codec \ http2 \ Http2MultiplexTest . java \n + @ Test \n + public void channelReadShouldRespectAutoReadAndNotProduceNPE ( ) throws Exception { \n + LastInboundHandler inboundHandler = new LastInboundHandler ( ) ; \n + Http2StreamChannel childChannel = newInboundStream ( 3 , false , inboundHandler ) ; \n + assertTrue ( childChannel . config ( ) . isAutoRead ( ) ) ; \n + Http2HeadersFrame headersFrame = inboundHandler . readInbound ( ) ; \n + assertNotNull ( headersFrame ) ; \n + \n + childChannel . config ( ) . setAutoRead ( false ) ; \n + childChannel . pipeline ( ) . addFirst ( new ChannelInboundHandlerAdapter ( ) { \n + private int count ; \n + @ Override \n + public void channelRead ( ChannelHandlerContext ctx , Object msg ) throws Exception { \n + ctx . fireChannelRead ( msg ) ; \n + / / Close channel after 2 reads so there is still something in the inboundBuffer when the close happens . \n + if ( + + count = = 2 ) { \n + ctx . close ( ) ; \n + } \n + } \n + } ) ; \n + frameInboundWriter . writeInboundData ( childChannel . stream ( ) . id ( ) , bb ( " hello world " ) , 0 , false ) ; \n + Http2DataFrame dataFrame0 = inboundHandler . readInbound ( ) ; \n + assertNotNull ( dataFrame0 ) ; \n + release ( dataFrame0 ) ; \n + \n + frameInboundWriter . writeInboundData ( childChannel . stream ( ) . id ( ) , bb ( " foo " ) , 0 , false ) ; \n + frameInboundWriter . writeInboundData ( childChannel . stream ( ) . id ( ) , bb ( " bar " ) , 0 , false ) ; \n + frameInboundWriter . writeInboundData ( childChannel . stream ( ) . id ( ) , bb ( " bar " ) , 0 , false ) ; \n + \n + assertNull ( inboundHandler . readInbound ( ) ) ; \n + \n + childChannel . config ( ) . setAutoRead ( true ) ; \n + verifyFramesMultiplexedToCorrectChannel ( childChannel , inboundHandler , 3 ) ; \n + inboundHandler . checkException ( ) ; \n + } \n + \n
codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ Http2StreamChannelBootstrap . java \n + if ( ! promise . setUncancellable ( ) ) { \n + return ; \n + } \n
transport \ src \ main \ java \ io \ netty \ channel \ AbstractChannel . java \n - setStackTrace ( exception . getStackTrace ( ) ) ; \n - setStackTrace ( exception . getStackTrace ( ) ) ; \n - setStackTrace ( exception . getStackTrace ( ) ) ; \n
transport - native - epoll \ src \ main \ c \ netty _ epoll _ linuxsocket . c \n + memset ( & interfaceAddr , 0 , sizeof ( interfaceAddr ) ) ; \n + \n + memset ( & groupAddr , 0 , sizeof ( groupAddr ) ) ; \n + memset ( & interfaceAddr , 0 , sizeof ( interfaceAddr ) ) ; \n + \n + memset ( & groupAddr , 0 , sizeof ( groupAddr ) ) ; \n + memset ( & sourceAddr , 0 , sizeof ( sourceAddr ) ) ; \n + memset ( & interfaceAddr , 0 , sizeof ( interfaceAddr ) ) ; \n + \n + memset ( & groupAddr , 0 , sizeof ( groupAddr ) ) ; \n + memset ( & interfaceAddr , 0 , sizeof ( interfaceAddr ) ) ; \n + \n + memset ( & groupAddr , 0 , sizeof ( groupAddr ) ) ; \n + memset ( & sourceAddr , 0 , sizeof ( sourceAddr ) ) ; \n + memset ( & interfaceAddr , 0 , sizeof ( interfaceAddr ) ) ; \n + \n + \n + memset ( & addr , 0 , sizeof ( addr ) ) ; \n + \n
transport \ src \ main \ java \ io \ netty \ channel \ ChannelHandlerMask . java \n + import io . netty . util . internal . logging . InternalLogger ; \n + import io . netty . util . internal . logging . InternalLoggerFactory ; \n + import java . lang . reflect . Method ; \n + private static final InternalLogger logger = InternalLoggerFactory . getInstance ( ChannelHandlerMask . class ) ; \n - return handlerType . getMethod ( methodName , paramTypes ) . isAnnotationPresent ( Skip . class ) ; \n + Method m ; \n + try { \n + m = handlerType . getMethod ( methodName , paramTypes ) ; \n + } catch ( NoSuchMethodException e ) { \n + logger . debug ( \n + " Class { } missing method { } , assume we can not skip execution " , handlerType , methodName , e ) ; \n + return false ; \n + } \n + return m . isAnnotationPresent ( Skip . class ) ; \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ producers \ NetworkFetchProducer . java \n - private final PooledByteBufferFactory mPooledByteBufferFactory ; \n + protected final PooledByteBufferFactory mPooledByteBufferFactory ; \n
vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ core \ impl \ debug \ DebugOverlayDrawable . java \n + import android . graphics . Color ; \n + import androidx . annotation . ColorInt ; \n + private @ ColorInt int mBackgroundColor = Color . TRANSPARENT ; \n + / / Draw overlay \n + mPaint . setStyle ( Paint . Style . FILL ) ; \n + mPaint . setColor ( mBackgroundColor ) ; \n + canvas . drawRect ( bounds . left , bounds . top , bounds . right , bounds . bottom , mPaint ) ; \n + \n + public void setBackgroundColor ( @ ColorInt int color ) { \n + mBackgroundColor = color ; \n + } \n + \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ producers \ PriorityNetworkFetcher . java \n - if ( infiniteRetries ) { \n + if ( infiniteRetries \n + & & ! ( throwable instanceof PriorityNetworkFetcher . NonrecoverableException ) ) { \n + / * * \n + * The delegate fetcher may pass an instance of this exception to its callback ' s onFailure to \n + * signal to a PriorityNetworkFetcher that it shouldn ' t retry that request . \n + * \n + * < p > This is useful for e . g . , requests that fail due to HTTP 403 : there ' s no point in retrying \n + * them , usually . \n + * / \n + public static class NonrecoverableException extends Throwable { \n + public NonrecoverableException ( @ androidx . annotation . Nullable String message ) { \n + super ( message ) ; \n + } \n + } \n + \n imagepipeline \ src \ test \ java \ com \ facebook \ imagepipeline \ producers \ PriorityNetworkFetcherTest . java \n + / * * Scenario : an image fetch fails with a non - recoverable exception . Don ' t requeue it . * / \n + @ Test \n + public void testInfiniteRetries _ dontRetryNonrecoverableException ( ) { \n + RecordingNetworkFetcher recordingNetworkFetcher = new RecordingNetworkFetcher ( ) ; \n + \n + / / Max hi - pri : 1 , max low - pri : 0 \n + PriorityNetworkFetcher < FetchState > fetcher = \n + new PriorityNetworkFetcher < > ( recordingNetworkFetcher , false , 1 , 0 , true , true ) ; \n + \n + PriorityFetchState < FetchState > hipri1 = fetch ( fetcher , " hipri1 " , callback , true ) ; \n + \n + assertThat ( fetcher . getCurrentlyFetching ( ) ) . containsExactly ( hipri1 ) ; \n + assertThat ( fetcher . getHiPriQueue ( ) ) . isEmpty ( ) ; \n + assertThat ( fetcher . getLowPriQueue ( ) ) . isEmpty ( ) ; \n + \n + / / Simulate a failure in hipri1 . \n + getOnlyElement ( recordingNetworkFetcher . callbacks . get ( hipri1 . delegatedState ) ) \n + . onFailure ( new PriorityNetworkFetcher . NonrecoverableException ( " HTTP 403 " ) ) ; \n + \n + assertThat ( fetcher . getCurrentlyFetching ( ) ) . isEmpty ( ) ; \n + assertThat ( fetcher . getHiPriQueue ( ) ) . isEmpty ( ) ; \n + assertThat ( fetcher . getLowPriQueue ( ) ) . isEmpty ( ) ; \n + \n + assertThat ( hipri1 . requeueCount ) . isEqualTo ( 0 ) ; \n + } \n + \n
services \ core \ java \ com \ android \ server \ ConnectivityService . java \n - private void onUserStart ( int userId ) { \n + private void onUserStarted ( int userId ) { \n - private void onUserStop ( int userId ) { \n + private void onUserStopped ( int userId ) { \n - onUserStart ( userId ) ; \n + onUserStarted ( userId ) ; \n - onUserStop ( userId ) ; \n + onUserStopped ( userId ) ; \n services \ core \ java \ com \ android \ server \ connectivity \ Vpn . java \n - private static final String VPN _ AGENT _ NAME = " VpnNetworkAgent " ; \n + private static final String VPN _ PROVIDER _ NAME _ BASE = " VpnNetworkProvider : " ; \n + private final NetworkProvider mNetworkProvider ; \n + mNetworkProvider = new NetworkProvider ( context , looper , VPN _ PROVIDER _ NAME _ BASE + mUserId ) ; \n + / / This constructor is called in onUserStart and registers the provider . The provider \n + / / will be unregistered in onUserStop . \n + mConnectivityManager . registerNetworkProvider ( mNetworkProvider ) ; \n - ConnectivityConstants . VPN _ DEFAULT _ SCORE , networkAgentConfig , \n - new NetworkProvider ( mContext , mLooper , VPN _ AGENT _ NAME ) ) { \n + ConnectivityConstants . VPN _ DEFAULT _ SCORE , networkAgentConfig , mNetworkProvider ) { \n + \n + / / The provider has been registered in the constructor , which is called in onUserStart . \n + mConnectivityManager . unregisterNetworkProvider ( mNetworkProvider ) ; \n tests \ net \ java \ com \ android \ server \ connectivity \ VpnTest . java \n + import static org . mockito . ArgumentMatchers . argThat ; \n - import android . os . Looper ; \n + import android . os . test . TestLooper ; \n + when ( mContext . getSystemServiceName ( eq ( ConnectivityManager . class ) ) ) \n + . thenReturn ( Context . CONNECTIVITY _ SERVICE ) ; \n - return new Vpn ( Looper . myLooper ( ) , mContext , new TestDeps ( ) , mNetService , \n + final TestLooper testLooper = new TestLooper ( ) ; \n + final Vpn vpn = new Vpn ( testLooper . getLooper ( ) , mContext , new TestDeps ( ) , mNetService , \n + verify ( mConnectivityManager , times ( 1 ) ) . registerNetworkProvider ( argThat ( \n + provider - > provider . getName ( ) . contains ( " VpnNetworkProvider " ) \n + ) ) ; \n + return vpn ; \n
tests \ net \ java \ com \ android \ server \ ConnectivityServiceTest . java \n + private final HandlerThread mHandlerSendingRequests ; \n - NetworkCapabilities filter ) { \n + NetworkCapabilities filter , HandlerThread threadSendingRequests ) { \n + mHandlerSendingRequests = threadSendingRequests ; \n - assertNull ( mRequestHistory . poll ( TIMEOUT _ MS , r - > true ) ) ; \n + HandlerUtils . waitForIdle ( mHandlerSendingRequests , TIMEOUT _ MS ) ; \n + assertNull ( mRequestHistory . poll ( 0 , r - > true ) ) ; \n - mServiceContext , " testFactory " , filter ) ; \n + mServiceContext , " testFactory " , filter , mCsHandlerThread ) ; \n - mServiceContext , " testFactory " , filter ) ; \n + mServiceContext , " testFactory " , filter , mCsHandlerThread ) ; \n - mServiceContext , " testFactory " , filter ) ; \n + mServiceContext , " testFactory " , filter , mCsHandlerThread ) ; \n - mServiceContext , " testFactory " , filter ) ; \n + mServiceContext , " testFactory " , filter , mCsHandlerThread ) ; \n
tests \ net \ java \ com \ android \ server \ ConnectivityServiceTest . java \n + waitForIdle ( ) ; \n
CHANGELOG . md \n + * Use https for Realm version checker ( # 4043 ) . \n realm \ realm - annotations - processor \ src \ main \ java \ io \ realm \ processor \ RealmVersionChecker . java \n - public static final String REALM _ ANDROID _ DOWNLOAD _ URL = " http : / / static . realm . io / downloads / java / latest " ; \n + public static final String REALM _ ANDROID _ DOWNLOAD _ URL = " https : / / static . realm . io / downloads / java / latest " ; \n - private static final String VERSION _ URL = " http : / / static . realm . io / update / java ? " ; \n + private static final String VERSION _ URL = " https : / / static . realm . io / update / java ? " ; \n
tools \ sync _ test _ server \ ros - testing - server . js \n - waitForRosToInitialize ( attempts - 1 , onSuccess , onError , startSequence ) \n + setTimeout ( function ( ) { \n + waitForRosToInitialize ( attempts - 1 , onSuccess , onError , startSequence ) ; \n + } , 500 ) ; \n - } , 200 ) ; \n + } , 500 ) ; \n - waitForRosToInitialize ( 100 , onSuccess , onError , Date . now ( ) ) ; \n + / / The interval between every health check is 0 . 5 second . Give the ROS 15 seconds to get fully initialized . \n + waitForRosToInitialize ( 30 , onSuccess , onError , Date . now ( ) ) ; \n
realm - annotations \ src \ main \ java \ io \ realm \ annotations \ Required . java \n - * This annotation will mark the field as not nullable . When the field is { @ link Required } , \n - * it cannot be set to { @ code null } . \n + * This annotation will mark the field or the element of a primitive { @ link io . realm . RealmList } as not nullable . \n - * Only { @ code Boolean , Byte , Short , Integer , Long , Float , Double , String , byte [ ] , Date } can be annotated \n - * with { @ link Required } . Compiling will fail when fields with other types have { @ link Required } annotation . \n - * Fields with primitive types and the { @ link io . realm . RealmList } type are required implicitly . \n - * Fields with { @ link io . realm . RealmObject } type are always nullable . \n + * When a field of type { @ code Boolean , Byte , Short , Integer , Long , Float , Double , String , byte [ ] , Date } is annotated \n + * with { @ link Required } , it cannot be set to { @ code null } . \n + * < p > \n + * Fields with primitive types are implicitly required . \n + * < p > \n + * When a primitive { @ link io . realm . RealmList } ( { @ code RealmList < String > , RealmList < byte [ ] > , RealmList < Boolean > , \n + * RealmList < Byte > , RealmList < Short > , RealmList < Integer > , RealmList < Long > , RealmList < Float > , RealmList < Double > , \n + * RealmList < Date > } ) is annotated with { @ link Required } , it cannot contain { @ code null } values . \n + * < p > \n + * The { @ link io . realm . RealmList } field itself is required always . \n + * < p > \n + * Compiling will fail when fields with other types have { @ link Required } annotation . \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ remote \ GrpcCacheClient . java \n + import build . bazel . remote . execution . v2 . RequestMetadata ; \n + \n + RequestMetadata requestMetadata = TracingMetadataUtils . fromCurrentContext ( ) ; \n - TracingMetadataUtils . fromCurrentContext ( ) . getActionId ( ) , \n + requestMetadata . getActionId ( ) , \n
third _ party \ BUILD \n - srcjar = " javax _ annotations / javax . activation - api - 1 . 2 . 0 - sources . jar " , \n + srcjar = " javax _ activation / javax . activation - api - 1 . 2 . 0 - sources . jar " , \n
BUILD \n - value : " n1 - highcpu - 32 " \n + value : " e2 - highcpu - 32 " \n
core \ api \ system - current . txt \n + method public static int getUid ( @ NonNull android . os . UserHandle , int ) ; \n core \ java \ android \ os \ UserHandle . java \n + / * * \n + * Returns the uid that is composed from the userHandle and the appId . \n + * \n + * @ param userHandle the UserHandle to compose the uid \n + * @ param appId the AppId to compose the uid \n + * @ return the uid that is composed from the userHandle and the appId \n + * @ hide \n + * / \n + @ SystemApi \n + public static int getUid ( @ NonNull UserHandle userHandle , @ AppIdInt int appId ) { \n + return getUid ( userHandle . getIdentifier ( ) , appId ) ; \n + } \n + \n services \ core \ java \ com \ android \ server \ connectivity \ PermissionMonitor . java \n - list . add ( UserHandle . getUid ( user , app . getKey ( ) ) ) ; \n + final UserHandle handle = UserHandle . of ( user ) ; \n + if ( handle = = null ) continue ; \n + \n + list . add ( UserHandle . getUid ( handle , app . getKey ( ) ) ) ; \n - final int uid = UserHandle . getUid ( userId , appId ) ; \n + final UserHandle handle = UserHandle . of ( userId ) ; \n + if ( handle = = null ) continue ; \n + \n + final int uid = UserHandle . getUid ( handle , appId ) ; \n
packages \ Connectivity \ framework \ src \ android \ net \ ConnectivityManager . java \n - import android . os . INetworkActivityListener ; \n packages \ Connectivity \ framework \ src \ android \ net \ IConnectivityManager . aidl \n + import android . net . INetworkActivityListener ; \n - import android . os . INetworkActivityListener ; \n rename from core \ java \ android \ os \ INetworkActivityListener . aidl \n rename to packages \ Connectivity \ framework \ src \ android \ net \ INetworkActivityListener . aidl \n - package android . os ; \n + package android . net ; \n services \ core \ java \ com \ android \ server \ ConnectivityService . java \n + import android . net . INetworkActivityListener ; \n - import android . os . INetworkActivityListener ; \n
core \ api \ module - lib - current . txt \n + public static final class IpSecManager . UdpEncapsulationSocket implements java . lang . AutoCloseable { \n + method public int getResourceId ( ) ; \n + } \n + \n core \ java \ android \ net \ IpSecManager . java \n + import static android . annotation . SystemApi . Client . MODULE _ LIBRARIES ; \n + \n - @ VisibleForTesting \n + @ SystemApi ( client = MODULE _ LIBRARIES ) \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ core \ ImagePipeline . java \n - return prefetchToBitmapCache ( imageRequest , callerContext , Priority . MEDIUM ) ; \n - } \n - \n - private DataSource < Void > prefetchToBitmapCache ( \n - ImageRequest imageRequest , Object callerContext , Priority priority ) { \n - priority ) ; \n + Priority . MEDIUM ) ; \n
vito \ litho \ src \ main \ java \ com \ facebook \ fresco \ vito \ litho \ FrescoVitoImage2Spec . java \n + ; \n + \n + public static Prefetch parsePrefetch ( long value ) { \n + if ( value = = 2 ) { \n + return NO ; \n + } \n + if ( value = = 1 ) { \n + return YES ; \n + } \n + return AUTO ; \n + } \n
new file \n vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ core \ PrefetchReason . java \n + / * \n + * Copyright ( c ) Facebook , Inc . and its affiliates . \n + * \n + * This source code is licensed under the MIT license found in the \n + * LICENSE file in the root directory of this source tree . \n + * / \n + \n + package com . facebook . fresco . vito . core ; \n + \n + public enum PrefetchReason { \n + / * * the image is needed right away to show on the viewport * / \n + ON _ SCREEN , \n + \n + / * * the image will be automatically become visible on the viewport after several seconds * / \n + ON _ TIMEOUT , \n + \n + / * * \n + * the image will be visible when user scroll down to reveal it , highly likely if people stay on \n + * the same surface \n + * / \n + ON _ SCROLL , \n + \n + / * * \n + * the image will not be visible until people tap on something to show a different surface than \n + * the current one \n + * / \n + ON _ TAP , \n + } \n
src \ clj \ clojure \ repl . clj \n + ; ; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n + ; ; Handle Ctrl - C keystrokes \n + \n + ( defn thread - stopper \n + " Returns a function that takes one arg and uses that as an exception message \n + to stop the given thread . Defaults to the current thread " \n + ( [ ] ( thread - stopper ( Thread / currentThread ) ) ) \n + ( [ thread ] ( fn [ msg ] ( . stop thread ( Error . msg ) ) ) ) ) \n + \n + ( defn set - break - handler ! \n + " Register INT signal handler . After calling this , Ctrl - C will cause \n + the given function f to be called with a single argument , the signal . \n + Uses thread - stopper if no function given . " \n + ( [ ] ( set - break - handler ! ( thread - stopper ) ) ) \n + ( [ f ] \n + ( sun . misc . Signal / handle \n + ( sun . misc . Signal . " INT " ) \n + ( proxy [ sun . misc . SignalHandler ] [ ] \n + ( handle [ signal ] \n + ( f ( str " - - caught signal " signal ) ) ) ) ) ) ) \n
src \ jvm \ clojure \ lang \ ASeq . java \n - public abstract class ASeq extends Obj implements ISeq , List , Serializable { \n + public abstract class ASeq extends Obj implements ISeq , Sequential , List , Serializable { \n src \ jvm \ clojure \ lang \ IChunkedSeq . java \n - public interface IChunkedSeq extends ISeq { \n + public interface IChunkedSeq extends ISeq , Sequential { \n src \ jvm \ clojure \ lang \ ISeq . java \n - public interface ISeq extends IPersistentCollection , Sequential { \n + public interface ISeq extends IPersistentCollection { \n src \ jvm \ clojure \ lang \ IndexedSeq . java \n - public interface IndexedSeq extends ISeq , Counted { \n + public interface IndexedSeq extends ISeq , Sequential , Counted { \n src \ jvm \ clojure \ lang \ LazySeq . java \n - public final class LazySeq extends Obj implements ISeq , List { \n + public final class LazySeq extends Obj implements ISeq , Sequential , List { \n
src \ clj \ clojure \ core . clj \n - ( if ( seq ? f ) \n - ` ( ~ ( first f ) ~ gx ~ @ ( next f ) ) \n - ` ( ~ f ~ gx ) ) ) \n + ( with - meta \n + ( if ( seq ? f ) \n + ` ( ~ ( first f ) ~ gx ~ @ ( next f ) ) \n + ` ( ~ f ~ gx ) ) \n + ( meta f ) ) ) \n
library \ src \ com \ handmark \ pulltorefresh \ library \ PullToRefreshBase . java \n + \n + static final boolean USE _ HW _ LAYERS = false ; \n - / * * \n - * Use a Hardware Layer on the Refreshable View if we ' ve scrolled at \n - * all . We don ' t use them on the Header / Footer Views as they change \n - * often , which would negate any HW layer performance boost . \n - * / \n - ViewCompat . setLayerType ( mRefreshableViewWrapper , value ! = 0 ? View . LAYER _ TYPE _ HARDWARE : View . LAYER _ TYPE _ NONE ) ; \n + if ( USE _ HW _ LAYERS ) { \n + / * * \n + * Use a Hardware Layer on the Refreshable View if we ' ve scrolled at \n + * all . We don ' t use them on the Header / Footer Views as they change \n + * often , which would negate any HW layer performance boost . \n + * / \n + ViewCompat . setLayerType ( mRefreshableViewWrapper , value ! = 0 ? View . LAYER _ TYPE _ HARDWARE \n + : View . LAYER _ TYPE _ NONE ) ; \n + } \n
library \ src \ uk \ co \ senab \ photoview \ PhotoViewAttacher . java \n - zoomTo ( mMidScale , x , y ) ; \n + setScale ( mMidScale , x , y , true ) ; \n - zoomTo ( mMaxScale , x , y ) ; \n + setScale ( mMaxScale , x , y , true ) ; \n - zoomTo ( mMinScale , x , y ) ; \n + setScale ( mMinScale , x , y , true ) ; \n + @ Override \n + / / Check to see if the scale is within bounds \n + if ( scale < mMinScale | | scale > mMaxScale ) { \n + Log . i ( LOG _ TAG , " Scale must be within the range of minScale and maxScale " ) ; \n + return ; \n + } \n + \n
library \ src \ uk \ co \ senab \ photoview \ PhotoViewAttacher . java \n - zoomTo ( mMidScale , x , y ) ; \n + setScale ( mMidScale , x , y , true ) ; \n - zoomTo ( mMaxScale , x , y ) ; \n + setScale ( mMaxScale , x , y , true ) ; \n - zoomTo ( mMinScale , x , y ) ; \n + setScale ( mMinScale , x , y , true ) ; \n + @ Override \n + / / Check to see if the scale is within bounds \n + if ( scale < mMinScale | | scale > mMaxScale ) { \n + Log . i ( LOG _ TAG , " Scale must be within the range of minScale and maxScale " ) ; \n + return ; \n + } \n + \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ SectionHeader . kt \n - data class SectionHeader ( @ StringRes val titleId : Int ) \n + data class SectionHeader ( \n + @ StringRes val titleId : Int , \n + val useHorizontalPadding : Boolean = true \n + ) \n mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ schedule \ filters \ ScheduleFilterAdapter . kt \n - newList . add ( SectionHeader ( category . labelResId ) ) \n + newList + = SectionHeader ( \n + titleId = category . labelResId , \n + useHorizontalPadding = false \n + ) \n mobile \ src \ main \ res \ layout \ fragment _ schedule _ filter . xml \n - android : padding = " @ dimen / margin _ normal " \n + android : paddingHorizontal = " @ dimen / margin _ normal " \n + android : paddingVertical = " @ dimen / spacing _ normal " \n + app : layoutManager = " GridLayoutManager " \n - app : layoutManager = " GridLayoutManager " \n mobile \ src \ main \ res \ layout \ item _ generic _ section _ header . xml \n - android : paddingLeft = " @ dimen / margin _ normal " \n - android : paddingRight = " @ dimen / margin _ normal " \n + android : paddingLeft = " @ { sectionHeader . useHorizontalPadding ? @ dimen / margin _ normal : 0 } " \n + android : paddingRight = " @ { sectionHeader . useHorizontalPadding ? @ dimen / margin _ normal : 0 } " \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ MainActivity . kt \n - import androidx . core . os . BuildCompat \n - if ( drawer . isDrawerOpen ( navigation ) ) { \n - var closeDrawerOnBack = true \n - if ( BuildCompat . isAtLeastQ ( ) ) { \n - closeDrawerOnBack = shouldCloseDrawerFromBackPress ( drawer ) \n - } \n - if ( closeDrawerOnBack ) { \n - closeDrawer ( ) \n - } \n + / * * \n + * If the drawer is open , the behavior changes based on the API level . \n + * When gesture nav is enabled ( Q + ) , we want back to exit when the drawer is open . \n + * When button navigation is enabled ( on Q or pre - Q ) we want to close the drawer on back . \n + * / \n + if ( drawer . isDrawerOpen ( navigation ) & & shouldCloseDrawerFromBackPress ( drawer ) ) { \n + closeDrawer ( ) \n mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ widget \ IoschedDrawerLayout . kt \n + override fun setDrawerLockMode ( lockMode : Int , edgeGravity : Int ) { \n + super . setDrawerLockMode ( lockMode , edgeGravity ) \n + updateGestureExclusion ( ) \n + } \n + \n - if ( hasClosedDrawer ( Gravity . LEFT ) ) { \n - / / We have a closed drawer on the left , add an exclusion rect so that the user \n - / / can swipe it open \n + if ( getDrawerLockMode ( Gravity . LEFT ) ! = DrawerLayout . LOCK _ MODE _ LOCKED _ CLOSED & & \n + hasClosedDrawer ( Gravity . LEFT ) ) { \n + / / We have a non - locked closed drawer on the left , add an exclusion rect so \n + / / that the user can swipe it open \n - if ( hasClosedDrawer ( Gravity . RIGHT ) ) { \n - / / We have a closed drawer on the right , add an exclusion rect so that the user \n - / / can swipe it open \n + if ( getDrawerLockMode ( Gravity . RIGHT ) ! = DrawerLayout . LOCK _ MODE _ LOCKED _ CLOSED & & \n + hasClosedDrawer ( Gravity . RIGHT ) ) { \n + / / We have a non - locked closed drawer on the right , add an exclusion rect so \n + / / that the user can swipe it open \n
build . gradle \n - appcompatVersion = ' 1 . 1 . 0 - alpha03 ' \n + appcompatVersion = ' 1 . 1 . 0 - beta01 ' \n + activityVersion = ' 1 . 0 . 0 - beta01 ' \n - coreVersion = ' 1 . 2 . 0 - alpha01 ' \n + coreVersion = ' 1 . 2 . 0 - alpha02 ' \n - drawerLayoutVersion = ' 1 . 1 . 0 - alpha01 ' \n + drawerLayoutVersion = ' 1 . 1 . 0 - alpha02 ' \n + fragmentVersion = " 1 . 1 . 0 - beta01 " \n - lifecycleVersion = ' 2 . 1 . 0 - alpha03 ' \n + lifecycleVersion = ' 2 . 1 . 0 - beta01 ' \n - materialVersion = ' 1 . 1 . 0 - alpha05 ' \n + materialVersion = ' 1 . 1 . 0 - alpha07 ' \n - roomVersion = ' 2 . 1 . 0 - alpha06 ' \n + roomVersion = ' 2 . 1 . 0 ' \n mobile \ build . gradle \n + implementation " androidx . activity : activity - ktx : $ rootProject . activityVersion " \n + implementation " androidx . fragment : fragment - ktx : $ rootProject . fragmentVersion " \n mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ map \ MapFragment . kt \n - import androidx . activity . OnBackPressedCallback \n + import androidx . activity . addCallback \n - requireActivity ( ) . addOnBackPressedCallback ( this , OnBackPressedCallback { onBackPressed ( ) } ) \n + requireActivity ( ) . onBackPressedDispatcher . addCallback ( this ) { \n + onBackPressed ( ) \n + } \n mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ schedule \ ScheduleFragment . kt \n - import androidx . activity . OnBackPressedCallback \n + import androidx . activity . addCallback \n - requireActivity ( ) . addOnBackPressedCallback ( this , OnBackPressedCallback { onBackPressed ( ) } ) \n + requireActivity ( ) . onBackPressedDispatcher . addCallback ( this ) { \n + onBackPressed ( ) \n + } \n
common \ src \ main \ java \ io \ netty \ util \ concurrent \ FastThreadLocal . java \n - * @ return see { @ link InternalThreadLocalMap # setIndexedVariable ( int , Object ) } . \n + * @ see InternalThreadLocalMap # setIndexedVariable ( int , Object ) . \n - * Sets the value to uninitialized ; a proceeding call to get ( ) will trigger a call to initialValue ( ) . \n + * Sets the value to uninitialized for the specified thread local map . \n + * After this , any subsequent call to get ( ) will trigger a new call to initialValue ( ) . \n - * Sets the value to uninitialized for the specified thread local map ; \n - * a proceeding call to get ( ) will trigger a call to initialValue ( ) . \n + * Sets the value to uninitialized for the specified thread local map . \n + * After this , any subsequent call to get ( ) will trigger a new call to initialValue ( ) . \n
pom . xml \n + < profile > \n + < id > ijDebug < / id > \n + < properties > \n + < argLine . ijDebug > - agentlib : jdwp = transport = dt _ socket , server = y , suspend = y , address = * : 5005 < / argLine . ijDebug > \n + < / properties > \n + < / profile > \n + < argLine . ijDebug / > < ! - - Overridden when ' ijDebug ' profile is active - - > \n - server \n - dsa - da - ea : io . netty . . . \n - XX : + HeapDumpOnOutOfMemoryError \n + $ { argLine . ijDebug } \n
pom . xml \n - < profile > \n - < id > ijDebug < / id > \n - < properties > \n - < argLine . ijDebug > - agentlib : jdwp = transport = dt _ socket , server = y , suspend = y , address = * : 5005 < / argLine . ijDebug > \n - < / properties > \n - < / profile > \n - < argLine . ijDebug / > < ! - - Overridden when ' ijDebug ' profile is active - - > \n - server \n - dsa - da - ea : io . netty . . . \n - XX : + HeapDumpOnOutOfMemoryError \n - $ { argLine . ijDebug } \n - < version > 2 . 22 . 1 < / version > \n + < version > 2 . 22 . 2 < / version > \n - < version > 2 . 22 . 1 < / version > \n + < version > 2 . 22 . 2 < / version > \n
compiler \ src \ test \ java \ dagger \ tests \ integration \ operation \ FailureModeErrorsTest . java \n - @ Test public void failOnMissingModule _ array ( ) { \n + @ Test public void failOnMissingModule _ arrayorgenerics ( ) { \n + / / Generics here are crazy to try to test for , but this code path is legit regardless . \n - assertThat ( e . getMessage ( ) ) . contains ( " is a generic class or an array " ) ; \n + assertThat ( e . getMessage ( ) ) . contains ( \n + " java . lang . String [ ] is a generic class or an array and can only be bound with " \n + + " concrete type parameter ( s ) in a @ Provides method . required by class " \n + + " dagger . tests . integration . operation . FailureModeErrorsTest $ ArrayFoo " ) ; \n - assertThat ( e . getMessage ( ) ) . contains ( " is a @ Qualifier - annotated type and must be bound " ) ; \n + assertThat ( e . getMessage ( ) ) . contains ( \n + " @ dagger . tests . integration . operation . FailureModeErrorsTest $ MyFoo ( ) / java . lang . String " \n + + " is a @ Qualifier - annotated type and must be bound by a @ Provides method . required by " \n + + " class dagger . tests . integration . operation . FailureModeErrorsTest $ QualifyingFoo " ) ; \n - \n
compiler \ src \ test \ java \ dagger \ tests \ integration \ validation \ CyclicDependencyTest . java \n - . withErrorContaining ( " 0 . CyclicDeps $ Foo bound by " ) . in ( sourceFile ) . onLine ( 17 ) . and ( ) \n - . withErrorContaining ( " 1 . CyclicDeps $ Bar bound by " ) . in ( sourceFile ) . onLine ( 17 ) . and ( ) \n - . withErrorContaining ( " 2 . CyclicDeps $ Blah bound by " ) . in ( sourceFile ) . onLine ( 17 ) ; \n + . withErrorContaining ( " Dependency cycle : " ) . in ( sourceFile ) . onLine ( 17 ) ; \n - . withErrorContaining ( " 0 . CyclicDeps $ A bound by Provides " ) . in ( sourceFile ) . onLine ( 9 ) . and ( ) \n - . withErrorContaining ( " 1 . CyclicDeps $ D bound by Provides " ) . in ( sourceFile ) . onLine ( 9 ) . and ( ) \n - . withErrorContaining ( " 2 . CyclicDeps $ C bound by Provides " ) . in ( sourceFile ) . onLine ( 9 ) . and ( ) \n - . withErrorContaining ( " 3 . CyclicDeps $ B bound by Provides " ) . in ( sourceFile ) . onLine ( 9 ) ; \n + . withErrorContaining ( " Dependency cycle : " ) . in ( sourceFile ) . onLine ( 9 ) ; \n
compiler \ src \ main \ java \ dagger \ internal \ codegen \ GraphVisualizer . java \n - import java . util . TreeSet ; \n + import java . util . TreeSet ; \n - / * * A Comparator for BindingsGroup so we can insure a consistent ordering of output . * / \n + / * * A Comparator for Bindings so we can insure a consistent ordering of output . * / \n core \ src \ main \ java \ dagger \ internal \ BindingsGroup . java \n - import java . util . HashMap ; \n + import java . util . LinkedHashMap ; \n - private final Map < String , Binding < ? > > bindings = new HashMap < String , Binding < ? > > ( ) ; \n + private final Map < String , Binding < ? > > bindings = new LinkedHashMap < String , Binding < ? > > ( ) ; \n core \ src \ main \ java \ dagger \ internal \ Keys . java \n - * BindingsGroup from { @ code @ Provides } methods are of the first two types . BindingsGroup \n + * Bindings from { @ code @ Provides } methods are of the first two types . BindingsGroup \n core \ src \ main \ java \ dagger \ internal \ Linker . java \n - / * * BindingsGroup requiring a call to attach ( ) . May contain deferred bindings . * / \n + / * * Bindings requiring a call to attach ( ) . May contain deferred bindings . * / \n core \ src \ main \ java \ dagger \ internal \ SetBinding . java \n - for ( Binding < ? > contributor : setBinding . contributors ) { \n + for ( int i = 0 , size = setBinding . contributors . size ( ) ; i < size ; i + + ) { \n + Binding < ? > contributor = setBinding . contributors . get ( i ) ; \n - for ( Binding < ? > contributor : setBinding . contributors ) { \n + for ( int i = 0 , size = setBinding . contributors . size ( ) ; i < size ; i + + ) { \n - builder . append ( contributor ) ; \n + builder . append ( setBinding . contributors . get ( i ) ) ; \n
CHANGELOG . md \n - # # 10 . 0 . 0 - BETA . 4 ( YYYY - MM - DD ) \n + # # 10 . 0 . 0 - BETA . 4 ( 2020 - 06 - 11 ) \n - * None \n + * [ RealmApp ] Added support for Custom Data using ` User . customData ( ) ` and ` User . refreshCustomData ( ) ` . \n + * [ RealmApp ] Added support for managing push notifications using ` App . getPush ( ) ` . \n - * None . \n + * Updated to Object Store commit : 017d58fbec8a18ab003976b4c346308df88349a6 . \n dependencies . list \n - MONGODB _ REALM _ SERVER _ VERSION = 2020 - 06 - 08 \n + MONGODB _ REALM _ SERVER _ VERSION = 2020 - 06 - 10 \n realm \ realm - library \ src \ main \ cpp \ object - store \n - Subproject commit c02707bc28e1886970c5da29ef481dc0cb6c3dd8 \n + Subproject commit 017d58fbec8a18ab003976b4c346308df88349a6 \n version . txt \n - 10 . 0 . 0 - BETA . 4 - SNAPSHOT \n + 10 . 0 . 0 - BETA . 4 \n
CHANGELOG . md \n - # # 10 . 0 . 0 - RC . 2 ( YYYY - MM - DD ) \n + # # 10 . 0 . 0 - RC . 2 ( 2020 - 10 - 12 ) \n - * Updated to Object Store commit : da02579eea7b36eb84d2c9f88988b7f32c83eb83 . \n + * Updated to Object Store commit : 6b44209e6fcac0137e193c96444f93c50d184d06 . \n version . txt \n - 10 . 0 . 0 - RC . 2 - SNAPSHOT \n + 10 . 0 . 0 - RC . 2 \n
Jenkinsfile \n - sh " chmod + x gradlew & & . / gradlew - PbintrayUser = $ { env . BINTRAY _ USER } - PbintrayKey = $ { env . BINTRAY _ KEY } ojoUpload - - stacktrace " \n + sh " chmod + x gradlew & & . / gradlew - PbintrayUser = $ { env . BINTRAY _ USER } - PbintrayKey = $ { env . BINTRAY _ KEY } ojoUpload $ { buildFlags } - - stacktrace " \n
extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ DependencyBank . java \n - static String moeVersion = " 1 . 5 . 1 " ; \n + static String moeVersion = " 1 . 4 . 0 " ; \n - static String moePluginImport = " org . multi - os - engine . community : moe - gradle : " + moeVersion ; \n + static String moePluginImport = " org . multi - os - engine : moe - gradle : " + moeVersion ; \n extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ GdxSetup . java \n - if ( builder . modules . contains ( ProjectType . IOSMOE ) ) { \n - Executor . execute ( new File ( outputDir ) , " gradlew . bat " , " gradlew " , " moeUpdateXcodeSettings " + parseGradleArgs ( builder . modules , gradleArgs ) , callback ) ; \n - } \n - \n
CHANGES \n - Update to LWJGL 3 . 2 . 3 \n - API Change : Table # getRow now returns - 1 when over the table but not over a row ( used to return the last row ) . \n - API Change : Tree # addToTree and # removeFromTree now have an " int actorIndex " parameter . \n - \n + - Fixed AndroidInput crashes due to missing array resize ( pressure array ) . \n - API Addition : Allow target display for maximization LWJGL3 backend \n - API Addition : Accelerometer support on GWT \n backends \ gdx - backend - android \ src \ com \ badlogic \ gdx \ backends \ android \ AndroidInput . java \n - import java . util . ArrayList ; \n - import java . util . Arrays ; \n - import java . util . List ; \n - \n - import android . service . wallpaper . WallpaperService . Engine ; \n - import android . view . WindowManager ; \n + import android . view . WindowManager ; \n - \n - import com . badlogic . gdx . Input . TextInputListener ; \n - import com . badlogic . gdx . backends . android . AndroidLiveWallpaperService . AndroidWallpaperEngine ; \n + import java . util . ArrayList ; \n + import java . util . Arrays ; \n + import java . util . List ; \n + \n + pressure = resize ( pressure ) ; \n + private float [ ] resize ( float [ ] orig ) { \n + float [ ] tmp = new float [ orig . length + 2 ] ; \n + System . arraycopy ( orig , 0 , tmp , 0 , orig . length ) ; \n + return tmp ; \n + } \n + \n
gdx \ src \ com \ badlogic \ gdx \ graphics \ glutils \ InstanceBufferObjectSubData . java \n + import java . nio . Buffer ; \n
rest - api - spec \ src \ main \ resources \ rest - api - spec \ test \ search \ 330 _ fetch _ fields . yml \n - - - \n - skip : \n - version : " - 7 . 99 . 99 " \n - reason : " support for token _ count isn ' t yet backported " \n + version : " - 7 . 9 . 99 " \n + reason : " support for token _ count was instroduced in 7 . 10 " \n - do : \n
server \ src \ main \ java \ org \ elasticsearch \ action \ fieldcaps \ FieldCapabilitiesIndexRequest . java \n - runtimeFields = in . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ? in . readMap ( ) : Collections . emptyMap ( ) ; \n + runtimeFields = in . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ? in . readMap ( ) : Collections . emptyMap ( ) ; \n - if ( out . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( out . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n server \ src \ main \ java \ org \ elasticsearch \ action \ fieldcaps \ FieldCapabilitiesRequest . java \n - runtimeFields = in . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ? in . readMap ( ) : Collections . emptyMap ( ) ; \n + runtimeFields = in . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ? in . readMap ( ) : Collections . emptyMap ( ) ; \n - if ( out . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( out . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n x - pack \ plugin \ src \ test \ resources \ rest - api - spec \ test \ runtime _ fields \ 40 _ runtime _ mappings . yml \n - skip : \n - version : " - 7 . 99 . 99 " \n - reason : Runtime mappings support was added in 8 . 0 \n + version : " - 7 . 11 . 99 " \n + reason : Runtime mappings support was added in 7 . 12 \n - do : \n
rest - api - spec \ src \ main \ resources \ rest - api - spec \ test \ search \ 330 _ fetch _ fields . yml \n + obj : \n + products : \n + - { " manufacturer " : " MaxEngine " , " base _ price " : 11 . 0 , " product _ id " : 67890 } \n - { " manufacturer " : " RealTec " , " base _ price " : 12 . 55 , " product _ id " : 23451 } \n - match : \n - match : \n - hits . hits . 1 . fields . obj \ . products . 0 : { " manufacturer " : [ " RealTec " ] , " base _ price " : [ 12 . 55 ] , " product _ id " : [ 23451 ] } \n + hits . hits . 1 . fields . obj \ . products . 0 : { " manufacturer " : [ " MaxEngine " ] , " base _ price " : [ 11 . 0 ] , " product _ id " : [ 67890 ] } \n + - match : \n + hits . hits . 1 . fields . obj \ . products . 1 : { " manufacturer " : [ " RealTec " ] , " base _ price " : [ 12 . 55 ] , " product _ id " : [ 23451 ] } \n - match : \n - match : \n - match : \n - hits . hits . 1 . fields . obj \ . products . 0 : { " manufacturer " : [ " RealTec " ] } \n + hits . hits . 1 . fields . obj \ . products . 0 : { " manufacturer " : [ " MaxEngine " ] } \n + - match : \n + hits . hits . 1 . fields . obj \ . products . 1 : { " manufacturer " : [ " RealTec " ] } \n - do : \n - match : \n - match : \n - hits . hits . 1 . fields . obj \ . products . 0 : { " manufacturer " : [ " RealTec " ] } \n + hits . hits . 1 . fields . obj \ . products . 0 : { " manufacturer " : [ " MaxEngine " ] } \n + - match : \n + hits . hits . 1 . fields . obj \ . products . 1 : { " manufacturer " : [ " RealTec " ] } \n - - - \n - skip : \n
hystrix - core \ src \ test \ java \ com \ netflix \ hystrix \ HystrixObservableCommandTest . java \n - . subscribeOn ( Schedulers . computation ( ) ) \n + . subscribeOn ( Schedulers . newThread ( ) ) \n - . subscribeOn ( Schedulers . computation ( ) ) ; \n + . subscribeOn ( Schedulers . newThread ( ) ) ; \n - . withExecutionTimeoutInMilliseconds ( 30000 ) \n + . withExecutionTimeoutEnabled ( false ) \n - } ) . subscribeOn ( Schedulers . computation ( ) ) ; \n + } ) . subscribeOn ( Schedulers . newThread ( ) ) ; \n
hystrix - contrib \ hystrix - metrics - event - stream - jaxrs \ src \ test \ java \ com \ netflix \ hystrix \ contrib \ metrics \ controller \ HystricsMetricsControllerTest . java \n - / / Fire 5 requests , validate their responses and hold these connections . \n - for ( int i = 0 ; i < 5 ; i + + ) { \n + / / Fire 3 requests , validate their responses and hold these connections . \n + for ( int i = 0 ; i < 3 ; i + + ) { \n - / / Sixth request should fail since max configured connection is 5 . \n + / / Fourth request should fail since max configured connection is 3 . \n hystrix - contrib \ hystrix - metrics - event - stream - jaxrs \ src \ test \ resources \ test . properties \n - hystrix . stream . config . intervalInMilliseconds = 10 \n + hystrix . stream . config . intervalInMilliseconds = 10 \n + hystrix . config . stream . maxConcurrentConnections = 3 \n
hystrix - core \ src \ test \ java \ com \ netflix \ hystrix \ HystrixObservableCommandTest . java \n + final AtomicBoolean startedExecution = new AtomicBoolean ( ) ; \n + startedExecution . set ( true ) ; \n - assertTrue ( command . isExecutedInThread ( ) ) ; \n + assertTrue ( ! startedExecution . get ( ) | | command . isExecutedInThread ( ) ) ; \n
src \ clj \ clojure \ core _ deftype . clj \n - ` ( hasheq [ this # ] ( bit - xor ~ type - hash ( . hashCode this # ) ) ) \n + ` ( hasheq [ this # ] ( bit - xor ~ type - hash ( clojure . lang . APersistentMap / mapHasheq this # ) ) ) \n
src \ jvm \ clojure \ lang \ PersistentHashMap . java \n - Object [ ] newArray = new Object [ array . length + 2 ] ; \n - System . arraycopy ( array , 0 , newArray , 0 , array . length ) ; \n - newArray [ array . length ] = key ; \n - newArray [ array . length + 1 ] = val ; \n + Object [ ] newArray = new Object [ 2 * ( count + 1 ) ] ; \n + System . arraycopy ( array , 0 , newArray , 0 , 2 * count ) ; \n + newArray [ 2 * count ] = key ; \n + newArray [ 2 * count + 1 ] = val ; \n test \ clojure \ test _ clojure \ transients . clj \n + \n + ( deftest persistent - assoc - on - collision \n + ( testing " Persistent assoc on a collision node which underwent a transient dissoc " \n + ( let [ a ( reify Object ( hashCode [ _ ] 42 ) ) \n + b ( reify Object ( hashCode [ _ ] 42 ) ) ] \n + ( is ( = ( - > # { a b } transient ( disj ! a ) persistent ! ( conj a ) ) \n + ( - > # { a b } transient ( disj ! a ) persistent ! ( conj a ) ) ) ) ) ) ) \n
src \ clj \ clojure \ core \ reducers . clj \n - ( rfn [ f1 k ] \n - ( [ ret k v ] \n - ( reduce f1 ret ( f k v ) ) ) ) ) ) ) \n + ( let [ f1 ( fn \n + ( [ ret v ] \n + ( let [ x ( f1 ret v ) ] ( if ( reduced ? x ) ( reduced x ) x ) ) ) \n + ( [ ret k v ] \n + ( let [ x ( f1 ret k v ) ] ( if ( reduced ? x ) ( reduced x ) x ) ) ) ) ] \n + ( rfn [ f1 k ] \n + ( [ ret k v ] \n + ( reduce f1 ret ( f k v ) ) ) ) ) ) ) ) \n test \ clojure \ test _ clojure \ reducers . clj \n + ( deftest test - mapcat - obeys - reduced \n + ( is ( = [ 1 " 0 " 2 " 1 " 3 ] \n + ( - > > ( concat ( range 100 ) ( lazy - seq ( throw ( Exception . " Too eager " ) ) ) ) \n + ( r / mapcat ( juxt inc str ) ) \n + ( r / take 5 ) \n + ( into [ ] ) ) ) ) ) \n + \n
mobile \ src \ main \ java \ com \ example \ android \ uamp \ MusicService . java \n - / / If the request comes from an untrusted package , return null . No further calls will \n - / / be made to other media browsing methods . \n + / / If the request comes from an untrusted package , return an empty browser root . \n + / / If you return null , then the media browser will not be able to connect and \n + / / no further calls will be made to other media browsing methods . \n + " Returning empty browser root so all apps can use MediaController . " \n + clientPackageName ) ; \n
mobile \ src \ main \ res \ xml \ allowed _ media _ browser _ callers . xml \n + < signing _ certificate name = " Google " release = " false " \n + package = " com . google . android . googlequicksearchbox " > \n + MIIEqDCCA5CgAwIBAgIJANWFuGx90071MA0GCSqGSIb3DQEBBAUAMIGUMQswCQYD \n + VQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNTW91bnRhaW4g \n + VmlldzEQMA4GA1UEChMHQW5kcm9pZDEQMA4GA1UECxMHQW5kcm9pZDEQMA4GA1UE \n + AxMHQW5kcm9pZDEiMCAGCSqGSIb3DQEJARYTYW5kcm9pZEBhbmRyb2lkLmNvbTAe \n + Fw0wODA0MTUyMzM2NTZaFw0zNTA5MDEyMzM2NTZaMIGUMQswCQYDVQQGEwJVUzET \n + MBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEQMA4G \n + A1UEChMHQW5kcm9pZDEQMA4GA1UECxMHQW5kcm9pZDEQMA4GA1UEAxMHQW5kcm9p \n + ZDEiMCAGCSqGSIb3DQEJARYTYW5kcm9pZEBhbmRyb2lkLmNvbTCCASAwDQYJKoZI \n + hvcNAQEBBQADggENADCCAQgCggEBANbOLggKv + IxTdGNs8 / TGFy0PTP6DHThvbbR \n + 24kT9ixcOd9W + EaBPWW + wPPKQmsHxajtWjmQwWfna8mZuSeJS48LIgAZlKkpFeVy \n + xW0qMBujb8X8ETrWy550NaFtI6t9 + u7hZeTfHwqNvacKhp1RbE6dBRGWynwMVX8X \n + W8N1 + UjFaq6GCJukT4qmpN2afb8sCjUigq0GuMwYXrFVee74bQgLHWGJwPmvmLHC \n + 69EH6kWr22ijx4OKXlSIx2xT1AsSHee70w5iDBiK4aph27yH3TxkXy9V89TDdexA \n + cKk / cVHYNnDBapcavl7y0RiQ4biu8ymM8Ga / nmzhRKya6G0cGw8CAQOjgfwwgfkw \n + HQYDVR0OBBYEFI0cxb6VTEM8YYY6FbBMvAPyT + CyMIHJBgNVHSMEgcEwgb6AFI0c \n + xb6VTEM8YYY6FbBMvAPyT + CyoYGapIGXMIGUMQswCQYDVQQGEwJVUzETMBEGA1UE \n + CBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEQMA4GA1UEChMH \n + QW5kcm9pZDEQMA4GA1UECxMHQW5kcm9pZDEQMA4GA1UEAxMHQW5kcm9pZDEiMCAG \n + CSqGSIb3DQEJARYTYW5kcm9pZEBhbmRyb2lkLmNvbYIJANWFuGx90071MAwGA1Ud \n + EwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADggEBABnTDPEF + 3iSP0wNfdIjIz1AlnrP \n + zgAIHVvXxunW7SBrDhEglQZBbKJEk5kT0mtKoOD1JMrSu1xuTKEBahWRbqHsXcla \n + XjoBADb0kkjVEJu / Lh5hgYZnOjvlba8Ld7HCKePCVePoTJBdI4fvugnL8TsgK05a \n + IskyY0hKI9L8KfqfGTl1lzOv2KoWD0KWwtAWPoGChZxmQ + nBli + gwYMzM1vAkP + a \n + ayLe0a1EQimlOalO762r0GXO0ks + UeXde2Z4e + 8S / pf7pITEI / tP + MxJTALw9QUW \n + Ev9lKTk + jkbqxbsh8nfBUapfKqYn0eidpwq2AzVp3juYl7 / / fKnaPhJD9gs = \n + < / signing _ certificate > \n + < signing _ certificate name = " Google " release = " true " \n + package = " com . google . android . googlequicksearchbox " > \n + MIIDvTCCAqWgAwIBAgIJAMePnkuTQTAGMA0GCSqGSIb3DQEBBQUAMHUxCzAJBgNV \n + BAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQHDA1Nb3VudGFpbiBW \n + aWV3MRQwEgYDVQQKDAtHb29nbGUgSW5jLjEQMA4GA1UECwwHQW5kcm9pZDERMA8G \n + A1UEAwwIZ2VhcmhlYWQwHhcNMTQwNTI3MjMwNTM0WhcNNDExMDEyMjMwNTM0WjB1 \n + MQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNTW91 \n + bnRhaW4gVmlldzEUMBIGA1UECgwLR29vZ2xlIEluYy4xEDAOBgNVBAsMB0FuZHJv \n + aWQxETAPBgNVBAMMCGdlYXJoZWFkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB \n + CgKCAQEA050XDkNIsVRMX2wTvVplpCu4OtnyNK2v5B7PS + DggmH2yuZiwpTurdKD \n + Q9R9UzxH9U4lsC + mIxXkiBYKIWNVgMtiTgxkEy7cgWvdYHgNYpFu8IxZKYDyXes + \n + 02pfvpu63MIBD / PnvVFipo1oUrbfetj + mroEpjnA71gUS0Ok + H6XWWsmb8xFHQVM \n + oZWEIzsUJ2nhm8EcnPkAPfNZAG + + XLPROoRQCaswyYsd42JuYAP3CwZuhDcUbMWm \n + k7rBi9BVQ8gmkrbwqo94A7qStLUp3NyCmlKSWHaZ05SspEPwsfctka0oXG5bhgT6 \n + 67EMCzQ + YsFN1oJRL7Qq + mMQjFJs3wIDAQABo1AwTjAdBgNVHQ4EFgQUGvBfYNeu \n + 6JSJUnJZCiaBGsnXztswHwYDVR0jBBgwFoAUGvBfYNeu6JSJUnJZCiaBGsnXztsw \n + DAYDVR0TBAUwAwEB / zANBgkqhkiG9w0BAQUFAAOCAQEAlGsDY0EPu3NBSH5k6iw / \n + wJh9e3xMwS17ErKGlhyWogxJMzLjAN6g0aCPHxB40IQC + 8qAl + RL7VQx6oxttf0m \n + 31yUGQPcNYbt2CxBTCAr885oLK5t2TAi5tQzhd6ZEYihWSUWUd / X8BQRouxboss9 \n + QbBA / iIx0OpDaxiAcq7Cb67TheXZDxGuQ8fmHYbLx84pEvm3DQOB / LIMkkpQSfEC \n + 1f + oP1zB3urPU / dSvED / LCgOdrpxZ5di7SwSyue + Vq / TZQy34tPygEzD2d8hFlh / \n + yfhWkMizOeIXcayVAQdNn5zpBkuay1skGOjQQ5kTbDcDzigO2R2rqn6HCd9l5Z0W \n + IQ = = \n + < / signing _ certificate > \n
mobile \ src \ main \ java \ com \ example \ android \ uamp \ PackageValidator . java \n - PackageManager packageManager = context . getPackageManager ( ) ; \n - PackageInfo packageInfo ; \n - try { \n - packageInfo = packageManager . getPackageInfo ( \n - callingPackage , PackageManager . GET _ SIGNATURES ) ; \n - } catch ( PackageManager . NameNotFoundException e ) { \n - LogHelper . w ( TAG , e , " Package manager can ' t find package : " , callingPackage ) ; \n + \n + if ( isPlatformSigned ( context , callingPackage ) ) { \n + return true ; \n + } \n + \n + PackageInfo packageInfo = getPackageInfo ( context , callingPackage ) ; \n + if ( packageInfo = = null ) { \n - LogHelper . w ( TAG , " Caller has more than one signature certificate ! " ) ; \n + LogHelper . w ( TAG , " Caller does not have exactly one signature certificate ! " ) ; \n + / * * \n + * @ return true if the installed package signature matches the platform signature . \n + * / \n + private boolean isPlatformSigned ( Context context , String pkgName ) { \n + PackageInfo platformPackageInfo = getPackageInfo ( context , " android " ) ; \n + \n + / / Should never happen . \n + if ( platformPackageInfo = = null | | platformPackageInfo . signatures = = null \n + | | platformPackageInfo . signatures . length = = 0 ) { \n + return false ; \n + } \n + \n + PackageInfo clientPackageInfo = getPackageInfo ( context , pkgName ) ; \n + \n + return ( clientPackageInfo ! = null & & clientPackageInfo . signatures ! = null \n + & & clientPackageInfo . signatures . length > 0 & & \n + platformPackageInfo . signatures [ 0 ] . equals ( clientPackageInfo . signatures [ 0 ] ) ) ; \n + } \n + \n + / * * \n + * @ return { @ link PackageInfo } for the package name or null if it ' s not found . \n + * / \n + private PackageInfo getPackageInfo ( Context context , String pkgName ) { \n + try { \n + final PackageManager pm = context . getPackageManager ( ) ; \n + return pm . getPackageInfo ( pkgName , PackageManager . GET _ SIGNATURES ) ; \n + } catch ( PackageManager . NameNotFoundException e ) { \n + LogHelper . w ( TAG , e , " Package manager can ' t find package : " , pkgName ) ; \n + } \n + return null ; \n + } \n + \n
example \ . project \n - < name > SlidingMenuExample < / name > \n + < name > example < / name > \n
. gitignore \n - \n - \n - library / . settings / org . eclipse . jdt . ui . prefs \n
library \ src \ com \ nostra13 \ universalimageloader \ core \ ImageLoader . java \n - * 1 ) Get < b > layout _ width < / b > and < b > layout _ height < / b > . If both of them haven ' t exact value then go to step # 2 . < / br > \n - * 2 ) Get < b > maxWidth < / b > and < b > maxHeight < / b > . If both of them are not set then go to step # 3 . < br / > \n - * 3 ) Get < b > maxImageWidthForMemoryCache < / b > and < b > maxImageHeightForMemoryCache < / b > from configuration . If both of \n + * 1 ) Get the actual drawn < b > getWidth ( ) < / b > and < b > getHeight ( ) < / b > of the View . \n + * 2 ) Get < b > layout _ width < / b > and < b > layout _ height < / b > . If both of them haven ' t exact value then go to step # 2 . < / br > \n + * 3 ) Get < b > maxWidth < / b > and < b > maxHeight < / b > . If both of them are not set then go to step # 3 . < br / > \n + * 4 ) Get < b > maxImageWidthForMemoryCache < / b > and < b > maxImageHeightForMemoryCache < / b > from configuration . If both of \n - * 4 ) Get device screen dimensions . \n + * 5 ) Get device screen dimensions . \n - DisplayMetrics displayMetrics = imageView . getContext ( ) . getResources ( ) . getDisplayMetrics ( ) ; \n + final DisplayMetrics displayMetrics = imageView . getContext ( ) . getResources ( ) . getDisplayMetrics ( ) ; \n - LayoutParams params = imageView . getLayoutParams ( ) ; \n - int width = params . width ; / / Get layout width parameter \n + final LayoutParams params = imageView . getLayoutParams ( ) ; \n + \n + int width = imageView . getWidth ( ) ; / / Get actual image width \n + if ( width < = 0 ) width = params . width ; / / Get layout width parameter \n - int height = params . height ; / / Get layout height parameter \n + int height = imageView . getHeight ( ) / / Get actual image height \n + if ( height < = 0 ) height = params . height ; / / Get layout height parameter \n - } \n + } \n
server \ src \ test \ java \ org \ elasticsearch \ index \ mapper \ ObjectMapperTests . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64607 " ) \n
x - pack \ qa \ rolling - upgrade \ src \ test \ resources \ rest - api - spec \ test \ mixed _ cluster \ 90 _ ml _ data _ frame _ analytics _ crud . yml \n - - - \n - - skip : \n - version : " - 7 . 99 . 99 " \n - reason : " _ doc _ count field is currently implemented only in 8 . x " \n - \n - do : \n - - - \n - - skip : \n - version : " - 7 . 99 . 99 " \n - reason : " _ doc _ count field is currently implemented only in 8 . x " \n - \n - do : \n x - pack \ qa \ rolling - upgrade \ src \ test \ resources \ rest - api - spec \ test \ upgraded _ cluster \ 90 _ ml _ data _ frame _ analytics _ crud . yml \n - - - \n - - skip : \n - version : " - 8 . 00 . 00 " \n - reason : " _ doc _ count field is currently implemented only in 8 . x " \n - do : \n - - - \n - - skip : \n - version : " - 8 . 00 . 00 " \n - reason : " _ doc _ count field is currently implemented only in 8 . x " \n - do : \n
x - pack \ plugin \ searchable - snapshots \ src \ internalClusterTest \ java \ org \ elasticsearch \ xpack \ searchablesnapshots \ SearchableSnapshotsIntegTests . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 66411 " ) \n
src \ test \ java \ io \ vertx \ core \ impl \ launcher \ LauncherExtensibilityTest . java \n - BareCommand . getTerminationRunnable ( vertx , LoggerFactory . getLogger ( " foo " ) , ( ) - > { \n - asv . set ( true ) ; \n - } ) . run ( ) ; \n + BareCommand . getTerminationRunnable ( vertx , LoggerFactory . getLogger ( " foo " ) , ( ) - > asv . set ( true ) ) . run ( ) ; \n + assertThat ( bsv . get ( ) ) . isTrue ( ) ; \n
src \ main \ asciidoc \ java \ index . adoc \n - This way avoids leaks ( as the process is restarted ) . \n + This avoids leaks , as the process is restarted . \n - or ` grunt ` to update your resources . Don ' t forget that passing parameter to your application requires the \n + or ` grunt ` to update your resources . Don ' t forget that passing parameters to your application requires the \n src \ main \ java \ io \ vertx \ core \ package - info . java \n - * This way avoids leaks ( as the process is restarted ) . \n + * This avoids leaks , as the process is restarted . \n - * or ` grunt ` to update your resources . Don ' t forget that passing parameter to your application requires the \n + * or ` grunt ` to update your resources . Don ' t forget that passing parameters to your application requires the \n
src \ main \ java \ io \ vertx \ core \ impl \ DeploymentManager . java \n + / * * \n + * < strong > IMPORTANT < / strong > - Isolation groups are not supported on Java 9 + because the application classloader is not \n + * an URLClassLoader anymore . Thus we can ' t extract the list of jars to configure the IsolatedClassLoader . \n + * \n + * / \n + / / IMPORTANT - Isolation groups are not supported on Java 9 + , because the system classloader is not an URLClassLoader \n + / / anymore . Thus we can ' t extract the paths from the classpath and isolate the loading . \n
pom . xml \n - < version > 4 . 12 - beta - 3 < / version > \n + < version > 4 . 12 - SNAPSHOT < / version > \n - < tag > r4 . 12 - beta - 3 < / tag > \n + < tag > HEAD < / tag > \n
pom . xml \n - < version > 4 . 12 - SNAPSHOT < / version > \n + < version > 4 . 12 - beta - 2 < / version > \n - < tag > HEAD < / tag > \n + < tag > r4 . 12 - beta - 2 < / tag > \n
pom . xml \n - < version > 4 . 12 - beta - 2 < / version > \n + < version > 4 . 12 - SNAPSHOT < / version > \n - < tag > r4 . 12 - beta - 2 < / tag > \n + < tag > HEAD < / tag > \n
services \ core \ java \ com \ android \ server \ VcnManagementService . java \n + import static android . net . vcn . VcnManager . VCN _ STATUS _ CODE _ SAFE _ MODE ; \n + \n - Binder . withCleanCallingIdentity ( ( ) - > cbInfo . mCallback . onEnteredSafeMode ( ) ) ; \n + Binder . withCleanCallingIdentity ( \n + ( ) - > \n + cbInfo . mCallback . onVcnStatusChanged ( \n + VCN _ STATUS _ CODE _ SAFE _ MODE ) ) ; \n tests \ vcn \ java \ com \ android \ server \ VcnManagementServiceTest . java \n - import static org . mockito . Mockito . times ; \n + import android . net . vcn . VcnManager ; \n - verify ( mMockStatusCallback , times ( 1 ) ) . onEnteredSafeMode ( ) ; \n + verify ( mMockStatusCallback ) . onVcnStatusChanged ( VcnManager . VCN _ STATUS _ CODE _ SAFE _ MODE ) ; \n - verify ( mMockStatusCallback , never ( ) ) . onEnteredSafeMode ( ) ; \n + verify ( mMockStatusCallback , never ( ) ) \n + . onVcnStatusChanged ( VcnManager . VCN _ STATUS _ CODE _ SAFE _ MODE ) ; \n - verify ( mMockStatusCallback , never ( ) ) . onEnteredSafeMode ( ) ; \n + verify ( mMockStatusCallback , never ( ) ) \n + . onVcnStatusChanged ( VcnManager . VCN _ STATUS _ CODE _ SAFE _ MODE ) ; \n
services \ core \ java \ com \ android \ server \ vcn \ VcnGatewayConnection . java \n - import com . android . internal . annotations . GuardedBy ; \n - @ NonNull private final Object mLock = new Object ( ) ; \n - \n - @ GuardedBy ( " mLock " ) \n - synchronized ( mLock ) { \n - mLastSnapshot = Objects . requireNonNull ( snapshot , " Missing snapshot " ) ; \n - } \n + mLastSnapshot = Objects . requireNonNull ( snapshot , " Missing snapshot " ) ; \n + mVcnContext . ensureRunningOnLooperThread ( ) ; \n - / / Vcn is the only user of this method and runs on the same Thread , but lock around \n - / / mLastSnapshot to be technically correct . \n - synchronized ( mLock ) { \n - mLastSnapshot = snapshot ; \n - mUnderlyingNetworkTracker . updateSubscriptionSnapshot ( mLastSnapshot ) ; \n - } \n + mLastSnapshot = snapshot ; \n + mUnderlyingNetworkTracker . updateSubscriptionSnapshot ( mLastSnapshot ) ; \n
core \ java \ android \ net \ vcn \ VcnManager . java \n + import com . android . internal . annotations . VisibleForTesting . Visibility ; \n + import java . util . Collections ; \n - @ VisibleForTesting \n - public static final Map < \n + private static final Map < \n + / * * \n + * Get all currently registered VcnUnderlyingNetworkPolicyListeners for testing purposes . \n + * \n + * @ hide \n + * / \n + @ VisibleForTesting ( visibility = Visibility . PRIVATE ) \n + @ NonNull \n + public static Map < VcnUnderlyingNetworkPolicyListener , VcnUnderlyingNetworkPolicyListenerBinder > \n + getAllPolicyListeners ( ) { \n + return Collections . unmodifiableMap ( REGISTERED _ POLICY _ LISTENERS ) ; \n + } \n + \n tests \ vcn \ java \ android \ net \ vcn \ VcnManagerTest . java \n - assertTrue ( VcnManager . REGISTERED _ POLICY _ LISTENERS . containsKey ( mMockPolicyListener ) ) ; \n + assertTrue ( VcnManager . getAllPolicyListeners ( ) . containsKey ( mMockPolicyListener ) ) ; \n - assertFalse ( VcnManager . REGISTERED _ POLICY _ LISTENERS . containsKey ( mMockPolicyListener ) ) ; \n + assertFalse ( VcnManager . getAllPolicyListeners ( ) . containsKey ( mMockPolicyListener ) ) ; \n - assertFalse ( VcnManager . REGISTERED _ POLICY _ LISTENERS . containsKey ( mMockPolicyListener ) ) ; \n + assertFalse ( VcnManager . getAllPolicyListeners ( ) . containsKey ( mMockPolicyListener ) ) ; \n
src \ clj \ clojure \ core . clj \n - Evaluates to nil when there is no file , eg . in the REPL . " \n + When there is no file , e . g . in the REPL , the value is not defined . " \n
src \ jvm \ clojure \ lang \ LineNumberingPushbackReader . java \n + public LineNumberingPushbackReader ( Reader r , int size ) { \n + super ( new LineNumberReader ( r , size ) ) ; \n + } \n + \n
src \ jvm \ clojure \ lang \ BigInt . java \n - if ( y . lpart = = 0 | | ret / y . lpart = = lpart ) \n + if ( y . lpart = = 0 | | \n + ( ret / y . lpart = = lpart & & lpart ! = Long . MIN _ VALUE ) ) \n src \ jvm \ clojure \ lang \ Numbers . java \n + if ( lx = = Long . MIN _ VALUE & & ly < 0 ) \n + return BIGINT _ OPS . multiply ( x , y ) ; \n + if ( x = = Long . MIN _ VALUE & & y < 0 ) \n + return throwIntOverflow ( ) ; \n + if ( x = = Long . MIN _ VALUE & & y < 0 ) \n + return multiplyP ( ( Number ) x , ( Number ) y ) ; \n test \ clojure \ test _ clojure \ numbers . clj \n + ( deftest test - multiply - longs - at - edge \n + ( are [ x ] ( = x 9223372036854775808N ) \n + ( * ' - 1 Long / MIN _ VALUE ) \n + ( * ' Long / MIN _ VALUE - 1 ) \n + ( * - 1N Long / MIN _ VALUE ) \n + ( * Long / MIN _ VALUE - 1N ) \n + ( * - 1 ( bigint Long / MIN _ VALUE ) ) \n + ( * ( bigint Long / MIN _ VALUE ) - 1 ) ) \n + ( is ( thrown ? ArithmeticException ( * Long / MIN _ VALUE - 1 ) ) ) \n + ( is ( thrown ? ArithmeticException ( * - 1 Long / MIN _ VALUE ) ) ) ) \n + \n
java \ libs \ src \ main \ java \ org \ physical _ web \ collection \ PhysicalWebCollection . java \n - private static final String DEFAULT _ PWS _ ENDPOINT = " https : / / url - caster . appspot . com " ; \n - mPwsClient = new PwsClient ( DEFAULT _ PWS _ ENDPOINT ) ; \n + mPwsClient = new PwsClient ( ) ; \n java \ libs \ src \ main \ java \ org \ physical _ web \ collection \ PwsClient . java \n + private static final String DEFAULT _ PWS _ ENDPOINT = " https : / / url - caster . appspot . com " ; \n + / * * \n + * Construct a PwsClient . \n + * / \n + public PwsClient ( ) { \n + this ( DEFAULT _ PWS _ ENDPOINT ) ; \n + } \n + \n
java \ libs \ src \ main \ java \ org \ physical _ web \ collection \ JsonObjectRequest . java \n + urlConnection . setDoOutput ( true ) ; \n java \ libs \ src \ main \ java \ org \ physical _ web \ collection \ Request . java \n - urlConnection . setDoOutput ( true ) ; \n
android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ SettingsFragment . java \n + import android . preference . PreferenceGroup ; \n + private PreferenceGroup mCustomEndpointCategory ; \n + mCustomEndpointCategory = \n + ( PreferenceGroup ) findPreference ( getString ( R . string . custom _ pws _ endpoint _ key ) ) ; \n + updatePwsPreference ( ) ; \n + updatePwsPreference ( ) ; \n - if ( entry ! = null & & entry . equals ( getString ( R . string . custom _ pws ) ) ) { \n + if ( entry = = null ) { \n + return ; \n + } \n + \n + if ( entry . equals ( getString ( R . string . custom _ pws ) ) ) { \n - EditTextPreference customPwsUrlPreference = ( EditTextPreference ) findPreference ( \n - getString ( R . string . custom _ pws _ url _ key ) ) ; \n - ListPreference customPwsVersionPreference = ( ListPreference ) findPreference ( \n - getString ( R . string . custom _ pws _ version _ key ) ) ; \n - EditTextPreference customPwsApiKeyPreference = ( EditTextPreference ) findPreference ( \n - getString ( R . string . custom _ pws _ api _ key _ key ) ) ; \n + EditTextPreference customPwsUrlPreference = \n + ( EditTextPreference ) mCustomEndpointCategory . findPreference ( \n + getString ( R . string . custom _ pws _ url _ key ) ) ; \n + ListPreference customPwsVersionPreference = \n + ( ListPreference ) mCustomEndpointCategory . findPreference ( \n + getString ( R . string . custom _ pws _ version _ key ) ) ; \n + EditTextPreference customPwsApiKeyPreference = \n + ( EditTextPreference ) mCustomEndpointCategory . findPreference ( \n + getString ( R . string . custom _ pws _ api _ key _ key ) ) ; \n + getPreferenceScreen ( ) . addPreference ( mCustomEndpointCategory ) ; \n + } else { \n + getPreferenceScreen ( ) . removePreference ( mCustomEndpointCategory ) ; \n
src \ main \ java \ org \ junit \ runners \ BlockJUnit4ClassRunner . java \n - * \n - * @ deprecated Will be private soon : use Rules instead \n - @ Deprecated \n - * \n - * @ deprecated Will be private soon : use Rules instead \n - @ Deprecated \n
src \ main \ java \ org \ junit \ runners \ BlockJUnit4ClassRunner . java \n + import java . util . concurrent . ConcurrentHashMap ; \n + private ConcurrentHashMap < FrameworkMethod , Description > fMethodDescriptions = new ConcurrentHashMap < FrameworkMethod , Description > ( ) ; \n - return Description . createTestDescription ( getTestClass ( ) . getJavaClass ( ) , \n - testName ( method ) , method . getAnnotations ( ) ) ; \n + Description description = fMethodDescriptions . get ( method ) ; \n + \n + if ( description = = null ) { \n + description = Description . createTestDescription ( getTestClass ( ) . getJavaClass ( ) , \n + testName ( method ) , method . getAnnotations ( ) ) ; \n + fMethodDescriptions . put ( method , description ) ; \n + } \n + \n + return description ; \n
src \ main \ java \ org \ junit \ runners \ BlockJUnit4ClassRunner . java \n - private ConcurrentHashMap < FrameworkMethod , Description > fMethodDescriptions = new ConcurrentHashMap < FrameworkMethod , Description > ( ) ; \n + private final ConcurrentHashMap < FrameworkMethod , Description > fMethodDescriptions = new ConcurrentHashMap < FrameworkMethod , Description > ( ) ; \n - fMethodDescriptions . put ( method , description ) ; \n + fMethodDescriptions . putIfAbsent ( method , description ) ; \n
AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ Background . java \n - import org . androidannotations . api . KotlinOpen ; \n - \n - @ KotlinOpen \n AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ IgnoreWhen . java \n - import org . androidannotations . api . KotlinOpen ; \n - \n - @ KotlinOpen \n AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ SupposeBackground . java \n - import org . androidannotations . api . KotlinOpen ; \n - \n - @ KotlinOpen \n AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ SupposeUiThread . java \n - import org . androidannotations . api . KotlinOpen ; \n - \n - @ KotlinOpen \n AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ Trace . java \n - import org . androidannotations . api . KotlinOpen ; \n - \n - @ KotlinOpen \n AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ Transactional . java \n - import org . androidannotations . api . KotlinOpen ; \n - \n - @ KotlinOpen \n AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ UiThread . java \n - import org . androidannotations . api . KotlinOpen ; \n - \n - @ KotlinOpen \n AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ WakeLock . java \n - import org . androidannotations . api . KotlinOpen ; \n - \n - @ KotlinOpen \n
. travis . yml \n - . / gradlew assembleDebug \n - cd $ TRAVIS _ BUILD _ DIR \n - . / check _ missing _ copyright . sh \n - - set + e \n - \n - after _ success : \n - if [ [ $ TRAVIS _ REPO _ SLUG = = ' androidannotations / androidannotations ' & & $ TRAVIS _ BRANCH = = ' develop ' & & $ TRAVIS _ PULL _ REQUEST = = ' false ' & & $ TRAVIS _ JDK _ VERSION = = ' oraclejdk8 ' ] ] ; then cd $ TRAVIS _ BUILD _ DIR / AndroidAnnotations & & . / mvnw - DskipTests - Dquiet - s . . / settings . xml deploy ; fi \n + - set + e \n
examples \ RoboGuiceExample \ build . gradle \n - def AAVersion = " 4 . 8 . 0 - SNAPSHOT " / / change this to your desired version , for example the latest stable : 4 . 7 . 0 \n + def AAVersion = " 4 . 9 . 0 - SNAPSHOT " / / change this to your desired version , for example the latest stable : 4 . 8 . 0 \n examples \ gradle \ build . gradle \n - def AAVersion = " 4 . 8 . 0 - SNAPSHOT " / / change this to your desired version , for example the latest stable : 4 . 7 . 0 \n + def AAVersion = " 4 . 9 . 0 - SNAPSHOT " / / change this to your desired version , for example the latest stable : 4 . 8 . 0 \n examples \ kotlin \ build . gradle \n - def AAVersion = " 4 . 8 . 0 - SNAPSHOT " / / change this to your desired version , for example the latest stable : 4 . 7 . 0 \n + def AAVersion = " 4 . 9 . 0 - SNAPSHOT " / / change this to your desired version , for example the latest stable : 4 . 8 . 0 \n examples \ maven \ pom . xml \n - < ! - - change this to your desired version , for example the latest stable : 4 . 7 . 0 - - > \n - < androidannotations . version > 4 . 8 . 0 - SNAPSHOT < / androidannotations . version > \n + < ! - - change this to your desired version , for example the latest stable : 4 . 8 . 0 - - > \n + < androidannotations . version > 4 . 9 . 0 - SNAPSHOT < / androidannotations . version > \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ ClusterSizeMonitor . java \n + / * * \n + * Returns a listener that completes when the minimum number of workers for the cluster has been met . \n + * Note : caller should not add a listener using the direct executor , as this can delay the \n + * notifications for other listeners . \n + * / \n presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ SqlQueryExecution . java \n - addSuccessCallback ( minimumWorkerFuture , this : : startExecution ) ; \n - addExceptionCallback ( minimumWorkerFuture , stateMachine : : transitionToFailed ) ; \n + addSuccessCallback ( minimumWorkerFuture , ( ) - > queryExecutor . submit ( this : : startExecution ) ) ; \n + addExceptionCallback ( minimumWorkerFuture , throwable - > queryExecutor . submit ( ( ) - > stateMachine . transitionToFailed ( throwable ) ) ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ QueryStateTimer . java \n + import static java . lang . Math . max ; \n - return succinctNanos ( now - start ) ; \n + return succinctNanos ( max ( 0 , now - start ) ) ; \n
presto - main \ src \ test \ java \ com \ facebook \ presto \ tests \ LogTestDurationListener . java \n + import static com . google . common . base . Preconditions . checkState ; \n + import static io . airlift . units . Duration . nanosSince ; \n - started . put ( getName ( testClass ) , System . nanoTime ( ) ) ; \n + beginTest ( getName ( testClass ) ) ; \n - Duration duration = Duration . nanosSince ( started . remove ( name ) ) ; \n + Duration duration = endTest ( name ) ; \n - started . put ( getName ( method ) , System . nanoTime ( ) ) ; \n + beginTest ( getName ( method ) ) ; \n - Duration duration = Duration . nanosSince ( started . remove ( name ) ) ; \n + Duration duration = endTest ( name ) ; \n + private void beginTest ( String name ) \n + { \n + Long existingEntry = started . putIfAbsent ( name , System . nanoTime ( ) ) ; \n + / / You can get concurrent tests with the same name when using @ Factory . Instead of adding complex support for \n + / / having multiple running tests with the same name , we simply don ' t use @ Factory . \n + checkState ( existingEntry = = null , " There already is a start record for test : % s " , name ) ; \n + } \n + \n + private Duration endTest ( String name ) \n + { \n + Long startTime = started . remove ( name ) ; \n + checkState ( startTime ! = null , " There is no start record for test : % s " , name ) ; \n + return nanosSince ( startTime ) ; \n + } \n + \n
build . gradle \n - task javaVersion < < { \n - println ant . properties [ ' java . version ' ] \n - } \n - \n
build . gradle \n - group = ' com . googlecode . disruptor ' \n + group = ' com . lmax ' \n - ' Bundle - SymbolicName ' : ' com . lmax . disruptor ' , \n
build . gradle \n + String stage \n - " $ major . $ minor . $ revision $ { release ? ' ' : ' - SNAPSHOT ' } " \n + " $ major . $ minor . $ revision $ { stage ? ' - ' + stage : ' ' } $ { release ? ' ' : ' - SNAPSHOT ' } " \n
. travis . yml \n - build - tools - 19 . 1 \n - android - 14 \n - jdk : \n - - oraclejdk7 \n - - openjdk6 \n - mvn - f AndroidAnnotations / pom . xml install \n - mvn - f examples / maveneclipse / pom . xml install \n
AndroidAnnotations \ androidannotations - api \ pom . xml \n - < version > 3 . 2 - SNAPSHOT < / version > \n + < version > 3 . 2 < / version > \n AndroidAnnotations \ androidannotations - bundle \ pom . xml \n - < version > 3 . 2 - SNAPSHOT < / version > \n + < version > 3 . 2 < / version > \n AndroidAnnotations \ androidannotations - with - codemodel \ pom . xml \n - < version > 3 . 2 - SNAPSHOT < / version > \n + < version > 3 . 2 < / version > \n AndroidAnnotations \ androidannotations \ pom . xml \n - < version > 3 . 2 - SNAPSHOT < / version > \n + < version > 3 . 2 < / version > \n AndroidAnnotations \ functional - test - 1 - 5 \ pom . xml \n - < version > 3 . 2 - SNAPSHOT < / version > \n + < version > 3 . 2 < / version > \n AndroidAnnotations \ pom . xml \n - < version > 3 . 2 - SNAPSHOT < / version > \n + < version > 3 . 2 < / version > \n - < tag > HEAD < / tag > \n + < tag > androidannotations - 3 . 2 < / tag > \n
AndroidAnnotations \ androidannotations - api \ pom . xml \n - < version > 3 . 2 < / version > \n + < version > 3 . 3 - SNAPSHOT < / version > \n AndroidAnnotations \ androidannotations - bundle \ pom . xml \n - < version > 3 . 2 < / version > \n + < version > 3 . 3 - SNAPSHOT < / version > \n AndroidAnnotations \ androidannotations - with - codemodel \ pom . xml \n - < version > 3 . 2 < / version > \n + < version > 3 . 3 - SNAPSHOT < / version > \n AndroidAnnotations \ androidannotations \ pom . xml \n - < version > 3 . 2 < / version > \n + < version > 3 . 3 - SNAPSHOT < / version > \n AndroidAnnotations \ functional - test - 1 - 5 \ pom . xml \n - < version > 3 . 2 < / version > \n + < version > 3 . 3 - SNAPSHOT < / version > \n AndroidAnnotations \ pom . xml \n - < version > 3 . 2 < / version > \n + < version > 3 . 3 - SNAPSHOT < / version > \n - < tag > androidannotations - 3 . 2 < / tag > \n + < tag > HEAD < / tag > \n
AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ helper \ APTCodeModelHelper . java \n - clonedBody . add ( ( JStatement ) statement ) ; \n + if ( statement instanceof JVar ) { \n + JVar var = ( JVar ) statement ; \n + try { \n + Field varInitField = JVar . class . getDeclaredField ( " init " ) ; \n + varInitField . setAccessible ( true ) ; \n + JExpression varInit = ( JExpression ) varInitField . get ( var ) ; \n + \n + clonedBody . decl ( var . type ( ) , var . name ( ) , varInit ) ; \n + } catch ( Exception e ) { \n + throw new RuntimeException ( e ) ; \n + } \n + } else { \n + clonedBody . add ( ( JStatement ) statement ) ; \n + } \n AndroidAnnotations \ functional - test - 1 - 5 \ src \ main \ java \ org \ androidannotations \ test15 \ TracedActivity . java \n + @ Trace \n
AndroidAnnotations \ androidannotations - api \ pom . xml \n - < version > 3 . 1 - SNAPSHOT < / version > \n + < version > 3 . 0 . 1 < / version > \n AndroidAnnotations \ androidannotations - bundle \ pom . xml \n - < version > 3 . 1 - SNAPSHOT < / version > \n + < version > 3 . 0 . 1 < / version > \n AndroidAnnotations \ androidannotations - with - codemodel \ pom . xml \n - < version > 3 . 1 - SNAPSHOT < / version > \n + < version > 3 . 0 . 1 < / version > \n AndroidAnnotations \ androidannotations \ pom . xml \n - < version > 3 . 1 - SNAPSHOT < / version > \n + < version > 3 . 0 . 1 < / version > \n AndroidAnnotations \ functional - test - 1 - 5 - tests \ pom . xml \n - < version > 3 . 1 - SNAPSHOT < / version > \n + < version > 3 . 0 . 1 < / version > \n AndroidAnnotations \ functional - test - 1 - 5 \ pom . xml \n - < version > 3 . 1 - SNAPSHOT < / version > \n + < version > 3 . 0 . 1 < / version > \n AndroidAnnotations \ pom . xml \n - < version > 3 . 1 - SNAPSHOT < / version > \n + < version > 3 . 0 . 1 < / version > \n
AndroidAnnotations \ androidannotations - api \ pom . xml \n - < version > 3 . 0 . 1 < / version > \n + < version > 3 . 1 - SNAPSHOT < / version > \n AndroidAnnotations \ androidannotations - bundle \ pom . xml \n - < version > 3 . 0 . 1 < / version > \n + < version > 3 . 1 - SNAPSHOT < / version > \n AndroidAnnotations \ androidannotations - with - codemodel \ pom . xml \n - < version > 3 . 0 . 1 < / version > \n + < version > 3 . 1 - SNAPSHOT < / version > \n AndroidAnnotations \ androidannotations \ pom . xml \n - < version > 3 . 0 . 1 < / version > \n + < version > 3 . 1 - SNAPSHOT < / version > \n AndroidAnnotations \ functional - test - 1 - 5 - tests \ pom . xml \n - < version > 3 . 0 . 1 < / version > \n + < version > 3 . 1 - SNAPSHOT < / version > \n AndroidAnnotations \ functional - test - 1 - 5 \ pom . xml \n - < version > 3 . 0 . 1 < / version > \n + < version > 3 . 1 - SNAPSHOT < / version > \n AndroidAnnotations \ pom . xml \n - < version > 3 . 0 . 1 < / version > \n + < version > 3 . 1 - SNAPSHOT < / version > \n
plugins \ ingest - attachment \ src \ test \ java \ org \ elasticsearch \ ingest \ attachment \ AttachmentProcessorTests . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 66086 " ) \n - assertThat ( attachmentData . get ( " content " ) . toString ( ) , containsString ( " 碩鼠よ碩鼠よ、 \ n我が黍を食らう無かれ！ " ) ) ; \n + assertThat ( attachmentData . get ( " content " ) . toString ( ) , containsString ( " 碩鼠よ碩鼠よ、 " + System . lineSeparator ( ) + " 我が黍を食らう無かれ！ " ) ) ; \n
server \ src \ main \ resources \ org \ elasticsearch \ bootstrap \ security . policy \n + / / system memory on Linux systems affected by JDK bug ( # 66629 ) \n + permission java . io . FilePermission " / proc / meminfo " , " read " ; \n
server \ src \ main \ java \ org \ elasticsearch \ action \ admin \ indices \ rollover \ MetadataRolloverService . java \n + \n + @ Override \n + public String toString ( ) { \n + return String . format ( \n + Locale . ROOT , \n + " cluster state version [ % d ] , rollover index name [ % s ] , source index name [ % s ] " , \n + clusterState . version ( ) , \n + rolloverIndexName , \n + sourceIndexName \n + ) ; \n + } \n server \ src \ main \ java \ org \ elasticsearch \ action \ admin \ indices \ rollover \ TransportRolloverAction . java \n + import org . apache . logging . log4j . LogManager ; \n + import org . apache . logging . log4j . Logger ; \n + private static final Logger logger = LogManager . getLogger ( TransportRolloverAction . class ) ; \n + logger . trace ( " rollover pre - result [ { } ] " , preResult ) ; \n + logger . trace ( " rollover result [ { } ] " , rolloverResult ) ; \n - throw new ElasticsearchException ( " Concurrent modification of alias [ { } ] during rollover " , \n - rolloverRequest . getRolloverTarget ( ) ) ; \n + throw new ElasticsearchException ( " Concurrent modification of alias or data stream [ { } ] during " + \n + " rollover ( expected [ { } ] but found [ { } ] ) " , \n + rolloverRequest . getRolloverTarget ( ) , sourceIndexName , rolloverResult . sourceIndexName ) ; \n
leakcanary - android \ consumer - proguard - rules . pro \n - keep class org . eclipse . mat . * * { * ; } \n - keep class com . squareup . leakcanary . * * { * ; } \n + \n + # Marshmallow removed Notification . setLatestEventInfo ( ) \n + - dontwarn android . app . Notification \n
leakcanary - android \ src \ main \ java \ com \ squareup \ leakcanary \ AndroidExcludedRefs . java \n + import static android . os . Build . VERSION _ CODES . N ; \n - SPELL _ CHECKER _ SESSION ( SDK _ INT > = JELLY _ BEAN & & SDK _ INT < = LOLLIPOP _ MR1 ) { \n + SPELL _ CHECKER _ SESSION ( ( SDK _ INT > = JELLY _ BEAN & & SDK _ INT < = LOLLIPOP _ MR1 ) | | SDK _ INT > = N ) { \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ Dispatcher . java \n - boolean hasConnectivity = networkInfo ! = null & & networkInfo . isConnected ( ) ; \n - boolean shouldRetryHunter = hunter . shouldRetry ( airplaneMode , networkInfo ) ; \n - boolean supportsReplay = hunter . supportsReplay ( ) ; \n - \n - if ( ! shouldRetryHunter ) { \n - / / Mark for replay only if we observe network info changes and support replay . \n - boolean willReplay = scansNetworkChanges & & supportsReplay ; \n - performError ( hunter , willReplay ) ; \n - if ( willReplay ) { \n - markForReplay ( hunter ) ; \n - } \n - return ; \n - } \n - \n - / / If we don ' t scan for network changes ( missing permission ) or if we have connectivity , retry . \n - if ( ! scansNetworkChanges | | hasConnectivity ) { \n + if ( hunter . shouldRetry ( airplaneMode , networkInfo ) ) { \n - return ; \n - } \n - \n - performError ( hunter , supportsReplay ) ; \n - \n - if ( supportsReplay ) { \n - markForReplay ( hunter ) ; \n + } else { \n + / / Mark for replay only if we observe network info changes and support replay . \n + boolean willReplay = scansNetworkChanges & & hunter . supportsReplay ( ) ; \n + performError ( hunter , willReplay ) ; \n + if ( willReplay ) { \n + markForReplay ( hunter ) ; \n + } \n picasso \ src \ test \ java \ com \ squareup \ picasso \ DispatcherTest . java \n - @ Test public void performRetryMarksForReplayIfSupportsReplayAndNoConnectivity ( ) { \n - NetworkInfo networkInfo = mockNetworkInfo ( false ) ; \n + @ Test public void performRetryMarksForReplayIfSupportsReplayAndShouldNotRetry ( ) { \n - when ( hunter . shouldRetry ( anyBoolean ( ) , any ( NetworkInfo . class ) ) ) . thenReturn ( true ) ; \n + when ( hunter . shouldRetry ( anyBoolean ( ) , any ( NetworkInfo . class ) ) ) . thenReturn ( false ) ; \n - when ( connectivityManager . getActiveNetworkInfo ( ) ) . thenReturn ( networkInfo ) ; \n - @ Test public void performRetryRetriesIfHasConnectivity ( ) { \n - NetworkInfo networkInfo = mockNetworkInfo ( true ) ; \n + @ Test public void performRetryRetriesIfShouldRetry ( ) { \n - when ( connectivityManager . getActiveNetworkInfo ( ) ) . thenReturn ( networkInfo ) ; \n
butterknife \ src \ main \ java \ butterknife \ Views . java \n - private static void inject ( Object target , Object source , Finder finder ) { \n - if ( target = = null ) \n - throw new UnableToInjectException ( " target of injection cannot be null " ) ; \n - \n - Class < ? > targetClass = target . getClass ( ) ; \n + / * * No - op method * / \n + private static final Method NO _ OP = null ; \n + \n + private static void inject ( Object target , Object source , Finder finder ) { \n - Method inject = INJECTORS . get ( targetClass ) ; \n - if ( inject = = null ) { \n + Method inject ; \n + Class < ? > targetClass = target . getClass ( ) ; \n + if ( ! INJECTORS . containsKey ( targetClass ) ) { \n + } else { \n + inject = INJECTORS . get ( targetClass ) ; \n - inject . invoke ( null , finder , target , source ) ; \n + / / Allows for no - ops when there ' s nothing to inject \n + if ( inject ! = null ) inject . invoke ( null , finder , target , source ) ; \n - \n - / * * No - op method for use for Classes that don ' t have any { @ link View } s to inject . * / \n - public static void noOp ( Object finder , Object target , Object source ) { } \n - \n - / * * No - op method reference * / \n - private static final Method NO _ OP ; \n - static { \n - try { \n - NO _ OP = Views . class . getMethod ( " noOp " , Object . class , Object . class , Object . class ) ; \n - } catch ( NoSuchMethodException e ) { \n - / / Fall through , this should be unreachable but Java complains \n - } \n - } \n - UnableToInjectException ( String message ) { \n - super ( message ) ; \n - } \n - \n
butterknife \ src \ main \ java \ butterknife \ Views . java \n + private static final Method NO _ OP = null ; \n - \n - / * * No - op method * / \n - private static final Method NO _ OP = null ; \n - / / Allows for no - ops when there ' s nothing to inject \n + / / Allows for no - ops when there ' s nothing to inject . \n - / / Allows inject to be called on targets without injected Views \n + / / Allows inject to be called on targets without injected Views . \n
retrofit \ src \ main \ java \ retrofit \ http \ RetrofitError . java \n - static RetrofitError networkError ( String url , IOException exception ) { \n + public static RetrofitError networkError ( String url , IOException exception ) { \n - static RetrofitError conversionError ( String url , Response response , Converter converter , \n + public static RetrofitError conversionError ( String url , Response response , Converter converter , \n - static RetrofitError httpError ( String url , Response response , Converter converter , \n + public static RetrofitError httpError ( String url , Response response , Converter converter , \n - static RetrofitError unexpectedError ( String url , Throwable exception ) { \n + public static RetrofitError unexpectedError ( String url , Throwable exception ) { \n
core \ java \ android \ annotation \ RequiresFeature . java \n - * @ see PackageManager # hasSystemFeature ( String ) \n - * \n - * @ see PackageManager # hasSystemFeature ( String ) \n + \n + / * * \n + * Defines the name of the method that should be called to check whether the feature is \n + * available , using the same signature format as javadoc . The feature checking method can have \n + * multiple parameters , but the feature name parameter must be of type String and must also be \n + * the first String - type parameter . \n + * < p > \n + * By default , the enforcement is { @ link PackageManager # hasSystemFeature ( String ) } . \n + * / \n + String enforcement ( ) default ( " android . content . pm . PackageManager # hasSystemFeature " ) ; \n
telephony \ java \ android \ telephony \ data \ DataCallResponse . java \n + import android . net . LinkProperties ; \n - * @ return The network suggested data retry duration in milliseconds . { @ code Long . MAX _ VALUE } \n - * indicates data retry should not occur . { @ link # RETRY _ DURATION _ UNDEFINED } indicates network \n - * did not suggest any retry duration . \n + * @ return The network suggested data retry duration in milliseconds as specified in \n + * 3GPP TS 24 . 302 section 8 . 2 . 9 . 1 . The APN associated to this data call will be throttled for \n + * the specified duration unless { @ link DataServiceCallback # onApnUnthrottled } is called . \n + * { @ code Long . MAX _ VALUE } indicates data retry should not occur . \n + * { @ link # RETRY _ DURATION _ UNDEFINED } indicates network did not suggest any retry duration . \n telephony \ java \ android \ telephony \ data \ DataServiceCallback . java \n - * Indicates that the specified APN is no longer throttled . \n + * The APN is throttled for the duration specified in \n + * { @ link DataCallResponse # getRetryDurationMillis } . Calling this method unthrottles that \n + * APN . \n + * < p / > \n + * see : { @ link DataCallResponse # getRetryDurationMillis } \n
telephony \ java \ android \ telephony \ TelephonyManager . java \n - * Set IMS registration state \n + * Set IMS registration state on all active subscriptions . \n + * < p / > \n + * Use { @ link android . telephony . ims . stub . ImsRegistrationImplBase # onRegistered } and \n + * { @ link android . telephony . ims . stub . ImsRegistrationImplBase # onDeregistered } to set Ims \n + * registration state instead . \n + * \n + * @ param registered whether ims is registered \n - * @ param Registration state \n - public void setImsRegistrationState ( boolean registered ) { \n + public void setImsRegistrationState ( final boolean registered ) { \n - ITelephony telephony = getITelephony ( ) ; \n + final ITelephony telephony = getITelephony ( ) ; \n - } catch ( RemoteException e ) { \n + } catch ( final RemoteException e ) { \n telephony \ java \ android \ telephony \ ims \ RegistrationManager . java \n + import android . telephony . NetworkRegistrationInfo ; \n + / * * @ hide * / \n + @ NonNull \n + static String registrationStateToString ( \n + final @ NetworkRegistrationInfo . RegistrationState int value ) { \n + switch ( value ) { \n + case REGISTRATION _ STATE _ NOT _ REGISTERED : \n + return " REGISTRATION _ STATE _ NOT _ REGISTERED " ; \n + case REGISTRATION _ STATE _ REGISTERING : \n + return " REGISTRATION _ STATE _ REGISTERING " ; \n + case REGISTRATION _ STATE _ REGISTERED : \n + return " REGISTRATION _ STATE _ REGISTERED " ; \n + default : \n + return Integer . toString ( value ) ; \n + } \n + } \n + \n
MPChartLib \ src \ com \ github \ mikephil \ charting \ renderer \ YAxisRenderer . java \n - for ( f = first ; f < = last ; f + = interval ) { \n - + + n ; \n + if ( interval ! = 0 . 0 ) { \n + for ( f = first ; f < = last ; f + = interval ) { \n + + + n ; \n + } \n
MPChartLib \ src \ com \ github \ mikephil \ charting \ charts \ Chart . java \n - float deltaX = mXAxis . mAxisRange ; \n + float deltaX = mXAxis ! = null \n + ? mXAxis . mAxisRange \n + : ( ( mData = = null ? 0 . f : mData . getXValCount ( ) ) - 1 . f ) ; \n
MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ charts \ Chart . java \n + mChartTouchListener . setLastHighlighted ( null ) ; \n
MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ renderer \ PieChartRenderer . java \n - if ( mChart . needsHighlight ( j ) & & ! drawRoundedSlices ) { \n + if ( dataSet . isHighlightEnabled ( ) & & mChart . needsHighlight ( j ) & & ! drawRoundedSlices ) { \n - . getDataSetByIndex ( indices [ i ] \n - . getDataSetIndex ( ) ) ; \n + . getDataSetByIndex ( indices [ i ] . getDataSetIndex ( ) ) ; \n
MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ renderer \ LineChartRenderer . java \n - for ( int j = mXBounds . min ; j < = mXBounds . range + mXBounds . min ; j + + ) { \n + int max = mXBounds . min + mXBounds . range ; \n + \n + for ( int j = mXBounds . min ; j < max ; j + + ) { \n
MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ renderer \ LineChartRenderer . java \n - if ( mLineBuffer . length < = pointsPerEntryPair * 2 ) \n - mLineBuffer = new float [ pointsPerEntryPair * 4 ] ; \n + int numberOfFloats = pointsPerEntryPair * 2 ; \n + \n + if ( mLineBuffer . length < = numberOfFloats ) \n + mLineBuffer = new float [ numberOfFloats * 2 ] ; \n + / / Determine the start and end coordinates of the line , and make sure they differ . \n + float firstCoordinateX = mLineBuffer [ 0 ] ; \n + float firstCoordinateY = mLineBuffer [ 1 ] ; \n + float lastCoordinateX = mLineBuffer [ numberOfFloats - 2 ] ; \n + float lastCoordinateY = mLineBuffer [ numberOfFloats - 1 ] ; \n + \n + if ( firstCoordinateX = = lastCoordinateX & & \n + firstCoordinateY = = lastCoordinateY ) \n + continue ; \n + \n - if ( ! mViewPortHandler . isInBoundsRight ( mLineBuffer [ 0 ] ) ) \n + if ( ! mViewPortHandler . isInBoundsRight ( firstCoordinateX ) ) \n - if ( ! mViewPortHandler . isInBoundsLeft ( mLineBuffer [ 2 ] ) \n - | | ( ! mViewPortHandler . isInBoundsTop ( mLineBuffer [ 1 ] ) & & ! mViewPortHandler \n - . isInBoundsBottom ( mLineBuffer [ 3 ] ) ) ) \n + if ( ! mViewPortHandler . isInBoundsLeft ( lastCoordinateX ) | | \n + ! mViewPortHandler . isInBoundsTop ( lastCoordinateY ) | | \n + ! mViewPortHandler . isInBoundsBottom ( firstCoordinateY ) ) \n
imagepipeline - base \ src \ main \ java \ com \ facebook \ imageutils \ HeifExifUtil . java \n - import com . facebook . common . internal . DoNotStrip ; \n + import com . facebook . soloader . DoNotOptimize ; \n - @ DoNotStrip \n + @ DoNotOptimize \n
samples \ showcase \ src \ main \ java \ com \ facebook \ fresco \ samples \ showcase \ drawee \ DraweeSimpleFragment . java \n + \n + simpleDraweeView . getHierarchy ( ) . setImage ( ) ; \n
samples \ showcase \ src \ main \ java \ com \ facebook \ fresco \ samples \ showcase \ drawee \ DraweeSimpleFragment . java \n - \n - simpleDraweeView . getHierarchy ( ) . setImage ( ) ; \n
extensions \ gdx - controllers \ gdx - controllers - lwjgl3 \ src \ com \ badlogic \ gdx \ controllers \ lwjgl3 \ Lwjgl3Controller . java \n - listener . axisMoved ( this , i , axes . get ( i ) ) ; \n + if ( listener . axisMoved ( this , i , axes . get ( i ) ) ) break ; \n - listener . buttonDown ( this , i ) ; \n + if ( listener . buttonDown ( this , i ) ) break ; \n - listener . buttonUp ( this , i ) ; \n + if ( listener . buttonUp ( this , i ) ) break ; \n - listener . povMoved ( this , i , getPov ( i ) ) ; \n + if ( listener . povMoved ( this , i , getPov ( i ) ) ) break ; \n extensions \ gdx - controllers \ gdx - controllers - lwjgl3 \ src \ com \ badlogic \ gdx \ controllers \ lwjgl3 \ Lwjgl3ControllerManager . java \n - listener . axisMoved ( controller , axisCode , value ) ; \n + if ( listener . axisMoved ( controller , axisCode , value ) ) break ; \n - listener . buttonDown ( controller , buttonCode ) ; \n + if ( listener . buttonDown ( controller , buttonCode ) ) break ; \n - listener . buttonUp ( controller , buttonCode ) ; \n + if ( listener . buttonUp ( controller , buttonCode ) ) break ; \n - listener . povMoved ( controller , hatCode , value ) ; \n + if ( listener . povMoved ( controller , hatCode , value ) ) break ; \n
CHANGES \n - Update to MobiVM 2 . 3 . 6 release \n + - Update to LWJGL 3 . 2 . 1 \n - API Addition : Input allows getting the maximum number of pointers supported by the backend \n - API Addition : Configuration option added to allow setting a max number of threads to use for net requests \n - API Change : NetJavaImpl now uses a cached thread pool to allow concurrent requests ( by default , the thread pool is unbounded - use maxNetThreads in backend configurations to set a limit - set to 1 for previous behavior ) \n fetch . xml \n - < property name = " lwjgl - version " value = " 3 . 2 . 0 " / > \n + < property name = " lwjgl - version " value = " 3 . 2 . 1 " / > \n gradle \ dependencies . gradle \n - versions . lwjgl3 = " 3 . 2 . 0 " \n + versions . lwjgl3 = " 3 . 2 . 1 " \n pom . xml \n - < lwjgl3 . version > 3 . 2 . 0 < / lwjgl3 . version > \n + < lwjgl3 . version > 3 . 2 . 1 < / lwjgl3 . version > \n
CHANGES \n - Removed OSX 32 - bit support \n - API Change : By default LWJGL2 backend no longer does pause / resume when becoming background / foreground window . New app config setting was added to enable the old behavior . \n - API Change : By default LWJGL2 backend now does pause / resume when window is minimized / restored . New app config setting was added to disable this behavior . \n + - LWJGL3 : Fixed window creation ignoring refresh rate of fullscreen mode . \n - API Addition : Add support for stripping whitespace in PixmapPacker \n backends \ gdx - backend - lwjgl3 \ src \ com \ badlogic \ gdx \ backends \ lwjgl3 \ Lwjgl3Application . java \n - / / glfwWindowHint ( GLFW . GLFW _ REFRESH _ RATE , config . fullscreenMode . refreshRate ) ; \n + GLFW . glfwWindowHint ( GLFW . GLFW _ REFRESH _ RATE , config . fullscreenMode . refreshRate ) ; \n
x - pack \ plugin \ async - search \ src \ internalClusterTest \ java \ org \ elasticsearch \ xpack \ search \ AsyncSearchActionIT . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 63948 " ) \n
server \ src \ internalClusterTest \ java \ org \ elasticsearch \ action \ admin \ indices \ rollover \ RolloverIT . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64921 " ) \n
x - pack \ plugin \ ml \ qa \ native - multi - node - tests \ src \ javaRestTest \ java \ org \ elasticsearch \ xpack \ ml \ integration \ ClassificationIT . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64926 " ) \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64926 " ) \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64926 " ) \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64926 " ) \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64926 " ) \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64926 " ) \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64926 " ) \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 64926 " ) \n
library \ src \ main \ java \ com \ loopj \ android \ http \ RangeFileAsyncHttpResponseHandler . java \n - if ( mFile . exists ( ) & & mFile . canWrite ( ) ) \n - current = mFile . length ( ) ; \n + if ( file . exists ( ) & & file . canWrite ( ) ) \n + current = file . length ( ) ; \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ Request . java \n - final StringBuilder sb = new StringBuilder ( " Request { " ) ; \n + final StringBuilder builder = new StringBuilder ( " Request { " ) ; \n - sb . append ( resourceId ) ; \n + builder . append ( resourceId ) ; \n - sb . append ( uri ) ; \n + builder . append ( uri ) ; \n - sb . append ( ' ' ) . append ( transformation . key ( ) ) ; \n + builder . append ( ' ' ) . append ( transformation . key ( ) ) ; \n - sb . append ( " stableKey ( " ) . append ( stableKey ) . append ( ' ) ' ) ; \n + builder . append ( " stableKey ( " ) . append ( stableKey ) . append ( ' ) ' ) ; \n - sb . append ( " resize ( " ) . append ( targetWidth ) . append ( ' , ' ) . append ( targetHeight ) . append ( ' ) ' ) ; \n + builder . append ( " resize ( " ) . append ( targetWidth ) . append ( ' , ' ) . append ( targetHeight ) . append ( ' ) ' ) ; \n - sb . append ( " centerCrop " ) ; \n + builder . append ( " centerCrop " ) ; \n - sb . append ( " centerInside " ) ; \n + builder . append ( " centerInside " ) ; \n - sb . append ( " rotation ( " ) . append ( rotationDegrees ) ; \n + builder . append ( " rotation ( " ) . append ( rotationDegrees ) ; \n - sb . append ( " @ " ) . append ( rotationPivotX ) . append ( ' , ' ) . append ( rotationPivotY ) ; \n + builder . append ( " @ " ) . append ( rotationPivotX ) . append ( ' , ' ) . append ( rotationPivotY ) ; \n - sb . append ( ' ) ' ) ; \n + builder . append ( ' ) ' ) ; \n - sb . append ( " purgeable " ) ; \n + builder . append ( " purgeable " ) ; \n - sb . append ( ' ' ) . append ( config ) ; \n + builder . append ( ' ' ) . append ( config ) ; \n - sb . append ( ' } ' ) ; \n + builder . append ( ' } ' ) ; \n - return sb . toString ( ) ; \n + return builder . toString ( ) ; \n
picasso \ src \ test \ java \ com \ squareup \ picasso \ UtilsTest . java \n - Resources resources = Utils . getResources ( mockPackageResourceContext ( ) , request ) ; \n - int id = Utils . getResourceId ( resources , request ) ; \n + Resources res = Utils . getResources ( mockPackageResourceContext ( ) , request ) ; \n + int id = Utils . getResourceId ( res , request ) ; \n - Resources resources = Utils . getResources ( mockPackageResourceContext ( ) , request ) ; \n - int id = Utils . getResourceId ( resources , request ) ; \n + Resources res = Utils . getResources ( mockPackageResourceContext ( ) , request ) ; \n + int id = Utils . getResourceId ( res , request ) ; \n
hystrix - core \ src \ main \ java \ com \ netflix \ hystrix \ metric \ HystrixRequestEvents . java \n - HystrixCollapserKey collapserKey = execution . getOriginatingCollapserKey ( ) ; \n - int collapserBatchCount = execution . getNumberCollapsed ( ) ; \n
hystrix - core \ src \ main \ java \ com \ netflix \ hystrix \ collapser \ RequestCollapserFactory . java \n - defaultNameCache . clear ( ) ; \n - \n - / / this is a micro - optimization but saves about 1 - 2microseconds ( on 2011 MacBook Pro ) \n - / / on the repetitive string processing that will occur on the same classes over and over again \n - @ SuppressWarnings ( " rawtypes " ) \n - private static ConcurrentHashMap < Class < ? extends HystrixCollapser > , String > defaultNameCache = new ConcurrentHashMap < Class < ? extends HystrixCollapser > , String > ( ) ; \n - \n
hystrix - core \ src \ main \ java \ com \ netflix \ hystrix \ HystrixCollapserKey . java \n - \n + \n + @ Override \n + public String toString ( ) { \n + return name ; \n + } \n hystrix - core \ src \ main \ java \ com \ netflix \ hystrix \ HystrixCommandKey . java \n - \n + \n + @ Override \n + public String toString ( ) { \n + return name ; \n + } \n hystrix - core \ src \ main \ java \ com \ netflix \ hystrix \ HystrixThreadPoolKey . java \n - \n + \n + @ Override \n + public String toString ( ) { \n + return name ; \n + } \n
src \ main \ java \ io \ reactivex \ internal \ operators \ flowable \ FlowableTimeoutTimed . java \n - final AtomicReference < Disposable > timer = new AtomicReference < Disposable > ( ) ; \n + Disposable timer ; \n - Disposable d = timer . get ( ) ; \n - if ( d ! = null ) { \n - d . dispose ( ) ; \n + if ( timer ! = null ) { \n + timer . dispose ( ) ; \n - if ( timer . compareAndSet ( d , NEW _ TIMER ) ) { \n - d = worker . schedule ( new TimeoutTask ( idx ) , timeout , unit ) ; \n - \n - DisposableHelper . replace ( timer , d ) ; \n - } \n + timer = worker . schedule ( new TimeoutTask ( idx ) , timeout , unit ) ; \n - DisposableHelper . dispose ( timer ) ; \n + worker . dispose ( ) ; \n - worker . dispose ( ) ; \n - final AtomicReference < Disposable > timer = new AtomicReference < Disposable > ( ) ; \n + Disposable timer ; \n - Disposable d = timer . get ( ) ; \n - if ( d ! = null ) { \n - d . dispose ( ) ; \n + if ( timer ! = null ) { \n + timer . dispose ( ) ; \n - if ( timer . compareAndSet ( d , NEW _ TIMER ) ) { \n - d = worker . schedule ( new TimeoutTask ( idx ) , timeout , unit ) ; \n - \n - DisposableHelper . replace ( timer , d ) ; \n - } \n + timer = worker . schedule ( new TimeoutTask ( idx ) , timeout , unit ) ; \n
src \ test \ java \ io \ reactivex \ internal \ operators \ flowable \ FlowableGroupByTest . java \n - v = map . get ( k ) ; \n + v = map . remove ( k ) ; \n + list . remove ( key ) ; \n - map . putAll ( m ) ; \n + for ( Entry < ? extends K , ? extends V > entry : m . entrySet ( ) ) { \n + put ( entry . getKey ( ) , entry . getValue ( ) ) ; \n + } \n + list . clear ( ) ; \n
common \ src \ main \ java \ io \ netty \ util \ concurrent \ SingleThreadEventExecutor . java \n - if ( inEventLoop ) { \n - addTask ( task ) ; \n - } else { \n + addTask ( task ) ; \n + if ( ! inEventLoop ) { \n - addTask ( task ) ; \n
language - adaptors \ rxjava - clojure \ src \ main \ clojure \ rx \ lang \ clojure \ core . clj \n - ( if xs \n - ( Observable / from ^ Iterable xs ) \n + ( if - let [ s ( clojure . core / seq xs ) ] \n + ( Observable / from ^ Iterable s ) \n language - adaptors \ rxjava - clojure \ src \ test \ clojure \ rx \ lang \ clojure \ core _ test . clj \n + ( is ( = [ \ a \ b \ c ] ( b / into [ ] ( rx / seq - > o " abc " ) ) ) ) \n
language - adaptors \ rxjava - clojure \ README . md \n + # # Using Observable / create \n + As of 0 . 17 , ` rx . Observable / create ` takes an implementation of ` rx . Observable $ OnSubscribe ` which is basically an alias for ` rx . util . functions . Action1 ` that takes an ` rx . Subscriber ` as its argument . Thus , you can just use ` rx / action ` when creating new observables : \n + \n + ` ` ` clojure \n + ; A simple observable that emits 0 . . 9 taking unsubscribe into account \n + ( Observable / create ( rx / action [ ^ rx . Subscriber s ] \n + ( loop [ i 0 ] \n + ( when ( and ( < i 10 ) ( . isUnsubscribed s ) ) \n + ( . onNext s i ) \n + ( recur ( inc i ) ) ) ) \n + ( . onCompleted s ) ) ) \n + ` ` ` \n + \n language - adaptors \ rxjava - clojure \ src \ main \ clojure \ rx \ lang \ clojure \ interop . clj \n + ; TODO remove this when OnSubscriberFunc is removed \n + ; OnSubscribe is just an Action1 , so add it to the list of implemented interfaces \n + ; so an action cab be used with Observable / create \n + ~ @ ( if ( and ( = prefix " rx . util . functions . Action " ) \n + ( some # { 1 } arities ) ) \n + ` ( rx . Observable $ OnSubscribe ) ) \n + \n - by delegating to the given function . \n + by delegating to the given function . Also implements rx . Observable $ OnSubscribe which \n + is just an Action1 . \n language - adaptors \ rxjava - clojure \ src \ test \ clojure \ rx \ lang \ clojure \ interop _ test . clj \n + ( is ( instance ? rx . Observable $ OnSubscribe a ) ) \n - ( testing " can create an observable " \n + ( testing " can create an observable with old style fn " \n + ( testing " can create an observable with new - style action " \n + ( is ( = 99 \n + ( - > ( Observable / create ( rx / action [ ^ rx . Subscriber s ] \n + ( when - not ( . isUnsubscribed s ) \n + ( . onNext s 99 ) ) \n + ( . onCompleted s ) ) ) \n + . toBlockingObservable \n + . single ) ) ) ) \n
hystrix - contrib \ hystrix - clj \ src \ main \ clojure \ com \ netflix \ hystrix \ core . clj \n - ( assoc m : arglists ` ( list ( quote ~ params ) ) ) \n + ( assoc m : arglists ( list ' quote ` ( ~ params ) ) ) \n
okhttp \ src \ main \ java \ okhttp3 \ internal \ connection \ RealConnection . kt \n + val rawSocket = this . rawSocket ! ! \n - if ( socket . isClosed | | socket . isInputShutdown | | socket . isOutputShutdown ) { \n + if ( rawSocket . isClosed | | socket . isClosed | | socket . isInputShutdown | | \n + socket . isOutputShutdown ) { \n okhttp \ src \ test \ java \ okhttp3 \ CallTest . java \n + import static java . util . Collections . singletonList ; \n + / * * \n + * This test cancels the call just after the response body ends . In effect we end up with a \n + * connection that returns to the connection pool with the underlying socket closed . This relies \n + * on an implementation detail so it might not be a valid test case in the future . \n + * / \n + @ Test public void cancelAfterResponseBodyEnd ( ) throws Exception { \n + enableTls ( ) ; \n + server . enqueue ( new MockResponse ( ) . setBody ( " abc " ) ) ; \n + server . enqueue ( new MockResponse ( ) . setBody ( " def " ) ) ; \n + \n + client = client . newBuilder ( ) \n + . protocols ( singletonList ( Protocol . HTTP _ 1 _ 1 ) ) \n + . build ( ) ; \n + \n + OkHttpClient cancelClient = client . newBuilder ( ) \n + . eventListener ( new EventListener ( ) { \n + @ Override public void responseBodyEnd ( Call call , long byteCount ) { \n + call . cancel ( ) ; \n + } \n + } ) \n + . build ( ) ; \n + \n + Call call = cancelClient . newCall ( new Request . Builder ( ) \n + . url ( server . url ( " / " ) ) \n + . build ( ) ) ; \n + Response response = call . execute ( ) ; \n + assertThat ( response . body ( ) . string ( ) ) . isEqualTo ( " abc " ) ; \n + \n + executeSynchronously ( " / " ) . assertCode ( 200 ) ; \n + } \n + \n
okhttp \ src \ main \ java \ okhttp3 \ internal \ connection \ ExchangeFinder . kt \n - / / Confirm that the connection is good . If it isn ' t , take it out of the pool and start again . \n - if ( ! candidate . isHealthy ( doExtensiveHealthChecks ) ) { \n - candidate . noNewExchanges ( ) \n - continue \n + / / Confirm that the connection is good . \n + if ( candidate . isHealthy ( doExtensiveHealthChecks ) ) { \n + return candidate \n - return candidate \n + / / If it isn ' t , take it out of the pool . \n + candidate . noNewExchanges ( ) \n + \n + / / Make sure we have some routes left to try . One example where we may exhaust all the routes \n + / / would happen if we made a new connection and it immediately is detected as unhealthy . \n + synchronized ( connectionPool ) { \n + val routesLeft = routeSelection ? . hasNext ( ) ? : true \n + val routesSelectionLeft = routeSelector ? . hasNext ( ) ? : true \n + if ( nextRouteToTry = = null & & ! routesLeft & & ! routesSelectionLeft ) { \n + throw IOException ( " exhausted all routes " ) \n + } \n + } \n okhttp \ src \ test \ java \ okhttp3 \ CallTest . java \n + import okhttp3 . internal . Util ; \n + @ Test public void connectionIsImmediatelyUnhealthy ( ) throws Exception { \n + EventListener listener = new EventListener ( ) { \n + @ Override public void connectionAcquired ( Call call , Connection connection ) { \n + Util . closeQuietly ( connection . socket ( ) ) ; \n + } \n + } ; \n + \n + client = client . newBuilder ( ) \n + . eventListener ( listener ) \n + . build ( ) ; \n + \n + executeSynchronously ( " / " ) . assertFailure ( IOException . class ) ; \n + } \n + \n
okhttp \ src \ main \ java \ okhttp3 \ internal \ connection \ ExchangeFinder . kt \n + if ( nextRouteToTry ! = null ) return @ synchronized \n + \n + if ( routesLeft ) return @ synchronized \n + \n - if ( nextRouteToTry = = null & & ! routesLeft & & ! routesSelectionLeft ) { \n - throw IOException ( " exhausted all routes " ) \n - } \n + if ( routesSelectionLeft ) return @ synchronized \n + \n + throw IOException ( " exhausted all routes " ) \n okhttp \ src \ test \ java \ okhttp3 \ CallTest . java \n - executeSynchronously ( " / " ) . assertFailure ( IOException . class ) ; \n + executeSynchronously ( " / " ) \n + . assertFailure ( IOException . class ) \n + . assertFailure ( " exhausted all routes " ) ; \n
src \ main \ java \ rx \ Observable . java \n + * < img width = " 640 " height = " 295 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / toSingle . png " alt = " " > \n + * @ see < a href = " http : / / reactivex . io / documentation / single . html " > ReactiveX documentation : Single < / a > \n + * @ since ( if this graduates from Experimental / Beta to supported , replace this parenthetical with the release number ) \n
src \ main \ java \ rx \ Observable . java \n + * @ since 1 . 0 . 6 \n src \ main \ java \ rx \ Subscriber . java \n + \n - * Construct a subscriber by using the other subscriber for backpressure \n - * and optionally sharing the underlying subscriptions list . \n - * < p > To retain the chaining of subscribers , the caller should add the \n - * created instance to the op via { @ code add ( ) } . \n + * Construct a Subscriber by using another Subscriber for backpressure and optionally sharing the \n + * underlying subscriptions list . \n + * < p > \n + * To retain the chaining of subscribers , add the created instance to { @ code op } via { @ link # add } . \n - * @ param op the other subscriber \n - * @ param shareSubscriptions should the subscription list in op shared with this instance ? \n + * @ param op \n + * the other Subscriber \n + * @ param shareSubscriptions \n + * { @ code true } to share the subscription list in { @ code op } with this instance \n + * @ since 1 . 0 . 6 \n
src \ main \ java \ rx \ Observable . java \n - * @ since 1 . 0 . 6 \n + * @ since ( if this graduates from Experimental / Beta to supported , replace this parenthetical with the release number ) \n + * @ since ( if this graduates from Experimental / Beta to supported , replace this parenthetical with the release number ) \n + * @ since ( if this graduates from Experimental / Beta to supported , replace this parenthetical with the release number ) \n
gradle \ javadoc _ cleanup . gradle \n + / / javadoc bug : duplicates the link to @ NonNull for some reason \n + def nonNullText1 = " < a href = \ " . . / annotations / NonNull . html \ " title = \ " annotation in io . reactivex . rxjava3 . annotations \ " > @ NonNull < / a > " ; \n + \n + fileContents = fileContents . replace ( nonNullText1 + " " + nonNullText1 , nonNullText1 ) ; \n + fileContents = fileContents . replace ( nonNullText1 + " \ n " + nonNullText1 , nonNullText1 ) ; \n + fileContents = fileContents . replace ( nonNullText1 + " \ r \ n " + nonNullText1 , nonNullText1 ) ; \n + \n + def nonNullText2 = " < a href = \ " . . / . . / . . / . . / io / reactivex / rxjava3 / annotations / NonNull . html \ " title = \ " annotation in io . reactivex . rxjava3 . annotations \ " > @ NonNull < / a > " ; \n + fileContents = fileContents . replace ( nonNullText2 + " " + nonNullText2 , nonNullText2 ) ; \n + fileContents = fileContents . replace ( nonNullText2 + " \ n " + nonNullText2 , nonNullText2 ) ; \n + fileContents = fileContents . replace ( nonNullText2 + " \ r \ n " + nonNullText2 , nonNullText2 ) ; \n + \n + / / javadoc bug : duplicates the link to @ Nullable for some reason \n + def nullableText1 = " < a href = \ " . . / annotations / Nullable . html \ " title = \ " annotation in io . reactivex . rxjava3 . annotations \ " > @ Nullable < / a > " ; \n + \n + fileContents = fileContents . replace ( nullableText1 + " " + nullableText1 , nullableText1 ) ; \n + fileContents = fileContents . replace ( nullableText1 + " \ n " + nullableText1 , nullableText1 ) ; \n + fileContents = fileContents . replace ( nullableText1 + " \ r \ n " + nullableText1 , nullableText1 ) ; \n + \n + def nullableText2 = " < a href = \ " . . / . . / . . / . . / io / reactivex / rxjava3 / annotations / Nullable . html \ " title = \ " annotation in io . reactivex . rxjava3 . annotations \ " > @ Nullable < / a > " ; \n + \n + fileContents = fileContents . replace ( nullableText2 + " " + nullableText2 , nullableText2 ) ; \n + fileContents = fileContents . replace ( nullableText2 + " \ n " + nullableText2 , nullableText2 ) ; \n + fileContents = fileContents . replace ( nullableText2 + " \ r \ n " + nullableText2 , nullableText2 ) ; \n + \n
build . gradle \n + override = true / / Allows re - running the GHA upon release hangs \n
src \ main \ java \ io \ reactivex \ rxjava3 \ core \ Flowable . java \n - * Returns a { @ code Flowable } that emits only the first { @ code count } items emitted by the current { @ code Flowable } . If the source emits fewer than \n - * { @ code count } items then all of its items are emitted . \n + * Returns a { @ code Flowable } that emits only the first { @ code count } items emitted by the current { @ code Flowable } . \n + * If the source emits fewer than { @ code count } items then all of its items are emitted . \n - * if the downstream requests more than that . For example , given a { @ code limit ( 5 ) } , \n + * if the downstream requests more than that . For example , given a { @ code take ( 5 ) } , \n - * Note that requests are negotiated on an operator boundary and { @ code limit } ' s amount \n + * Note that requests are negotiated on an operator boundary and { @ code take } ' s amount \n - * { @ code source . observeOn ( Schedulers . computation ( ) ) . limit ( 5 ) } will still request the \n + * { @ code source . observeOn ( Schedulers . computation ( ) ) . take ( 5 ) } will still request the \n
x - pack \ plugin \ watcher \ src \ internalClusterTest \ java \ org \ elasticsearch \ xpack \ watcher \ history \ HistoryActionConditionTests . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 65064 " ) \n
server \ src \ test \ java \ org \ elasticsearch \ index \ engine \ SegmentsStatsTests . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 65267 " ) \n
x - pack \ plugin \ watcher \ src \ internalClusterTest \ java \ org \ elasticsearch \ xpack \ watcher \ history \ HistoryActionConditionTests . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 65064 " ) \n
rxjava - contrib \ rxjava - android \ src \ main \ java \ rx \ android \ schedulers \ HandlerThreadScheduler . java \n - import rx . functions . Action1 ; \n - import rx . subscriptions . BooleanSubscription ; \n - private final CompositeSubscription mCompositeSubscription = new CompositeSubscription ( ) ; \n + private final CompositeSubscription compositeSubscription = new CompositeSubscription ( ) ; \n - mCompositeSubscription . unsubscribe ( ) ; \n + compositeSubscription . unsubscribe ( ) ; \n - return mCompositeSubscription . isUnsubscribed ( ) ; \n + return compositeSubscription . isUnsubscribed ( ) ; \n - scheduledAction . addParent ( mCompositeSubscription ) ; \n - mCompositeSubscription . add ( scheduledAction ) ; \n + scheduledAction . addParent ( compositeSubscription ) ; \n + compositeSubscription . add ( scheduledAction ) ; \n
rxandroid \ src \ main \ java \ rx \ android \ view \ OnSubscribeViewDetachedFromWindowFirst . java \n - public class OnSubscribeViewDetachedFromWindowFirst implements Observable . OnSubscribe < View > { \n + final class OnSubscribeViewDetachedFromWindowFirst implements Observable . OnSubscribe < View > { \n rename from rxandroid \ src \ test \ java \ rx \ android \ operators \ OnSubscribeViewDetachedFromWindowFirstTest . java \n rename to rxandroid \ src \ test \ java \ rx \ android \ view \ OnSubscribeViewDetachedFromWindowFirstTest . java \n - package rx . android . operators ; \n + package rx . android . view ; \n - import rx . android . view . OnSubscribeViewDetachedFromWindowFirst ; \n
rxandroid \ src \ main \ java \ rx \ android \ view \ OnSubscribeViewDetachedFromWindowFirst . java \n - * An internal class that is used from # { @ link rx . android . view . ViewObservable # bindView } . \n - Subscription { \n + Subscription { \n rxandroid \ src \ test \ java \ rx \ android \ view \ OnSubscribeViewDetachedFromWindowFirstTest . java \n - import junit . framework . Assert ; \n - \n + import org . junit . Assert ; \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ CreateEmptyPartitionProcedure . java \n + import com . facebook . presto . spi . classloader . ThreadContextClassLoader ; \n + { \n + try ( ThreadContextClassLoader ignored = new ThreadContextClassLoader ( getClass ( ) . getClassLoader ( ) ) ) { \n + doCreateEmptyPartition ( session , schema , table , partitionColumnNames , partitionValues ) ; \n + } \n + } \n + \n + private void doCreateEmptyPartition ( ConnectorSession session , String schema , String table , List < Object > partitionColumnNames , List < Object > partitionValues ) \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ s3 \ PrestoS3FileSystem . java \n - extends RuntimeException \n + extends IOException \n presto - hive \ src \ test \ java \ com \ facebook \ presto \ hive \ s3 \ TestPrestoS3FileSystem . java \n - @ Test ( expectedExceptions = RuntimeException . class , expectedExceptionsMessageRegExp = " . * Failing getObject call with " + SC _ NOT _ FOUND + " . * " ) \n + @ Test ( expectedExceptions = IOException . class , expectedExceptionsMessageRegExp = " . * Failing getObject call with " + SC _ NOT _ FOUND + " . * " ) \n - @ Test ( expectedExceptions = RuntimeException . class , expectedExceptionsMessageRegExp = " . * Failing getObject call with " + SC _ FORBIDDEN + " . * " ) \n + @ Test ( expectedExceptions = IOException . class , expectedExceptionsMessageRegExp = " . * Failing getObject call with " + SC _ FORBIDDEN + " . * " ) \n - @ Test ( expectedExceptions = RuntimeException . class , expectedExceptionsMessageRegExp = " . * Failing getObjectMetadata call with " + SC _ FORBIDDEN + " . * " ) \n + @ Test ( expectedExceptions = IOException . class , expectedExceptionsMessageRegExp = " . * Failing getObjectMetadata call with " + SC _ FORBIDDEN + " . * " ) \n - public void testUnrecoverableS3ExceptionMessage ( ) \n + public void testUnrecoverableS3ExceptionMessage ( ) throws Exception \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ TaskSource . java \n + import com . facebook . presto . execution . ScheduledSplit ; \n rename from presto - main \ src \ main \ java \ com \ facebook \ presto \ ScheduledSplit . java \n rename to presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ ScheduledSplit . java \n - package com . facebook . presto ; \n + package com . facebook . presto . execution ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ SqlTaskExecution . java \n - import com . facebook . presto . ScheduledSplit ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ operator \ Driver . java \n - import com . facebook . presto . ScheduledSplit ; \n + import com . facebook . presto . execution . ScheduledSplit ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ operator \ index \ IndexLoader . java \n - import com . facebook . presto . ScheduledSplit ; \n + import com . facebook . presto . execution . ScheduledSplit ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ server \ remotetask \ HttpRemoteTask . java \n - import com . facebook . presto . ScheduledSplit ; \n + import com . facebook . presto . execution . ScheduledSplit ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ testing \ LocalQueryRunner . java \n - import com . facebook . presto . ScheduledSplit ; \n + import com . facebook . presto . execution . ScheduledSplit ; \n presto - main \ src \ test \ java \ com \ facebook \ presto \ execution \ TaskTestUtils . java \n - import com . facebook . presto . ScheduledSplit ; \n presto - main \ src \ test \ java \ com \ facebook \ presto \ execution \ TestSqlTaskExecution . java \n - import com . facebook . presto . ScheduledSplit ; \n presto - main \ src \ test \ java \ com \ facebook \ presto \ execution \ TestSqlTaskManager . java \n - import com . facebook . presto . ScheduledSplit ; \n presto - main \ src \ test \ java \ com \ facebook \ presto \ memory \ TestSystemMemoryBlocking . java \n - import com . facebook . presto . ScheduledSplit ; \n + import com . facebook . presto . execution . ScheduledSplit ; \n presto - main \ src \ test \ java \ com \ facebook \ presto \ operator \ TestDriver . java \n - import com . facebook . presto . ScheduledSplit ; \n + import com . facebook . presto . execution . ScheduledSplit ; \n
test \ framework \ src \ main \ java \ org \ elasticsearch \ test \ rest \ yaml \ ESClientYamlSuiteTestCase . java \n - assert osPrettyNames . size ( ) = = 1 : " mixed os cluster found " ; \n + assert osPrettyNames . size ( ) = = 1 : " mixed os cluster found : " + osPrettyNames ; \n
test \ framework \ src \ main \ java \ org \ elasticsearch \ test \ rest \ yaml \ ESClientYamlSuiteTestCase . java \n + import java . util . SortedSet ; \n + import java . util . TreeSet ; \n - Set < String > osPrettyNames = new HashSet < > ( ) ; \n + SortedSet < String > osPrettyNames = new TreeSet < > ( ) ; \n - assert osPrettyNames . size ( ) = = 1 : " mixed os cluster found : " + osPrettyNames ; \n - return osPrettyNames . iterator ( ) . next ( ) ; \n + assert osPrettyNames . isEmpty ( ) = = false : " no os found " ; \n + \n + / / Although in theory there should only be one element as all nodes are running on the same machine , \n + / / in reality there can be two in mixed version clusters if different Java versions report the OS \n + / / name differently . This has been observed to happen on Windows , where Java needs to be updated to \n + / / recognize new Windows versions , and until this update has been done the newest version of Windows \n + / / is reported as the previous one . In this case taking the last alphabetically is likely to be most \n + / / accurate , for example if " Windows Server 2016 " and " Windows Server 2019 " are reported by different \n + / / Java versions then Windows Server 2019 is likely to be correct . \n + return osPrettyNames . last ( ) ; \n
x - pack \ plugin \ ml \ src \ main \ java \ org \ elasticsearch \ xpack \ ml \ action \ TransportEstimateModelMemoryAction . java \n + / / 10MB is a pretty conservative estimate of the memory requirement for categorization , \n + / / providing categorization is working well and not creating large numbers of inappropriate \n + / / categories . Often it is considerably less , but it ' s very hard to predict from simple \n + / / statistics . \n + long memoryPerPartitionMb = 10 ; \n + \n + / / If per - partition categorization is in use and stop - on - warn is not being used \n + / / then there is a high risk that one or more of the partitions will turn out to \n + / / categorize badly , so bump up the estimate . \n + if ( analysisConfig . getPerPartitionCategorizationConfig ( ) . isStopOnWarn ( ) = = false ) { \n + memoryPerPartitionMb * = 2 ; \n + } \n - / / 5MB is a pretty conservative estimate of the memory requirement for categorization . \n - / / Often it is considerably less , but it ' s very hard to predict from simple statistics . \n - return ByteSizeValue . ofMb ( 5 * relevantPartitionFieldCardinalityEstimate ) . getBytes ( ) ; \n + return ByteSizeValue . ofMb ( memoryPerPartitionMb * relevantPartitionFieldCardinalityEstimate ) . getBytes ( ) ; \n x - pack \ plugin \ ml \ src \ test \ java \ org \ elasticsearch \ xpack \ ml \ action \ TransportEstimateModelMemoryActionTests . java \n - is ( 5L * 1024 * 1024 ) ) ; \n + is ( 10L * 1024 * 1024 ) ) ; \n + boolean isStopOnWarn = randomBoolean ( ) ; \n - . setPerPartitionCategorizationConfig ( new PerPartitionCategorizationConfig ( true , randomBoolean ( ) ) ) . build ( ) ; \n + . setPerPartitionCategorizationConfig ( new PerPartitionCategorizationConfig ( true , isStopOnWarn ) ) . build ( ) ; \n - is ( partitionCardinality * 5L * 1024 * 1024 ) ) ; \n + is ( partitionCardinality * 10L * ( isStopOnWarn ? 1 : 2 ) * 1024 * 1024 ) ) ; \n
build . xml \n - < exec executable = " build / Markdown . pl " > \n + < exec executable = " build / Markdown . pl " failonerror = " true " > \n deleted file \n doc \ ReleaseNotes4 . 9 . 1 . html \n - \n - Can ' t open / Users / saff / git - repos / stems _ and _ seeds / junit / doc / ReleaseNotes4 . 9 . 1 . txt : No such file or directory at build / Markdown . pl line 218 . \n - Use of uninitialized value $ text in substitution ( s / / / ) at build / Markdown . pl line 245 . \n - Use of uninitialized value $ text in substitution ( s / / / ) at build / Markdown . pl line 246 . \n
build . xml \n - < equals arg1 = " $ { is . snapshot } " arg2 = " false " / > \n + < equals arg1 = " @ { is . snapshot } " arg2 = " false " / > \n - repo . id = " $ { stage . repo . id } " / > \n + repo . id = " $ { stage . repo . id } " \n + is . snapshot = " false " / > \n - repo . id = " $ { stage . repo . id } " / > \n + repo . id = " $ { stage . repo . id } " \n + is . snapshot = " false " / > \n src \ main \ java \ junit \ runner \ Version . java \n - return " 4 . 10 - SNAPSHOT " ; \n + return " 4 . 10 " ; \n
build . xml \n - < property name = " version - base " value = " 4 . 9b1 " / > \n - < property name = " version - status " value = " " / > \n + < property name = " version - base " value = " 4 . 9 " / > \n + < property name = " version - status " value = " b1 " / > \n
src \ main \ java \ org \ junit \ experimental \ interceptor \ Interceptors . java \n - / / TODO ( Apr 28 , 2009 10 : 55 : 21 PM ) : parameter clump ? \n src \ main \ java \ org \ junit \ experimental \ interceptor \ TestWatchman . java \n - / / TODO ( Apr 28 , 2009 10 : 50 : 47 PM ) : is this right ? Is \n - / / FrameworkMethod too powerful ? \n src \ main \ java \ org \ junit \ experimental \ max \ MaxCore . java \n - } catch ( FileNotFoundException e ) { \n - / / TODO \n - e . printStackTrace ( ) ; \n
src \ main \ java \ org \ junit \ experimental \ max \ MaxCore . java \n - import java . io . FileNotFoundException ; \n - / / TODO \n - / / TODO ( Feb 23 , 2009 10 : 14 : 05 PM ) : publicized for squeeze \n - / / TODO ( Feb 23 , 2009 10 : 42 : 05 PM ) : V \n - public Request constructLeafRequest ( List < Description > leaves ) { \n + private Request constructLeafRequest ( List < Description > leaves ) { \n - / / TODO ( Feb 23 , 2009 11 : 17 : 01 PM ) : V \n - public Runner buildRunner ( Description each ) { \n + private Runner buildRunner ( Description each ) { \n - / / TODO ( Feb 23 , 2009 10 : 40 : 23 PM ) : V \n - public List < Description > findLeaves ( Request request ) { \n + private List < Description > findLeaves ( Request request ) { \n - / / TODO ( Feb 23 , 2009 10 : 50 : 48 PM ) : V \n - public void findLeaves ( Description description , List < Description > results ) { \n + private void findLeaves ( Description description , List < Description > results ) { \n src \ main \ java \ org \ junit \ experimental \ max \ MaxHistory . java \n - / / TODO ( Feb 23 , 2009 10 : 41 : 36 PM ) : V \n
src \ main \ java \ org \ junit \ experimental \ max \ MaxCore . java \n - try { \n - / / TODO ( Nov 18 , 2008 2 : 18 : 28 PM ) : move to Suite \n - return new Suite ( null , new Class < ? > [ 0 ] ) ; \n - } catch ( InitializationError e ) { \n - / / TODO Auto - generated catch block \n - e . printStackTrace ( ) ; \n - } \n + return Suite . empty ( ) ; \n src \ main \ java \ org \ junit \ experimental \ max \ MaxHistory . java \n - / / TODO : Really ? \n src \ main \ java \ org \ junit \ runners \ Suite . java \n + \n + public static Runner empty ( ) { \n + try { \n + return new Suite ( ( Class < ? > ) null , new Class < ? > [ 0 ] ) ; \n + } catch ( InitializationError e ) { \n + throw new RuntimeException ( " Inconceivable " ) ; \n + } \n + } \n
src \ main \ java \ org \ junit \ runners \ BlockJUnit4ClassRunner . java \n + * \n + * @ deprecated unused API , will go away in future version \n + @ Deprecated \n - protected void validateFields ( List < Throwable > errors ) { \n + private void validateFields ( List < Throwable > errors ) { \n - protected EachTestNotifier makeNotifier ( FrameworkMethod method , \n + private EachTestNotifier makeNotifier ( FrameworkMethod method , \n src \ main \ java \ org \ junit \ runners \ ParentRunner . java \n - protected List < T > getFilteredChildren ( ) { \n + private List < T > getFilteredChildren ( ) { \n src \ main \ java \ org \ junit \ runners \ Suite . java \n + / * * \n + * Returns an empty suite . \n + * / \n src \ main \ java \ org \ junit \ runners \ model \ FrameworkField . java \n - public FrameworkField ( Field field ) { \n + FrameworkField ( Field field ) { \n + / * * \n + * @ return the underlying java Field \n + * / \n + / * * \n + * Attempts to retrieve the value of this field on { @ code target } \n + * / \n src \ main \ java \ org \ junit \ runners \ model \ RunnerScheduler . java \n - \n + / * * \n + * Represents a strategy for scheduling when individual test methods \n + * should be run ( in serial or parallel ) \n + * \n + * WARNING : still experimental , may go away . \n + * / \n + / * * \n + * Schedule a child statement to run \n + * / \n + \n + / * * \n + * Override to implement any behavior that must occur \n + * after all children have been scheduled ( for example , \n + * waiting for them all to finish ) \n + * / \n
build . xml \n - < property name = " version - status " value = " b1 " / > \n + < property name = " version - status " value = " b3 " / > \n
acknowledgements . txt \n - result counting \n + result counting \n + 2010 Feb 08 \n + Paul Holser : Submitted additional test for TestName rule . \n src \ test \ java \ org \ junit \ tests \ experimental \ rules \ NameRulesTest . java \n + import org . junit . After ; \n + import org . junit . Before ; \n + import org . junit . experimental . runners . Enclosed ; \n + import org . junit . runner . RunWith ; \n + @ RunWith ( Enclosed . class ) \n - @ Rule public TestName name = new TestName ( ) ; \n - \n - @ Test public void testA ( ) { \n - assertEquals ( " testA " , name . getMethodName ( ) ) ; \n + public static class TestNames { \n + @ Rule \n + public TestName name = new TestName ( ) ; \n + \n + @ Test \n + public void testA ( ) { \n + assertEquals ( " testA " , name . getMethodName ( ) ) ; \n + } \n + \n + @ Test \n + public void testB ( ) { \n + assertEquals ( " testB " , name . getMethodName ( ) ) ; \n + } \n - @ Test public void testB ( ) { \n - assertEquals ( " testB " , name . getMethodName ( ) ) ; \n + public static class BeforeAndAfterTest { \n + @ Rule \n + public TestName name = new TestName ( ) ; \n + \n + private final String expectedName = " x " ; \n + \n + @ Before \n + public void setUp ( ) { \n + assertEquals ( expectedName , name . getMethodName ( ) ) ; \n + } \n + \n + @ Test \n + public void x ( ) { \n + assertEquals ( expectedName , name . getMethodName ( ) ) ; \n + } \n + \n + @ After \n + public void tearDown ( ) { \n + assertEquals ( expectedName , name . getMethodName ( ) ) ; \n + } \n
new file \n . gitignore \n + MaxCore . ser \n + bin \n
src \ main \ java \ org \ junit \ runner \ Result . java \n - private boolean fIgnoredDuringExecution = false ; \n - \n - if ( ! fIgnoredDuringExecution ) \n - fCount + + ; \n - fIgnoredDuringExecution = false ; \n + fCount + + ; \n - fIgnoredDuringExecution = true ; \n src \ test \ java \ org \ junit \ tests \ running \ methods \ TestMethodTest . java \n + assertEquals ( 1 , result . getRunCount ( ) ) ; \n
acknowledgements . txt \n - Amanda Robinson : Fixed overly permissive @ DataPoint processing . \n + Amanda Robinson : Fixed overly permissive @ DataPoint processing . \n + \n + 2009 Feb 9 \n + Mark Shapiro : Discovered bug in test counting after an ignored method ( 2106324 ) \n
server \ src \ main \ java \ org \ elasticsearch \ action \ support \ ListenableActionFuture . java \n - * Registers an { @ link ActionListener < T > } to be notified when this future is completed . If the future is already completed then the \n + * Registers an { @ link ActionListener } to be notified when this future is completed . If the future is already completed then the \n
server \ src \ test \ java \ org \ elasticsearch \ action \ support \ ListenableActionFutureTests . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 68772 " ) \n - if ( postComplete . get ( ) ) { \n + if ( completerThreads = = 1 & & postComplete . get ( ) ) { \n + / / If there are multiple completer threads then onResponse might return on one thread , and hence postComplete is \n + / / set , before the other completer thread notifies all the listeners . OTOH with one completer thread we know that \n + / / postComplete indicates that the listeners were already notified . \n
server \ src \ test \ java \ org \ elasticsearch \ index \ engine \ ReadOnlyEngineTests . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 67232 " ) \n - assertTrue ( numSegments > 1 ) ; \n - UnsupportedOperationException exception = expectThrows ( UnsupportedOperationException . class , \n - ( ) - > readOnlyEngine . forceMerge ( \n - true , numSegments - 1 , false , false , false , UUIDs . randomBase64UUID ( ) ) ) ; \n - assertThat ( exception . getMessage ( ) , equalTo ( " force merge is not supported on a read - only engine , " + \n - " target max number of segments [ " + ( numSegments - 1 ) + " ] , current number of segments [ " + numSegments + " ] . " ) ) ; \n + if ( numSegments > 1 ) { \n + final int target = between ( 1 , numSegments - 1 ) ; \n + UnsupportedOperationException exception = expectThrows ( UnsupportedOperationException . class , \n + ( ) - > readOnlyEngine . forceMerge ( true , target , false , false , false , UUIDs . randomBase64UUID ( ) ) ) ; \n + assertThat ( exception . getMessage ( ) , equalTo ( " force merge is not supported on a read - only engine , " + \n + " target max number of segments [ " + target + " ] , current number of segments [ " + numSegments + " ] . " ) ) ; \n + } \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ fabric \ jni \ Binding . cpp \n + # include < cfenv > \n + # include < cmath > \n + \n + static inline float scale ( Float value , Float pointScaleFactor ) { \n + std : : feclearexcept ( FE _ ALL _ EXCEPT ) ; \n + float result = value * pointScaleFactor ; \n + if ( std : : fetestexcept ( FE _ OVERFLOW ) ) { \n + LOG ( ERROR ) < < " Binding : : scale - FE _ OVERFLOW - value : " < < value \n + < < " pointScaleFactor : " < < pointScaleFactor \n + < < " result : " < < result ; \n + } \n + if ( std : : fetestexcept ( FE _ UNDERFLOW ) ) { \n + LOG ( ERROR ) < < " Binding : : scale - FE _ UNDERFLOW - value : " < < value \n + < < " pointScaleFactor : " < < pointScaleFactor \n + < < " result : " < < result ; \n + } \n + return result ; \n + } \n + \n - int left = floor ( contentInsets . left * pointScaleFactor ) ; \n - int top = floor ( contentInsets . top * pointScaleFactor ) ; \n - int right = floor ( contentInsets . right * pointScaleFactor ) ; \n - int bottom = floor ( contentInsets . bottom * pointScaleFactor ) ; \n + int left = floor ( scale ( contentInsets . left , pointScaleFactor ) ) ; \n + int top = floor ( scale ( contentInsets . top , pointScaleFactor ) ) ; \n + int right = floor ( scale ( contentInsets . right , pointScaleFactor ) ) ; \n + int bottom = floor ( scale ( contentInsets . bottom , pointScaleFactor ) ) ; \n - int x = round ( frame . origin . x * pointScaleFactor ) ; \n - int y = round ( frame . origin . y * pointScaleFactor ) ; \n - int w = round ( frame . size . width * pointScaleFactor ) ; \n - int h = round ( frame . size . height * pointScaleFactor ) ; \n + int x = round ( scale ( frame . origin . x , pointScaleFactor ) ) ; \n + int y = round ( scale ( frame . origin . y , pointScaleFactor ) ) ; \n + int w = round ( scale ( frame . size . width , pointScaleFactor ) ) ; \n + int h = round ( scale ( frame . size . height , pointScaleFactor ) ) ; \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ uimanager \ UIManagerHelper . java \n - return uiManager = = null ? null : ( EventDispatcher ) uiManager . getEventDispatcher ( ) ; \n + if ( uiManager = = null ) { \n + return null ; \n + } \n + EventDispatcher eventDispatcher = ( EventDispatcher ) uiManager . getEventDispatcher ( ) ; \n + if ( eventDispatcher = = null ) { \n + ReactSoftException . logSoftException ( \n + " UIManagerHelper " , \n + new IllegalStateException ( \n + " Cannot get EventDispatcher for UIManagerType " + uiManagerType ) ) ; \n + } \n + return eventDispatcher ; \n
packages \ rn - tester \ js \ RNTesterAppShared . js \n - const DisplayIfVisible = ( { isVisible , children } ) = > ( \n - < View style = { [ styles . container , ! isVisible & & styles . hidden ] } > \n - { children } \n - < / View > \n - ) ; \n + const DisplayIfVisible = ( { isVisible , children } ) = > \n + isVisible ? ( \n + < View style = { [ styles . container , ! isVisible & & styles . hidden ] } > \n + { children } \n + < / View > \n + ) : null ; \n
compiler \ fir \ fir2ir \ src \ org \ jetbrains \ kotlin \ fir \ backend \ Fir2IrDeclarationStorage . kt \n - if ( ( firAnnotationContainer as ? FirDeclaration ) ? . isFromLibrary = = true ) { \n + if ( ( firAnnotationContainer as ? FirDeclaration ) ? . isFromLibrary = = true | | \n + ( firAnnotationContainer is FirCallableMemberDeclaration < * > & & firAnnotationContainer . isSubstitutionOrIntersectionOverride ) \n + ) { \n compiler \ testData \ codegen \ box \ compileKotlinAgainstKotlin \ annotationInInterface . kt \n - / / IGNORE _ BACKEND _ FIR : JVM _ IR \n
compiler \ fir \ resolve \ src \ org \ jetbrains \ kotlin \ fir \ resolve \ transformers \ FirStatusResolver . kt \n - declaration is FirConstructor & & containingClass is FirAnonymousObject - > Visibilities . Private \n - if ( declaration is FirConstructor & & containingClass ! = null ) { \n - val classKind = containingClass . classKind \n - if ( ( classKind = = ClassKind . ENUM _ CLASS | | classKind = = ClassKind . ENUM _ ENTRY | | containingClass . modality = = Modality . SEALED ) ) { \n - return Visibilities . Private \n - } \n - } \n + if ( declaration is FirConstructor & & containingClass ? . hasPrivateConstructor ( ) = = true ) return Visibilities . Private \n + \n + private fun FirClass < * > . hasPrivateConstructor ( ) : Boolean { \n + val classKind = classKind \n + return classKind = = ClassKind . ENUM _ CLASS | | classKind = = ClassKind . ENUM _ ENTRY | | modality = = Modality . SEALED | | this is FirAnonymousObject \n + } \n + \n
compiler \ fir \ java \ src \ org \ jetbrains \ kotlin \ fir \ java \ JavaScopeProvider . kt \n - val declaredMemberScopeDecorator : ( \n - klass : FirClass < * > , \n - declaredMemberScope : FirScope , \n - useSiteSession : FirSession , \n - scopeSession : ScopeSession \n - ) - > FirScope = { _ , declaredMemberScope , _ , _ - > declaredMemberScope } , \n - val wrappedDeclaredScope = declaredMemberScopeDecorator ( regularClass , declaredScope , useSiteSession , scopeSession ) \n - it . scopeForSupertype ( useSiteSession , scopeSession , subClass = regularClass , wrappedDeclaredScope , delegateFields = null ) \n + it . scopeForSupertype ( useSiteSession , scopeSession , subClass = regularClass , declaredScope , delegateFields = null ) \n - ) , wrappedDeclaredScope \n + ) , declaredScope \n - val wrappedDeclaredScope = declaredMemberScopeDecorator ( klass , declaredScope , useSiteSession , scopeSession ) \n - declaredMemberScope = wrappedDeclaredScope , \n + declaredMemberScope = declaredScope , \n compiler \ fir \ java \ src \ org \ jetbrains \ kotlin \ fir \ java \ JavaSymbolProvider . kt \n - import org . jetbrains . kotlin . fir . resolve . scopes . wrapScopeWithJvmMapped \n - private val scopeProvider = JavaScopeProvider ( : : wrapScopeWithJvmMapped , this ) \n + private val scopeProvider = JavaScopeProvider ( this ) \n
storm - core \ src \ clj \ backtype \ storm \ daemon \ nimbus . clj \n - ( defn - update - executor - cache [ curr hb ] \n + ( defn - update - executor - cache [ curr hb timeout ] \n - { : nimbus - time nimbus - time \n + { : is - timed - out ( and \n + nimbus - time \n + ( > = ( time - delta nimbus - time ) timeout ) ) \n + : nimbus - time nimbus - time \n - ( defn update - heartbeat - cache [ cache executor - beats all - executors ] \n + ( defn update - heartbeat - cache [ cache executor - beats all - executors timeout ] \n - ( update - executor - cache curr ( get executor - beats executor ) ) ] \n + ( update - executor - cache curr ( get executor - beats executor ) timeout ) ] \n - all - executors ) ] \n + all - executors \n + ( ( : conf nimbus ) NIMBUS - TASK - TIMEOUT - SECS ) ) ] \n - nimbus - time ( - > heartbeats - cache ( get executor ) : nimbus - time ) ] \n + is - timed - out ( - > heartbeats - cache ( get executor ) : is - timed - out ) ] \n - ( not nimbus - time ) \n - ( < ( time - delta nimbus - time ) \n - ( conf NIMBUS - TASK - TIMEOUT - SECS ) ) \n + ( not is - timed - out ) \n
storm - core \ src \ clj \ backtype \ storm \ ui \ core . clj \n - ( - > # ' main - routes \n + ( - > main - routes \n
storm - core \ src \ clj \ backtype \ storm \ ui \ core . clj \n - ( - > main - routes \n - ( wrap - reload ' [ backtype . storm . ui . core ] ) \n - catch - errors ) ) \n + ( handler / site ( - > main - routes \n + ( wrap - reload ' [ backtype . storm . ui . core ] ) \n + catch - errors ) ) ) \n
build . gradle \n - classpath " com . badlogicgames . gdx : gdx - jnigen - gradle : 2 . 0 . 0 " \n + classpath " com . badlogicgames . gdx : gdx - jnigen - gradle : 2 . 0 . 1 " \n
deleted file \n extensions \ gdx - controllers \ gdx - controllers - desktop \ . classpath \n deleted file \n extensions \ gdx - controllers \ gdx - controllers - desktop \ jni \ . gitignore \n - com _ badlogic _ gdx _ * . h \n - com _ badlogic _ gdx _ * . cpp \n - build * . xml \n - Android . mk \n - Application . mk \n - jni - headers \n - memcpy _ wrap . c \n
backends \ gdx - backend - robovm \ src \ com \ badlogic \ gdx \ backends \ iosrobovm \ custom \ UIAcceleration . java \n + / * < imports > * / \n + / * < / imports > * / \n backends \ gdx - backend - robovm \ src \ com \ badlogic \ gdx \ backends \ iosrobovm \ custom \ UIAccelerometer . java \n + / * < imports > * / \n + / * < / imports > * / \n backends \ gdx - backend - robovm \ src \ com \ badlogic \ gdx \ backends \ iosrobovm \ custom \ UIAccelerometerDelegate . java \n + / * < imports > * / \n + / * < / imports > * / \n backends \ gdx - backend - robovm \ src \ com \ badlogic \ gdx \ backends \ iosrobovm \ custom \ UIAccelerometerDelegateAdapter . java \n + / * < imports > * / \n + / * < / imports > * / \n
x - pack \ plugin \ ml \ src \ main \ java \ org \ elasticsearch \ xpack \ ml \ job \ task \ OpenJobPersistentTasksExecutor . java \n + import org . elasticsearch . Version ; \n + / / Resuming a job with a running datafeed from its current snapshot was added in 7 . 11 and \n + / / can only be done if the master node is on or after that version . \n + private static final Version MIN _ MASTER _ NODE _ VERSION _ FOR _ REVERTING _ TO _ CURRENT _ SNAPSHOT = Version . V _ 7 _ 11 _ 0 ; \n + \n - if ( hasRunningDatafeed ) { \n + if ( hasRunningDatafeed & & clusterState . nodes ( ) . getMasterNode ( ) . getVersion ( ) . onOrAfter ( \n + MIN _ MASTER _ NODE _ VERSION _ FOR _ REVERTING _ TO _ CURRENT _ SNAPSHOT ) ) { \n + \n
x - pack \ plugin \ core \ src \ main \ java \ org \ elasticsearch \ xpack \ core \ ml \ inference \ TrainedModelConfig . java \n - import org . elasticsearch . xpack . core . ml . inference . trainedmodel . metadata . TotalFeatureImportance ; \n + import org . elasticsearch . xpack . core . ml . inference . trainedmodel . metadata . TotalFeatureImportance ; \n - import java . util . HashSet ; \n - import java . util . Set ; \n - private static final Set < String > RESERVED _ METADATA _ FIELDS = new HashSet < > ( Arrays . asList ( \n - TOTAL _ FEATURE _ IMPORTANCE , \n - FEATURE _ IMPORTANCE _ BASELINE ) ) ; \n
server \ src \ test \ java \ org \ elasticsearch \ index \ engine \ ReadOnlyEngineTests . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 67232 " ) \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ OkHttpDownloader . java \n - public OkHttpDownloader ( final Context context , final int maxSize ) { \n + public OkHttpDownloader ( final Context context , final long maxSize ) { \n - public OkHttpDownloader ( final File cacheDir , final int maxSize ) { \n + public OkHttpDownloader ( final File cacheDir , final long maxSize ) { \n picasso \ src \ main \ java \ com \ squareup \ picasso \ UrlConnectionDownloader . java \n - int maxSize = Utils . calculateDiskCacheSize ( cacheDir ) ; \n + long maxSize = Utils . calculateDiskCacheSize ( cacheDir ) ; \n picasso \ src \ main \ java \ com \ squareup \ picasso \ Utils . java \n - static int calculateDiskCacheSize ( File dir ) { \n - int size = MIN _ DISK _ CACHE _ SIZE ; \n + static long calculateDiskCacheSize ( File dir ) { \n + long size = MIN _ DISK _ CACHE _ SIZE ; \n - int available = statFs . getBlockCount ( ) * statFs . getBlockSize ( ) ; \n + long available = ( ( long ) statFs . getBlockCount ( ) ) * statFs . getBlockSize ( ) ; \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ ContactsPhotoBitmapHunter . java \n + if ( stream = = null ) { \n + return null ; \n + } \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ Request . java \n - if ( targetWidth = = 0 | | targetHeight = = 0 ) { \n - throw new IllegalStateException ( " Center crop can only be used after calling resize . " ) ; \n - } \n - if ( centerInside ) { \n - throw new IllegalStateException ( " Center crop can not be used after calling centerInside " ) ; \n - } \n - if ( targetWidth = = 0 | | targetHeight = = 0 ) { \n - throw new IllegalStateException ( " Center inside can only be used after calling resize . " ) ; \n - } \n - if ( centerCrop ) { \n - throw new IllegalStateException ( " Center inside can not be used after calling centerCrop " ) ; \n - } \n picasso \ src \ test \ java \ com \ squareup \ picasso \ RequestCreatorTest . java \n - @ Test public void invalidCenterCrop ( ) throws Exception { \n - try { \n - new RequestCreator ( ) . centerCrop ( ) ; \n - fail ( " Center crop without resize should throw exception . " ) ; \n - } catch ( IllegalStateException expected ) { \n - } \n - try { \n - new RequestCreator ( ) . resize ( 10 , 10 ) . centerInside ( ) . centerCrop ( ) ; \n - fail ( " Calling center crop after center inside should throw exception . " ) ; \n - } catch ( IllegalStateException expected ) { \n - } \n - } \n - \n - @ Test public void invalidCenterInside ( ) throws Exception { \n - try { \n - new RequestCreator ( ) . centerInside ( ) ; \n - fail ( " Center inside without resize should throw exception . " ) ; \n - } catch ( IllegalStateException expected ) { \n - } \n - try { \n - new RequestCreator ( ) . resize ( 10 , 10 ) . centerInside ( ) . centerCrop ( ) ; \n - fail ( " Calling center inside after center crop should throw exception . " ) ; \n - } catch ( IllegalStateException expected ) { \n - } \n - } \n - \n
native \ commonizer \ src \ org \ jetbrains \ kotlin \ descriptors \ commonizer \ mergedtree \ approximationKeys . kt \n - return callable . valueParameters . fold ( 0 ) { acc , next - > acc . appendHashCode ( next . name ) } \n + return callable . valueParameters . fold ( 0 ) { acc , next - > acc . appendHashCode ( next . name . asString ( ) ) } \n
native \ commonizer \ tests \ org \ jetbrains \ kotlin \ descriptors \ commonizer \ utils \ mocks . kt \n - project = null \n + project = null , \n + includeOnlyModuleContent = true , \n + allowErrorTypes = false \n
native \ commonizer \ tests \ org \ jetbrains \ kotlin \ descriptors \ commonizer \ utils \ assertions . kt \n - when ( mismatch ) { \n - is Mismatch . MissingEntity - > mismatch . kind = = " AbbreviationType " & & mismatch . missingInA \n - is Mismatch . DifferentValues - > false \n + var isAcceptableMismatch = false / / don ' t filter it out by default \n + \n + if ( mismatch is Mismatch . MissingEntity ) { \n + if ( mismatch . kind = = " AbbreviatedType " ) { \n + val usefulPath = mismatch . path \n + . dropWhile { ! it . startsWith ( " Package " ) } \n + . drop ( 1 ) \n + . joinToString ( " > " ) { it . substringBefore ( ' ' ) } \n + \n + if ( mismatch . missingInA ) { \n + if ( usefulPath = = " TypeAlias > ExpandedType " ) { \n + / / extra abbreviated type appeared in commonized declaration , it ' s OK \n + isAcceptableMismatch = true \n + } \n + } else / * if ( mismatch . missingInB ) * / { \n + if ( " > ReturnType > " in usefulPath & & usefulPath . endsWith ( " TypeProjection > Type " ) ) { \n + / / extra abbreviated type gone in type argument of commonized declaration , it ' s OK \n + isAcceptableMismatch = true \n + } \n + } \n + } \n + \n + ! isAcceptableMismatch \n
transport - native - epoll \ src \ main \ java \ io \ netty \ channel \ epoll \ EpollEventLoop . java \n - import java . util . ArrayList ; \n - import java . util . Collection ; \n - Collection < AbstractEpollChannel > array = new ArrayList < AbstractEpollChannel > ( channels . size ( ) ) ; \n + AbstractEpollChannel [ ] localChannels = channels . values ( ) . toArray ( new AbstractEpollChannel [ 0 ] ) ; \n - for ( AbstractEpollChannel channel : channels . values ( ) ) { \n - array . add ( channel ) ; \n - } \n - \n - for ( AbstractEpollChannel ch : array ) { \n + for ( AbstractEpollChannel ch : localChannels ) { \n
codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ cookie \ CookieUtil . java \n - sb . append ( ( char ) HttpConstants . EQUALS ) ; \n + sb . append ( ' = ' ) ; \n - sb . append ( ( char ) HttpConstants . SEMICOLON ) ; \n - sb . append ( ( char ) HttpConstants . SP ) ; \n + sb . append ( ' ; ' ) ; \n + sb . append ( HttpConstants . SP _ CHAR ) ; \n - sb . append ( ( char ) HttpConstants . EQUALS ) ; \n + sb . append ( ' = ' ) ; \n - sb . append ( ( char ) HttpConstants . SEMICOLON ) ; \n - sb . append ( ( char ) HttpConstants . SP ) ; \n + sb . append ( ' ; ' ) ; \n + sb . append ( HttpConstants . SP _ CHAR ) ; \n - sb . append ( ( char ) HttpConstants . SEMICOLON ) ; \n - sb . append ( ( char ) HttpConstants . SP ) ; \n + sb . append ( ' ; ' ) ; \n + sb . append ( HttpConstants . SP _ CHAR ) ; \n - sb . append ( ( char ) HttpConstants . EQUALS ) ; \n - sb . append ( ( char ) HttpConstants . DOUBLE _ QUOTE ) ; \n + sb . append ( ' = ' ) ; \n + sb . append ( ' " ' ) ; \n - sb . append ( ( char ) HttpConstants . DOUBLE _ QUOTE ) ; \n - sb . append ( ( char ) HttpConstants . SEMICOLON ) ; \n - sb . append ( ( char ) HttpConstants . SP ) ; \n + sb . append ( ' " ' ) ; \n + sb . append ( ' ; ' ) ; \n + sb . append ( HttpConstants . SP _ CHAR ) ; \n codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ cookie \ ServerCookieEncoder . java \n - buf . append ( ( char ) HttpConstants . EQUALS ) ; \n + buf . append ( ' = ' ) ; \n - buf . append ( ( char ) HttpConstants . SEMICOLON ) ; \n - buf . append ( ( char ) HttpConstants . SP ) ; \n + buf . append ( ' ; ' ) ; \n + buf . append ( HttpConstants . SP _ CHAR ) ; \n
common \ src \ main \ java \ io \ netty \ util \ AsciiString . java \n - if ( string . getClass ( ) = = AsciiString . class ) { \n + if ( string instanceof AsciiString ) { \n - if ( string . getClass ( ) = = AsciiString . class ) { \n + if ( string instanceof AsciiString ) { \n - if ( c . getClass ( ) = = AsciiString . class ) { \n + if ( c instanceof AsciiString ) { \n - if ( a . getClass ( ) = = AsciiString . class ) { \n + if ( a instanceof AsciiString ) { \n - return string . getClass ( ) = = AsciiString . class ? ( AsciiString ) string : new AsciiString ( string ) ; \n + return string instanceof AsciiString ? ( AsciiString ) string : new AsciiString ( string ) ; \n - if ( value . getClass ( ) = = AsciiString . class ) { \n + if ( value instanceof AsciiString ) { \n - if ( a . getClass ( ) = = AsciiString . class ) { \n + if ( a instanceof AsciiString ) { \n - if ( b . getClass ( ) = = AsciiString . class ) { \n + if ( b instanceof AsciiString ) { \n - if ( a . getClass ( ) = = AsciiString . class ) { \n + if ( a instanceof AsciiString ) { \n - if ( b . getClass ( ) = = AsciiString . class ) { \n + if ( b instanceof AsciiString ) { \n
codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ websocketx \ WebSocket08FrameDecoder . java \n - if ( logger . isDebugEnabled ( ) ) { \n - logger . debug ( " Decoding WebSocket Frame opCode = { } " , frameOpcode ) ; \n + if ( logger . isTraceEnabled ( ) ) { \n + logger . trace ( " Decoding WebSocket Frame opCode = { } " , frameOpcode ) ; \n - if ( logger . isDebugEnabled ( ) ) { \n - logger . debug ( " Decoding WebSocket Frame length = { } " , framePayloadLength ) ; \n + if ( logger . isTraceEnabled ( ) ) { \n + logger . trace ( " Decoding WebSocket Frame length = { } " , framePayloadLength ) ; \n codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ websocketx \ WebSocket08FrameEncoder . java \n - if ( logger . isDebugEnabled ( ) ) { \n - logger . debug ( " Encoding WebSocket Frame opCode = " + opcode + " length = " + length ) ; \n + if ( logger . isTraceEnabled ( ) ) { \n + logger . trace ( " Encoding WebSocket Frame opCode = { } length = { } " , opcode , length ) ; \n
transport \ src \ main \ java \ io \ netty \ channel \ embedded \ EmbeddedChannel . java \n + import io . netty . channel . ChannelHandlerContext ; \n - protected void onUnhandledInboundMessage ( Object msg ) { \n - handleInboundMessage ( msg ) ; \n + protected void onUnhandledInboundMessage ( ChannelHandlerContext ctx , Object msg ) { \n + handleInboundMessage ( msg ) ; \n
codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ HttpContentCompressor . java \n - protected Result beginEncode ( HttpResponse headers , String acceptEncoding ) throws Exception { \n + protected Result beginEncode ( HttpResponse httpResponse , String acceptEncoding ) throws Exception { \n - if ( headers instanceof HttpContent & & \n - ( ( HttpContent ) headers ) . content ( ) . readableBytes ( ) < contentSizeThreshold ) { \n + if ( httpResponse instanceof HttpContent & & \n + ( ( HttpContent ) httpResponse ) . content ( ) . readableBytes ( ) < contentSizeThreshold ) { \n - String contentEncoding = headers . headers ( ) . get ( HttpHeaderNames . CONTENT _ ENCODING ) ; \n + String contentEncoding = httpResponse . headers ( ) . get ( HttpHeaderNames . CONTENT _ ENCODING ) ; \n codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ HttpContentEncoder . java \n - * @ param headers \n - * the headers \n + * @ param httpResponse \n + * the http response \n - protected abstract Result beginEncode ( HttpResponse headers , String acceptEncoding ) throws Exception ; \n + protected abstract Result beginEncode ( HttpResponse httpResponse , String acceptEncoding ) throws Exception ; \n codec - http \ src \ test \ java \ io \ netty \ handler \ codec \ http \ HttpContentEncoderTest . java \n - protected Result beginEncode ( HttpResponse headers , String acceptEncoding ) { \n + protected Result beginEncode ( HttpResponse httpResponse , String acceptEncoding ) { \n - protected Result beginEncode ( HttpResponse headers , String acceptEncoding ) throws Exception { \n + protected Result beginEncode ( HttpResponse httpResponse , String acceptEncoding ) throws Exception { \n
compiler \ util \ src \ org \ jetbrains \ kotlin \ config \ LanguageVersionSettings . kt \n - val OLDEST _ DEPRECATED = KOTLIN _ 1 _ 2 \n + val OLDEST _ DEPRECATED = KOTLIN _ 1 _ 3 \n - val FIRST _ SUPPORTED = KOTLIN _ 1 _ 3 \n + val FIRST _ SUPPORTED = KOTLIN _ 1 _ 4 \n - val LATEST _ STABLE = KOTLIN _ 1 _ 4 \n + val LATEST _ STABLE = KOTLIN _ 1 _ 5 \n
gradle \ jps . gradle . kts \n - junit . pattern = " " " ^ . * \ . Fir \ w + TestGenerated $ " " " \n + junit . pattern = " " " ^ . * \ . Fir \ w + Test \ w * Generated $ " " " \n
build . gradle . kts \n - " : compiler : frontend : compileKotlin " , \n
compiler \ tests - compiler - utils \ tests \ org \ jetbrains \ kotlin \ test \ AnalysisFlagExtractor . kt \n + createPattern ( \n + " LAMBDAS " , \n + JVMConfigurationKeys . LAMBDAS , \n + JvmClosureGenerationScheme . Companion : : fromString \n + ) \n
compiler \ config . jvm \ src \ org \ jetbrains \ kotlin \ config \ JvmClosureGenerationScheme . kt \n + import org . jetbrains . kotlin . util . capitalizeDecapitalize . toLowerCaseAsciiOnly \n + \n - val lowerStr = string ? . toLowerCase ( ) ? : return null \n + val lowerStr = string ? . toLowerCaseAsciiOnly ( ) ? : return null \n
compiler \ backend \ src \ org \ jetbrains \ kotlin \ codegen \ state \ GenerationState . kt \n - else if ( target > = JvmTarget . JVM _ 1 _ 8 & & languageVersionSettings . supportsFeature ( LanguageFeature . SamWrapperClassesAreSynthetic ) ) \n - JvmClosureGenerationScheme . INDY \n - else \n + else { \n + / / TODO wait for KT - 44844 ( properly support ' invokedynamic ' in JPS incremental compilation ) \n + / / Use JvmClosureGenerationScheme . INDY if \n + / / JVM target is at least JVM _ 1 _ 8 & & \n + / / SamWrapperClassesAreSynthetic language feature is supported \n + } \n compiler \ testData \ codegen \ bytecodeListing \ nullabilityAnnotations \ samAdapterForJavaInterfaceWithNullability . kt \n - / / SAM _ CONVERSIONS : CLASS \n + / / KOTLIN _ CONFIGURATION _ FLAGS : SAM _ CONVERSIONS = CLASS \n deleted file \n compiler \ testData \ codegen \ bytecodeListing \ nullabilityAnnotations \ samAdapterForJavaInterfaceWithNullability _ ir . txt \n - @ kotlin . Metadata \n - public final class SamAdapterForJavaInterfaceWithNullabilityKt { \n - / / source : ' samAdapterForJavaInterfaceWithNullability . kt ' \n - private final static method testNoAnnotation $ lambda - 2 ( p0 : java . lang . String ) : java . lang . String \n - public final static @ org . jetbrains . annotations . NotNull method testNoAnnotation ( @ org . jetbrains . annotations . NotNull p0 : java . lang . String ) : JNoAnnotation \n - private final static method testNotNull $ lambda - 1 ( p0 : java . lang . String ) : java . lang . String \n - public final static @ org . jetbrains . annotations . NotNull method testNotNull ( @ org . jetbrains . annotations . NotNull p0 : java . lang . String ) : JNotNull \n - private final static method testNullable $ lambda - 0 ( p0 : java . lang . String ) : java . lang . String \n - public final static @ org . jetbrains . annotations . NotNull method testNullable ( @ org . jetbrains . annotations . NotNull p0 : java . lang . String ) : JNullable \n - } \n compiler \ testData \ codegen \ bytecodeText \ sam \ samWrapperForNullInitialization . kt \n + / / KOTLIN _ CONFIGURATION _ FLAGS : SAM _ CONVERSIONS = INDY \n compiler \ testData \ codegen \ bytecodeText \ sam \ samWrapperForNullableInitialization . kt \n + / / KOTLIN _ CONFIGURATION _ FLAGS : SAM _ CONVERSIONS = INDY \n compiler \ testData \ codegen \ bytecodeText \ sam \ samWrapperOfLambda . kt \n + / / KOTLIN _ CONFIGURATION _ FLAGS : SAM _ CONVERSIONS = INDY \n
idea \ kotlin - gradle - tooling \ src \ KotlinMPPGradleModelBuilder . kt \n - / / TODO : similar to importingContext . sourceSetsByCompilations . keys , will be deduplicated in further commits \n - val compiledSourceSets : Collection < String > = \n - importingContext . targets \n - . flatMap { it . compilations } \n - . flatMap { it . sourceSets } \n - . flatMap { it . dependsOnSourceSets . union ( listOf ( it . name ) ) } \n - . distinct ( ) \n - \n - val ( orphanSourceSets , nonOrphanSourceSets ) = importingContext . sourceSets . partition { ! compiledSourceSets . contains ( it . name ) } \n + val ( orphanSourceSets , nonOrphanSourceSets ) = importingContext . sourceSets . partition { importingContext . isOrphanSourceSet ( it ) } \n idea \ kotlin - gradle - tooling \ src \ MultiplatformModelImportingContext . kt \n - \n + \n + / * * \n + * All source sets in a project , including those that are created but not included into any compilations \n + * ( so - called " orphan " source sets ) . Use [ isOrphanSourceSet ] to get only compiled source sets \n + * / \n + \n + / * * \n + * " Orphan " is a source set which is not actually compiled by the compiler , i . e . the one \n + * which doesn ' t belong to any [ KotlinCompilation ] . \n + * \n + * Orphan source sets might appear if one creates a source - set manually and doesn ' t link \n + * it anywhere ( essentially this is a misconfiguration ) \n + * / \n + fun isOrphanSourceSet ( sourceSet : KotlinSourceSet ) : Boolean = compilationsBySourceSet ( sourceSet ) = = null \n + / / overload for small optimization \n + override fun isOrphanSourceSet ( sourceSet : KotlinSourceSet ) : Boolean = sourceSet in sourceSetToParticipatedCompilations . keys \n + \n
idea \ kotlin - gradle - tooling \ src \ KotlinMPPGradleModelBuilder . kt \n - / / TODO DISCUSS AT REVIEW : can we simplify it to : \n - / / sourceSet . isTestModule = importingContext . compilationsBySourceSet ( sourceSet ) ? . all { it . isTestModule } ? : false \n - / / ^ \n - / / | \n - / / sic ! \n - / / The difference from the current behaviour would be in case if source set is not included into any compilation AND \n - / / KotlinSourceSetImpl . defaultIsTestModule is set to ' true ' . Though I don ' t know who and why would do that . \n - importingContext . compilationsBySourceSet ( sourceSet ) ? . all { it . isTestModule } ? . let { isTest - > \n - sourceSet . isTestModule = isTest \n - } \n + sourceSet . isTestModule = importingContext . compilationsBySourceSet ( sourceSet ) ? . all { it . isTestModule } ? : false \n idea \ kotlin - gradle - tooling \ src \ KotlinMPPGradleModelImpl . kt \n - val defaultIsTestModule : Boolean = false \n - KotlinPlatformContainerImpl ( kotlinSourceSet . actualPlatforms ) , \n - kotlinSourceSet . isTestModule \n - ) \n + KotlinPlatformContainerImpl ( kotlinSourceSet . actualPlatforms ) \n + ) { \n + this . isTestModule = kotlinSourceSet . isTestModule \n + } \n - override var isTestModule : Boolean = defaultIsTestModule \n + override var isTestModule : Boolean = false \n
compiler \ frontend \ src \ org \ jetbrains \ kotlin \ resolve \ lazy \ descriptors \ LazyClassMemberScope . kt \n + import org . jetbrains . kotlin . types . checker . NewKotlinTypeCheckerImpl \n - c . kotlinTypeChecker . overridingUtil . generateOverridesInFunctionGroup ( \n + NewKotlinTypeCheckerImpl ( kotlinTypeRefiner ) . overridingUtil . generateOverridesInFunctionGroup ( \n idea \ testData \ multiplatform \ kt44898 \ jvm \ Concrete . kt \n - public < ! ABSTRACT _ CLASS _ MEMBER _ NOT _ IMPLEMENTED ! > class Concrete < ! > : Base ( ) \n + public class Concrete : Base ( ) \n
common \ src \ main \ java \ com \ example \ android \ uamp \ media \ MusicService . kt \n - * Create a CastPlayer to handle communication with a Cast session . \n + * If Cast is available , create a CastPlayer to handle communication with a Cast session . \n - private val castPlayer : CastPlayer by lazy { \n - CastPlayer ( CastContext . getSharedInstance ( this ) ) . apply { \n - setSessionAvailabilityListener ( UampCastSessionAvailabilityListener ( ) ) \n - addListener ( playerListener ) \n + private val castPlayer : CastPlayer ? by lazy { \n + try { \n + val castContext = CastContext . getSharedInstance ( this ) \n + CastPlayer ( castContext ) . apply { \n + setSessionAvailabilityListener ( UampCastSessionAvailabilityListener ( ) ) \n + addListener ( playerListener ) \n + } \n + } catch ( e : Exception ) { \n + / / We wouldn ' t normally catch the generic ` Exception ` however \n + / / calling ` CastContext . getSharedInstance ` can throw various exceptions , all of which \n + / / indicate that Cast is unavailable . \n + / / Related internal bug b / 68009560 . \n + Log . i ( TAG , " Cast is not available on this device . " + \n + " Exception thrown when attempting to obtain CastContext . " + e . message ) \n + null \n - newPlayer = if ( castPlayer . isCastSessionAvailable ) castPlayer else exoPlayer \n + newPlayer = if ( castPlayer ? . isCastSessionAvailable = = true ) castPlayer ! ! else exoPlayer \n - castPlayer . loadItems ( \n + castPlayer ! ! . loadItems ( \n - switchToPlayer ( currentPlayer , castPlayer ) \n + switchToPlayer ( currentPlayer , castPlayer ! ! ) \n
app \ src \ main \ java \ com \ example \ android \ uamp \ MediaItemAdapter . kt \n + . placeholder ( R . drawable . default _ art ) \n common \ src \ main \ java \ com \ example \ android \ uamp \ media \ library \ AlbumArtContentProvider . kt \n - import android . util . Log \n - import kotlinx . coroutines . Dispatchers \n - import kotlinx . coroutines . GlobalScope \n - import kotlinx . coroutines . launch \n - val file = File ( context . cacheDir , uri . path ) \n - return if ( ! file . exists ( ) ) { \n - GlobalScope . launch ( Dispatchers . IO ) { \n - / / Use Glide to download the album art \n - val cacheFile = Glide . with ( context ) \n - . asFile ( ) \n - . load ( remoteUri ) \n - . submit ( ) \n - . get ( ) \n - \n - / / Rename the file Glide created to match our own scheme . \n - cacheFile . renameTo ( file ) \n - \n - / / Notify the caller that the artwork has been updated . \n - context . contentResolver . notifyChange ( uri , null ) \n - } \n - \n - / / Provide placeholder art until the correct art can be downloaded . \n - context . assets . openFd ( " default _ art . png " ) . parcelFileDescriptor \n - } else { \n - ParcelFileDescriptor . open ( file , ParcelFileDescriptor . MODE _ READ _ ONLY ) \n + var file = File ( context . cacheDir , uri . path ) \n + \n + if ( ! file . exists ( ) ) { \n + / / Use Glide to download the album art . \n + val cacheFile = Glide . with ( context ) \n + . asFile ( ) \n + . load ( remoteUri ) \n + . submit ( ) \n + . get ( ) \n + \n + / / Rename the file Glide created to match our own scheme . \n + cacheFile . renameTo ( file ) \n + \n + file = cacheFile \n + return ParcelFileDescriptor . open ( file , ParcelFileDescriptor . MODE _ READ _ ONLY ) \n
common \ src \ main \ java \ com \ example \ android \ uamp \ media \ library \ AlbumArtContentProvider . kt \n + / / The amount of time to wait for the album art file to download before timing out . \n + const val DOWNLOAD _ TIMEOUT _ SECONDS = 30L \n + \n - \n - const val DOWNLOAD _ TIMEOUT _ SECONDS = 30L \n
changelog . txt \n + * Attempting to refresh a Realm while a transaction is in process will now throw an IllegalStateException ( # 1712 ) \n realm \ realm - library \ src \ androidTest \ java \ io \ realm \ RealmTest . java \n + public void testCannotRefreshInTransaction ( ) { \n + testRealm . beginTransaction ( ) ; \n + try { \n + testRealm . refresh ( ) ; \n + fail ( " Cannot refresh in a Transaction . Expected IllegalStateException to be thrown . " ) ; \n + } catch ( IllegalStateException e ) { \n + assertEquals ( e . getMessage ( ) , " Cannot refresh inside of a transaction . " ) ; \n + } finally { \n + testRealm . cancelTransaction ( ) ; \n + } \n + } \n + \n realm \ realm - library \ src \ main \ java \ io \ realm \ BaseRealm . java \n + private static final String CANNOT _ REFRESH _ INSIDE _ OF _ TRANSACTION _ MESSAGE = " Cannot refresh inside of a transaction . " ; \n + if ( isInTransaction ( ) ) { \n + throw new IllegalStateException ( BaseRealm . CANNOT _ REFRESH _ INSIDE _ OF _ TRANSACTION _ MESSAGE ) ; \n + } \n
realm \ realm - library \ src \ main \ java \ io \ realm \ BaseRealm . java \n + * @ throws IllegalStateException if called from a non - Looper thread . \n + * @ throws IllegalArgumentException if destination argument is null . \n + * \n + * @ throws IllegalStateException if attempting to refresh from within a transaction . \n + * \n + * @ throws IllegalStateException if attempting to close from another thread . \n + * @ throws IllegalStateException if attempting to close from another thread . \n realm \ realm - library \ src \ main \ java \ io \ realm \ DynamicRealm . java \n + import io . realm . exceptions . RealmIOException ; \n + * @ throws RealmIOException if an error happened when accessing the underlying Realm file . \n + * @ throws IllegalArgumentException if { @ code configuration } argument is { @ code null } . \n + * @ throws IllegalArgumentException if the { @ code transaction } is { @ code null } . \n realm \ realm - library \ src \ main \ java \ io \ realm \ Realm . java \n + * @ throws RealmIOException if an error happened when accessing the underlying Realm file . \n + * @ throws RealmIOException if an error happened when accessing the underlying Realm file . \n + * @ throws IllegalArgumentException if a null { @ link RealmConfiguration } is provided . \n + * @ throws IllegalArgumentException if a null { @ link RealmConfiguration } is provided . \n + * @ throws RealmException if unable to map JSON . \n + * @ throws RealmException if unable to create a JSON array from the json string . \n + * @ throws RealmException if unable to read JSON . \n + * @ throws RealmException if JSON data cannot be mapped . \n + * @ throws RealmException if JSON object cannot be mapped from the string parameter . \n + * @ throws RealmException if failure to read JSON . \n + * @ throws IllegalArgumentException if the { @ code transaction } is { @ code null } . \n + * @ throws IllegalArgumentException if the { @ code transaction } is { @ code null } , or if the realm is opened from another thread . \n + * @ throws RealmException if unable to create an instance of the module . \n
CONTRIBUTING . md \n + * < pre > \n + * { @ code \n + * / / A multi - line code sample should be formatted like this . \n + * / / Please wrap the code element in a < pre > tag . \n + * } \n + * < / pre > \n + * \n realm \ realm - library \ src \ main \ java \ io \ realm \ RealmMigration . java \n + * < pre > \n + * < / pre > \n
gradle . properties \n - conference _ day3 _ end = 2018 - 05 - 10T16 : 00 : 00 - 07 : 00 \n + conference _ day3 _ end = 2018 - 05 - 10T22 : 00 : 00 - 07 : 00 \n
shared \ src \ main \ res \ xml \ remote _ config _ defaults . xml \n - < value > Google I / O < / value > \n + < value > io18 < / value > \n - < value > p1n3appl3 < / value > \n + < value > makegoodthings < / value > \n
shared \ src \ main \ res \ xml \ remote _ config _ defaults . xml \n - < value > io18 < / value > \n + < value > io2018 < / value > \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ util \ signin \ FirebaseAuthErrorCodeConverter . kt \n + import timber . log . Timber \n - ErrorCodes . NO _ NETWORK - > R . string . firebase _ auth _ no _ network _ connection \n - else - > R . string . firebase _ auth _ unknown _ error \n + ErrorCodes . NO _ NETWORK - > { \n + Timber . d ( " FirebaseAuth error : no _ network " ) \n + R . string . firebase _ auth _ no _ network _ connection \n + } \n + ErrorCodes . DEVELOPER _ ERROR - > { \n + Timber . w ( " FirebaseAuth error : developer _ error " ) \n + R . string . firebase _ auth _ unknown _ error \n + } \n + ErrorCodes . PLAY _ SERVICES _ UPDATE _ CANCELLED - > { \n + Timber . d ( " FirebaseAuth error : play _ services _ update _ cancelled " ) \n + R . string . firebase _ auth _ unknown _ error \n + } \n + ErrorCodes . PROVIDER _ ERROR - > { \n + Timber . w ( " FirebaseAuth error : provider _ error " ) \n + R . string . firebase _ auth _ unknown _ error \n + } \n + else - > { \n + Timber . w ( " FirebaseAuth error : unknown _ error " ) \n + R . string . firebase _ auth _ unknown _ error \n + } \n
mobile \ build . gradle \n + implementation " com . android . support : customtabs : $ rootProject . supportLibraryVersion " \n mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ info \ AboutFragment . kt \n + import android . content . Context \n + import android . support . customtabs . CustomTabsIntent \n + import android . support . v4 . content . ContextCompat \n - / / TODO use chrome custom tabs if user has chrome installed . \n + const val SERVICE _ ACTION = " android . support . customtabs . action . CustomTabsService " \n + const val CHROME _ PACKAGE = " com . android . chrome " \n + \n - val intent = Intent ( Intent . ACTION _ VIEW ) . apply { \n - data = Uri . parse ( url ) \n + val context = it . context \n + if ( context . isChromeCustomTabsSupported ( ) ) { \n + CustomTabsIntent . Builder ( ) . apply { \n + setToolbarColor ( ContextCompat . getColor ( context , R . color . colorPrimary ) ) \n + setSecondaryToolbarColor ( ContextCompat . getColor ( context , R . color . colorPrimaryDark ) ) \n + } . build ( ) . launchUrl ( context , Uri . parse ( url ) ) \n + } else { \n + val intent = Intent ( Intent . ACTION _ VIEW ) . apply { \n + data = Uri . parse ( url ) \n + } \n + context . startActivity ( intent , null ) \n - it . context . startActivity ( intent , null ) \n - . setTitle ( dialogTitle ) \n - . setView ( webView ) \n - . create ( ) \n - . show ( ) \n + . setTitle ( dialogTitle ) \n + . setView ( webView ) \n + . create ( ) \n + . show ( ) \n + private fun Context . isChromeCustomTabsSupported ( ) : Boolean { \n + val serviceIntent = Intent ( SERVICE _ ACTION ) \n + serviceIntent . setPackage ( CHROME _ PACKAGE ) \n + val resolveInfos = packageManager . queryIntentServices ( serviceIntent , 0 ) \n + return ! ( resolveInfos = = null | | resolveInfos . isEmpty ( ) ) \n + } \n + \n
mobile \ src \ main \ res \ layout \ item _ session . xml \n - < import type = " com . google . samples . apps . iosched . R " / > \n - \n - app : srcAsync = " @ { R . drawable . asld _ star _ event } " / > \n + android : src = " @ drawable / asld _ star _ event " / > \n
tools \ build _ defs \ oss \ rn _ defs . bzl \n + _ = kwargs . pop ( " autoglob " , False ) \n + _ = kwargs . pop ( " autoglob " , False ) \n - is _ androidx = kwargs . pop ( " is _ androidx " , False ) \n + _ = kwargs . pop ( " autoglob " , False ) \n + _ = kwargs . pop ( " is _ androidx " , False ) \n
scripts \ ios - configure - glog . sh \n - CURRENT _ ARCH = " armv7 " \n + CURRENT _ ARCH = " arm64 " \n
scripts \ publish - npm . js \n - let artifacts = [ ' - javadoc . jar ' , ' - sources . jar ' , ' . aar ' , ' . pom ' ] . map ( suffix = > { \n + let artifacts = [ ' . aar ' , ' . pom ' ] . map ( suffix = > { \n
src \ main \ java \ io \ reactivex \ internal \ schedulers \ SchedulerMultiWorkerSupport . java \n - * @ since 2 . 1 . 7 - experimental \n + * @ since 2 . 1 . 8 - experimental \n
src \ main \ java \ io \ reactivex \ internal \ functions \ Functions . java \n - @ SuppressWarnings ( " unchecked " ) \n + @ SuppressWarnings ( " unchecked " ) \n - return ( ( BiFunction < Object , Object , R > ) f ) . apply ( a [ 0 ] , a [ 1 ] ) ; \n + return f . apply ( ( T1 ) a [ 0 ] , ( T2 ) a [ 1 ] ) ; \n
src \ test \ java \ io \ reactivex \ internal \ operators \ flowable \ FlowableUnsubscribeOnTest . java \n - t1 . onComplete ( ) ; \n + / / observeOn will prevent canceling the upstream upon its termination now \n + / / this call is racing for that state in this test \n + / / not doing it will make sure the unsubscribeOn always gets through \n + / / t1 . onComplete ( ) ; \n - t1 . onComplete ( ) ; \n + / / observeOn will prevent canceling the upstream upon its termination now \n + / / this call is racing for that state in this test \n + / / not doing it will make sure the unsubscribeOn always gets through \n + / / t1 . onComplete ( ) ; \n src \ test \ java \ io \ reactivex \ internal \ operators \ observable \ ObservableUnsubscribeOnTest . java \n - t1 . onComplete ( ) ; \n + / / observeOn will prevent canceling the upstream upon its termination now \n + / / this call is racing for that state in this test \n + / / not doing it will make sure the unsubscribeOn always gets through \n + / / t1 . onComplete ( ) ; \n - t1 . onComplete ( ) ; \n + / / observeOn will prevent canceling the upstream upon its termination now \n + / / this call is racing for that state in this test \n + / / not doing it will make sure the unsubscribeOn always gets through \n + / / t1 . onComplete ( ) ; \n
gradle \ build . gradle \n + compileJava { \n + doFirst { \n + mkdir destinationDir \n + Map otherArgs = [ \n + includeAntRuntime : false , \n + destdir : destinationDir , \n + classpath : configurations . compile . asPath , \n + sourcepath : ' ' , \n + target : targetCompatibility , \n + source : sourceCompatibility \n + ] \n + options . compilerArgs = [ \n + ' - processor ' , ' com . googlecode . androidannotations . AndroidAnnotationProcessor ' , \n + ' - s ' , " $ { destinationDir . absolutePath } " . toString ( ) , \n + ' - processorpath ' , " lib / androidannotations - $ { androidAnnotationsVersion } . jar " \n + ] \n + Map antOptions = otherArgs + options . optionMap ( ) \n + ant . javac ( antOptions ) { \n + source . addToAntBuilder ( ant , ' src ' , FileCollection . AntType . MatchingTask ) \n + options . compilerArgs . each { value - > \n + compilerarg ( value : value ) \n + } \n + } \n + } \n + } \n + \n
AndroidAnnotations \ . gitignore \n + * . iml \n + * . ipr \n + * . iws \n + * . idea \n HelloWorldEclipse \ . gitignore \n + * . iml \n + * . ipr \n + * . iws \n + * . idea \n RoboGuiceExample \ . gitignore \n + * . ipr \n + * . iws \n + * . iml \n + * . idea \n maveneclipse \ . gitignore \n + * . ipr \n + * . iws \n + * . iml \n + * . idea \n
gradle \ build . gradle \n - maven { \n - url ' http : / / maven . teamcodeflux . com / external / ' \n - } \n - def gradleAndroidAnnotationsPluginVersion = ' 0 . 1 . 0 ' \n + def gradleAndroidAnnotationsPluginVersion = ' 0 . 3 . 0 ' \n - classpath " org . androidannotations . gradle . plugins : gradle - androidannotations - plugin : $ gradleAndroidAnnotationsPluginVersion " \n + classpath " net . ealden . gradle . plugins : gradle - androidannotations - plugin : $ gradleAndroidAnnotationsPluginVersion " \n - androidAnnotationsVersion = ' 2 . 2 ' \n - \n - dependencies { \n - compile " com . googlecode . androidannotations : androidannotations : $ androidAnnotationsVersion : api " \n - } \n - \n deleted file \n gradle \ lib \ androidannotations - 2 . 2 . jar \n Binary files a / gradle / lib / androidannotations - 2 . 2 . jar and / dev / null differ \n
CHANGELOG . md \n + # # 10 . 2 . 1 ( YYYY - MM - DD ) \n + \n + # # # Breaking Changes \n + * None . \n + \n + # # # Enhancements \n + * None . \n + \n + # # # Fixes \n + * Added ` @ Nullable ` annotation to input parameter in ` RealmObject . isValid ( item ) ` to avoid mismatch warnings from Kotlin code ( Issue [ # 7216 ] ( https : / / github . com / realm / realm - java / issues / 7216 ) ) . \n + \n + # # # Compatibility \n + * File format : Generates Realms with format v20 . Unsynced Realms will be upgraded from Realm Java 2 . 0 and later . Synced Realms can only be read and upgraded if created with Realm Java v10 . 0 . 0 - BETA . 1 . \n + * APIs are backwards compatible with all previous release of realm - java in the 10 . x . y series . \n + * Realm Studio 10 . 0 . 0 or above is required to open Realms created by this version . \n + \n + # # # Internal \n + * Updated to Object Store commit : fc790d558ddc0e25a50d6b27dadf617532a1bf44 . \n + \n + \n - * [ RealmApp ] Added ` Credentials . google ( token : String , authType : GoogleAuthType ) ` , as MongoDB Realm now supports multiple ways of logging into Google Accounts . \n + * [ RealmApp ] Added ` Credentials . google ( token : String , authType : GoogleAuthType ) ` , as MongoDB Realm now supports multiple ways of logging into Google Accounts . \n - * Updated to Object Store commit : f838a27402c5b5243280102014defd844420abba66eb93c10334507d9c0fd513 . . \n + * Updated to Object Store commit : f838a27402c5b5243280102014defd844420abba66eb93c10334507d9c0fd513 . \n realm \ realm - library \ src \ main \ cpp \ object - store \n - Subproject commit 5c3684663078d1142259796a2d3c3a8df58851e5 \n + Subproject commit fc790d558ddc0e25a50d6b27dadf617532a1bf44 \n realm \ realm - library \ src \ main \ java \ io \ realm \ RealmObject . java \n + import javax . annotation . Nullable ; \n + \n - public static < E extends RealmModel > boolean isValid ( E object ) { \n + public static < E extends RealmModel > boolean isValid ( @ Nullable E object ) { \n
Jenkinsfile \n - timeout ( time : 90 , unit : ' MINUTES ' ) { \n + timeout ( time : 150 , unit : ' MINUTES ' ) { \n + \n + / / TODO : revert once confirmed the LTO fix in core works \n + / / if ( ! releaseBranches . contains ( currentBranch ) ) { \n realm \ realm - library \ src \ main \ cpp \ io _ realm _ internal _ OsRealmConfig . cpp \n - static _ assert ( SchemaMode : : Additive = = \n - static _ cast < SchemaMode > ( io _ realm _ internal _ OsRealmConfig _ SCHEMA _ MODE _ VALUE _ ADDITIVE ) , \n + static _ assert ( SchemaMode : : AdditiveDiscovered = = \n + static _ cast < SchemaMode > ( io _ realm _ internal _ OsRealmConfig _ SCHEMA _ MODE _ VALUE _ ADDITIVE _ DISCOVERED ) , \n realm \ realm - library \ src \ main \ cpp \ realm - core \n - Subproject commit 571914d08bdc2283d4f8c93835b38d48c093cd00 \n + Subproject commit 84498f48cd69d68509eb5365c2009283a109a4af \n realm \ realm - library \ src \ main \ java \ io \ realm \ internal \ OsRealmConfig . java \n - SCHEMA _ MODE _ ADDITIVE ( SCHEMA _ MODE _ VALUE _ ADDITIVE ) , \n + SCHEMA _ MODE _ ADDITIVE _ DISCOVERED ( SCHEMA _ MODE _ VALUE _ ADDITIVE _ DISCOVERED ) , \n + \n + / / TODO : implement AdditiveExplicit \n + \n - private static final byte SCHEMA _ MODE _ VALUE _ ADDITIVE = 4 ; \n - private static final byte SCHEMA _ MODE _ VALUE _ MANUAL = 5 ; \n + private static final byte SCHEMA _ MODE _ VALUE _ ADDITIVE _ DISCOVERED = 4 ; \n + private static final byte SCHEMA _ MODE _ VALUE _ ADDITIVE _ EXPLICIT = 5 ; \n + private static final byte SCHEMA _ MODE _ VALUE _ MANUAL = 6 ; \n - schemaMode = SchemaMode . SCHEMA _ MODE _ ADDITIVE ; \n + schemaMode = SchemaMode . SCHEMA _ MODE _ ADDITIVE _ DISCOVERED ; \n
CHANGELOG . md \n - * Updated to Realm Core commit : b72b5d6897fac5c1029c2a56a87096877fdca766 . \n + * Updated to Realm Core commit : df57de0101b5b817f8f4158cf45e11985cd640c2 . \n realm \ realm - library \ src \ main \ cpp \ io _ realm _ internal _ Table . cpp \n - return to _ jbool ( table - > set _ embedded ( to _ bool ( j _ embedded ) ) ) ; \n + table - > set _ embedded ( to _ bool ( j _ embedded ) ) ; \n + return true ; \n realm \ realm - library \ src \ main \ cpp \ realm - core \n - Subproject commit b72b5d6897fac5c1029c2a56a87096877fdca766 \n + Subproject commit df57de0101b5b817f8f4158cf45e11985cd640c2 \n
Jenkinsfile \n - rosContainer = rosEnv . run ( " - v / tmp = / tmp / . ros " + \n - " - - name ros " ) \n + rosContainer = rosEnv . run ( ' - v / tmp = / tmp / . ros ' ) \n - " - - network container : ros " ) { \n + " - - network container : $ { rosContainer . id } " ) { \n - sh " docker logs ros " \n + sh " docker logs $ { rosContainer . id } " \n
realm \ realm - library \ src \ main \ cpp \ CMakeLists . txt \n - set _ target _ properties ( lib _ realm _ core PROPERTIES IMPORTED _ LOCATION $ { core _ lib _ PATH } ) \n + \n + # - latomic is not set by default for mips and armv5 . \n + # See https : / / code . google . com / p / android / issues / detail ? id = 182094 \n + set _ target _ properties ( lib _ realm _ core PROPERTIES IMPORTED _ LOCATION $ { core _ lib _ PATH } \n + IMPORTED _ LINK _ INTERFACE _ LIBRARIES atomic ) \n - set _ target _ properties ( lib _ realm _ sync PROPERTIES IMPORTED _ LOCATION $ { sync _ lib _ PATH } ) \n + set _ target _ properties ( lib _ realm _ sync PROPERTIES IMPORTED _ LOCATION $ { sync _ lib _ PATH } \n + IMPORTED _ LINK _ INTERFACE _ LIBRARIES lib _ realm _ core ) \n - # - latomic is not set by default for mips . See https : / / code . google . com / p / android / issues / detail ? id = 182094 \n + \n - # FIXME : The order matters ! lib _ realm _ sync needs to be in front of lib _ realm _ core ! ! Find out why ! ! \n - target _ link _ libraries ( realm - jni log android atomic lib _ realm _ sync lib _ realm _ core ) \n + target _ link _ libraries ( realm - jni log android lib _ realm _ sync ) \n - target _ link _ libraries ( realm - jni log android atomic lib _ realm _ core ) \n + target _ link _ libraries ( realm - jni log android lib _ realm _ core ) \n
Jenkinsfile \n - sh " curl - i - XPOST ' https : / / greatscott - pinheads - 70 . c . influxdb . com : 8086 / write ? db = realm ' - - data - binary ' $ { metricName } , $ { tagsString } value = $ { metricValue } i ' - - user ' $ { env . influx _ user } : $ { env . influx _ pass } ' " \n + sh " curl - i - XPOST ' https : / / influxdb . realmlab . net / write ? db = realm ' - - data - binary ' $ { metricName } , $ { tagsString } value = $ { metricValue } i ' - - user ' $ { env . influx _ user } : $ { env . influx _ pass } ' " \n
build . gradle \n - tasks = [ ' install ' ] \n + tasks = [ ' install ' , ' uploadShadow ' ] \n realm \ realm - annotations - processor \ build . gradle \n + \n + uploadShadow { \n + repositories { \n + mavenDeployer { \n + repository ( url : mavenLocal ( ) . url ) \n + } \n + } \n + } \n
version . txt \n - 2 . 0 . 0 \n + 2 . 0 . 1 - SNAPSHOT \n
new file \n examples \ jsonExample \ lombok . config \n + lombok . addGeneratedAnnotation = false \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ bridge \ ReactMarkerConstants . java \n - FABRIC _ UPDATE _ UI _ MAIN _ THREAD _ END \n + FABRIC _ UPDATE _ UI _ MAIN _ THREAD _ END , \n + / / New markers used by bridgeless RN below this line \n + REACT _ INSTANCE _ INIT _ START , \n + REACT _ INSTANCE _ INIT _ END \n
ReactCommon \ react \ renderer \ uimanager \ UIManagerBinding . cpp \n - if ( runtime . global ( ) . hasProperty ( runtime , " RN $ stopSurface " ) ) { \n - auto method = \n - runtime . global ( ) . getPropertyAsFunction ( runtime , " RN $ stopSurface " ) ; \n - method . call ( runtime , { jsi : : Value { surfaceId } } ) ; \n + auto global = runtime . global ( ) ; \n + if ( global . hasProperty ( runtime , " RN $ Bridgeless " ) ) { \n + if ( ! global . hasProperty ( runtime , " RN $ stopSurface " ) ) { \n + / / ReactFabric module has not been loaded yet ; there ' s no surface to stop . \n + return ; \n + } \n + / / Bridgeless mode uses a custom JSI binding instead of callable module . \n + global . getPropertyAsFunction ( runtime , " RN $ stopSurface " ) \n + . call ( runtime , { jsi : : Value { surfaceId } } ) ; \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ viewmanagers \ AndroidDropdownPickerManagerDelegate . java \n - * Copyright ( c ) Facebook , Inc . and its affiliates . \n - * \n - * This source code is licensed under the MIT license found in the \n - * LICENSE file in the root directory of this source tree . \n - * \n - * @ generated by codegen project : GeneratePropsJavaDelegate . js \n - * / \n - \n + * Copyright ( c ) Facebook , Inc . and its affiliates . \n + * \n + * < p > This source code is licensed under the MIT license found in the LICENSE file in the root \n + * directory of this source tree . \n + * \n + * @ generated by codegen project : GeneratePropsJavaDelegate . js \n + * / \n - public class AndroidDropdownPickerManagerDelegate < T extends View , U extends BaseViewManagerInterface < T > & AndroidDropdownPickerManagerInterface < T > > extends BaseViewManagerDelegate < T , U > { \n + public class AndroidDropdownPickerManagerDelegate < \n + T extends View , \n + U extends BaseViewManagerInterface < T > & AndroidDropdownPickerManagerInterface < T > > \n + extends BaseViewManagerDelegate < T , U > { \n + \n ReactAndroid \ src \ main \ java \ com \ facebook \ react \ views \ picker \ ReactDropdownPickerManager . java \n + import androidx . annotation . NonNull ; \n + \n + @ Override \n + public void setBackgroundColor ( @ NonNull ReactPicker view , int backgroundColor ) { \n + view . setStagedBackgroundColor ( backgroundColor ) ; \n + } \n ReactAndroid \ src \ main \ java \ com \ facebook \ react \ views \ picker \ ReactPicker . java \n + import android . content . res . ColorStateList ; \n + import androidx . core . view . ViewCompat ; \n + ViewCompat . setBackgroundTintList ( this , ColorStateList . valueOf ( mStagedPrimaryTextColor ) ) ; \n
stetho \ src \ main \ java \ com \ facebook \ stetho \ json \ ObjectMapper . java \n - field . set ( instance , getValueForField ( field , value ) ) ; \n + field . set ( instance , setValue ) ; \n
README . md \n + You can also enable a JavaScript console with : \n + \n + ` ` ` groovy \n + compile ' com . facebook . stetho : stetho - js - rhino : 1 . 1 . 1 ' \n + ` ` ` \n + For more details on how to customize the JavaScript runtime see [ stetho - js - rhino ] ( stetho - js - rhino / ) . \n + \n
stetho - js - rhino \ build . gradle \n - testCompile ' org . robolectric : robolectric : 2 . 4 ' \n stetho - js - rhino \ src \ test \ java \ com \ facebook \ stetho \ rhino \ JsFormatTest . java \n - import android . os . Build ; \n - import org . robolectric . RobolectricTestRunner ; \n - import org . robolectric . annotation . Config ; \n + import org . junit . runners . JUnit4 ; \n - import static org . junit . Assert . * ; \n + import static org . junit . Assert . assertEquals ; \n - @ Config ( emulateSdk = Build . VERSION _ CODES . JELLY _ BEAN ) \n - @ RunWith ( RobolectricTestRunner . class ) \n + @ RunWith ( JUnit4 . class ) \n
handler \ src \ main \ java \ io \ netty \ handler \ ssl \ Conscrypt . java \n + import java . lang . reflect . InvocationTargetException ; \n - private static final Class < ? > CONSCRYPT _ CLASS = getConscryptClass ( ) ; \n + private static final Method IS _ CONSCRYPT _ SSLENGINE = loadIsConscryptEngine ( ) ; \n - / * * \n - * Indicates whether or not conscrypt is available on the current system . \n - * / \n - static boolean isAvailable ( ) { \n - return CONSCRYPT _ CLASS ! = null & & PlatformDependent . javaVersion ( ) > = 8 ; \n - } \n - \n - static boolean isEngineSupported ( SSLEngine engine ) { \n - return isAvailable ( ) & & isConscryptEngine ( engine , CONSCRYPT _ CLASS ) ; \n - } \n - \n - private static Class < ? > getConscryptClass ( ) { \n + private static Method loadIsConscryptEngine ( ) { \n - / / Ensure that it also has the isConscrypt method . \n - getIsConscryptMethod ( conscryptClass ) ; \n - return conscryptClass ; \n + return conscryptClass . getMethod ( " isConscrypt " , SSLEngine . class ) ; \n - private static boolean isConscryptEngine ( SSLEngine engine , Class < ? > conscryptClass ) { \n + / * * \n + * Indicates whether or not conscrypt is available on the current system . \n + * / \n + static boolean isAvailable ( ) { \n + return IS _ CONSCRYPT _ SSLENGINE ! = null & & PlatformDependent . javaVersion ( ) > = 8 ; \n + } \n + \n + static boolean isEngineSupported ( SSLEngine engine ) { \n + return isAvailable ( ) & & isConscryptEngine ( engine ) ; \n + } \n + \n + private static boolean isConscryptEngine ( SSLEngine engine ) { \n - Method method = getIsConscryptMethod ( conscryptClass ) ; \n - return ( Boolean ) method . invoke ( null , engine ) ; \n - } catch ( Throwable ignore ) { \n + return ( Boolean ) IS _ CONSCRYPT _ SSLENGINE . invoke ( null , engine ) ; \n + } catch ( IllegalAccessException ignore ) { \n + } catch ( InvocationTargetException ex ) { \n + throw new RuntimeException ( ex ) ; \n - private static Method getIsConscryptMethod ( Class < ? > conscryptClass ) throws NoSuchMethodException { \n - return conscryptClass . getMethod ( " isConscrypt " , SSLEngine . class ) ; \n - } \n - \n
pom . xml \n - < conscrypt . version > 1 . 0 . 0 . RC13 < / conscrypt . version > \n + < conscrypt . version > 1 . 0 . 0 < / conscrypt . version > \n
common \ src \ main \ java \ io \ netty \ util \ internal \ NativeLibraryLoader . java \n + / / Pass " io . netty . native . workdir " as an argument to allow shading tools to see \n + / / the string . Since this is printed out to users to tell them what to do next , \n + / / we want the value to be correct even when shading . \n - " check volume for \ " noexec \ " flag ; use - Dio . netty . native . workdir = [ path ] " + \n + " check volume for \ " noexec \ " flag ; use - D { } = [ path ] " + \n - tmpFile . getPath ( ) ) ; \n + tmpFile . getPath ( ) , " io . netty . native . workdir " ) ; \n
modules \ io \ src - tests \ retrofit \ io \ TypedFileTest . java \n + import java . io . FileOutputStream ; \n + import java . io . IOException ; \n + \n + public void testLength ( ) throws IOException { \n + File tempFile = File . createTempFile ( " foo " , " . tmp " ) ; \n + try { \n + TypedFile typedFile = new TypedFile ( tempFile , MimeType . PNG ) ; \n + assertEquals ( " length " , 0 , typedFile . length ( ) ) ; \n + \n + writeToFile ( tempFile , new byte [ ] { 0 , 1 , 2 , 3 , 4 } ) ; \n + \n + assertEquals ( " file length " , 5 , tempFile . length ( ) ) ; \n + assertEquals ( " typed file length " , 5 , typedFile . length ( ) ) ; \n + \n + } finally { \n + / / noinspection ResultOfMethodCallIgnored \n + tempFile . delete ( ) ; \n + } \n + } \n + \n + private void writeToFile ( File file , byte [ ] data ) throws IOException { \n + FileOutputStream fos = new FileOutputStream ( file ) ; \n + try { \n + fos . write ( data ) ; \n + } finally { \n + fos . close ( ) ; \n + } \n + } \n modules \ io \ src \ retrofit \ io \ AbstractTypedBytes . java \n - private final int length ; \n - public AbstractTypedBytes ( MimeType mimeType , int length ) { \n - this . length = length ; \n + public AbstractTypedBytes ( MimeType mimeType ) { \n - public int length ( ) { \n - return length ; \n - } \n + / * * Returns the length in bytes . * / \n + public abstract int length ( ) ; \n modules \ io \ src \ retrofit \ io \ TypedByteArray . java \n - super ( mimeType , bytes . length ) ; \n + super ( mimeType ) ; \n + @ Override public int length ( ) { \n + return bytes . length ; \n + } \n + \n modules \ io \ src \ retrofit \ io \ TypedFile . java \n - super ( mimeType , ( int ) file . length ( ) ) ; \n + super ( mimeType ) ; \n + \n + @ Override public int length ( ) { \n + return ( int ) file . length ( ) ; \n + } \n
revision . properties \n - retrofit . revision = 0 . 3 - SNAPSHOT \n + retrofit . revision = 0 . 4 - SNAPSHOT \n
. idea \ inspectionProfiles \ Project _ Default . xml \n + < option name = " IGNORE _ POINT _ TO _ ITSELF " value = " false " / > \n . idea \ misc . xml \n + < component name = " EntryPointsManager " > \n + < entry _ points version = " 2 . 0 " / > \n + < / component > \n modules \ io \ src \ retrofit \ io \ ByteSinks . java \n - import java . io . OutputStream ; \n - final OutputStream out = new FileOutputStream ( file ) ; \n + final FileOutputStream out = new FileOutputStream ( file ) ; \n + out . getFD ( ) . sync ( ) ; \n modules \ io \ src \ retrofit \ io \ Files . java \n + out . getFD ( ) . sync ( ) ; \n
picasso \ src \ main \ java \ com \ squareup \ picasso3 \ BitmapHunter . java \n - } catch ( NetworkRequestHandler . ResponseException e ) { \n - if ( ! NetworkPolicy . isOfflineOnly ( e . networkPolicy ) | | e . code ! = 504 ) { \n - exception = e ; \n - } \n - dispatcher . dispatchFailed ( this ) ; \n
picasso \ src \ main \ java \ com \ squareup \ picasso3 \ Dispatcher . java \n - mainThreadHandler . sendMessage ( mainThreadHandler . obtainMessage ( HUNTER _ COMPLETE , hunter ) ) ; \n + Message message = mainThreadHandler . obtainMessage ( HUNTER _ COMPLETE , hunter ) ; \n + if ( hunter . priority = = Picasso . Priority . HIGH ) { \n + mainThreadHandler . sendMessageAtFrontOfQueue ( message ) ; \n + } else { \n + mainThreadHandler . sendMessage ( message ) ; \n + } \n
picasso \ src \ main \ java \ com \ squareup \ picasso3 \ Picasso . java \n + / * * \n + * High priority requests will post to the front of main thread ' s message queue when \n + * they complete loading and their images need to be rendered . \n + * / \n
okhttp - tests \ src \ test \ java \ okhttp3 \ HttpUrlTest . java \n + try { \n + new HttpUrl . Builder ( ) . scheme ( " http " ) . toString ( ) ; \n + fail ( ) ; \n + } catch ( IllegalStateException expected ) { \n + assertEquals ( " host = = null " , expected . getMessage ( ) ) ; \n + } \n + try { \n + new HttpUrl . Builder ( ) . host ( " host " ) . toString ( ) ; \n + fail ( ) ; \n + } catch ( IllegalStateException expected ) { \n + assertEquals ( " scheme = = null " , expected . getMessage ( ) ) ; \n + } \n okhttp \ src \ main \ java \ okhttp3 \ HttpUrl . java \n + if ( scheme = = null ) throw new IllegalStateException ( " scheme = = null " ) ; \n + if ( host = = null ) throw new IllegalStateException ( " host = = null " ) ; \n + \n
build . gradle \n + ' okio ' : ' 1 . 15 . 0 ' , \n + okio : " com . squareup . okio : okio : $ { versions . okio } " , \n picasso \ build . gradle \n + api deps . okio \n
gradle . properties \n - OKHTTP3 _ VERSION = 3 . 8 . 0 \n + OKHTTP3 _ VERSION = 3 . 10 . 0 \n
pom . xml \n - < rxjava . version > 0 . 20 . 5 < / rxjava . version > \n + < rxjava . version > 1 . 0 . 0 - rc . 4 < / rxjava . version > \n - < groupId > com . netflix . rxjava < / groupId > \n - < artifactId > rxjava - core < / artifactId > \n + < groupId > io . reactivex < / groupId > \n + < artifactId > rxjava < / artifactId > \n retrofit - mock \ pom . xml \n - < groupId > com . netflix . rxjava < / groupId > \n - < artifactId > rxjava - core < / artifactId > \n + < groupId > io . reactivex < / groupId > \n + < artifactId > rxjava < / artifactId > \n retrofit - mock \ src \ test \ java \ retrofit \ MockRestAdapterTest . java \n - return Observable . from ( expected ) ; \n + return Observable . just ( expected ) ; \n retrofit \ pom . xml \n - < groupId > com . netflix . rxjava < / groupId > \n - < artifactId > rxjava - core < / artifactId > \n + < groupId > io . reactivex < / groupId > \n + < artifactId > rxjava < / artifactId > \n
src \ main \ java \ rx \ exceptions \ OnErrorThrowable . java \n - if ( value = = null ) { \n + if ( value = = null ) { \n - if ( value . getClass ( ) . isPrimitive ( ) ) { \n + if ( value . getClass ( ) . isPrimitive ( ) ) { \n - if ( value instanceof String ) { \n - return ( String ) value ; \n + if ( value instanceof String ) { \n + return ( String ) value ; \n - return value . getClass ( ) . getSimpleName ( ) + " . class " ; \n + if ( value instanceof Enum ) { \n + return ( ( Enum ) value ) . name ( ) ; \n + } \n + return value . getClass ( ) . getName ( ) + " . class " ; \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ Picasso . java \n + / / If there is already a deferred request , cancel it . \n + if ( targetToDeferredRequestCreator . containsKey ( view ) ) { \n + cancelExistingRequest ( view ) ; \n + } \n picasso \ src \ test \ java \ com \ squareup \ picasso \ PicassoTest . java \n + @ Test public void enqueueingDeferredRequestCancelsThePreviousOne ( ) throws Exception { \n + ImageView target = mockImageViewTarget ( ) ; \n + DeferredRequestCreator firstRequestCreator = mockDeferredRequestCreator ( ) ; \n + picasso . defer ( target , firstRequestCreator ) ; \n + assertThat ( picasso . targetToDeferredRequestCreator ) . containsKey ( target ) ; \n + \n + DeferredRequestCreator secondRequestCreator = mockDeferredRequestCreator ( ) ; \n + picasso . defer ( target , secondRequestCreator ) ; \n + verify ( firstRequestCreator ) . cancel ( ) ; \n + assertThat ( picasso . targetToDeferredRequestCreator ) . containsKey ( target ) ; \n + } \n + \n
gradle . properties \n - GRADLE _ BINTRAY _ PLUGIN _ VERSION = 1 . 7 . 1 \n + GRADLE _ BINTRAY _ PLUGIN _ VERSION = 1 . 8 . 4 \n
docs \ _ data \ powered _ by . yml \n - name : Wikimedia Commons \n + - name : Waldo Photos \n + url : https : / / play . google . com / store / apps / details ? id = com . waldophotos . android \n
circle . yml \n - image : circleci / android : api - 27 - alpha \n - checkout \n + - run : yes | sdkmanager - - licenses | | exit 0 \n + - run : yes | sdkmanager - - update | | exit 0 \n - run : \n
data \ etc \ privapp - permissions - platform . xml \n - < permission name = " android . permission . NETWORK _ AIRPLANE _ MODE " / > \n packages \ Shell \ AndroidManifest . xml \n - < ! - - Permission needed to read wifi network credentials for CtsNetTestCases - - > \n - < uses - permission android : name = " android . permission . NETWORK _ AIRPLANE _ MODE " / > \n - \n
core \ res \ AndroidManifest . xml \n - android : protectionLevel = " signature | setup " / > \n + android : protectionLevel = " signature | privileged " / > \n
new file \n packages \ SettingsLib \ src \ com \ android \ settingslib \ connectivity \ OWNERS \n + # Default reviewers for this and subdirectories . \n + andychou @ google . com \n + arcwang @ google . com \n + goldmanj @ google . com \n + qal @ google . com \n + wengsu @ google . com \n + \n + # Emergency approvers in case the above are not available \n
fbcore \ src \ main \ java \ com \ facebook \ common \ statfs \ StatFsHelper . java \n + public static final int DEFAULT _ DISK _ RED _ LEVEL _ IN _ MB = 100 ; \n + \n + public static final long DEFAULT _ DISK _ RED _ LEVEL _ IN _ BYTES = \n + DEFAULT _ DISK _ RED _ LEVEL _ IN _ MB * 1024 * 1024 ; \n + \n + public boolean isVeryLowSpaceCondition ( ) { \n + return getAvailableStorageSpace ( StatFsHelper . StorageType . INTERNAL ) \n + < DEFAULT _ DISK _ RED _ LEVEL _ IN _ BYTES ; \n + } \n + \n
fbcore \ src \ main \ java \ com \ facebook \ common \ statfs \ StatFsHelper . java \n + public static final long DEFAULT _ DISK _ OLIVE _ LEVEL _ IN _ BYTES = 1000 * 1024 * 1024 ; \n + \n + public boolean isHighSpaceCondition ( ) { \n + return getAvailableStorageSpace ( StatFsHelper . StorageType . INTERNAL ) \n + > DEFAULT _ DISK _ OLIVE _ LEVEL _ IN _ BYTES ; \n + } \n + \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ core \ ImagePipelineExperiments . java \n + import com . facebook . common . memory . PooledByteStreams ; \n + private final boolean mUseCombinedNetworkAndCacheProducer ; \n + mUseCombinedNetworkAndCacheProducer = builder . mUseCombinedNetworkAndCacheProducer ; \n + public boolean shouldUseCombinedNetworkAndCacheProducer ( ) { \n + return mUseCombinedNetworkAndCacheProducer ; \n + } \n + \n + private boolean mUseCombinedNetworkAndCacheProducer = false ; \n + public ImagePipelineConfig . Builder setUseCombinedNetworkAndCacheProducer ( \n + boolean useCombinedNetworkAndCacheProducer ) { \n + mUseCombinedNetworkAndCacheProducer = useCombinedNetworkAndCacheProducer ; \n + return mConfigBuilder ; \n + } \n + \n + PooledByteStreams pooledByteStreams , \n + PooledByteStreams pooledByteStreams , \n imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ core \ ImagePipelineFactory . java \n + mConfig . getPoolFactory ( ) . getPooledByteStreams ( ) , \n - mConfig . getExperiments ( ) . isDiskCacheProbingEnabled ( ) ) ; \n + mConfig . getExperiments ( ) . isDiskCacheProbingEnabled ( ) , \n + mConfig . getExperiments ( ) . shouldUseCombinedNetworkAndCacheProducer ( ) ) ; \n imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ core \ ProducerFactory . java \n + import androidx . annotation . Nullable ; \n + \n + public @ Nullable Producer < EncodedImage > newCombinedNetworkAndCacheProducer ( \n + final NetworkFetcher networkFetcher ) { \n + return null ; \n + } \n imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ core \ ProducerSequenceFactory . java \n + private final boolean mUseCombinedNetworkAndCacheProducer ; \n - boolean isDiskCacheProbingEnabled ) { \n + boolean isDiskCacheProbingEnabled , \n + boolean useCombinedNetworkAndCacheProducer ) { \n + mUseCombinedNetworkAndCacheProducer = useCombinedNetworkAndCacheProducer ; \n - / * * multiplex - > encoded cache - > disk cache - > ( webp transcode ) - > network fetch . * / \n + / * * \n + * multiplex - > encoded cache - > disk cache - > ( webp transcode ) - > network fetch . Alternatively , \n + * multiplex - > combined network and cache \n + * / \n - newEncodedCacheMultiplexToTranscodeSequence ( \n - mProducerFactory . newNetworkFetchProducer ( mNetworkFetcher ) ) ; \n + mUseCombinedNetworkAndCacheProducer \n + ? mProducerFactory . newCombinedNetworkAndCacheProducer ( mNetworkFetcher ) \n + : newEncodedCacheMultiplexToTranscodeSequence ( \n + mProducerFactory . newNetworkFetchProducer ( mNetworkFetcher ) ) ; \n imagepipeline \ src \ test \ java \ com \ facebook \ imagepipeline \ core \ ProducerSequenceFactoryTest . java \n + false , \n + false , \n
build . gradle \n - classpath ' com . android . tools . build : gradle : 1 . 5 . 0 ' \n + classpath ' com . android . tools . build : gradle : 2 . 1 . 0 ' \n - classpath " com . fernandocejas . frodo : frodo - plugin : 0 . 8 . 1 " \n + classpath " com . fernandocejas . frodo : frodo - plugin : 0 . 8 . 3 " \n - gradleVersion ' 2 . 10 ' \n + gradleVersion ' 2 . 12 ' \n
. travis . yml \n - - build - tools - 23 . 0 . 1 \n - - android - 21 \n + - tools \n + - platform - tools \n + - tools \n + - build - tools - 24 . 0 . 1 \n + - android - 23 \n + - extra - google - m2repository \n + - extra - android - m2repository \n + \n + licenses : \n + - ' android - sdk - preview - license - . + ' \n + - ' android - sdk - license - . + ' \n + - ' google - gdk - license - . + ' \n
domain \ src \ main \ java \ com \ fernandocejas \ android10 \ sample \ domain \ interactor \ GetUserDetails . java \n + public static final String NAME = " userDetails " ; \n + \n domain \ src \ main \ java \ com \ fernandocejas \ android10 \ sample \ domain \ interactor \ GetUserList . java \n + public static final String NAME = " userList " ; \n + \n presentation \ src \ main \ java \ com \ fernandocejas \ android10 \ sample \ presentation \ internal \ di \ modules \ UserModule . java \n - @ Provides @ PerActivity @ Named ( " userList " ) UseCase provideGetUserListUseCase ( \n + @ Provides @ PerActivity @ Named ( GetUserList . NAME ) UseCase provideGetUserListUseCase ( \n - @ Provides @ PerActivity @ Named ( " userDetails " ) UseCase provideGetUserDetailsUseCase ( \n + @ Provides @ PerActivity @ Named ( GetUserDetails . NAME ) UseCase provideGetUserDetailsUseCase ( \n - } \n + } \n presentation \ src \ main \ java \ com \ fernandocejas \ android10 \ sample \ presentation \ presenter \ UserDetailsPresenter . java \n + import com . fernandocejas . android10 . sample . domain . interactor . GetUserDetails ; \n - public UserDetailsPresenter ( @ Named ( " userDetails " ) UseCase getUserDetailsUseCase , \n + public UserDetailsPresenter ( @ Named ( GetUserDetails . NAME ) UseCase getUserDetailsUseCase , \n presentation \ src \ main \ java \ com \ fernandocejas \ android10 \ sample \ presentation \ presenter \ UserListPresenter . java \n + import com . fernandocejas . android10 . sample . domain . interactor . GetUserList ; \n - public UserListPresenter ( @ Named ( " userList " ) UseCase getUserListUserCase , \n + public UserListPresenter ( @ Named ( GetUserList . NAME ) UseCase getUserListUserCase , \n
core \ src \ main \ java \ io \ plaidapp \ core \ data \ prefs \ SourcesRepository . kt \n + private val cache = mutableListOf < Source > ( ) \n + if ( cache . isNotEmpty ( ) ) { \n + return cache \n + } \n + / / cache is empty \n - return sources \n + cache . addAll ( sources ) \n + return cache \n + cache . add ( source ) \n + cache . find { it . key = = source . key } ? . apply { active = source . active } \n + val index = cache . indexOf ( source ) \n + if ( index > = 0 ) { \n + cache . removeAt ( index ) \n + } \n core \ src \ test \ java \ io \ plaidapp \ core \ data \ prefs \ SourcesRepositoryTest . kt \n + @ Test \n + fun addSource _ addsSourceCache ( ) { \n + / / When adding a source \n + repository . addSource ( designerNewsSource ) \n + \n + / / Then the source is returned \n + val sources = repository . getSources ( ) \n + assertEquals ( listOf ( designerNewsSource ) , sources ) \n + } \n + \n + @ Test \n + fun updateSource _ updatesInCache ( ) { \n + / / Given an added source \n + repository . addSource ( designerNewsSource ) \n + \n + / / When updating a source \n + val designerNewsInactive = Source . DesignerNewsSearchSource ( \n + " query " , \n + false \n + ) \n + repository . updateSource ( designerNewsInactive ) \n + \n + / / Then the updated source is returned \n + val sources = repository . getSources ( ) \n + assertEquals ( 1 , sources . size ) \n + val updatedSource = sources [ 0 ] \n + assertEquals ( designerNewsInactive . key , updatedSource . key ) \n + assertEquals ( designerNewsInactive . active , updatedSource . active ) \n + } \n + \n + @ Test \n + fun removeSource _ removesFromCache ( ) { \n + / / Given an added source \n + repository . addSource ( designerNewsSource ) \n + \n + / / When removing a source \n + repository . removeSource ( designerNewsSource ) \n + \n + / / Then the source was removed from cache \n + val sources = repository . getSources ( ) \n + assertTrue ( sources . isEmpty ( ) ) \n + } \n + \n
app \ src \ main \ java \ io \ plaidapp \ ui \ HomeActivity . java \n - import android . app . Activity ; \n - import androidx . appcompat . app . AppCompatActivity ; \n - import io . plaidapp . core . data . DataManager ; \n - import io . plaidapp . core . designernews . data . login . LoginRepository ; \n - DataManager dataManager ; \n - @ Inject \n - LoginRepository loginRepository ; \n - @ Inject \n - grid . addOnScrollListener ( new InfiniteScrollListener ( layoutManager , dataManager ) { \n + grid . addOnScrollListener ( new InfiniteScrollListener ( layoutManager , viewModel . getDataManager ( ) ) { \n - dataManager . loadAllDataSources ( ) ; \n + viewModel . loadData ( ) ; \n - dataManager . loadAllDataSources ( ) ; \n + viewModel . loadData ( ) ; \n - designerNewsLogin . setTitle ( loginRepository . isLoggedIn ( ) ? \n + designerNewsLogin . setTitle ( viewModel . isDesignerNewsUserLoggedIn ( ) ? \n - if ( ! loginRepository . isLoggedIn ( ) ) { \n + if ( ! viewModel . isDesignerNewsUserLoggedIn ( ) ) { \n - loginRepository . logout ( ) ; \n + viewModel . logoutFromDesignerNews ( ) ; \n - @ Override \n - protected void onDestroy ( ) { \n - dataManager . cancelLoading ( ) ; \n - super . onDestroy ( ) ; \n - } \n - \n - if ( loginRepository . isLoggedIn ( ) ) { \n + if ( viewModel . isDesignerNewsUserLoggedIn ( ) ) { \n - dataManager . loadAllDataSources ( ) ; \n + viewModel . loadData ( ) ; \n app \ src \ main \ java \ io \ plaidapp \ ui \ HomeViewModel . kt \n - private val dataManager : DataManager , \n + val dataManager : DataManager , \n - private val sourcesRepository : SourcesRepository \n - ) : ViewModel ( ) \n + val sourcesRepository : SourcesRepository \n + ) : ViewModel ( ) { \n + \n + fun isDesignerNewsUserLoggedIn ( ) = loginRepository . isLoggedIn \n + \n + fun logoutFromDesignerNews ( ) { \n + loginRepository . logout ( ) \n + } \n + \n + fun loadData ( ) { \n + dataManager . loadAllDataSources ( ) \n + } \n + \n + override fun onCleared ( ) { \n + dataManager . cancelLoading ( ) \n + super . onCleared ( ) \n + } \n + } \n
app \ src \ main \ java \ io \ plaidapp \ ui \ HomeActivity . java \n + import io . plaidapp . core . data . DataManager ; \n + @ Inject \n + DataManager dataManager ; \n + \n - viewModel . loadData ( ) ; \n + dataManager . loadAllDataSources ( ) ; \n - new InfiniteScrollListener ( layoutManager , viewModel . getDataManager ( ) ) { \n + new InfiniteScrollListener ( layoutManager , dataManager ) { \n - viewModel . loadData ( ) ; \n + dataManager . loadAllDataSources ( ) ; \n - viewModel . loadData ( ) ; \n + dataManager . loadAllDataSources ( ) ; \n core \ src \ main \ java \ io \ plaidapp \ core \ dagger \ SourcesRepositoryModule . kt \n - @ Module ( includes = [ CoroutinesDispatcherProviderModule : : class ] ) \n + @ Module \n
src \ main \ java \ io \ vertx \ core \ http \ WebSocketBase . java \n + / * \n + * Close sending a close frame with specified status code . You can give a look at various close payloads \n + * here : < a href = " https : / / tools . ietf . org / html / rfc6455 # section - 7 . 4 . 1 " > RFC6455 Section 7 . 4 . 1 < / a > \n + * \n + * @ param statusCode Status code \n + * / \n + void close ( short statusCode ) ; \n + \n src \ main \ java \ io \ vertx \ core \ http \ impl \ WebSocketImplBase . java \n + public void close ( short statusCode ) { \n + this . close ( statusCode , null ) ; \n + } \n + \n
. travis . yml \n - master \n - / ^ \ d + \ . \ d + $ / \n + cache : \n + directories : \n + - $ HOME / . m2 \n + before _ cache : \n + - rm - rf $ HOME / . m2 / repository / io / vertx / \n - stage : test \n - name : " OracleJDK 8 " \n - jdk : oraclejdk8 \n + name : " OpenJDK 8 " \n + jdk : openjdk8 \n - if : type ! = pull _ request \n - if : type ! = pull _ request \n - name : " OracleJDK 8 / native transport " \n - jdk : oraclejdk8 \n + name : " OpenJDK 8 / native transport " \n + jdk : openjdk8 \n - if : type ! = pull _ request \n - name : " OracleJDK 8 / domain sockets " \n - jdk : oraclejdk8 \n + name : " OpenJDK 8 / domain sockets " \n + jdk : openjdk8 \n - stage : deploy \n
src \ main \ java \ io \ vertx \ core \ CompositeFuture . java \n + import java . util . stream . Collectors ; \n + import java . util . stream . IntStream ; \n + \n + / * * \n + * @ return a list of all the eventual failure causes . If no future failed , returns a list of null values . \n + * / \n + @ GenIgnore \n + default List < Throwable > causes ( ) { \n + int size = size ( ) ; \n + ArrayList < Throwable > list = new ArrayList < > ( size ) ; \n + for ( int index = 0 ; index < size ; index + + ) { \n + list . add ( cause ( index ) ) ; \n + } \n + return list ; \n + } \n src \ test \ java \ io \ vertx \ core \ FutureTest . java \n + @ Test \n + public void testCompositeFutureCauses ( ) { \n + CompositeFuture composite = CompositeFuture . all ( Future . failedFuture ( " blabla " ) , Future . succeededFuture ( ) ) ; \n + \n + assertEquals ( 2 , composite . causes ( ) . size ( ) ) ; \n + assertNotNull ( composite . causes ( ) . get ( 0 ) ) ; \n + assertEquals ( " blabla " , composite . causes ( ) . get ( 0 ) . getMessage ( ) ) ; \n + \n + assertNull ( composite . causes ( ) . get ( 1 ) ) ; \n + } \n + \n
microbench \ src \ main \ java \ io \ netty \ buffer \ ByteBufAccessBenchmark . java \n + / / WARNING ! \n + / / Please do not replace this sum loop with a BlackHole : : consume loop : \n + / / BlackHole : : consume could prevent the JVM to perform certain optimizations \n + / / forcing ByteBuf : : readByte to be executed in order . \n + / / The purpose of the benchmark is to mimic accesses on ByteBuf \n + / / as in a real ( single - threaded ) case ie without ( compiler ) memory barriers that would \n + / / disable certain optimizations or would make bounds checks ( if enabled ) \n + / / to happen on each access . \n
handler \ src \ main \ java \ io \ netty \ handler \ stream \ ChunkedNioFile . java \n + import java . nio . channels . ClosedChannelException ; \n - \n - if ( offset ! = 0 ) { \n - in . position ( offset ) ; \n + if ( ! in . isOpen ( ) ) { \n + throw new ClosedChannelException ( ) ; \n - int localReadBytes = buffer . writeBytes ( in , chunkSize - readBytes ) ; \n + int localReadBytes = buffer . writeBytes ( in , offset + readBytes , chunkSize - readBytes ) ; \n handler \ src \ test \ java \ io \ netty \ handler \ stream \ ChunkedWriteHandlerTest . java \n + import org . junit . Assert ; \n + import java . io . RandomAccessFile ; \n + import java . nio . channels . ClosedChannelException ; \n + import java . nio . channels . FileChannel ; \n + @ Test \n + public void testChunkedNioFileLeftPositionUnchanged ( ) throws IOException { \n + FileChannel in = null ; \n + final long expectedPosition = 10 ; \n + try { \n + in = new RandomAccessFile ( TMP , " r " ) . getChannel ( ) ; \n + in . position ( expectedPosition ) ; \n + check ( new ChunkedNioFile ( in ) { \n + @ Override \n + public void close ( ) throws Exception { \n + / / no op \n + } \n + } ) ; \n + Assert . assertTrue ( in . isOpen ( ) ) ; \n + Assert . assertEquals ( expectedPosition , in . position ( ) ) ; \n + } finally { \n + if ( in ! = null ) { \n + in . close ( ) ; \n + } \n + } \n + } \n + \n + @ Test ( expected = ClosedChannelException . class ) \n + public void testChunkedNioFileFailOnClosedFileChannel ( ) throws IOException { \n + final FileChannel in = new RandomAccessFile ( TMP , " r " ) . getChannel ( ) ; \n + in . close ( ) ; \n + check ( new ChunkedNioFile ( in ) { \n + @ Override \n + public void close ( ) throws Exception { \n + / / no op \n + } \n + } ) ; \n + Assert . fail ( ) ; \n + } \n + \n
common \ src \ main \ java \ io \ netty \ util \ internal \ PlatformDependent . java \n - import org . jctools . queues . atomic . MpscGrowableAtomicArrayQueue ; \n + import org . jctools . queues . atomic . MpscChunkedAtomicArrayQueue ; \n - : new MpscGrowableAtomicArrayQueue < T > ( MPSC _ CHUNK _ SIZE , capacity ) ; \n + : new MpscChunkedAtomicArrayQueue < T > ( MPSC _ CHUNK _ SIZE , capacity ) ; \n
x - pack \ plugin \ searchable - snapshots \ src \ internalClusterTest \ java \ org \ elasticsearch \ xpack \ searchablesnapshots \ SearchableSnapshotsCanMatchOnCoordinatorIntegTests . java \n - int numDocsWithinRange = between ( 0 , 1000 ) ; \n + / / Index enough documents to ensure that all shards have at least some documents \n + int numDocsWithinRange = between ( 100 , 1000 ) ; \n
x - pack \ qa \ rolling - upgrade - basic \ src \ test \ java \ org \ elasticsearch \ upgrades \ BasicLicenseUpgradeIT . java \n - Response licenseResponse = client ( ) . performRequest ( new Request ( " GET " , " / _ license " ) ) ; \n + final Request request = new Request ( " GET " , " / _ license " ) ; \n + / / This avoids throwing a ResponseException when the license is not ready yet \n + / / allowing to retry the check using assertBusy \n + request . addParameter ( " ignore " , " 404 " ) ; \n + Response licenseResponse = client ( ) . performRequest ( request ) ; \n + assertOK ( licenseResponse ) ; \n - Response licenseResponse = client ( ) . performRequest ( new Request ( " GET " , " / _ license " ) ) ; \n + final Request request = new Request ( " GET " , " / _ license " ) ; \n + / / This avoids throwing a ResponseException when the license is not ready yet \n + / / allowing to retry the check using assertBusy \n + request . addParameter ( " ignore " , " 404 " ) ; \n + Response licenseResponse = client ( ) . performRequest ( request ) ; \n + assertOK ( licenseResponse ) ; \n
plugins \ repository - azure \ src \ test \ java \ org \ elasticsearch \ repositories \ azure \ AzureBlobContainerRetriesTests . java \n - assertThat ( e . getMessage ( ) , equalTo ( " connection closed before all data received " ) ) ; \n + / / Suppress the exception since it ' s expected that the \n + / / connection is closed before anything can be read \n
web - service \ helpers . py \n + try : \n + # Don ' t assume server return proper charset and always try UTF - 8 first . \n + u _ value = unicode ( content , ' utf - 8 ' ) \n + return ' utf - 8 ' \n + except UnicodeDecodeError : \n + pass \n + \n - try : \n - encoding = ' utf - 8 ' \n - u _ value = unicode ( content , ' utf - 8 ' ) \n - except UnicodeDecodeError : \n - encoding = ' iso - 8859 - 1 ' \n - u _ value = unicode ( content , ' iso - 8859 - 1 ' ) \n + encoding = ' iso - 8859 - 1 ' \n + u _ value = unicode ( content , ' iso - 8859 - 1 ' ) \n
web - service \ helpers . py \n - title = FlattenString ( title ) \n + title = FlattenString ( title . encode ( encoding ) ) \n - description = FlattenString ( description ) \n + description = FlattenString ( description . encode ( encoding ) ) \n
web - service \ handlers . py \n + secure _ only = bool ( input _ object . get ( ' secureOnly ' , helpers . DEFAULT _ SECURE _ ONLY ) ) \n + secure _ only = helpers . DEFAULT _ SECURE _ ONLY \n - output = helpers . BuildResponse ( objects ) \n + output = helpers . BuildResponse ( objects , secure _ only ) \n web - service \ helpers . py \n + DEFAULT _ SECURE _ ONLY = False \n - def BuildResponse ( objects ) : \n + def BuildResponse ( objects , secure _ only ) : \n + if secure _ only and scheme ! = ' https ' : \n + append _ invalid ( ) \n + continue \n + \n web - service \ tests . py \n + def test _ secure _ only ( self ) : \n + result = self . call ( { \n + ' objects ' : [ \n + { ' url ' : ' https : / / en . wikipedia . org / wiki / Le _ D % C3 % A9jeuner _ sur _ l % E2 % 80 % 99herbe ' } , \n + { ' url ' : ' http : / / www . lemonde . fr / ' } , \n + ] , \n + ' secureOnly ' : True \n + } ) \n + self . assertIn ( ' metadata ' , result ) \n + self . assertEqual ( len ( result [ ' metadata ' ] ) , 1 ) \n + self . assertEqual ( result [ ' metadata ' ] [ 0 ] [ ' id ' ] , \n + ' https : / / en . wikipedia . org / wiki / Le _ D % C3 % A9jeuner _ sur _ l % E2 % 80 % 99herbe ' ) \n
lib \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ schedule \ ScheduleSingleDayFragment . java \n - SessionsHelper . showBookmarkClickedHint ( getView ( ) , ! isInSchedule ) ; \n + SessionsHelper . showBookmarkClickedHint ( getActivity ( ) . findViewById ( android . R . id . content ) , \n + ! isInSchedule ) ; \n
lib \ src \ main \ res \ values \ strings . xml \n - < string name = " default _ wifi _ network " translatable = " false " > io17 < / string > \n - < string name = " default _ wifi _ password " translatable = " false " > GoogleIo2017 < / string > \n + < string name = " default _ wifi _ network " translatable = " false " > IO2017 < / string > \n + < string name = " default _ wifi _ password " translatable = " false " > inputoutput < / string > \n
lib \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ info \ settings \ SettingsFragment . java \n + import com . google . samples . apps . iosched . util . AboutUtils ; \n + TextView mOpenSourceLicenses ; \n + mOpenSourceLicenses = ( TextView ) root . findViewById ( R . id . openSourceLicensesLink ) ; \n + mOpenSourceLicenses . setOnClickListener ( new View . OnClickListener ( ) { \n + @ Override \n + public void onClick ( View v ) { \n + AboutUtils . showOpenSourceLicenses ( getActivity ( ) ) ; \n + } \n + } ) ; \n lib \ src \ main \ res \ layout \ info _ settings _ frag . xml \n + < Button \n + android : id = " @ + id / openSourceLicensesLink " \n + style = " @ style / Widget . AppCompat . Button . Borderless . Colored " \n + android : layout _ width = " wrap _ content " \n + android : layout _ height = " wrap _ content " \n + android : paddingStart = " @ dimen / padding _ normal " \n + android : paddingEnd = " @ dimen / padding _ normal " \n + android : text = " @ string / about _ licenses " / > \n + \n
dropwizard - bom \ pom . xml \n - < version > 3 . 6 . 0 < / version > \n + < version > 3 . 6 . 1 < / version > \n
dropwizard - auth \ src \ main \ java \ io \ dropwizard \ auth \ CachingAuthorizer . java \n + import com . google . common . annotations . VisibleForTesting ; \n - private final LoadingCache < ImmutablePair < P , String > , Boolean > cache ; \n + / / \n + / / Field is package - private to be visible for unit tests \n + @ VisibleForTesting \n + final LoadingCache < ImmutablePair < P , String > , Boolean > cache ; \n dropwizard - auth \ src \ test \ java \ io \ dropwizard \ auth \ CachingAuthorizerTest . java \n - Thread . sleep ( 10L ) ; \n + / / We need to make sure that background cache invalidation is done before other requests \n + cached . cache . cleanUp ( ) ; \n - Thread . sleep ( 10L ) ; \n + cached . cache . cleanUp ( ) ; \n - Thread . sleep ( 10L ) ; \n
dropwizard - jdbi3 \ src \ main \ java \ io \ dropwizard \ jdbi3 \ JdbiFactory . java \n - import com . codahale . metrics . jdbi3 . InstrumentedTimingCollector ; \n + import com . codahale . metrics . MetricRegistry ; \n + import com . codahale . metrics . jdbi3 . InstrumentedSqlLogger ; \n - / / Setup the timing collector \n - jdbi . setTimingCollector ( new InstrumentedTimingCollector ( environment . metrics ( ) , nameStrategy ) ) ; \n + / / Setup the SQL logger \n + jdbi . setSqlLogger ( buildSQLLogger ( environment . metrics ( ) , nameStrategy ) ) ; \n + / * * \n + * This creates a default { @ link InstrumentedSqlLogger } instance with the specified \n + * { @ link MetricRegistry } and { @ link # nameStrategy } . This can be overridden if required . \n + * \n + * @ param metricRegistry The { @ link MetricRegistry } to send to the { @ link InstrumentedSqlLogger } . \n + * @ param nameStrategy The { @ link StatementNameStrategy } to send to the { @ link InstrumentedSqlLogger } . \n + * @ return The created { @ link InstrumentedSqlLogger } . \n + * / \n + protected InstrumentedSqlLogger buildSQLLogger ( MetricRegistry metricRegistry , StatementNameStrategy nameStrategy ) { \n + return new InstrumentedSqlLogger ( metricRegistry , nameStrategy ) ; \n + } \n + \n dropwizard - jdbi3 \ src \ test \ java \ io \ dropwizard \ jdbi3 \ JdbiFactoryTest . java \n - import com . codahale . metrics . jdbi3 . InstrumentedTimingCollector ; \n + import com . codahale . metrics . jdbi3 . InstrumentedSqlLogger ; \n + import com . codahale . metrics . jdbi3 . strategies . StatementNameStrategy ; \n - verify ( jdbi ) . setTimingCollector ( any ( InstrumentedTimingCollector . class ) ) ; \n + verify ( jdbi ) . setSqlLogger ( any ( InstrumentedSqlLogger . class ) ) ; \n + verify ( factory ) . buildSQLLogger ( same ( metrics ) , any ( StatementNameStrategy . class ) ) ; \n
build . gradle . kts \n - classpath ( " com . android . tools . build : gradle : 3 . 5 . 3 " ) \n + classpath ( " com . android . tools . build : gradle : 3 . 6 . 4 " ) \n packages \ react - native - codegen \ android \ build . gradle \n - classpath ( " com . android . tools . build : gradle : 3 . 5 . 3 " ) \n + classpath ( " com . android . tools . build : gradle : 3 . 6 . 4 " ) \n packages \ react - native - codegen \ android \ gradlePlugin - build \ gradlePlugin \ build . gradle \n - implementation ' com . android . tools . build : gradle : 3 . 5 . 3 ' \n + implementation ' com . android . tools . build : gradle : 3 . 6 . 4 ' \n template \ android \ build . gradle \n - classpath ( " com . android . tools . build : gradle : 3 . 5 . 3 " ) \n + classpath ( " com . android . tools . build : gradle : 3 . 6 . 4 " ) \n
build . gradle . kts \n - classpath ( " com . android . tools . build : gradle : 3 . 6 . 4 " ) \n + classpath ( " com . android . tools . build : gradle : 4 . 0 . 1 " ) \n packages \ react - native - codegen \ android \ build . gradle \n - classpath ( " com . android . tools . build : gradle : 3 . 6 . 4 " ) \n + classpath ( " com . android . tools . build : gradle : 4 . 0 . 1 " ) \n packages \ react - native - codegen \ android \ gradlePlugin - build \ gradlePlugin \ build . gradle \n - implementation ' com . android . tools . build : gradle : 3 . 6 . 4 ' \n + implementation ' com . android . tools . build : gradle : 4 . 0 . 1 ' \n template \ android \ build . gradle \n - classpath ( " com . android . tools . build : gradle : 3 . 6 . 4 " ) \n + classpath ( " com . android . tools . build : gradle : 4 . 0 . 1 " ) \n
deleted file \n . nvmrc \n - 8 . 11 . 3 \n
realm - transformer \ src \ main \ groovy \ io \ realm \ transformer \ RealmTransformer . groovy \n + def targetSdk = project ? . android ? . defaultConfig ? . targetSdkVersion ? . mApiLevel as String ; \n + def minSdk = project ? . android ? . defaultConfig ? . minSdkVersion ? . mApiLevel as String ; \n + \n - def analytics = new RealmAnalytics ( packages as Set , containsKotlin , sync ) \n + def analytics = new RealmAnalytics ( packages as Set , containsKotlin , sync , targetSdk , minSdk ) \n realm - transformer \ src \ main \ java \ io \ realm \ transformer \ RealmAnalytics . java \n + " \ " Realm Version \ " : \ " % REALM _ VERSION % \ " , \ n " \n + " \ " Host OS Type \ " : \ " % OS _ TYPE % \ " , \ n " \n + " \ " Host OS Version \ " : \ " % OS _ VERSION % \ " , \ n " \n - + " \ " Target OS Type \ " : \ " android \ " \ n " \n + + " \ " Target OS Type \ " : \ " android \ " , \ n " \n + + " \ " Target OS Version \ " : \ " % TARGET _ SDK % \ " , \ n " \n + + " \ " Target OS Minimum Version \ " : \ " % MIN _ SDK % \ " \ n " \n + " } \ n " \n + " } " ; \n + private String targetSdk ; \n + private String minSdk ; \n - public RealmAnalytics ( Set < String > packages , boolean usesKotlin , boolean usesSync ) { \n + public RealmAnalytics ( Set < String > packages , boolean usesKotlin , boolean usesSync , String targetSdk , String minSdk ) { \n + this . targetSdk = targetSdk ; \n + this . minSdk = minSdk ; \n - . replaceAll ( " % OS _ VERSION % " , System . getProperty ( " os . version " ) ) ; \n + . replaceAll ( " % OS _ VERSION % " , System . getProperty ( " os . version " ) ) \n + . replaceAll ( " % TARGET _ SDK % " , targetSdk ) \n + . replaceAll ( " % MIN _ SDK % " , minSdk ) ; \n
realm \ realm - annotations - processor \ src \ main \ java \ io \ realm \ processor \ RealmProcessor . java \n + import javax . annotation . processing . SupportedOptions ; \n + @ SupportedOptions ( value = { " realm . suppressWarnings " } ) \n + \n realm \ realm - annotations - processor \ src \ main \ java \ io \ realm \ processor \ RealmProxyClassGenerator . java \n + private static final String OPTION _ SUPPRESS _ WARNINGS = " realm . suppressWarnings " ; \n + private final boolean suppressWarnings ; \n + \n + / / See the configuration for the debug build type , \n + / / in the realm - library project , for an example of how to set this flag . \n + this . suppressWarnings = ! " false " . equalsIgnoreCase ( processingEnvironment . getOptions ( ) . get ( OPTION _ SUPPRESS _ WARNINGS ) ) ; \n - writer . beginType ( \n + if ( suppressWarnings ) { \n + writer . emitAnnotation ( " SuppressWarnings ( \ " all \ " ) " ) ; \n + } \n + writer \n + . beginType ( \n realm \ realm - annotations - processor \ src \ test \ resources \ io \ realm \ AllTypesRealmProxy . java \n + @ SuppressWarnings ( " all " ) \n realm \ realm - annotations - processor \ src \ test \ resources \ io \ realm \ BooleansRealmProxy . java \n + @ SuppressWarnings ( " all " ) \n realm \ realm - annotations - processor \ src \ test \ resources \ io \ realm \ NullTypesRealmProxy . java \n + @ SuppressWarnings ( " all " ) \n realm \ realm - annotations - processor \ src \ test \ resources \ io \ realm \ SimpleRealmProxy . java \n + @ SuppressWarnings ( " all " ) \n realm \ realm - library \ build . gradle \n + \n + buildTypes { \n + debug { \n + javaCompileOptions { \n + annotationProcessorOptions { \n + arguments + = [ ' realm . suppressWarnings ' : ' false ' ] \n + } \n + } \n + } \n + } \n
CHANGELOG . md \n + * Added support for new data type ` MutableRealmIntegers ` . The new type behaves almost exactly as a reference to a Long ( mutable nullable , etc ) but supports ` increment ` and ` decrement ` methods , which implement a Conflict Free Replicated Data Type , whose value will converge even when changed across distributed devices with poor connections . ( # 4266 ) \n
template - method \ src \ main \ java \ com \ iluwatar \ templatemethod \ App . java \n - HalflingThief thief = new HalflingThief ( new HitAndRunMethod ( ) ) ; \n + var thief = new HalflingThief ( new HitAndRunMethod ( ) ) ; \n template - method \ src \ main \ java \ com \ iluwatar \ templatemethod \ StealingMethod . java \n - String target = pickTarget ( ) ; \n + var target = pickTarget ( ) ; \n
throttling \ src \ main \ java \ com \ iluwatar \ throttling \ App . java \n - CallsCount callsCount = new CallsCount ( ) ; \n - Tenant adidas = new Tenant ( " Adidas " , 5 , callsCount ) ; \n - Tenant nike = new Tenant ( " Nike " , 6 , callsCount ) ; \n + var callsCount = new CallsCount ( ) ; \n + var adidas = new Tenant ( " Adidas " , 5 , callsCount ) ; \n + var nike = new Tenant ( " Nike " , 6 , callsCount ) ; \n - ExecutorService executorService = Executors . newFixedThreadPool ( 2 ) ; \n + var executorService = Executors . newFixedThreadPool ( 2 ) ; \n - Throttler timer = new ThrottleTimerImpl ( 10 , callsCount ) ; \n - B2BService service = new B2BService ( timer , callsCount ) ; \n + var timer = new ThrottleTimerImpl ( 10 , callsCount ) ; \n + var service = new B2BService ( timer , callsCount ) ; \n throttling \ src \ main \ java \ com \ iluwatar \ throttling \ B2BService . java \n - String tenantName = tenant . getName ( ) ; \n - long count = callsCount . getCount ( tenantName ) ; \n + var tenantName = tenant . getName ( ) ; \n + var count = callsCount . getCount ( tenantName ) ; \n
thread - pool \ src \ main \ java \ com \ iluwatar \ threadpool \ App . java \n - ExecutorService executor = Executors . newFixedThreadPool ( 3 ) ; \n + var executor = Executors . newFixedThreadPool ( 3 ) ; \n - Runnable worker = new Worker ( tasks . get ( i ) ) ; \n + var worker = new Worker ( tasks . get ( i ) ) ; \n
src \ jvm \ clojure \ lang \ Compiler . java \n + static Keyword formKey = Keyword . intern ( " form " ) ; \n + \n + int argCount = RT . count ( form ) - 1 ; \n + if ( argCount ! = 1 ) { \n + IPersistentMap exData = new PersistentArrayMap ( new Object [ ] { formKey , form } ) ; \n + throw new ExceptionInfo ( " Wrong number of args ( " + \n + argCount + \n + " ) passed to quote " , \n + exData ) ; \n + } \n test \ clojure \ test _ clojure \ special . clj \n + \n + ( deftest quote - with - multiple - args \n + ( let [ ex ( is ( thrown ? clojure . lang . Compiler $ CompilerException \n + ( eval ' ( quote 1 2 3 ) ) ) ) ] \n + ( is ( = ' ( quote 1 2 3 ) \n + ( - > ex \n + ( . getCause ) \n + ( ex - data ) \n + ( : form ) ) ) ) ) ) \n
src \ jvm \ clojure \ lang \ PersistentHashSet . java \n - PersistentHashSet ret = EMPTY ; \n + ITransientSet ret = ( ITransientSet ) EMPTY . asTransient ( ) ; \n - ret = ( PersistentHashSet ) ret . cons ( init [ i ] ) ; \n + ret = ( ITransientSet ) ret . conj ( init [ i ] ) ; \n - return ret ; \n + return ( PersistentHashSet ) ret . persistent ( ) ; \n - PersistentHashSet ret = EMPTY ; \n + ITransientSet ret = ( ITransientSet ) EMPTY . asTransient ( ) ; \n - ret = ( PersistentHashSet ) ret . cons ( key ) ; \n + ret = ( ITransientSet ) ret . conj ( key ) ; \n - return ret ; \n + return ( PersistentHashSet ) ret . persistent ( ) ; \n - PersistentHashSet ret = EMPTY ; \n + ITransientSet ret = ( ITransientSet ) EMPTY . asTransient ( ) ; \n - ret = ( PersistentHashSet ) ret . cons ( items . first ( ) ) ; \n + ret = ( ITransientSet ) ret . conj ( items . first ( ) ) ; \n - return ret ; \n + return ( PersistentHashSet ) ret . persistent ( ) ; \n
src \ clj \ clojure \ core \ protocols . clj \n + ( defn - naive - seq - reduce \n + " Reduces a seq , ignoring any opportunities to switch to a more \n + specialized implementation . " \n + [ s f val ] \n + ( loop [ s ( seq s ) \n + val val ] \n + ( if s \n + ( let [ ret ( f val ( first s ) ) ] \n + ( if ( reduced ? ret ) \n + @ ret \n + ( recur ( next s ) ret ) ) ) \n + val ) ) ) \n + \n + ( defn - interface - or - naive - reduce \n + " Reduces via IReduceInit if possible , else naively . " \n + [ coll f val ] \n + ( if ( instance ? clojure . lang . IReduceInit coll ) \n + ( . reduce ^ clojure . lang . IReduceInit coll f val ) \n + ( naive - seq - reduce coll f val ) ) ) \n + \n - ( coll - reduce s f val ) ) \n + ( interface - or - naive - reduce s f val ) ) \n - ; ; roll over to faster implementation if underlying seq changes type \n - ( coll - reduce s f val ) ) \n + ( interface - or - naive - reduce s f val ) ) \n test \ clojure \ test _ clojure \ sequences . clj \n + ; ; CLJ - 1237 regression test \n + ( deftest reduce - with - varying - impls \n + ( is ( = 1000000 \n + ( - > > ( repeat 500000 ( cons 1 [ 1 ] ) ) \n + ( apply concat ) \n + ( reduce + ) ) ) ) \n + \n + ( is ( = 4500000 \n + ( - > > ( range 100000 ) \n + ( mapcat ( fn [ _ ] ( java . util . ArrayList . ( range 10 ) ) ) ) \n + ( reduce + ) ) ) ) ) \n + \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ feed \ FeedViewModel . kt \n + import org . threeten . bp . ZonedDateTime \n - userSessions = ( ( sessions as ? Result . Success ) ? . data ? . userSessions ? : emptyList ( ) ) . let { \n - it . subList ( 0 , Math . min ( MAX _ SESSIONS , it . size ) ) \n - } \n + userSessions = ( ( sessions as ? Result . Success ) ? . data ? . userSessions ? : emptyList ( ) ) \n + . filter { it . session . endTime > = ZonedDateTime . now ( ) } \n + . let { it . subList ( 0 , Math . min ( MAX _ SESSIONS , it . size ) ) } \n + \n
shared \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ shared \ data \ app \ RemoteAppConfigDataSource . kt \n + import java . util . concurrent . TimeUnit \n - firebaseRemoteConfig . fetch ( ) . addOnCompleteListener { task - > \n + firebaseRemoteConfig . fetch ( TimeUnit . MINUTES . toSeconds ( 30 ) ) . addOnCompleteListener { task - > \n
mobile \ src \ main \ res \ layout \ item _ feed _ social _ channels . xml \n - app : layout _ constraintTop _ toTopOf = " parent " / > \n + app : layout _ constraintTop _ toTopOf = " parent " \n + app : websiteLink = " @ { @ string / feed _ social _ twitter _ hashtag _ link } " / > \n mobile \ src \ main \ res \ values \ strings . xml \n + < string name = " feed _ social _ twitter _ hashtag _ link " translatable = " false " > https : / / twitter . com / hashtag / googleio < / string > \n
src \ main \ java \ rx \ internal \ operators \ OperatorSubscribeOn . java \n - inner . schedule ( new Action0 ( ) { \n + subscriber . add ( inner . schedule ( new Action0 ( ) { \n - } ) ; \n + } ) ) ; \n src \ test \ java \ rx \ internal \ operators \ OperatorReplayTest . java \n + verify ( mockSubscription , times ( 1 ) ) . unsubscribe ( ) ; \n + verify ( mockSubscription , times ( 1 ) ) . unsubscribe ( ) ; \n
src \ main \ java \ rx \ internal \ operators \ OperatorReplay . java \n - setFirst ( next ) ; \n + setFirst ( next . get ( ) ) ; \n - / * test * / final void removeSome ( int n ) { \n + final void removeSome ( int n ) { \n - setFirst ( head ) ; \n + setFirst ( head . get ( ) ) ; \n - set ( n ) ; \n + Node newHead = new Node ( null ) ; \n + newHead . lazySet ( n ) ; \n + if ( n = = null ) { \n + tail = newHead ; \n + } \n + set ( newHead ) ; \n - Node prev = get ( ) ; \n - Node next = prev . get ( ) ; \n + Node head = get ( ) ; \n + Node next = head . get ( ) ; \n - prev = next ; \n - prev = next ; \n - setFirst ( prev ) ; \n + setFirst ( next ) ; \n - Node prev = get ( ) ; \n - Node next = prev . get ( ) ; \n + Node head = get ( ) ; \n + Node next = head . get ( ) ; \n - prev = next ; \n - setFirst ( prev ) ; \n + setFirst ( next ) ; \n
src \ main \ java \ rx \ Observable . java \n - * < dd > This operator supports backpressure . < / dd > \n + * < dd > This operator does not support upstream backpressure as it is purposefully requesting and caching \n + * everything emitted . < / dd > \n - * < dd > This operator supports backpressure . < / dd > \n + * < dd > This operator does not support upstream backpressure as it is purposefully requesting and caching \n + * everything emitted . < / dd > \n
compiler \ ir \ backend . jvm \ src \ org \ jetbrains \ kotlin \ backend \ jvm \ JvmBackendContext . kt \n - val suspendFunctionOriginalToView = ConcurrentHashMap < IrFunction , IrFunction > ( ) \n + val suspendFunctionOriginalToView = ConcurrentHashMap < IrSimpleFunction , IrSimpleFunction > ( ) \n + if ( staticReplacement ! is IrSimpleFunction ) continue \n - staticReplacement as IrSimpleFunction \n - suspendView as ? IrSimpleFunction ? : continue \n - newSuspendView as ? IrSimpleFunction ? : continue \n compiler \ ir \ backend . jvm \ src \ org \ jetbrains \ kotlin \ backend \ jvm \ lower \ AddContinuationLowering . kt \n - private fun IrFunction . suspendFunctionViewOrStub ( context : JvmBackendContext ) : IrFunction { \n + private fun IrSimpleFunction . suspendFunctionViewOrStub ( context : JvmBackendContext ) : IrFunction { \n - internal fun IrFunction . suspendFunctionOriginal ( ) : IrFunction = \n - if ( this is IrSimpleFunction & & isSuspend & & \n + internal fun IrSimpleFunction . suspendFunctionOriginal ( ) : IrSimpleFunction = \n + if ( isSuspend & & \n - attributeOwnerId as IrFunction \n + attributeOwnerId as IrSimpleFunction \n + internal fun IrFunction . suspendFunctionOriginal ( ) : IrFunction = \n + ( this as ? IrSimpleFunction ) ? . suspendFunctionOriginal ( ) ? : this \n + \n - private fun IrFunction . createSuspendFunctionStub ( context : JvmBackendContext ) : IrFunction { \n - require ( this . isSuspend & & this is IrSimpleFunction ) \n + private fun IrSimpleFunction . createSuspendFunctionStub ( context : JvmBackendContext ) : IrSimpleFunction { \n + require ( this . isSuspend ) \n - if ( ! symbol . owner . isSuspend | | caller ? . isInvokeSuspendOfContinuation ( ) = = true \n - | | symbol . owner . origin = = JvmLoweredDeclarationOrigin . SUSPEND _ IMPL _ STATIC _ FUNCTION \n - | | symbol . owner . continuationParameter ( ) ! = null \n + val owner = symbol . owner \n + if ( owner ! is IrSimpleFunction | | ! owner . isSuspend | | caller ? . isInvokeSuspendOfContinuation ( ) = = true \n + | | owner . origin = = JvmLoweredDeclarationOrigin . SUSPEND _ IMPL _ STATIC _ FUNCTION \n + | | owner . continuationParameter ( ) ! = null \n - val view = symbol . owner . suspendFunctionViewOrStub ( context ) \n - if ( view = = symbol . owner ) return this \n + val view = owner . suspendFunctionViewOrStub ( context ) \n + if ( view = = owner ) return this \n - ? : throw AssertionError ( " $ { caller . render ( ) } has no continuation ; can ' t call $ { symbol . owner . render ( ) } " ) \n + ? : throw AssertionError ( " $ { caller . render ( ) } has no continuation ; can ' t call $ { owner . render ( ) } " ) \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ KonanBackendContext . kt \n - override val extractedLocalClasses : MutableSet < IrClass > = mutableSetOf ( ) \n - \n
compiler \ ir \ ir . tree \ src \ org \ jetbrains \ kotlin \ ir \ util \ IrFakeOverrideUtils . kt \n - val realOverrides = mutableSetOf < IrOverridableMember > ( ) \n + val realOverrides = mutableMapOf < Any , IrOverridableMember > ( ) \n + \n + / * \n + Due to IR copying in performByIrFile , overrides should only be distinguished up to their fqNames . \n + * / \n + fun IrOverridableMember . toKey ( ) : Any = fqNameWhenAvailable ? : this \n - realOverrides + = member \n + realOverrides [ member . toKey ( ) ] = member \n - realOverrides . remove ( it . owner ) \n - excludeRepeated ( it . owner as IrOverridableMember ) \n + val owner = it . owner as IrOverridableMember \n + realOverrides . remove ( owner . toKey ( ) ) \n + excludeRepeated ( owner ) \n - realOverrides . toList ( ) . forEach { excludeRepeated ( it ) } \n + realOverrides . toList ( ) . forEach { excludeRepeated ( it . second ) } \n - return realOverrides \n + return realOverrides . values . toSet ( ) \n
src \ clj \ clojure \ java \ browse _ ui . clj \n - ( . show ) ) ) ) \n + ( . setVisible true ) ) ) ) \n src \ clj \ clojure \ pprint \ cl _ format . clj \n - true ( new Integer p ) ) \n + true ( Integer / parseInt p ) ) \n src \ jvm \ clojure \ lang \ Compiler . java \n - gen . box ( returnType ) ; \n + if ( Type . LONG _ TYPE . equals ( returnType ) | | Type . DOUBLE _ TYPE . equals ( returnType ) ) { \n + gen . valueOf ( returnType ) ; \n + } else { \n + gen . box ( returnType ) ; \n + } \n - gen . box ( getReturnType ( ) ) ; \n + Type targetReturnType = getReturnType ( ) ; \n + if ( Type . LONG _ TYPE . equals ( targetReturnType ) | | Type . DOUBLE _ TYPE . equals ( targetReturnType ) ) { \n + gen . valueOf ( targetReturnType ) ; \n + } else { \n + gen . box ( targetReturnType ) ; \n + } \n
src \ jvm \ clojure \ lang \ Compiler . java \n - gen . invokeStatic ( type , m ) ; \n + gen . visitMethodInsn ( INVOKESTATIC , type . getInternalName ( ) , methodName , m . getDescriptor ( ) , c . isInterface ( ) ) ; \n test \ clojure \ test _ clojure \ compilation . clj \n + \n + ( deftest CLJ - 2284 \n + ( testing " CLJ - 2284 Can call static methods on interfaces " \n + ( is ( = 42 ( compilation . JDK8InterfaceMethods / staticMethod0 42 ) ) ) \n + ( is ( = " test " ( compilation . JDK8InterfaceMethods / staticMethod1 " test " ) ) ) ) ) \n new file \n test \ java \ compilation \ JDK8InterfaceMethods . java \n + package compilation ; \n + \n + public interface JDK8InterfaceMethods { \n + public static long staticMethod0 ( long v ) { return v ; } \n + public static String staticMethod1 ( String s ) { return s ; } \n + } \n
src \ clj \ clojure \ core . clj \n + ( defonce ^ : private tap - loop \n + ( delay \n + ( doto ( Thread . \n + # ( let [ t ( . take tapq ) \n + x ( if ( identical ? : : tap - nil t ) nil t ) \n + taps @ tapset ] \n + ( doseq [ tap taps ] \n + ( try \n + ( tap x ) \n + ( catch Throwable ex ) ) ) \n + ( recur ) ) \n + " clojure . core / tap - loop " ) \n + ( . setDaemon true ) \n + ( . start ) ) ) ) \n + \n + ( force tap - loop ) \n + ( force tap - loop ) \n - \n - ( defonce ^ : private tap - loop \n - ( doto ( Thread . \n - # ( let [ t ( . take tapq ) \n - x ( if ( identical ? : : tap - nil t ) nil t ) \n - taps @ tapset ] \n - ( doseq [ tap taps ] \n - ( try \n - ( tap x ) \n - ( catch Throwable ex ) ) ) \n - ( recur ) ) \n - " clojure . core / tap - loop " ) \n - ( . setDaemon true ) \n - ( . start ) ) ) \n
android \ PhysicalWeb \ app \ src \ main \ java \ physical _ web \ org \ physicalweb \ DeviceDiscoveryService . java \n - int scanMode = ScanSettings . SCAN _ MODE _ LOW _ POWER ; \n - \n - . setScanMode ( scanMode ) \n + . setScanMode ( ScanSettings . SCAN _ MODE _ LOW _ POWER ) \n
android \ PhysicalWeb \ app \ src \ main \ java \ physical _ web \ org \ physicalweb \ DeviceDiscoveryService . java \n - ScanFilter . Builder builder = new ScanFilter . Builder ( ) \n + ScanFilter filter = new ScanFilter . Builder ( ) \n - new byte [ ] { } ) ; \n - filters . add ( builder . build ( ) ) ; \n + new byte [ ] { } ) \n + . build ( ) ; \n + \n + filters . add ( filter ) ; \n
android \ PhysicalWeb \ app \ build . gradle \n - buildToolsVersion " 21 . 0 . 2 " \n + buildToolsVersion " 21 . 1 . 2 " \n - compile ' com . android . support : appcompat - v7 : 21 . 0 . 0 ' \n + compile ' com . android . support : appcompat - v7 : 21 . 0 . 3 ' \n android \ PhysicalWeb \ build . gradle \n - classpath ' com . android . tools . build : gradle : 1 . 0 . 0 - rc4 ' \n + classpath ' com . android . tools . build : gradle : 1 . 0 . 0 ' \n
android \ guava \ src \ com \ google \ common \ util \ concurrent \ AggregateFuture . java \n - private static void log ( Throwable throwable ) { \n + private void log ( Throwable throwable ) { \n - : " Got more than one input Future failure . Logging failures after the first " ; \n + : " An additional input failed after the first . Logging it after adding the first " \n + + " failure as a suppressed exception . " ; \n guava \ src \ com \ google \ common \ util \ concurrent \ AggregateFuture . java \n - private static void log ( Throwable throwable ) { \n + private void log ( Throwable throwable ) { \n - : " Got more than one input Future failure . Logging failures after the first " ; \n + : " An additional input failed after the first . Logging it after adding the first " \n + + " failure as a suppressed exception . " ; \n
android \ guava \ src \ com \ google \ common \ util \ concurrent \ AggregateFuture . java \n - private void log ( Throwable throwable ) { \n + private static void log ( Throwable throwable ) { \n - : " An additional input failed after the first . Logging it after adding the first " \n - + " failure as a suppressed exception . " ; \n + : " Got more than one input Future failure . Logging failures after the first " ; \n guava \ src \ com \ google \ common \ util \ concurrent \ AggregateFuture . java \n - private void log ( Throwable throwable ) { \n + private static void log ( Throwable throwable ) { \n - : " An additional input failed after the first . Logging it after adding the first " \n - + " failure as a suppressed exception . " ; \n + : " Got more than one input Future failure . Logging failures after the first " ; \n
android \ guava \ src \ com \ google \ common \ collect \ ImmutableSortedMap . java \n - * Returns an immutable map containing the given entries , with keys sorted by the provided \n - * comparator . \n + * Returns an immutable map containing the given entries , with keys sorted by their natural \n + * ordering . \n guava \ src \ com \ google \ common \ collect \ ImmutableSortedMap . java \n - * Returns an immutable map containing the given entries , with keys sorted by the provided \n - * comparator . \n + * Returns an immutable map containing the given entries , with keys sorted by their natural \n + * ordering . \n
src \ tools \ android \ java \ com \ google \ devtools \ build \ android \ desugar \ retarget \ retarget _ config . textproto \n - range : DESUGAR _ JAVA8 _ LIBS \n - range : DESUGAR _ JAVA8 _ LIBS \n - replacements { \n - source { \n - opcode : 182 \n - method _ id { \n - owner : " java / util / Collections " \n - name : " sort " \n - } \n - } \n - destination { \n - opcode : 184 \n - method _ id { \n - owner : " java / util / DesugarCollections " \n - name : " sort " \n - } \n - } \n - range : DESUGAR _ JAVA8 _ LIBS \n - range : DESUGAR _ JAVA8 _ CORE _ LIBS \n - auto _ deduce _ opcode _ and _ desc : true \n - } \n - \n
src \ package - bazel . sh \n - # Platform files may be located under external / platform depending on the \n - # external repository source layout . Take them out if it ' s the case . \n + # Platform files may be located under external / platform or platform depending \n + # on the external repository source layout . Take them out if it ' s the case . \n + # - - experimental _ sibling _ repository _ layout = false \n + else \n + # - - experimental _ sibling _ repository _ layout = true \n + mv platforms / * . \n + rmdir - p platforms \n
site \ docs \ user - manual . html \n - speed on the build . \n + speed of the build . \n - a build , it also effects the analysis phase : if several targets are \n + a build , it also affects the analysis phase : if several targets are \n
new file \n data - transfer - object \ etc \ data - transfer - object . urm . puml \n + @ startuml \n + @ enduml \n
new file \n data - transfer - object \ etc \ data - transfer - object . urm . png \n Binary files / dev / null and b / data - transfer - object / etc / data - transfer - object . urm . png differ \n data - transfer - object \ etc \ data - transfer - object . urm . puml \n + package com . iluwatar . datatransfer { \n + class CustomerDto { \n + - firstName : String \n + - id : String \n + - lastName : String \n + + CustomerDto ( id : String , firstName : String , lastName : String ) \n + + getFirstName ( ) : String \n + + getId ( ) : String \n + + getLastName ( ) : String \n + } \n + class CustomerResource { \n + - customers : List < CustomerDto > \n + + CustomerResource ( customers : List < CustomerDto > ) \n + + delete ( customerId : String ) \n + + getAllCustomers ( ) : List < CustomerDto > \n + + save ( customer : CustomerDto ) \n + } \n + } \n + CustomerResource - - > " - customers " CustomerDto \n
new file \n data - transfer - object \ README . md \n + - - - \n + layout : pattern \n + title : Data Transfer Object \n + folder : data - transfer - object \n + permalink : / patterns / data - transfer - object / \n + categories : Architectural \n + tags : \n + - Java \n + - KISS \n + - YAGNI \n + - Difficulty - Beginner \n + - - - \n + \n + # # Intent \n + Pass data with multiple attributes in one shot from client to server , \n + to avoid multiple calls to remote server . \n + \n + ! [ alt text ] ( . / etc / data - transfer - object . urm . png " data - transfer - object " ) \n + \n + # # Applicability \n + Use the Data Transfer Object pattern when \n + \n + * The client is asking for multiple information . And the information is related . \n + * When you want to boost the performance to get resources . \n + * You want reduced number of remote calls . \n + \n + # # Credits \n + \n + * [ Design Pattern - Transfer Object Pattern ] ( https : / / www . tutorialspoint . com / design _ pattern / transfer _ object _ pattern . htm ) \n + * [ Data Transfer Object ] ( https : / / msdn . microsoft . com / en - us / library / ff649585 . aspx ) \n
new file \n partial - response \ src \ test \ java \ com \ iluwatar \ partialresponse \ AppTest . java \n + / * \n + * The MIT License ( MIT ) \n + * \n + * Copyright ( c ) 2014 - 2017 Gopinath Langote \n + * \n + * Permission is hereby granted , free of charge , to any person obtaining a copy \n + * of this software and associated documentation files ( the " Software " ) , to deal \n + * in the Software without restriction , including without limitation the rights \n + * to use , copy , modify , merge , publish , distribute , sublicense , and / or sell \n + * copies of the Software , and to permit persons to whom the Software is \n + * furnished to do so , subject to the following conditions : \n + * \n + * The above copyright notice and this permission notice shall be included in all \n + * copies or substantial portions of the Software . \n + * \n + * THE SOFTWARE IS PROVIDED " AS IS " , WITHOUT WARRANTY OF ANY KIND , EXPRESS OR \n + * IMPLIED , INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY , \n + * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT . IN NO EVENT SHALL THE \n + * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM , DAMAGES OR OTHER \n + * LIABILITY , WHETHER IN AN ACTION OF CONTRACT , TORT OR OTHERWISE , ARISING FROM , \n + * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE \n + * SOFTWARE . \n + * / \n + \n + package com . iluwatar . partialresponse ; \n + \n + import org . junit . Test ; \n + \n + / * * \n + * Application test \n + * / \n + public class AppTest { \n + @ Test \n + public void test ( ) throws Exception { \n + String [ ] args = { } ; \n + App . main ( args ) ; \n + } \n + } \n
partial - response \ src \ test \ java \ com \ iluwatar \ partialresponse \ AppTest . java \n + \n - public void test ( ) throws Exception { \n + public void main ( ) throws Exception { \n + \n
partial - response \ src \ main \ java \ com \ iluwatar \ partialresponse \ App . java \n - FieldJsonMapper fieldJsonMapper = new FieldJsonMapper ( ) ; \n - VideoResource videoResource = new VideoResource ( fieldJsonMapper , videos ) ; \n + VideoResource videoResource = new VideoResource ( new FieldJsonMapper ( ) , videos ) ; \n
x - pack \ plugin \ transform \ src \ main \ java \ org \ elasticsearch \ xpack \ transform \ Transform . java \n + import static org . elasticsearch . xpack . core . transform . transforms . persistence . TransformInternalIndexConstants . AUDIT _ INDEX _ PATTERN ; \n + \n + @ Override public Collection < String > getAssociatedIndexPatterns ( ) { \n + return List . of ( AUDIT _ INDEX _ PATTERN ) ; \n + } \n + \n
server \ src \ main \ java \ org \ elasticsearch \ action \ admin \ indices \ settings \ put \ TransportUpdateSettingsAction . java \n + import java . util . ArrayList ; \n + import java . util . HashMap ; \n + import java . util . List ; \n + import java . util . Map ; \n + import java . util . Objects ; \n + import java . util . stream . Collectors ; \n + \n - import java . util . ArrayList ; \n - import java . util . HashMap ; \n - import java . util . List ; \n - import java . util . Map ; \n - import java . util . stream . Collectors ; \n - \n - if ( expectedValue . equals ( actualValue ) = = false ) { \n + if ( Objects . equals ( expectedValue , actualValue ) = = false ) { \n
server \ src \ main \ java \ org \ elasticsearch \ snapshots \ SnapshotsService . java \n - public static final Version FEATURE _ STATES _ VERSION = Version . V _ 8 _ 0 _ 0 ; \n + public static final Version FEATURE _ STATES _ VERSION = Version . V _ 7 _ 12 _ 0 ; \n
presto - tests \ src \ main \ java \ com \ facebook \ presto \ tests \ DistributedQueryRunner . java \n - log . info ( " Created TestingPrestoServer in % s : % s " , nanosSince ( start ) . convertToMostSuccinctTimeUnit ( ) , server . getBaseUrl ( ) ) ; \n + String nodeRole = coordinator ? " coordinator " : " worker " ; \n + log . info ( " Created % s TestingPrestoServer in % s : % s " , nodeRole , nanosSince ( start ) . convertToMostSuccinctTimeUnit ( ) , server . getBaseUrl ( ) ) ; \n
presto - docs \ Makefile \n - SPHINXOPTS = \n + SPHINXOPTS = - j auto \n presto - docs \ src \ main \ sphinx \ ext \ download . py \n + \n + return { \n + ' parallel _ read _ safe ' : True , \n + } \n presto - docs \ src \ main \ sphinx \ ext \ issue . py \n + \n + return { \n + ' parallel _ read _ safe ' : True , \n + } \n
. travis . yml \n - docker \n + git : \n + quiet : true \n + \n - . / mvnw - v \n - | \n
dubbo - serialization \ dubbo - serialization - hessian2 \ src \ main \ java \ org \ apache \ dubbo \ common \ serialize \ hessian2 \ Hessian2ObjectInput . java \n + public InputStream readInputStream ( ) throws IOException { \n + return mH2i . readInputStream ( ) ; \n + } \n dubbo - serialization \ dubbo - serialization - hessian2 \ src \ main \ java \ org \ apache \ dubbo \ common \ serialize \ hessian2 \ Hessian2ObjectOutput . java \n + \n + public OutputStream getOutputStream ( ) throws IOException { \n + return mH2o . getBytesOutputStream ( ) ; \n + } \n
dubbo - rpc \ dubbo - rpc - dubbo \ src \ main \ java \ org \ apache \ dubbo \ rpc \ protocol \ dubbo \ filter \ FutureFilter . java \n - \n + fireThrowCallback ( invoker , invocation , t ) ; \n
dubbo - rpc \ dubbo - rpc - dubbo \ src \ main \ java \ org \ apache \ dubbo \ rpc \ protocol \ dubbo \ filter \ FutureFilter . java \n - \n + fireThrowCallback ( invoker , invocation , t ) ; \n
telephony \ common \ com \ android \ internal \ telephony \ CarrierAppUtils . java \n + import com . android . internal . telephony . util . TelephonyUtils ; \n - UserHandle . of ( userId ) , Runnable : : run , isSuccess - > { } ) ; \n + UserHandle . of ( userId ) , TelephonyUtils . DIRECT _ EXECUTOR , isSuccess - > { } ) ; \n telephony \ common \ com \ android \ internal \ telephony \ util \ TelephonyUtils . java \n + import java . util . concurrent . Executor ; \n + public static final Executor DIRECT _ EXECUTOR = Runnable : : run ; \n + \n
core \ api \ current . txt \n + field public static final String KEY _ RTT _ SUPPORTED _ WHILE _ ROAMING _ BOOL = " rtt _ supported _ while _ roaming " ; \n telephony \ java \ android \ telephony \ CarrierConfigManager . java \n + / * * \n + * Indicates whether RTT is supported while roaming . \n + * / \n + public static final String KEY _ RTT _ SUPPORTED _ WHILE _ ROAMING _ BOOL = \n + " rtt _ supported _ while _ roaming " ; \n + \n + sDefaults . putBoolean ( KEY _ RTT _ SUPPORTED _ WHILE _ ROAMING _ BOOL , false ) ; \n
core \ api \ current . txt \n - field public static final String KEY _ RTT _ SUPPORTED _ WHILE _ ROAMING _ BOOL = " rtt _ supported _ while _ roaming " ; \n + field public static final String KEY _ RTT _ SUPPORTED _ WHILE _ ROAMING _ BOOL = " rtt _ supported _ while _ roaming _ bool " ; \n telephony \ java \ android \ telephony \ CarrierConfigManager . java \n - " rtt _ supported _ while _ roaming " ; \n + " rtt _ supported _ while _ roaming _ bool " ; \n
README . md \n - * CARFULLY glue the backing to the mirror . We used spray adhesive , and practiced how we would pick it up and lay it on the mirror a couple times before going for it . We also wore black surgical gloves . \n + * CAREFULLY glue the backing to the mirror . We used spray adhesive , and practiced how we would pick it up and lay it on the mirror a couple times before going for it . We also wore black surgical gloves . \n - - - \n
README . md \n + \n + < img src = " https : / / raw . githubusercontent . com / HannahMitt / HomeMirror / master / design / IMG _ 20150911 _ 110449 - 2 . jpg " height = " 400 " / > \n - - - \n
README . md \n + [ Google Play Link ] ( https : / / play . google . com / store / apps / details ? id = com . morristaedt . mirror ) \n + \n
. github \ workflows \ main . yml \n - # main . yml \n - \n - name : Project Checkout \n - uses : actions / checkout @ v2 . 3 . 4 \n + uses : actions / checkout @ v2 \n - name : Setup JDK 1 . 8 \n - uses : actions / setup - java @ v1 . 4 . 3 \n + uses : actions / setup - java @ v1 \n - runs - on : ubuntu - 20 . 04 \n + runs - on : ubuntu - latest \n - name : Project Checkout \n - uses : actions / checkout @ v2 . 3 . 4 \n + uses : actions / checkout @ v2 \n - name : Setup JDK 1 . 8 \n - uses : actions / setup - java @ v1 . 4 . 3 \n + uses : actions / setup - java @ v1 \n - name : Deploy snapshot \n - run : | \n - mkdir - p ~ / . gradle / \n - echo SONATYPE _ NEXUS _ USERNAME = $ SONATYPE _ NEXUS _ USERNAME > > ~ / . gradle / gradle . properties \n - echo SONATYPE _ NEXUS _ PASSWORD = $ SONATYPE _ NEXUS _ PASSWORD > > ~ / . gradle / gradle . properties \n - . / gradlew clean uploadArchives \n + run : . / gradlew uploadArchives \n
. github \ workflows \ main . yml \n - name : Deploy snapshot \n - SONATYPE _ NEXUS _ USERNAME : $ { { secrets . SONATYPE _ NEXUS _ USERNAME } } \n - SONATYPE _ NEXUS _ PASSWORD : $ { { secrets . SONATYPE _ NEXUS _ PASSWORD } } \n + ORG _ GRADLE _ PROJECT _ SONATYPE _ NEXUS _ USERNAME : $ { { secrets . SONATYPE _ NEXUS _ USERNAME } } \n + ORG _ GRADLE _ PROJECT _ SONATYPE _ NEXUS _ PASSWORD : $ { { secrets . SONATYPE _ NEXUS _ PASSWORD } } \n - name : Cleanup secrets \n
. github \ workflows \ main . yml \n - name : Espresso Checks \n - uses : reactivecircus / android - emulator - runner @ v2 . 13 . 0 \n + uses : reactivecircus / android - emulator - runner @ v2 . 14 . 3 \n
x - pack \ plugin \ transform \ src \ main \ java \ org \ elasticsearch \ xpack \ transform \ transforms \ TransformIndexer . java \n + / * \n + * ignore if indexer thread is shutting down ( after finishing a checkpoint ) \n + * shutting down means : \n + * - indexer has finished a checkpoint and called onFinish \n + * - indexer state has changed from indexing to started \n + * - state persistence has been called but has _ not _ returned yet \n + * \n + * If we trigger the indexer in this situation the 2nd indexer thread might \n + * try to save state at the same time , causing a version conflict \n + * see gh # 67121 \n + * / \n + if ( indexerThreadShuttingDown ) { \n + logger . debug ( " [ { } ] indexer thread is shutting down . Ignoring trigger . " , getJobId ( ) ) ; \n + return false ; \n + } \n + \n
build . gradle \n - boolean bwc _ tests _ enabled = true \n - String bwc _ tests _ disabled _ issue = " " / * place a PR link here when committing bwc changes * / \n + boolean bwc _ tests _ enabled = false \n + String bwc _ tests _ disabled _ issue = " https : / / github . com / elastic / elasticsearch / pull / 68814 " / * place a PR link here when committing bwc changes * / \n
x - pack \ plugin \ transform \ src \ test \ java \ org \ elasticsearch \ xpack \ transform \ transforms \ TransformIndexerTests . java \n + import static org . hamcrest . Matchers . oneOf ; \n - assertEquals ( indexer . getState ( ) , IndexerState . INDEXING ) ; \n + assertThat ( indexer . getState ( ) , oneOf ( IndexerState . INDEXING , IndexerState . STARTED ) ) ; \n
x - pack \ plugin \ autoscaling \ src \ internalClusterTest \ java \ org \ elasticsearch \ xpack \ autoscaling \ action \ TransportGetAutoscalingCapacityActionIT . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 67089 " ) \n
x - pack \ plugin \ autoscaling \ src \ internalClusterTest \ java \ org \ elasticsearch \ xpack \ autoscaling \ action \ TransportGetAutoscalingCapacityActionIT . java \n + import org . elasticsearch . action . admin . cluster . node . info . NodesInfoResponse ; \n + import org . elasticsearch . bootstrap . JavaVersion ; \n + import org . elasticsearch . monitor . os . OsInfo ; \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 67089 " ) \n + final NodesInfoResponse response = client ( ) . admin ( ) . cluster ( ) . prepareNodesInfo ( ) . execute ( ) . actionGet ( ) ; \n + final boolean anyDebian8Nodes = response . getNodes ( ) \n + . stream ( ) \n + . anyMatch ( ni - > ni . getInfo ( OsInfo . class ) . getPrettyName ( ) . equals ( " Debian GNU / Linux 8 ( jessie ) " ) ) ; \n + boolean java15Plus = JavaVersion . current ( ) . compareTo ( JavaVersion . parse ( " 15 " ) ) > = 0 ; \n + / / see : https : / / github . com / elastic / elasticsearch / issues / 67089 # issuecomment - 756114654 \n + assumeTrue ( " cannot run on debian 8 prior to java 15 " , java15Plus | | anyDebian8Nodes = = false ) ; \n + \n
x - pack \ plugin \ autoscaling \ src \ internalClusterTest \ java \ org \ elasticsearch \ xpack \ autoscaling \ storage \ ProactiveStorageIT . java \n - client ( ) . admin ( ) . indices ( ) . rolloverIndex ( new RolloverRequest ( dsName , null ) ) ; \n + assertAcked ( client ( ) . admin ( ) . indices ( ) . rolloverIndex ( new RolloverRequest ( dsName , null ) ) . actionGet ( ) ) ; \n + response . getResults ( ) . get ( policyName ) . toString ( ) , \n x - pack \ plugin \ autoscaling \ src \ main \ java \ org \ elasticsearch \ xpack \ autoscaling \ capacity \ AutoscalingDeciderResults . java \n + import org . elasticsearch . common . Strings ; \n + \n + @ Override \n + public String toString ( ) { \n + return Strings . toString ( this ) ; \n + } \n
circleimageview \ src \ main \ java \ de \ hdodenhof \ circleimageview \ CircleImageView . java \n - private int mBitmapWidth ; \n - private int mBitmapHeight ; \n - mBitmapHeight = mBitmap . getHeight ( ) ; \n - mBitmapWidth = mBitmap . getWidth ( ) ; \n - \n - if ( mBitmapWidth * mDrawableRect . height ( ) > mDrawableRect . width ( ) * mBitmapHeight ) { \n - scale = mDrawableRect . height ( ) / ( float ) mBitmapHeight ; \n - dx = ( mDrawableRect . width ( ) - mBitmapWidth * scale ) * 0 . 5f ; \n + int bitmapHeight = mBitmap . getHeight ( ) ; \n + int bitmapWidth = mBitmap . getWidth ( ) ; \n + \n + if ( bitmapWidth * mDrawableRect . height ( ) > mDrawableRect . width ( ) * bitmapHeight ) { \n + scale = mDrawableRect . height ( ) / ( float ) bitmapHeight ; \n + dx = ( mDrawableRect . width ( ) - bitmapWidth * scale ) * 0 . 5f ; \n - scale = mDrawableRect . width ( ) / ( float ) mBitmapWidth ; \n - dy = ( mDrawableRect . height ( ) - mBitmapHeight * scale ) * 0 . 5f ; \n + scale = mDrawableRect . width ( ) / ( float ) bitmapWidth ; \n + dy = ( mDrawableRect . height ( ) - bitmapHeight * scale ) * 0 . 5f ; \n
circleimageview \ src \ main \ java \ de \ hdodenhof \ circleimageview \ CircleImageView . java \n - if ( mBitmap = = null ) { \n - return ; \n + if ( mCircleBackgroundColor ! = Color . TRANSPARENT ) { \n + canvas . drawCircle ( mDrawableRect . centerX ( ) , mDrawableRect . centerY ( ) , mDrawableRadius , mCircleBackgroundPaint ) ; \n - if ( mRebuildShader ) { \n - mRebuildShader = false ; \n + if ( mBitmap ! = null ) { \n + if ( mRebuildShader ) { \n + mRebuildShader = false ; \n + \n + BitmapShader bitmapShader = new BitmapShader ( mBitmap , Shader . TileMode . CLAMP , Shader . TileMode . CLAMP ) ; \n + bitmapShader . setLocalMatrix ( mShaderMatrix ) ; \n - BitmapShader bitmapShader = new BitmapShader ( mBitmap , Shader . TileMode . CLAMP , Shader . TileMode . CLAMP ) ; \n - bitmapShader . setLocalMatrix ( mShaderMatrix ) ; \n + mBitmapPaint . setShader ( bitmapShader ) ; \n + } \n - mBitmapPaint . setShader ( bitmapShader ) ; \n + canvas . drawCircle ( mDrawableRect . centerX ( ) , mDrawableRect . centerY ( ) , mDrawableRadius , mBitmapPaint ) ; \n - if ( mCircleBackgroundColor ! = Color . TRANSPARENT ) { \n - canvas . drawCircle ( mDrawableRect . centerX ( ) , mDrawableRect . centerY ( ) , mDrawableRadius , mCircleBackgroundPaint ) ; \n - } \n - canvas . drawCircle ( mDrawableRect . centerX ( ) , mDrawableRect . centerY ( ) , mDrawableRadius , mBitmapPaint ) ; \n
gradle . properties \n - VERSION _ NAME = 3 . 2 . 0 - SNAPSHOT \n + VERSION _ NAME = 4 . 0 . 0 - SNAPSHOT \n
library \ src \ main \ java \ com \ afollestad \ materialdialogs \ MaterialDialog . java \n - import android . support . v7 . widget . RecyclerView ; \n - return RecyclerUtil . canRecyclerViewScroll ( ( RecyclerView ) view ) ; \n + return RecyclerUtil . canRecyclerViewScroll ( view ) ; \n - isRecyclerView = view instanceof RecyclerView ; \n + isRecyclerView = RecyclerUtil . isRecyclerView ( view ) ; \n library \ src \ main \ java \ com \ afollestad \ materialdialogs \ RecyclerUtil . java \n + import android . view . View ; \n - static boolean canRecyclerViewScroll ( RecyclerView rv ) { \n + static boolean canRecyclerViewScroll ( View view ) { \n + \n + RecyclerView rv = ( RecyclerView ) view ; \n + \n + \n + static boolean isRecyclerView ( View view ) { \n + return view instanceof RecyclerView ; \n + } \n sample \ build . gradle \n - compile ' com . android . support : recyclerview - v7 : 21 . 0 . 3 ' \n
library \ src \ main \ java \ com \ afollestad \ materialdialogs \ MaterialDialog . java \n + \n + / / Set up width if on tablet \n + if ( builder . context . getResources ( ) . getBoolean ( R . bool . md _ is _ tablet ) ) { \n + WindowManager . LayoutParams lp = new WindowManager . LayoutParams ( ) ; \n + lp . copyFrom ( getWindow ( ) . getAttributes ( ) ) ; \n + lp . width = builder . context . getResources ( ) . getDimensionPixelSize ( R . dimen . md _ default _ dialog _ width ) ; \n + getWindow ( ) . setAttributes ( lp ) ; \n + } \n - MaterialDialog d = new MaterialDialog ( this ) ; \n - \n - if ( context . getResources ( ) . getBoolean ( R . bool . md _ is _ tablet ) ) { \n - WindowManager . LayoutParams lp = new WindowManager . LayoutParams ( ) ; \n - lp . copyFrom ( d . getWindow ( ) . getAttributes ( ) ) ; \n - lp . width = context . getResources ( ) . getDimensionPixelSize ( R . dimen . md _ default _ dialog _ width ) ; \n - d . getWindow ( ) . setAttributes ( lp ) ; \n - } \n - \n - return d ; \n + return new MaterialDialog ( this ) ; \n
library \ src \ main \ java \ com \ afollestad \ materialdialogs \ MaterialDialog . java \n + protected boolean alwaysCallSingleChoiceCallback ; \n + alwaysCallSingleChoiceCallback = builder . alwaysCallSingleChoiceCallback ; \n + } else if ( alwaysCallSingleChoiceCallback ) { \n + sendSingleChoiceCallback ( v ) ; \n + protected boolean alwaysCallSingleChoiceCallback = false ; \n + / * * \n + * By default , the single choice callback is only called when the user clicks the positive button \n + * or if there are no buttons . Call this to force it to always call on item clicks even if the \n + * positive button exists . \n + * \n + * @ return The Builder instance so you can chain calls to it . \n + * / \n + public Builder alwaysCallSingleChoiceCallback ( ) { \n + this . alwaysCallSingleChoiceCallback = true ; \n + return this ; \n + } \n + \n
media \ java \ android \ media \ tv \ TvInputHardwareInfo . java \n - return new Builder ( ) \n + Builder newBuilder = new Builder ( ) \n - . hdmiPortId ( mHdmiPortId ) \n + if ( mType = = TV _ INPUT _ TYPE _ HDMI ) { \n + newBuilder . hdmiPortId ( mHdmiPortId ) ; \n + } \n + return newBuilder ; \n
media \ java \ android \ media \ tv \ tuner \ frontend \ FrontendInfo . java \n + / / if max Frequency is negative , we set it as max value of the Integer . \n + if ( maxFrequency < 0 ) { \n + maxFrequency = Integer . MAX _ VALUE ; \n + } \n
media \ jni \ android _ media _ tv _ Tuner . cpp \n - void DestroyCallback ( const C2Buffer * / * buf * / , void * arg ) { \n + void DestroyCallback ( const C2Buffer * buf , void * arg ) { \n + android : : Mutex : : Autolock autoLock ( event - > mLock ) ; \n + event - > decStrong ( buf ) ; \n + incStrong ( pC2Buffer . get ( ) ) ; \n + android : : Mutex : : Autolock autoLock ( mediaEventSp - > mLock ) ; \n
ios \ PhyWeb \ UI \ PWBeaconsViewController . m \n - ( void ) _ sort { \n + BOOL hasRank = NO ; \n + for ( PWBeacon * beacon in _ beacons ) { \n + if ( [ beacon hasRank ] ) { \n + hasRank = YES ; \n + break ; \n + } \n + } \n + if ( hasRank ) { \n + for ( PWBeacon * beacon in _ beacons ) { \n + if ( ! [ beacon hasRank ] ) { \n + [ beacon setHasRank : YES ] ; \n + [ beacon setRank : 1000 ] ; \n + } \n + } \n + } \n
ios \ PhyWeb \ Backend \ PWBeacon . h \n - / / URL of the page ( if shortened , it will be expanded ) . \n + / / URL of the page stored on the beacon . \n + / / URL of the page to display to the user . \n + @ property ( nonatomic , copy ) NSURL * displayURL ; \n + \n + / / Whether the display URL has been set by the server . \n + @ property ( nonatomic , assign ) BOOL hasDisplayURL ; \n + \n ios \ PhyWeb \ Backend \ PWBeacon . m \n + NSString * displayUrlString = info [ @ " displayUrl " ] ; \n + if ( displayUrlString = = ( NSString * ) [ NSNull null ] ) { \n + displayUrlString = nil ; \n + } \n + [ self setHasDisplayURL : displayUrlString ! = nil ] ; \n + [ self setDisplayURL : displayUrlString ! = nil \n + ? [ NSURL URLWithString : displayUrlString ] \n + : [ self URL ] ] ; \n ios \ PhyWeb \ Backend \ PWBeaconManager . m \n - [ PWURLShortener \n - expandURL : [ beacon URL ] \n - completion : ^ ( NSError * error , NSURL * resultURL ) { \n + if ( ! [ beacon hasDisplayURL ] ) { \n + [ PWURLShortener \n + expandURL : [ beacon URL ] \n + completion : ^ ( NSError * error , NSURL * resultURL ) { \n - } ] ; \n + } ] ; \n + } \n + [ _ beaconsDict setObject : beacon forKey : [ [ beacon uriBeacon ] URI ] ] ; \n + [ _ pendingURLRequest removeObject : [ uriBeacon URI ] ] ; \n + [ _ requests removeObject : request ] ; \n + [ self _ notify ] ; \n ios \ PhyWeb \ UI \ PWBeaconCell . m \n - [ _ urlLabel setText : [ [ [ self beacon ] URL ] absoluteString ] ] ; \n + [ _ urlLabel setText : [ [ [ self beacon ] displayURL ] absoluteString ] ] ; \n
ios \ PhyWeb \ third - party \ uribeacon \n - Subproject commit 0b65609dc06ec4681daeb5a8db3f59ac241f3b0d \n + Subproject commit 11616693b00e4edeba3f9eac9f39cdc7baf4fffd \n
docs \ reference \ rollup \ overview . asciidoc \n - Details about setting up and configuring Rollup are covered in < < rollup - put - job , Create Job API > > \n + Details about setting up and configuring Rollup are covered in < < rollup - put - job , Create Job API > > . \n
server \ src \ main \ java \ org \ elasticsearch \ transport \ TransportMessageListener . java \n - * @ param requestId the request id for this reponse \n + * @ param requestId the request id for this response \n
server \ src \ main \ java \ org \ elasticsearch \ common \ settings \ IndexScopedSettings . java \n - MergePolicyConfig . INDEX _ MERGE _ POLICY _ RECLAIM _ DELETES _ WEIGHT _ SETTING , \n server \ src \ main \ java \ org \ elasticsearch \ index \ MergePolicyConfig . java \n - public static final double DEFAULT _ RECLAIM _ DELETES _ WEIGHT = 2 . 0d ; \n - public static final Setting < Double > INDEX _ MERGE _ POLICY _ RECLAIM _ DELETES _ WEIGHT _ SETTING = \n - Setting . doubleSetting ( " index . merge . policy . reclaim _ deletes _ weight " , DEFAULT _ RECLAIM _ DELETES _ WEIGHT , 0 . 0d , \n - Property . Dynamic , Property . IndexScope , Property . Deprecated ) ; \n - double reclaimDeletesWeight = indexSettings . getValue ( INDEX _ MERGE _ POLICY _ RECLAIM _ DELETES _ WEIGHT _ SETTING ) ; \n x - pack \ plugin \ ccr \ src \ main \ java \ org \ elasticsearch \ xpack \ ccr \ action \ TransportResumeFollowAction . java \n - MergePolicyConfig . INDEX _ MERGE _ POLICY _ RECLAIM _ DELETES _ WEIGHT _ SETTING , \n
Jenkinsfile \n - sh ' . / mvnw clean source : jar javadoc : jar package deploy - pl dubbo - dependencies - bom & & . / mvnw clean package deploy - DskipTests = true ' \n + sh ' . / mvnw clean package deploy - pl dubbo - dependencies - bom & & . / mvnw clean source : jar javadoc : jar package deploy - DskipTests = true ' \n
dubbo - remoting \ dubbo - remoting - zookeeper \ src \ main \ java \ org \ apache \ dubbo \ remoting \ zookeeper \ support \ AbstractZookeeperTransporter . java \n + import org . apache . dubbo . common . utils . StringUtils ; \n + / / address format : { [ username : password @ ] address } \n - \n + \n + String authPrefix = null ; \n + if ( StringUtils . isNotEmpty ( url . getUsername ( ) ) ) { \n + StringBuilder buf = new StringBuilder ( ) ; \n + buf . append ( url . getUsername ( ) ) ; \n + if ( StringUtils . isNotEmpty ( url . getPassword ( ) ) ) { \n + buf . append ( " : " ) ; \n + buf . append ( url . getPassword ( ) ) ; \n + } \n + buf . append ( " @ " ) ; \n + authPrefix = buf . toString ( ) ; \n + } \n + \n + if ( StringUtils . isNotEmpty ( authPrefix ) ) { \n + List < String > authedAddressList = new ArrayList < > ( addressList . size ( ) ) ; \n + for ( String addr : addressList ) { \n + authedAddressList . add ( authPrefix + addr ) ; \n + } \n + return authedAddressList ; \n + } \n + \n + \n dubbo - remoting \ dubbo - remoting - zookeeper \ src \ test \ java \ org \ apache \ dubbo \ remoting \ zookeeper \ support \ AbstractZookeeperTransporterTest . java \n + \n + @ Test \n + public void testSameHostWithDifferentUser ( ) throws Exception { \n + int zkPort1 = NetUtils . getAvailablePort ( ) ; \n + int zkPort2 = NetUtils . getAvailablePort ( ) ; \n + try ( TestingServer zkServer1 = new TestingServer ( zkPort1 , true ) ) { \n + try ( TestingServer zkServer2 = new TestingServer ( zkPort2 , true ) ) { \n + URL url1 = URL . valueOf ( " zookeeper : / / us1 : pw1 @ 127 . 0 . 0 . 1 : " + zkPort1 + " / path1 " ) ; \n + URL url2 = URL . valueOf ( " zookeeper : / / us2 : pw2 @ 127 . 0 . 0 . 1 : " + zkPort1 + " / path2 " ) ; \n + \n + ZookeeperClient client1 = abstractZookeeperTransporter . connect ( url1 ) ; \n + ZookeeperClient client2 = abstractZookeeperTransporter . connect ( url2 ) ; \n + \n + assertThat ( client1 , not ( client2 ) ) ; \n + } \n + } \n + } \n
dubbo - dependencies - bom \ pom . xml \n - < revision > 2 . 7 . 8 < / revision > \n + < revision > 2 . 7 . 9 - SNAPSHOT < / revision > \n dubbo - dependencies \ dubbo - dependencies - zookeeper \ pom . xml \n - < revision > 2 . 7 . 8 < / revision > \n + < revision > 2 . 7 . 9 - SNAPSHOT < / revision > \n
pom . xml \n - < version > 1 . 11 . 0 - master - SNAPSHOT < / version > \n + < version > 1 . 10 . 3 - rc1 < / version > \n - < tag > HEAD < / tag > \n + < tag > clojure - 1 . 10 . 3 - rc1 < / tag > \n
pom . xml \n - < version > 1 . 10 . 2 - master - SNAPSHOT < / version > \n + < version > 1 . 10 . 2 - rc2 < / version > \n - < tag > HEAD < / tag > \n + < tag > clojure - 1 . 10 . 2 - rc2 < / tag > \n
pom . xml \n - < version > 1 . 10 . 2 - rc2 < / version > \n + < version > 1 . 10 . 2 - master - SNAPSHOT < / version > \n - < tag > clojure - 1 . 10 . 2 - rc2 < / tag > \n + < tag > HEAD < / tag > \n
dubbo - metadata - report \ dubbo - metadata - report - api \ src \ main \ java \ org \ apache \ dubbo \ metadata \ identifier \ MetadataIdentifier . java \n - return getFilePathKey ( ) + PATH _ SEPARATOR + DEFAULT _ PATH _ TAG ; \n + return getFilePathKey ( ) ; \n - return getIdentifierKey ( ) + META _ DATA _ STORE _ TAG ; \n + return getIdentifierKey ( ) ; \n dubbo - metadata - report \ dubbo - metadata - report - api \ src \ test \ java \ org \ apache \ dubbo \ metadata \ identifier \ MetadataIdentifierTest . java \n - System . out . println ( providerMetadataIdentifier . getUniqueKey ( MetadataIdentifier . KeyTypeEnum . PATH ) ) ; \n + ( group = = null ? " " : ( group + PATH _ SEPARATOR ) ) + PROVIDER _ SIDE \n - + PATH _ SEPARATOR + application + PATH _ SEPARATOR + " metadata " ) ; \n - System . out . println ( providerMetadataIdentifier . getUniqueKey ( MetadataIdentifier . KeyTypeEnum . UNIQUE _ KEY ) ) ; \n + + PATH _ SEPARATOR + application ) ; \n + ( group = = null ? " " : group + MetadataIdentifier . SEPARATOR ) \n - + PROVIDER _ SIDE + MetadataIdentifier . SEPARATOR + application + META _ DATA _ STORE _ TAG ) ; \n + + PROVIDER _ SIDE + MetadataIdentifier . SEPARATOR + application ) ; \n
new file \n SECURITY . md \n + # Security Policy \n + \n + # # Supported Versions \n + \n + Below is a table that shows versions that accept security fix . \n + \n + | Version | Supported | \n + | - - - - - - - | - - - - - - - - - - - - - - - - - - | \n + | 2 . 7 . x | : white _ check _ mark : | \n + | 2 . 6 . x | : white _ check _ mark : | \n + | 2 . 5 . x | : x : | \n + \n + \n + # # Reporting a Vulnerability \n + \n + The Apache Software Foundation takes a rigorous standpoint in annihilating the security issues in its software projects . Apache Dubbo is highly sensitive and forthcoming to issues pertaining to its features and functionality . \n + \n + If you have apprehensions regarding Dubbo ' s security or you discover vulnerability or potential threat , don’t hesitate to get in touch with the Apache Dubbo Security Team by dropping a mail at security @ dubbo . apache . org . In the mail , specify the description of the issue or potential threat . You are also urged to recommend the way to reproduce and replicate the issue . The Dubbo community will get back to you after assessing and analysing the findings . \n + \n + PLEASE PAY ATTENTION to report the security issue on the security email before disclosing it on public domain . \n + \n + # # VULNERABILITY HANDLING \n + \n + An overview of the vulnerability handling process is : \n + \n + * The reporter reports the vulnerability privately to Apache . \n + * The appropriate project ' s security team works privately with the reporter to resolve the vulnerability . \n + * A new release of the Apache product concerned is made that includes the fix . \n + * The vulnerability is publically announced . \n + \n + A more detailed description of the process can be found [ here ] ( https : / / www . apache . org / security / committers . html ) . \n
dubbo - registry \ dubbo - registry - nacos \ pom . xml \n - < nacos . version > 0 . 9 . 0 < / nacos . version > \n + < nacos . version > 1 . 0 . 0 - RC3 < / nacos . version > \n
spring - core \ src \ main \ java \ org \ springframework \ util \ FileCopyUtils . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + import java . io . Closeable ; \n + * @ author Hyunjin Choi \n - try { \n - in . close ( ) ; \n - } \n - catch ( IOException ex ) { \n - } \n - try { \n - out . close ( ) ; \n - } \n - catch ( IOException ex ) { \n - } \n + close ( in ) ; \n + close ( out ) ; \n - try { \n - out . close ( ) ; \n - } \n - catch ( IOException ex ) { \n - } \n + close ( out ) ; \n - try { \n - in . close ( ) ; \n - } \n - catch ( IOException ex ) { \n - } \n - try { \n - out . close ( ) ; \n - } \n - catch ( IOException ex ) { \n - } \n + close ( in ) ; \n + close ( out ) ; \n - try { \n - out . close ( ) ; \n - } \n - catch ( IOException ex ) { \n - } \n + close ( out ) ; \n + / * * \n + * Close the { @ link Closeable } as a null - safety . \n + * \n + * @ param closeable to close , may be null . \n + * / \n + private static void close ( @ Nullable Closeable closeable ) { \n + if ( closeable = = null ) return ; \n + try { \n + closeable . close ( ) ; \n + } catch ( IOException e ) { \n + / / do nothing \n + } \n + } \n + \n
spring - jdbc \ src \ main \ java \ org \ springframework \ jdbc \ datasource \ init \ ScriptUtils . java \n - LineNumberReader lnr = new LineNumberReader ( resource . getReader ( ) ) ; \n - try { \n + try ( LineNumberReader lnr = new LineNumberReader ( resource . getReader ( ) ) ) { \n - finally { \n - lnr . close ( ) ; \n - } \n
spring - jdbc \ src \ main \ java \ org \ springframework \ jdbc \ datasource \ init \ DatabasePopulatorUtils . java \n - * Copyright 2002 - 2017 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + catch ( ScriptException ex ) { \n + throw ex ; \n + } \n - if ( ex instanceof ScriptException ) { \n - throw ( ScriptException ) ex ; \n - } \n
. circleci \ config . yml \n - setup _ ios \n - - test _ ios : \n - name : test _ ios _ unit _ frameworks _ jsc \n - use _ frameworks : true \n - run _ unit _ tests : true \n - requires : \n - - setup _ ios \n + # DISABLED : USE _ FRAMEWORKS = 1 not supported by Flipper \n + # - test _ ios : \n + # name : test _ ios _ unit _ frameworks _ jsc \n + # use _ frameworks : true \n + # run _ unit _ tests : true \n + # requires : \n + # - setup _ ios \n - test _ ios : \n - setup _ ios \n - - test _ ios : \n - name : test _ ios _ unit _ frameworks _ hermes \n - use _ hermes : true \n - use _ frameworks : true \n - run _ unit _ tests : true \n - requires : \n - - setup _ ios \n + # DISABLED : USE _ FRAMEWORKS = 1 not supported by Flipper \n + # - test _ ios : \n + # name : test _ ios _ unit _ frameworks _ hermes \n + # use _ hermes : true \n + # use _ frameworks : true \n + # run _ unit _ tests : true \n + # requires : \n + # - setup _ ios \n + # DISABLED : Detox tests need to be fixed \n + # DISABLED : USE _ FRAMEWORKS = 1 not supported by Flipper \n
rename from . github \ label - actions . yml \n rename to . github \ respond - to - issue - based - on - label . yml \n - # Configuration for Label Actions - https : / / github . com / marketplace / actions / label - actions \n + # Configuration for Respond To Issue Based on Label https : / / github . com / marketplace / actions / respond - to - issue - based - on - label \n rename from . github \ workflows \ process - label - actions . yml \n rename to . github \ workflows \ on - issue - labeled . yml \n - name : Label Actions \n + name : On Issue Labeled \n - processLabelAction : \n - name : Process Label Action \n + respondToIssueBasedOnLabel : \n + name : Respond to Issue Based on Label \n - uses : actions / checkout @ v2 \n - - name : Process Label Action \n - uses : hramos / label - actions @ v1 \n + - name : Respond to Issue Based on Label \n + uses : hramos / respond - to - issue - based - on - label @ v2 \n
. circleci \ config . yml \n - install _ github _ bot _ deps \n + # Note : The yarn gpg key needs to be refreshed to work around https : / / github . com / yarnpkg / yarn / issues / 7866 \n - run : \n - command : apt update & & apt install - y shellcheck jq \n + command : | \n + curl - sS https : / / dl . yarnpkg . com / debian / pubkey . gpg | apt - key add - \n + apt update & & apt install - y shellcheck jq \n - run : \n - \n - # Temp - redownload expired yarn key before apt - get \n - - run : \n - name : Setup yarn key \n - command : curl - sS https : / / dl . yarnpkg . com / debian / pubkey . gpg | apt - key add - \n + # Note : The yarn gpg key needs to be refreshed to work around https : / / github . com / yarnpkg / yarn / issues / 7866 \n - run : \n - command : apt - get update - y & & apt - get install rsync zip - y \n + command : | \n + curl - sS https : / / dl . yarnpkg . com / debian / pubkey . gpg | apt - key add - \n + apt - get update - y & & apt - get install rsync zip - y \n - install _ buck _ tooling \n
packages \ rn - tester \ Podfile \n + system ( " ( cd # { codegen _ path } & & yarn install & & yarn run build ) " ) \n packages \ rn - tester \ Podfile . lock \n - PODFILE CHECKSUM : e8fcdfe0cd22ad16c23d87ada51a7afb492b2ff1 \n + PODFILE CHECKSUM : 7e23479b52619cbbd3aa612f09f0e4bd0c2ed208 \n
. circleci \ config . yml \n - - run : \n - name : Fetch CocoaPods Specs \n - command : | \n - curl https : / / cocoapods - specs . circleci . com / fetch - cocoapods - repo - from - s3 . sh | bash - s cf \n - run : \n - - run : \n - name : Generate RNTesterPods Xcode Workspace \n - command : pushd packages / rn - tester & & bundle exec pod install - - verbose & & popd \n - \n - when : \n
packages \ react - native - codegen \ package . json \n - " version " : " 0 . 0 . 6 " , \n + " version " : " 0 . 0 . 7 " , \n
dubbo - filter \ dubbo - filter - validation \ src \ main \ java \ org \ apache \ dubbo \ validation \ filter \ ValidationFilter . java \n + import javax . validation . ValidationException ; \n + \n + } catch ( ValidationException e ) { \n + / / only use exception ' s message to avoid potential serialization issue \n + return AsyncRpcResult . newDefaultAsyncResult ( new ValidationException ( e . getMessage ( ) ) , invocation ) ; \n
dubbo - registry \ dubbo - registry - consul \ src \ main \ java \ org \ apache \ dubbo \ registry \ consul \ ConsulRegistry . java \n + import org . apache . dubbo . common . utils . UrlUtils ; \n - String service = url . getServiceKey ( ) ; \n + String service = url . getServiceInterface ( ) ; \n + . filter ( url - > UrlUtils . isMatch ( consumerURL , url ) ) \n - service . setName ( url . getServiceKey ( ) ) ; \n + service . setName ( url . getServiceInterface ( ) ) ; \n
dubbo - registry \ dubbo - registry - api \ src \ main \ java \ org \ apache \ dubbo \ registry \ integration \ RegistryProtocol . java \n - public void register ( URL registryUrl , URL registeredProviderUrl ) { \n + private void register ( URL registryUrl , URL registeredProviderUrl ) { \n + } \n + private void registerStatedUrl ( URL registryUrl , URL registeredProviderUrl , boolean registered ) { \n - true \n - ) ) ; \n + registered ) ) ; \n + \n + / / register stated url on provider model \n + registerStatedUrl ( registryUrl , registeredProviderUrl , register ) ; \n + \n
. gitignore \n + . shelf / \n
codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ Http2FrameCodec . java \n - volatile Http2Stream stream ; \n + private volatile Http2Stream stream ; \n
handler \ src \ test \ java \ io \ netty \ handler \ ssl \ SslHandlerTest . java \n - assumeTrue ( OpenSsl . isBoringSSL ( ) ) ; \n
kotlin - native \ build - tools \ src \ main \ groovy \ org \ jetbrains \ kotlin \ KonanTest . groovy \n - line . split ( " " ) . toList ( ) . forEach { flags . add ( " - XXLanguage : $ it " ) } \n + line . split ( " " ) . toList ( ) . forEach { \n + if ( it ! = " + NewInference " ) / / It is on already by default , but passing it explicitly turns on a special " compatibility mode " in FE which is not desirable . \n + flags . add ( " - XXLanguage : $ it " ) \n + } \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ lower \ FunctionReferenceLowering . kt \n + import org . jetbrains . kotlin . ir . types . impl . buildSimpleType \n + import org . jetbrains . kotlin . ir . types . impl . makeTypeProjection \n + import org . jetbrains . kotlin . types . Variance \n + / / TODO : Move to common IR utils . \n + fun IrType . eraseProjections ( ) : IrType { \n + if ( this ! is IrSimpleType ) return this \n + return buildSimpleType { \n + this . classifier = this @ eraseProjections . classifier \n + this . hasQuestionMark = this @ eraseProjections . hasQuestionMark \n + this . annotations = this @ eraseProjections . annotations \n + this . arguments = this @ eraseProjections . arguments . map { \n + if ( it ! is IrTypeProjection ) \n + it \n + else makeTypeProjection ( it . type . eraseProjections ( ) , Variance . INVARIANT ) \n + } \n + } \n + } \n + \n - return transformFunctionReference ( reference , expression . typeOperand ) \n + return transformFunctionReference ( reference , expression . typeOperand . eraseProjections ( ) ) \n kotlin - native \ backend . native \ tests \ build . gradle \n + task funInterface _ nonTrivialProjectionInSuperType ( type : KonanLocalTest ) { \n + source = " codegen / funInterface / nonTrivialProjectionInSuperType . kt " \n + } \n + \n new file \n kotlin - native \ backend . native \ tests \ codegen \ funInterface \ nonTrivialProjectionInSuperType . kt \n + / * \n + * Copyright 2010 - 2021 JetBrains s . r . o . Use of this source code is governed by the Apache 2 . 0 license \n + * that can be found in the LICENSE file . \n + * / \n + \n + package codegen . funInterface . nonTrivialProjectionInSuperType \n + \n + import kotlin . test . * \n + \n + fun < T > foo ( comparator : kotlin . Comparator < in T > , a : T , b : T ) = comparator . compare ( a , b ) \n + \n + fun bar ( x : Int , y : Int ) = foo < Int > ( { a , b - > a - b } , x , y ) \n + \n + @ Test \n + fun test ( ) { \n + assertTrue ( bar ( 42 , 117 ) < 0 ) \n + } \n
compiler \ testData \ codegen \ box \ secondaryConstructors \ fieldInitializerOptimization _ inlineClass . kt \n + / / IGNORE _ BACKEND : NATIVE \n
build . gradle \n - boolean bwc _ tests _ enabled = true \n - String bwc _ tests _ disabled _ issue = " " / * place a PR link here when committing bwc changes * / \n + boolean bwc _ tests _ enabled = false \n + String bwc _ tests _ disabled _ issue = " https : / / github . com / elastic / elasticsearch / pull / 68490 " / * place a PR link here when committing bwc changes * / \n
build . gradle \n - bwc _ tests _ enabled = false \n - bwc _ tests _ disabled _ issue = " https : / / github . com / elastic / elasticsearch / issues / 66772 " \n + bwc _ tests _ enabled = true \n + bwc _ tests _ disabled _ issue = " " \n server \ src \ main \ java \ org \ elasticsearch \ search \ aggregations \ support \ MultiValuesSourceFieldConfig . java \n - if ( in . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( in . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n - if ( out . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( out . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n
rest - api - spec \ src \ main \ resources \ rest - api - spec \ test \ search . aggregation \ 20 _ terms . yml \n - - - \n - skip : \n - version : " 7 . 99 . 99 - " \n + version : " - 7 . 99 . 99 " \n - do : \n
compiler \ fir \ java \ src \ org \ jetbrains \ kotlin \ fir \ java \ JavaSymbolProvider . kt \n - buildConstructorForAnnotationClass ( constructorId , this , valueParametersForAnnotationConstructor ) \n + buildConstructorForAnnotationClass ( \n + classSource = ( javaClass as ? JavaElementImpl < * > ) ? . psi ? . toFirPsiSourceElement ( FirFakeSourceElementKind . ImplicitConstructor ) , \n + constructorId = constructorId , \n + ownerClassBuilder = this , \n + valueParametersForAnnotationConstructor = valueParametersForAnnotationConstructor \n + ) \n + source = ( javaMethod as ? JavaElementImpl < * > ) ? . psi ? . toFirPsiSourceElement ( FirFakeSourceElementKind . ImplicitJavaAnnotationConstructor ) \n + classSource : FirSourceElement ? , \n + source = classSource \n compiler \ fir \ tree \ src \ org \ jetbrains \ kotlin \ fir \ FirSourceElement . kt \n + \n + / / for java annotations implicit constructor is generated \n + / / with a fake source which refers to containing class \n + object ImplicitJavaAnnotationConstructor : FirFakeSourceElementKind ( ) \n + \n + / / for java annotations constructor implicit parameters are generated \n + / / with a fake source which refers to declared annotation methods \n + object ImplicitAnnotationAnnotationConstructorParameter : FirFakeSourceElementKind ( ) \n idea \ idea - frontend - fir \ src \ org \ jetbrains \ kotlin \ idea \ references \ FirReferenceResolveHelper . kt \n - val ktCallExpression = ktValueArgumentList . parent as ? KtCallExpression ? : return emptyList ( ) \n + val ktCallExpression = ktValueArgumentList . parent as ? KtCallElement ? : return emptyList ( ) \n - val firCall = ktCallExpression . getOrBuildFirSafe < FirFunctionCall > ( analysisSession . firResolveState ) ? : return emptyList ( ) \n + val firCall = ktCallExpression . getOrBuildFirSafe < FirCall > ( analysisSession . firResolveState ) ? : return emptyList ( ) \n - private fun FirFunctionCall . findCorrespondingParameter ( ktValueArgument : KtValueArgument ) : FirValueParameter ? = \n + private fun FirCall . findCorrespondingParameter ( ktValueArgument : KtValueArgument ) : FirValueParameter ? = \n idea \ testData \ resolve \ references \ JavaAnnotationParameter . kt \n - / / IGNORE _ FIR \n - \n - @ java . lang . annotation . Retention ( va < caret > lue = java . lang . annotation . RetentionPolicy . RUNTIME ) \n + @ java . lang . annotation . Re < caret > tention ( va < caret > lue = java . lang . annotation . RetentionPolicy . RUNTIME ) \n - / / REF : ( in java . lang . annotation . Retention ) . value ( ) \n + / / REF1 : ( java . lang . annotation ) . Retention \n + / / REF2 : ( in java . lang . annotation . Retention ) . value ( ) \n
compiler \ fir \ resolve \ src \ org \ jetbrains \ kotlin \ fir \ resolve \ transformers \ FirCallCompletionResultsWriterTransformer . kt \n - result . replaceTypeArguments ( typeArguments ) \n + if ( declaration ! is FirErrorFunction ) { \n + result . replaceTypeArguments ( typeArguments ) \n + } \n compiler \ testData \ diagnostics \ tests \ StarsInFunctionCalls . fir . kt \n - < ! UNRESOLVED _ REFERENCE ! > ggetT < ! > < * > ( ) \n + < ! UNRESOLVED _ REFERENCE ! > ggetT < ! > < < ! PROJECTION _ ON _ NON _ CLASS _ TYPE _ ARGUMENT ! > * < ! > > ( ) \n compiler \ testData \ diagnostics \ tests \ resolve \ resolveTypeArgsForUnresolvedCall . fir . kt \n - < ! UNRESOLVED _ REFERENCE ! > x < ! > . < ! UNRESOLVED _ REFERENCE ! > yyy < ! > < XXX > ( ) \n + < ! UNRESOLVED _ REFERENCE ! > x < ! > . < ! UNRESOLVED _ REFERENCE ! > yyy < ! > < < ! UNRESOLVED _ REFERENCE ! > XXX < ! > > ( ) \n idea \ testData \ resolve \ references \ AnnotationParameter . kt \n - / / IGNORE _ FIR \n
idea \ idea - fir \ tests \ org \ jetbrains \ kotlin \ idea \ resolve \ FirReferenceResolveTestGenerated . java \n + @ TestMetadata ( " WrongNumberOfTypeArguments3 . kt " ) \n + public void testWrongNumberOfTypeArguments3 ( ) throws Exception { \n + runTest ( " idea / testData / resolve / references / WrongNumberOfTypeArguments3 . kt " ) ; \n + } \n + \n idea \ idea - frontend - fir \ src \ org \ jetbrains \ kotlin \ idea \ references \ FirReferenceResolveHelper . kt \n + import org . jetbrains . kotlin . fir . resolve . diagnostics . ConeWrongNumberOfTypeArgumentsError \n + import org . jetbrains . kotlin . fir . types . FirErrorTypeRef \n - import org . jetbrains . kotlin . idea . fir . * \n + import org . jetbrains . kotlin . idea . fir . getCandidateSymbols \n + import org . jetbrains . kotlin . idea . fir . isImplicitFunctionCall \n - val type = type as ? ConeLookupTagBasedType ? : return null \n - val symbol = type . lookupTag . toSymbol ( session ) as ? AbstractFirBasedSymbol < * > \n + \n + val type = type as ? ConeLookupTagBasedType \n + val resolvedSymbol = type ? . lookupTag ? . toSymbol ( session ) as ? AbstractFirBasedSymbol < * > \n + \n + val symbol = resolvedSymbol ? : run { \n + val diagnostic = ( this as ? FirErrorTypeRef ) ? . diagnostic \n + ( diagnostic as ? ConeWrongNumberOfTypeArgumentsError ) ? . type \n + } \n + \n new file \n idea \ testData \ resolve \ references \ WrongNumberOfTypeArguments3 . kt \n + package foo \n + \n + class CC < T > \n + class DD < T , T2 > \n + \n + val v1 = D < caret > D < C < caret > C > \n + \n + / / REF1 : ( foo ) . DD \n + / / REF2 : ( foo ) . CC \n idea \ tests \ org \ jetbrains \ kotlin \ idea \ resolve \ ReferenceResolveTestGenerated . java \n + @ TestMetadata ( " WrongNumberOfTypeArguments3 . kt " ) \n + public void testWrongNumberOfTypeArguments3 ( ) throws Exception { \n + runTest ( " idea / testData / resolve / references / WrongNumberOfTypeArguments3 . kt " ) ; \n + } \n + \n
caching \ index . md \n - Java \n - Difficulty - Intermediate \n - - Caching \n + - Performance \n - - - \n flyweight \ index . md \n - Java \n - Gang Of Four \n - Difficulty - Intermediate \n - - Caching \n + - Performance \n - - - \n lazy - loading \ index . md \n - Java \n - Difficulty - Beginner \n - Idiom \n - - Caching \n + - Performance \n - - - \n object - pool \ index . md \n - Java \n - Difficulty - Beginner \n - - Caching \n + - Performance \n - - - \n service - locator \ index . md \n - Java \n - Difficulty - Beginner \n + - Performance \n - - - \n thread - pool \ index . md \n - Java \n - Difficulty - Intermediate \n + - Performance \n - - - \n
pom . xml \n + < includeTestSourceDirectory > true < / includeTestSourceDirectory > \n
checkstyle . xml \n - \n - < module name = " SuppressionFilter " > \n - < property name = " file " value = " $ { config _ loc } / checkstyle - suppressions . xml " default = " checkstyle - suppressions . xml " / > \n - < / module > \n - \n + \n pom . xml \n + < suppressionsLocation > checkstyle - suppressions . xml < / suppressionsLocation > \n
. github \ workflows \ maven . yml \n - name : Install xvfb \n + # SonarQube scan does not work for forked repositories \n + # See https : / / jira . sonarsource . com / browse / MMF - 1371 \n - name : Build with Maven \n + if : github . ref ! = ‘refs / heads / master’ \n + run : xvfb - run mvn clean verify \n + - name : Build with Maven and run SonarQube analysis \n + if : github . ref = = ‘refs / heads / master’ \n
naked - objects \ pom . xml \n - < version > 3 . 2 . 3 < / version > \n + < version > 2 . 4 < / version > \n
pom . xml \n - < version > 3 . 0 . 0 - M4 < / version > \n + < version > 3 . 0 . 0 - M3 < / version > \n
reader - writer - lock \ src \ test \ java \ com \ iluwatar \ reader \ writer \ lock \ ReaderTest . java \n + import org . junit . Ignore ; \n + @ Ignore / / intermittent failures when executed on CI \n reader - writer - lock \ src \ test \ java \ com \ iluwatar \ reader \ writer \ lock \ WriterTest . java \n + import org . junit . Ignore ; \n + @ Ignore / / intermittent failures when executed on CI \n
balking \ src \ test \ java \ com \ iluwatar \ balking \ WashingMachineTest . java \n + import org . junit . jupiter . api . Disabled ; \n + @ Disabled \n throttling \ src \ test \ java \ com \ iluwatar \ throttling \ B2BServiceTest . java \n + import org . junit . jupiter . api . Disabled ; \n - \n + \n + @ Disabled \n
README . md \n - [ ! [ Quality Gate ] ( https : / / sonarqube . com / api / badges / gate ? key = com . iluwatar % 3Ajava - design - patterns ) ] ( https : / / sonarqube . com / dashboard / index / com . iluwatar % 3Ajava - design - patterns ) \n + [ ! [ Quality Gate ] ( https : / / sonarcloud . io / api / badges / gate ? key = com . iluwatar % 3Ajava - design - patterns ) ] ( https : / / sonarcloud . io / dashboard / index / com . iluwatar % 3Ajava - design - patterns ) \n
compiler \ frontend \ src \ org \ jetbrains \ kotlin \ diagnostics \ Errors . java \n - DiagnosticFactory0 < PsiElement > RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS = DiagnosticFactory0 . create ( WARNING ) ; \n + DiagnosticFactory0 < PsiElement > RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS = DiagnosticFactory0 . create ( ERROR ) ; \n compiler \ testData \ codegen \ box \ inlineClasses \ interfaceDelegation \ memberExtVarDelegationWithInlineClassParameterTypes . kt \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n compiler \ testData \ codegen \ box \ reflection \ call \ inlineClasses \ nonOverridingVarOfInlineClass . kt \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n compiler \ testData \ codegen \ box \ reflection \ call \ inlineClasses \ overridingVarOfInlineClass . kt \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n compiler \ testData \ codegen \ box \ reflection \ call \ inlineClasses \ properties . kt \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n compiler \ testData \ codegen \ box \ reflection \ callBy \ inlineClassMembers . kt \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n + @ Suppress ( " RESERVED _ VAR _ PROPERTY _ OF _ VALUE _ CLASS " ) \n
compiler \ ir \ backend . jvm \ src \ org \ jetbrains \ kotlin \ backend \ jvm \ codegen \ ExpressionCodegen . kt \n - if ( ! arg . type . isInlined ( ) ) return \n + if ( ! arg . type . erasedUpperBound . isInline ) return \n + if ( arg . type . isNullable ( ) & & arg . type . makeNotNull ( ) . unboxInlineClass ( ) . isNullable ( ) ) return \n compiler \ ir \ backend . jvm \ src \ org \ jetbrains \ kotlin \ backend \ jvm \ codegen \ MethodSignatureMapper . kt \n - return type . isInlined ( ) & & ! type . isMappedToPrimitive \n + return type . erasedUpperBound . isInline & & ! type . isMappedToPrimitive \n compiler \ ir \ backend . jvm \ src \ org \ jetbrains \ kotlin \ backend \ jvm \ lower \ InlineCallableReferenceToLambda . kt \n + const val STUB _ FOR _ INLINING = " stub _ for _ inlining " \n + \n - name = Name . identifier ( " stub _ for _ inlining " ) \n + name = Name . identifier ( STUB _ FOR _ INLINING ) \n compiler \ ir \ backend . jvm \ src \ org \ jetbrains \ kotlin \ backend \ jvm \ lower \ inlineclasses \ InlineClassAbi . kt \n + import org . jetbrains . kotlin . backend . jvm . lower . STUB _ FOR _ INLINING \n - get ( ) = origin = = IrDeclarationOrigin . LOCAL _ FUNCTION _ FOR _ LAMBDA & & name . asString ( ) . contains ( " \ $ stub _ for _ inlining " ) \n + get ( ) = origin = = IrDeclarationOrigin . LOCAL _ FUNCTION _ FOR _ LAMBDA & & name . asString ( ) . contains ( " \ $ $ STUB _ FOR _ INLINING " ) \n - get ( ) = isInlined ( ) & & \n + get ( ) = erasedUpperBound . isInline & & \n compiler \ testData \ codegen \ box \ inlineClasses \ callableReferences \ let \ result . kt \n + / / IGNORE _ BACKEND : WASM \n
idea \ src \ org \ jetbrains \ kotlin \ idea \ quickfix \ InlineClassDeprecatedFix . kt \n + import org . jetbrains . kotlin . idea . project . TargetPlatformDetector \n + import org . jetbrains . kotlin . platform . jvm . isJvm \n - private val text = KotlinBundle . message ( " replace . with . 0 " , " @ JvmInline value " ) \n + private val text = KotlinBundle . message ( \n + " replace . with . 0 " , \n + ( if ( TargetPlatformDetector . getPlatform ( element . containingKtFile ) . isJvm ( ) ) " @ JvmInline " else " " ) + " value " \n + ) \n - element ? . addAnnotation ( JVM _ INLINE _ ANNOTATION _ FQ _ NAME ) \n + if ( TargetPlatformDetector . getPlatform ( file ) . isJvm ( ) ) { \n + element ? . addAnnotation ( JVM _ INLINE _ ANNOTATION _ FQ _ NAME ) \n + } \n new file \n idea \ testData \ quickfix \ inlineClass \ inlineClassDeprecated _ js . kt \n + / / " Replace with ' value ' " " true " \n + / / JS \n + \n + < caret > inline class IC ( val i : Int ) \n new file \n idea \ testData \ quickfix \ inlineClass \ inlineClassDeprecated _ js . kt . after \n + / / " Replace with ' value ' " " true " \n + / / JS \n + \n + value class IC ( val i : Int ) \n idea \ tests \ org \ jetbrains \ kotlin \ idea \ quickfix \ QuickFixTestGenerated . java \n + \n + @ TestMetadata ( " inlineClassDeprecated _ js . kt " ) \n + public void testInlineClassDeprecated _ js ( ) throws Exception { \n + runTest ( " idea / testData / quickfix / inlineClass / inlineClassDeprecated _ js . kt " ) ; \n + } \n
plugins \ scripting \ scripting - compiler \ build . gradle . kts \n - languageVersion = " 1 . 3 " \n - apiVersion = " 1 . 3 " \n plugins \ scripting \ scripting - compiler \ src \ org \ jetbrains \ kotlin \ scripting \ compiler \ plugin \ repl \ ReplFromTerminal . kt \n + is ReplEvalResult . HistoryMismatch - > { } / / assuming handled elsewhere \n plugins \ scripting \ scripting - compiler \ tests \ org \ jetbrains \ kotlin \ scripting \ compiler \ test \ CompileTimeFibonacciTest . kt \n - ? . max ( ) ? : return @ onAnnotations context . compilationConfiguration . asSuccess ( ) \n + ? . maxOrNull ( ) ? : return @ onAnnotations context . compilationConfiguration . asSuccess ( ) \n
build . gradle . kts \n - " : kotlin - scripting - compiler : compileTestKotlin " , \n
idea \ src \ org \ jetbrains \ kotlin \ idea \ script \ ScriptTemplatesClassRootsIndex . kt \n - & & file . path . endsWith ( SCRIPT _ DEFINITION _ MARKERS _ EXTENSION _ WITH _ DOT ) \n
js \ js . translator \ testData \ box \ export \ exportNestedClass . kt \n + \n + fun bar ( k : String ) : String { \n + return foo ( k ) \n + } \n - return new this [ " export - nested - class " ] . B . Foo ( ) . foo ( " K " ) ; \n + return new this [ " export - nested - class " ] . B . Foo ( ) . bar ( " K " ) ; \n
compiler \ ir \ backend . js \ src \ org \ jetbrains \ kotlin \ ir \ backend \ js \ export \ ExportModelGenerator . kt \n + import org . jetbrains . kotlin . backend . common . ir . isMethodOfAny \n - return declaration . isOverriddenExported ( context ) \n + return declaration . isOverriddenExported ( context ) | | \n + declaration . isMethodOfAny ( ) / / Handle names for special functions \n compiler \ ir \ backend . js \ src \ org \ jetbrains \ kotlin \ ir \ backend \ js \ utils \ misc . kt \n - import org . jetbrains . kotlin . ir . util . parentClassOrNull \n
libraries \ tools \ kotlin - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ compilerRunner \ reportUtils . kt \n - buildDir : File \n + buildDir : File , \n + jvmArgs : List < String > = emptyList ( ) \n - val builder = ProcessBuilder ( javaBin , " - cp " , classpathString , compilerClassName , " @ $ { compilerOptions . absolutePath } " ) \n + val builder = ProcessBuilder ( \n + javaBin , \n + * ( jvmArgs . toTypedArray ( ) ) , \n + " - cp " , \n + classpathString , \n + compilerClassName , \n + " @ $ { compilerOptions . absolutePath } " \n + ) \n libraries \ tools \ kotlin - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ gradle \ tasks \ KotlinJsDce . kt \n + @ Input \n + var jvmArgs = mutableListOf < String > ( ) \n + \n - project . buildDir \n + project . buildDir , \n + jvmArgs \n
libraries \ stdlib \ src \ kotlin \ util \ KotlinVersion . kt \n - fun get ( ) : KotlinVersion = KotlinVersion ( 1 , 4 , 255 ) / / value is written here automatically during build \n + fun get ( ) : KotlinVersion = KotlinVersion ( 1 , 5 , 255 ) / / value is written here automatically during build \n
libraries \ kotlin . test \ build . gradle . kts \n + \n + tasks . withType < GenerateModuleMetadata > { \n + enabled = " common " ! in ( publication . get ( ) as MavenPublication ) . artifactId \n + } \n
settings . gradle \n - " : kotlin - test " , \n + " : kotlin - test " , \n + project ( ' : kotlin - test ' ) . projectDir = " $ rootDir / libraries / kotlin . test " as File \n - project ( ' : kotlin - test ' ) . projectDir = " $ rootDir / libraries / kotlin . test " as File \n
compiler \ fir \ resolve \ src \ org \ jetbrains \ kotlin \ fir \ types \ FirCorrespondingSupertypesCache . kt \n - private val context = ConeTypeCheckerContext ( isErrorTypeEqualsToAnything = false , isStubTypeEqualsToAnything = true , session = session ) \n + val context = ConeTypeCheckerContext ( isErrorTypeEqualsToAnything = false , isStubTypeEqualsToAnything = true , session = session ) \n - if ( lookupTag = = supertypeConstructor ) return listOf ( captureType ( type ) ) \n - \n + if ( lookupTag = = supertypeConstructor ) return listOf ( captureType ( type , context ) ) \n - cache [ lookupTag ] = computeSupertypesMap ( lookupTag ) \n + cache [ lookupTag ] = computeSupertypesMap ( lookupTag , context ) \n - val capturedType = captureType ( type ) \n + val capturedType = captureType ( type , context ) \n - private fun captureType ( type : ConeClassLikeType ) : ConeClassLikeType = \n + private fun captureType ( type : ConeClassLikeType , context : ConeTypeCheckerContext ) : ConeClassLikeType = \n - private fun computeSupertypesMap ( subtypeLookupTag : ConeClassLikeLookupTag ) : Map < ConeClassLikeLookupTag , List < ConeClassLikeType > > ? { \n + private fun computeSupertypesMap ( \n + subtypeLookupTag : ConeClassLikeLookupTag , \n + context : ConeTypeCheckerContext \n + ) : Map < ConeClassLikeLookupTag , List < ConeClassLikeType > > ? { \n - ) { supertype - > computeSupertypePolicyAndPutInMap ( supertype , resultingMap ) } \n + ) { supertype - > computeSupertypePolicyAndPutInMap ( supertype , resultingMap , context ) } \n - resultingMap : MutableMap < ConeClassLikeLookupTag , List < ConeClassLikeType > > \n + resultingMap : MutableMap < ConeClassLikeLookupTag , List < ConeClassLikeType > > , \n + context : ConeTypeCheckerContext \n
idea \ idea - frontend - api \ src \ org \ jetbrains \ kotlin \ idea \ frontend \ api \ symbols \ KtSymbol . kt \n + \n + \n + JAVA _ SYNTHETIC _ PROPERTY , \n idea \ idea - frontend - fir \ src \ org \ jetbrains \ kotlin \ idea \ frontend \ api \ fir \ components \ KtFirSymbolContainingDeclarationProvider . kt \n - KtSymbolOrigin . LIBRARY , KtSymbolOrigin . JAVA - > getContainingDeclarationForLibrarySymbol ( symbol ) \n + KtSymbolOrigin . LIBRARY , KtSymbolOrigin . JAVA , KtSymbolOrigin . JAVA _ SYNTHETIC _ PROPERTY - > getContainingDeclarationForLibrarySymbol ( symbol ) \n idea \ idea - frontend - fir \ src \ org \ jetbrains \ kotlin \ idea \ frontend \ api \ fir \ symbols \ KtFirSymbol . kt \n + import org . jetbrains . kotlin . fir . declarations . synthetic . FirSyntheticProperty \n - if ( isSyntheticFunctionalInterface ( ) ) KtSymbolOrigin . LIBRARY \n - else throw InvalidFirDeclarationOriginForSymbol ( this ) \n + when { \n + isSyntheticFunctionalInterface ( ) - > KtSymbolOrigin . LIBRARY \n + this is FirSyntheticProperty - > KtSymbolOrigin . JAVA _ SYNTHETIC _ PROPERTY \n + else - > throw InvalidFirDeclarationOriginForSymbol ( this ) \n + } \n idea \ idea - frontend - fir \ src \ org \ jetbrains \ kotlin \ idea \ frontend \ api \ fir \ symbols \ KtFirSyntheticJavaPropertySymbol . kt \n - import org . jetbrains . kotlin . idea . frontend . api . symbols . KtPropertyGetterSymbol \n - import org . jetbrains . kotlin . idea . frontend . api . symbols . KtPropertySetterSymbol \n - import org . jetbrains . kotlin . idea . frontend . api . symbols . KtPropertySymbol \n - import org . jetbrains . kotlin . idea . frontend . api . symbols . KtSyntheticJavaPropertySymbol \n + import org . jetbrains . kotlin . idea . frontend . api . symbols . * \n + import org . jetbrains . kotlin . idea . frontend . api . withValidityAssertion \n + override val origin : KtSymbolOrigin get ( ) = withValidityAssertion { KtSymbolOrigin . JAVA _ SYNTHETIC _ PROPERTY } \n + \n
idea \ idea - frontend - fir \ idea - fir - low - level - api \ src \ org \ jetbrains \ kotlin \ idea \ fir \ low \ level \ api \ file \ structure \ FileStructure . kt \n + import com . intellij . psi . PsiElement \n - import org . jetbrains . kotlin . psi . KtAnnotated \n - import org . jetbrains . kotlin . psi . KtDeclaration \n - import org . jetbrains . kotlin . psi . KtElement \n - import org . jetbrains . kotlin . psi . KtFile \n + import org . jetbrains . kotlin . psi . * \n + import org . jetbrains . kotlin . psi . psiUtil . forEachDescendantOfType \n - val containersForStructureElement = buildList { \n - add ( ktFile ) \n - addAll ( ktFile . declarations ) \n - } \n - val structureElements = containersForStructureElement . map ( : : getStructureElementFor ) \n + val structureElements = getAllStructureElements ( ) \n + private fun getAllStructureElements ( ) : Collection < FileStructureElement > { \n + val structureElements = mutableSetOf ( getStructureElementFor ( ktFile ) ) \n + ktFile . accept ( object : KtVisitorVoid ( ) { \n + override fun visitElement ( element : PsiElement ) { \n + element . acceptChildren ( this ) \n + } \n + \n + override fun visitDeclaration ( dcl : KtDeclaration ) { \n + val structureElement = getStructureElementFor ( dcl ) \n + structureElements + = structureElement \n + if ( structureElement ! is ReanalyzableStructureElement < * > ) { \n + dcl . acceptChildren ( this ) \n + } \n + } \n + } ) \n + \n + return structureElements \n + } \n + \n idea \ testData \ quickfix \ modifiers \ removeIncompatibleModifier . kt \n - } \n + } \n + / * FIR _ COMPARISON * / \n idea \ testData \ quickfix \ modifiers \ removeIncompatibleModifier . kt . after \n - } \n + } \n + / * FIR _ COMPARISON * / \n idea \ testData \ quickfix \ modifiers \ removeRedundantModifier1 . kt \n + \n + / * FIR _ COMPARISON * / \n idea \ testData \ quickfix \ modifiers \ removeRedundantModifier1 . kt . after \n + \n + / * FIR _ COMPARISON * / \n idea \ testData \ quickfix \ modifiers \ removeRedundantModifier2 . kt \n + \n + / * FIR _ COMPARISON * / \n idea \ testData \ quickfix \ modifiers \ removeRedundantModifier2 . kt . after \n + \n + / * FIR _ COMPARISON * / \n idea \ testData \ quickfix \ modifiers \ removeRedundantModifier3 . kt \n + \n + / * FIR _ COMPARISON * / \n idea \ testData \ quickfix \ modifiers \ removeRedundantModifier3 . kt . after \n + \n + / * FIR _ COMPARISON * / \n
distribution \ tools \ keystore - cli \ src \ test \ java \ org \ elasticsearch \ common \ settings \ KeyStoreWrapperTests . java \n + public void testDecryptKeyStoreWithShortPasswordInFips ( ) throws Exception { \n + assumeTrue ( " This should run only in FIPS mode " , inFipsJvm ( ) ) ; \n + KeyStoreWrapper keystore = KeyStoreWrapper . create ( ) ; \n + keystore . save ( env . configFile ( ) , " alongenoughpassword " . toCharArray ( ) ) ; \n + final KeyStoreWrapper loadedkeystore = KeyStoreWrapper . load ( env . configFile ( ) ) ; \n + final GeneralSecurityException exception = expectThrows ( \n + GeneralSecurityException . class , \n + ( ) - > loadedkeystore . decrypt ( " shortpwd " . toCharArray ( ) ) / / shorter than 14 characters \n + ) ; \n + assertThat ( exception . getMessage ( ) , containsString ( " Error generating an encryption key from the provided password " ) ) ; \n + } \n + \n + public void testCreateKeyStoreWithShortPasswordInFips ( ) throws Exception { \n + assumeTrue ( " This should run only in FIPS mode " , inFipsJvm ( ) ) ; \n + KeyStoreWrapper keystore = KeyStoreWrapper . create ( ) ; \n + final GeneralSecurityException exception = expectThrows ( \n + GeneralSecurityException . class , \n + ( ) - > keystore . save ( env . configFile ( ) , " shortpwd " . toCharArray ( ) ) / / shorter than 14 characters \n + ) ; \n + assertThat ( exception . getMessage ( ) , containsString ( " Error generating an encryption key from the provided password " ) ) ; \n + } \n + \n x - pack \ plugin \ security \ src \ test \ java \ org \ elasticsearch \ xpack \ security \ authc \ support \ HasherTests . java \n + import org . elasticsearch . ElasticsearchException ; \n + public void testPbkdf2WithShortPasswordThrowsInFips ( ) { \n + assumeTrue ( " This should run only in FIPS mode " , inFipsJvm ( ) ) ; \n + SecureString passwd = new SecureString ( randomAlphaOfLength ( between ( 6 , 13 ) ) . toCharArray ( ) ) ; \n + Hasher pbkdfHasher = randomFrom ( Hasher . PBKDF2 , Hasher . PBKDF2 _ 50000 , Hasher . PBKDF2 _ 1000000 ) ; \n + ElasticsearchException e = expectThrows ( ElasticsearchException . class , ( ) - > pbkdfHasher . hash ( passwd ) ) ; \n + assertThat ( e . getMessage ( ) , containsString ( " Error using PBKDF2 implementation from the selected Security Provider " ) ) ; \n + } \n + \n
gradle \ fips . gradle \n - String javaSecurityFilename = BuildParams . runtimeJavaDetails . startsWith ( ' oracle ' ) ? ' fips _ java _ oracle . security ' : ' fips _ java . security ' \n + String javaSecurityFilename = BuildParams . runtimeJavaDetails . toLowerCase ( ) . contains ( ' oracle ' ) ? ' fips _ java _ oracle . security ' : ' fips _ java . security ' \n
x - pack \ plugin \ ml \ src \ internalClusterTest \ java \ org \ elasticsearch \ xpack \ ml \ integration \ MlDistributedFailureIT . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 67756 " ) \n
docs \ reference \ ml \ ml - shared . asciidoc \n + Advanced configuration option . \n - same document fields . \n - Note , automatic categorical { ml - docs } / ml - feature - encoding . html [ feature encoding ] \n - still occurs . \n + same document fields . Automatic categorical \n + { ml - docs } / ml - feature - encoding . html [ feature encoding ] still occurs for the fields \n + that are unprocessed by a custom processor or that have categorical values . \n + Only use this if you want to override the automatic feature encoding of the \n + specified fields . Refer to \n + { ml - docs } / ml - feature - processors . html [ { dfanalytics } feature processors ] to learn \n + more . \n
docs \ reference \ transform \ painless - examples . asciidoc \n - * < < painless - group - by > > \n + / / * < < painless - group - by > > \n + / / / / \n + / / / / \n + \n
docs \ reference \ transform \ limitations . asciidoc \n - [ [ transform - painless - imitation ] ] \n + [ [ transform - painless - limitation ] ] \n - use scripts this way . \n + use scripts this way . \n + \n + \n + [ discrete ] \n + [ [ transform - runtime - field - limitation ] ] \n + = = = { transforms - cap } perform better on indexed fields \n + \n + { transforms - cap } sort data by a user - defined time field , which is frequently \n + accessed . If the time field is a { ref } / runtime . html [ runtime field ] , the \n + performance impact of calculating field values at query time can significantly \n + slow the { transform } . Use an indexed field as a time field when using \n + { transforms } . \n
src \ test \ shell \ bazel \ bazel _ java _ test _ defaults . sh \n - java _ runtime = " @ local _ jdk / / : jdk " , \n tools \ jdk \ BUILD . tools \n + \n + java _ runtime _ version _ alias ( \n + name = " jdk _ 8 " , \n + runtime _ version = " 8 " , \n + selected _ java _ runtime = " : legacy _ current _ java _ runtime " , \n + visibility = [ " / / visibility : public " ] , \n + ) \n tools \ jdk \ default _ java _ toolchain . bzl \n - " - Xbootclasspath / p : $ ( location @ bazel _ tools / / tools / jdk : javac _ jar ) " , \n + " - Xbootclasspath / p : $ ( location @ remote _ java _ tools / / : javac _ jar ) " , \n + java _ runtime = " @ bazel _ tools / / tools / jdk : jdk _ 8 " , \n
tools \ jdk \ BUILD \n + " toolchain _ utils . bzl " , \n new file \n tools \ jdk \ toolchain _ utils . bzl \n + # Copyright 2019 The Bazel Authors . All rights reserved . \n + # \n + # Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + # you may not use this file except in compliance with the License . \n + # You may obtain a copy of the License at \n + # \n + # http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + # \n + # Unless required by applicable law or agreed to in writing , software \n + # distributed under the License is distributed on an " AS IS " BASIS , \n + # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + # See the License for the specific language governing permissions and \n + # limitations under the License . \n + \n + " " " \n + Finds the Java toolchain . \n + \n + Returns the toolchain if enabled , and falls back to a toolchain constructed from \n + legacy toolchain selection . \n + " " " \n + \n + def find _ java _ toolchain ( ctx , target ) : \n + " " " \n + Finds the Java toolchain . \n + \n + If the Java toolchain is in use , returns it . Otherwise , returns a Java \n + toolchain derived from legacy toolchain selection . \n + \n + Args : \n + ctx : The rule context for which to find a toolchain . \n + target : A java _ toolchain target ( for legacy toolchain resolution ) . \n + \n + Returns : \n + A JavaToolchainInfo . \n + " " " \n + \n + _ ignore = [ ctx ] \n + \n + return target [ java _ common . JavaToolchainInfo ] \n + \n + def find _ java _ runtime _ toolchain ( ctx , target ) : \n + " " " \n + Finds the Java runtime . \n + \n + If the Java toolchain is in use , returns it . Otherwise , returns a Java \n + runtime derived from legacy toolchain selection . \n + \n + Args : \n + ctx : The rule context for which to find a toolchain . \n + target : A java _ runtime target ( for legacy toolchain resolution ) . \n + \n + Returns : \n + A JavaRuntimeInfo . \n + " " " \n + \n + _ ignore = [ ctx ] \n + \n + return target [ java _ common . JavaRuntimeInfo ] \n
src \ test \ shell \ bazel \ bazel _ coverage _ java _ test . sh \n + load ( " @ bazel _ tools / / tools / jdk : default _ java _ toolchain . bzl " , " default _ java _ toolchain " ) \n + \n + \n + default _ java _ toolchain ( \n + name = " custom _ toolchain " \n + ) \n - assert _ coverage _ result " $ expected _ result " " $ coverage _ file _ path " \n + assert _ coverage _ result " $ expected _ result " " $ coverage _ file _ path " \n + \n + bazel coverage - - test _ output = all - - java _ toolchain = / / : custom _ toolchain / / : test & > $ TEST _ log | | fail " Coverage with default _ java _ toolchain for / / : test failed " \n + assert _ coverage _ result " $ expected _ result " " $ coverage _ file _ path " \n
buildSrc \ src \ integTest \ groovy \ org \ elasticsearch \ gradle \ YamlRestCompatTestPluginFuncTest . groovy \n - result = gradleRunner ( transformTask ) . build ( ) \n + / / TODO : remove " - i " once https : / / github . com / elastic / elasticsearch / issues / 68973 is resolved \n + result = gradleRunner ( transformTask , " - i " ) . build ( ) \n
buildSrc \ src \ integTest \ groovy \ org \ elasticsearch \ gradle \ YamlRestCompatTestPluginFuncTest . groovy \n - / / TODO : remove " - i " once https : / / github . com / elastic / elasticsearch / issues / 68973 is resolved \n - result = gradleRunner ( transformTask , " - i " ) . build ( ) \n + result = gradleRunner ( transformTask ) . build ( ) \n buildSrc \ src \ main \ java \ org \ elasticsearch \ gradle \ internal \ rest \ compat \ RestCompatTestTransformTask . java \n + import java . util . LinkedHashMap ; \n - private static final Map < String , String > headers = Map . of ( \n - " Content - Type " , \n - " application / vnd . elasticsearch + json ; compatible - with = " + COMPATIBLE _ VERSION , \n - " Accept " , \n - " application / vnd . elasticsearch + json ; compatible - with = " + COMPATIBLE _ VERSION \n - ) ; \n + private static final Map < String , String > headers = new LinkedHashMap < > ( ) ; \n + headers . put ( " Content - Type " , " application / vnd . elasticsearch + json ; compatible - with = " + COMPATIBLE _ VERSION ) ; \n + headers . put ( " Accept " , " application / vnd . elasticsearch + json ; compatible - with = " + COMPATIBLE _ VERSION ) ; \n
buildSrc \ src \ main \ java \ org \ elasticsearch \ gradle \ test \ rest \ RestResourcesPlugin . java \n + defaultSourceSet . getOutput ( ) . dir ( copyRestYamlTestTask . map ( CopyRestTestsTask : : getOutputResourceDir ) ) ; \n
retrofit \ src \ main \ resources \ META - INF \ proguard \ retrofit2 . pro \n - keepattributes Signature , InnerClasses , EnclosingMethod \n + # Retrofit does reflection on method and parameter annotations . \n + - keepattributes RuntimeVisibleAnnotations , RuntimeVisibleParameterAnnotations \n + \n - keepclassmembers , allowshrinking , allowobfuscation interface * { \n
src \ main \ java \ io \ reactivex \ rxjava3 \ internal \ functions \ ObjectHelper . java \n - \n - / * * \n - * Trap null - check attempts on primitives . \n - * @ param value the value to check \n - * @ param message the message to print \n - * @ return the value \n - * @ deprecated this method should not be used as there is no need \n - * to check primitives for nullness . \n - * / \n - @ Deprecated \n - public static long requireNonNull ( long value , String message ) { \n - throw new InternalError ( " Null check on a primitive : " + message ) ; \n - } \n src \ test \ java \ io \ reactivex \ rxjava3 \ internal \ functions \ ObjectHelperTest . java \n - \n - @ SuppressWarnings ( " deprecation " ) \n - @ Test ( expected = InternalError . class ) \n - public void requireNonNullPrimitive ( ) { \n - ObjectHelper . requireNonNull ( 0 , " value " ) ; \n - } \n
. github \ workflows \ build . yml \n - if : github . ref = = ' master ' \n - needs : [ jvm , android ] \n + if : github . ref = = ' refs / heads / master ' \n + needs : \n + - jvm \n + - android \n - name : checkout \n
butterknife - runtime \ src \ main \ java \ butterknife \ internal \ Utils . java \n - : Arrays . copyOfRange ( views , 0 , end ) ; \n + : Arrays . copyOf ( views , end ) ; \n
build . gradle \n + tasks . withType ( JavaCompile ) . configureEach { task - > \n + task . options . encoding = ' UTF - 8 ' \n + task . sourceCompatibility = JavaVersion . VERSION _ 1 _ 8 \n + task . targetCompatibility = JavaVersion . VERSION _ 1 _ 8 \n + } \n + \n - task . options . encoding = ' UTF - 8 ' \n - task . sourceCompatibility = JavaVersion . VERSION _ 1 _ 8 \n - task . targetCompatibility = JavaVersion . VERSION _ 1 _ 8 \n - \n
build . gradle \n - ' okhttp ' : ' 3 . 14 . 7 ' , \n + ' okhttp ' : ' 3 . 14 . 9 ' , \n
build . gradle \n - / / Error - prone only works on JDK 11 or older currently . \n - if ( ! Jvm . current ( ) . javaVersion . isJava12Compatible ( ) ) { \n - apply plugin : ' net . ltgt . errorprone ' \n + apply plugin : ' net . ltgt . errorprone ' \n - dependencies { \n - errorproneJavac ' com . google . errorprone : javac : 9 + 181 - r4173 - 1 ' \n - errorprone ' com . google . errorprone : error _ prone _ core : 2 . 3 . 3 ' \n - } \n + dependencies { \n + errorproneJavac ' com . google . errorprone : javac : 9 + 181 - r4173 - 1 ' \n + errorprone ' com . google . errorprone : error _ prone _ core : 2 . 4 . 0 ' \n + } \n - tasks . withType ( JavaCompile ) . configureEach { task - > \n - task . options . errorprone { \n - excludedPaths = ' . * / build / generated / source / proto / . * ' \n - check ( ' MissingFail ' , CheckSeverity . ERROR ) \n - check ( ' MissingOverride ' , CheckSeverity . ERROR ) \n - check ( ' UnusedException ' , CheckSeverity . ERROR ) \n - check ( ' UnusedMethod ' , CheckSeverity . ERROR ) \n - check ( ' UnusedNestedClass ' , CheckSeverity . ERROR ) \n - check ( ' UnusedVariable ' , CheckSeverity . ERROR ) \n - } \n + tasks . withType ( JavaCompile ) . configureEach { task - > \n + task . options . errorprone { \n + excludedPaths = ' . * / build / generated / source / proto / . * ' \n + check ( ' MissingFail ' , CheckSeverity . ERROR ) \n + check ( ' MissingOverride ' , CheckSeverity . ERROR ) \n + check ( ' UnusedException ' , CheckSeverity . ERROR ) \n + check ( ' UnusedMethod ' , CheckSeverity . ERROR ) \n + check ( ' UnusedNestedClass ' , CheckSeverity . ERROR ) \n + check ( ' UnusedVariable ' , CheckSeverity . ERROR ) \n
build . gradle \n - classpath ' gradle . plugin . com . github . sherter . google - java - format : google - java - format - gradle - plugin : 0 . 8 ' \n + classpath ' gradle . plugin . com . github . sherter . google - java - format : google - java - format - gradle - plugin : 0 . 9 ' \n - project . apply plugin : ' com . github . sherter . google - java - format ' \n - googleJavaFormat { \n - toolVersion = ' 1 . 7 ' \n + / / google - java - format only works on JDK 11 or newer . \n + if ( Jvm . current ( ) . javaVersion . isJava11Compatible ( ) ) { \n + project . apply plugin : ' com . github . sherter . google - java - format ' \n + googleJavaFormat { \n + toolVersion = ' 1 . 8 ' \n - / / By default , the GJF plugin includes all Java folders inside the project directory . This \n - / / does not work well with nested projects , especially when you want to exclude them . \n - source = sourceSets * . allJava \n - } \n - afterEvaluate { \n - def verify = tasks . getByName ( ' verifyGoogleJavaFormat ' ) \n - tasks . getByName ( ' check ' ) . dependsOn ( verify ) \n - def prompt = tasks . create ( ' promptGoogleJavaFormat ' ) { \n - doLast { \n - println ( ) \n - println ( ' To automatically format , run " . / gradlew googleJavaFormat " ' ) \n - println ( ) \n + / / By default , the GJF plugin includes all Java folders inside the project directory . This \n + / / does not work well with nested projects , especially when you want to exclude them . \n + source = sourceSets * . allJava \n + } \n + afterEvaluate { \n + def verify = tasks . getByName ( ' verifyGoogleJavaFormat ' ) \n + tasks . getByName ( ' check ' ) . dependsOn ( verify ) \n + def prompt = tasks . create ( ' promptGoogleJavaFormat ' ) { \n + doLast { \n + println ( ) \n + println ( ' To automatically format , run " . / gradlew googleJavaFormat " ' ) \n + println ( ) \n + } \n + onlyIf { verify . state . failure ! = null } \n - onlyIf { verify . state . failure ! = null } \n + verify . finalizedBy ( prompt ) \n - verify . finalizedBy ( prompt ) \n
. github \ workflows \ build . yml \n - 12 \n - 13 \n - 14 \n - - 15 - ea \n + - 15 \n - name : Checkout \n gradle \ wrapper \ gradle - wrapper . jar \n Binary files a / gradle / wrapper / gradle - wrapper . jar and b / gradle / wrapper / gradle - wrapper . jar differ \n gradle \ wrapper \ gradle - wrapper . properties \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 6 . 3 - bin . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 6 . 7 - rc - 1 - bin . zip \n gradlew \n + \n + \n gradlew . bat \n + @ rem Resolve any " . " and " . . " in APP _ HOME to make it shorter . \n + for % % i in ( " % APP _ HOME % " ) do set APP _ HOME = % % ~ fi \n + \n - if " % ERRORLEVEL % " = = " 0 " goto init \n + if " % ERRORLEVEL % " = = " 0 " goto execute \n - if exist " % JAVA _ EXE % " goto init \n + if exist " % JAVA _ EXE % " goto execute \n - : init \n - @ rem Get command - line arguments , handling Windows variants \n - \n - if not " % OS % " = = " Windows _ NT " goto win9xME _ args \n - \n - : win9xME _ args \n - @ rem Slurp the command line arguments . \n - set CMD _ LINE _ ARGS = \n - set _ SKIP = 2 \n - \n - : win9xME _ args _ slurp \n - if " x % ~ 1 " = = " x " goto execute \n - \n - set CMD _ LINE _ ARGS = % * \n - \n + \n - " % JAVA _ EXE % " % DEFAULT _ JVM _ OPTS % % JAVA _ OPTS % % GRADLE _ OPTS % " - Dorg . gradle . appname = % APP _ BASE _ NAME % " - classpath " % CLASSPATH % " org . gradle . wrapper . GradleWrapperMain % CMD _ LINE _ ARGS % \n + " % JAVA _ EXE % " % DEFAULT _ JVM _ OPTS % % JAVA _ OPTS % % GRADLE _ OPTS % " - Dorg . gradle . appname = % APP _ BASE _ NAME % " - classpath " % CLASSPATH % " org . gradle . wrapper . GradleWrapperMain % * \n
. gitignore \n + . checkstyle \n
new file \n library \ res \ values - normal - land \ abs _ _ bools . xml \n + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > \n + < ! - - \n + / * \n + * * Copyright 2011 , The Android Open Source Project \n + * * \n + * * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + * * you may not use this file except in compliance with the License . \n + * * You may obtain a copy of the License at \n + * * \n + * * http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + * * \n + * * Unless required by applicable law or agreed to in writing , software \n + * * distributed under the License is distributed on an " AS IS " BASIS , \n + * * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + * * See the License for the specific language governing permissions and \n + * * limitations under the License . \n + * / \n + - - > \n + < resources > \n + < bool name = " action _ bar _ embed _ tabs " > true < / bool > \n + < bool name = " split _ action _ bar _ is _ narrow " > false < / bool > \n + < / resources > \n
library \ res \ values \ abs _ _ styles . xml \n + < item name = " dropDownListViewStyle " > @ style / Widget . Sherlock . ListView . DropDown < / item > \n + \n + < style name = " Widget . Sherlock . ListView . DropDown " parent = " android : Widget . ListView " > \n + < ! - - From Widget . Holo . ListView . DropDown - - > \n + < ! - - From Widget . Holo . ListView - - > \n + < item name = " android : divider " > @ drawable / abs _ _ list _ divider _ holo _ dark < / item > \n + < item name = " android : listSelector " > @ drawable / abs _ _ list _ selector _ holo _ dark < / item > \n + < / style > \n
presto - geospatial \ src \ main \ java \ com \ facebook \ presto \ plugin \ geospatial \ GeoFunctions . java \n - if ( deserializeType ( left ) = = GeometrySerializationType . ENVELOPE & & deserializeType ( right ) = = GeometrySerializationType . ENVELOPE ) { \n + GeometrySerializationType leftType = deserializeType ( left ) ; \n + GeometrySerializationType rightType = deserializeType ( right ) ; \n + \n + if ( leftType = = GeometrySerializationType . ENVELOPE & & rightType = = GeometrySerializationType . ENVELOPE ) { \n + / / If one side is an envelope , then if it contains the other ' s envelope we can just return the other geometry . \n + if ( leftType = = GeometrySerializationType . ENVELOPE \n + & & deserializeEnvelope ( left ) . contains ( deserializeEnvelope ( right ) ) ) { \n + return right ; \n + } \n + \n + if ( rightType = = GeometrySerializationType . ENVELOPE \n + & & deserializeEnvelope ( right ) . contains ( deserializeEnvelope ( left ) ) ) { \n + return left ; \n + } \n + \n
presto - geospatial - toolkit \ src \ main \ java \ com \ facebook \ presto \ geospatial \ GeometryUtils . java \n + import com . esri . core . geometry . Operator ; \n + public static void accelerateGeometry ( OGCGeometry ogcGeometry , Operator relateOperator ) \n + { \n + accelerateGeometry ( ogcGeometry , relateOperator , Geometry . GeometryAccelerationDegree . enumMild ) ; \n + } \n + \n + public static void accelerateGeometry ( \n + OGCGeometry ogcGeometry , \n + Operator relateOperator , \n + Geometry . GeometryAccelerationDegree accelerationDegree ) \n + { \n + / / Recurse into GeometryCollections \n + GeometryCursor cursor = ogcGeometry . getEsriGeometryCursor ( ) ; \n + while ( true ) { \n + Geometry esriGeometry = cursor . next ( ) ; \n + if ( esriGeometry = = null ) { \n + break ; \n + } \n + relateOperator . accelerateGeometry ( esriGeometry , null , accelerationDegree ) ; \n + } \n + } \n + \n presto - main \ src \ main \ java \ com \ facebook \ presto \ operator \ PagesSpatialIndexSupplier . java \n - import com . esri . core . geometry . Geometry ; \n - import com . esri . core . geometry . GeometryCursor ; \n + import static com . facebook . presto . geospatial . GeometryUtils . accelerateGeometry ; \n - private static void accelerateGeometry ( OGCGeometry ogcGeometry , Operator relateOperator ) \n - { \n - / / Recurse into GeometryCollections \n - GeometryCursor cursor = ogcGeometry . getEsriGeometryCursor ( ) ; \n - while ( true ) { \n - com . esri . core . geometry . Geometry esriGeometry = cursor . next ( ) ; \n - if ( esriGeometry = = null ) { \n - break ; \n - } \n - relateOperator . accelerateGeometry ( esriGeometry , null , Geometry . GeometryAccelerationDegree . enumMild ) ; \n - } \n - } \n - \n
presto - geospatial - toolkit \ src \ main \ java \ com \ facebook \ presto \ geospatial \ GeometryUtils . java \n - / * * \n - * Copy of com . esri . core . geometry . Interop . translateToAVNaN \n - * < p > \n - * JtsGeometrySerde # serialize must serialize NaN ' s the same way ESRI library does to achieve binary compatibility \n - * / \n - public static double translateToAVNaN ( double n ) \n - { \n - return ( Double . isNaN ( n ) ) ? - Double . MAX _ VALUE : n ; \n - } \n - \n presto - geospatial - toolkit \ src \ main \ java \ com \ facebook \ presto \ geospatial \ serde \ JtsGeometrySerde . java \n - import static com . facebook . presto . geospatial . GeometryUtils . translateToAVNaN ; \n - output . writeDouble ( translateToAVNaN ( coordinate . x ) ) ; \n - output . writeDouble ( translateToAVNaN ( coordinate . y ) ) ; \n + output . writeDouble ( coordinate . x ) ; \n + output . writeDouble ( coordinate . y ) ; \n
presto - geospatial - toolkit \ src \ main \ java \ com \ facebook \ presto \ geospatial \ GeometryType . java \n + / / LinearRings are a subclass of LineString \n + case " LinearRing " : \n presto - geospatial - toolkit \ src \ main \ java \ com \ facebook \ presto \ geospatial \ serde \ EsriGeometrySerde . java \n - case GEOMETRY _ COLLECTION : { \n + case GEOMETRY _ COLLECTION : \n - } \n - throw new IllegalArgumentException ( " Unexpected type : " + type ) ; \n + throw new IllegalArgumentException ( " Unsupported geometry type : " + type ) ; \n - throw new IllegalArgumentException ( " Unexpected type : " + type ) ; \n + throw new IllegalArgumentException ( " Unsupported geometry type : " + type ) ; \n presto - geospatial - toolkit \ src \ main \ java \ com \ facebook \ presto \ geospatial \ serde \ JtsGeometrySerde . java \n + import com . facebook . presto . geospatial . GeometryType ; \n + import static com . facebook . presto . geospatial . GeometryType . getForJtsGeometryType ; \n - throw new UnsupportedOperationException ( " Unexpected type : " + type ) ; \n + throw new IllegalArgumentException ( " Unsupported geometry type : " + type ) ; \n - switch ( geometry . getGeometryType ( ) ) { \n - case " Point " : \n + GeometryType type = getForJtsGeometryType ( geometry . getGeometryType ( ) ) ; \n + switch ( type ) { \n + case POINT : \n - case " MultiPoint " : \n + case MULTI _ POINT : \n - case " LineString " : \n - case " LinearRing " : \n - / / LinearRings are a subclass of LineString \n + case LINE _ STRING : \n - case " MultiLineString " : \n + case MULTI _ LINE _ STRING : \n - case " Polygon " : \n + case POLYGON : \n - case " MultiPolygon " : \n + case MULTI _ POLYGON : \n - case " GeometryCollection " : \n + case GEOMETRY _ COLLECTION : \n - throw new IllegalArgumentException ( " Unsupported geometry type : " + geometry . getGeometryType ( ) ) ; \n + throw new IllegalArgumentException ( " Unsupported geometry type : " + type ) ; \n - for ( Coordinate coordinate : geometry . getCoordinates ( ) ) { \n - writeCoordinate ( coordinate , output ) ; \n - } \n + writeCoordinates ( geometry . getCoordinates ( ) , output ) ; \n
presto - geospatial - toolkit \ src \ main \ java \ com \ facebook \ presto \ geospatial \ GeometryUtils . java \n + import java . util . Optional ; \n - public static String getGeometryInvalidReason ( org . locationtech . jts . geom . Geometry geometry ) \n + public static Optional < String > getGeometryInvalidReason ( org . locationtech . jts . geom . Geometry geometry ) \n - return err . getMessage ( ) ; \n + return Optional . of ( err . getMessage ( ) ) ; \n - return format ( " [ % s ] % s : ( % s % s ) " , geometryType , errorDescription , nonSimpleLocation . getX ( ) , nonSimpleLocation . getY ( ) ) ; \n + return Optional . of ( format ( " [ % s ] % s : ( % s % s ) " , geometryType , errorDescription , nonSimpleLocation . getX ( ) , nonSimpleLocation . getY ( ) ) ) ; \n - return null ; \n + return Optional . empty ( ) ; \n presto - geospatial \ src \ main \ java \ com \ facebook \ presto \ plugin \ geospatial \ GeoFunctions . java \n + import io . airlift . slice . Slices ; \n - return utf8Slice ( getGeometryInvalidReason ( geometry ) ) ; \n + return getGeometryInvalidReason ( geometry ) . map ( Slices : : utf8Slice ) . orElse ( null ) ; \n presto - geospatial \ src \ test \ java \ com \ facebook \ presto \ plugin \ geospatial \ TestGeoFunctions . java \n + \n + / / valid geometries \n + assertInvalidReason ( " POINT ( 1 2 ) " , null ) ; \n + assertInvalidReason ( " POLYGON ( ( 0 0 , 1 0 , 1 1 , 0 1 , 0 0 ) ) " , null ) ; \n + assertInvalidReason ( " GEOMETRYCOLLECTION ( MULTIPOINT ( 1 0 , 1 1 , 0 1 , 0 0 ) ) " , null ) ; \n
pom . xml \n - < version > 1 . 17 . 0 < / version > \n + < version > 1 . 18 . 0 < / version > \n - < version > 1 . 17 . 0 < / version > \n + < version > 1 . 18 . 0 < / version > \n
core \ api \ system - current . txt \n + field public static final String CONTROL _ OEM _ PAID _ NETWORK _ PREFERENCE = " android . permission . CONTROL _ OEM _ PAID _ NETWORK _ PREFERENCE " ; \n core \ res \ AndroidManifest . xml \n + < ! - - @ SystemApi @ hide Allows an application to manage an automotive device ' s application network \n + preference as it relates to OEM _ PAID and OEM _ PRIVATE capable networks . \n + < p > Not for use by third - party or privileged applications . - - > \n + < permission android : name = " android . permission . CONTROL _ OEM _ PAID _ NETWORK _ PREFERENCE " \n + android : protectionLevel = " signature " / > \n + \n packages \ Connectivity \ framework \ src \ android \ net \ ConnectivityManager . java \n + @ RequiresPermission ( android . Manifest . permission . CONTROL _ OEM _ PAID _ NETWORK _ PREFERENCE ) \n services \ core \ java \ com \ android \ server \ ConnectivityService . java \n + private void enforceOemNetworkPreferencesPermission ( ) { \n + mContext . enforceCallingOrSelfPermission ( \n + android . Manifest . permission . CONTROL _ OEM _ PAID _ NETWORK _ PREFERENCE , \n + " ConnectivityService " ) ; \n + } \n + \n + \n + enforceOemNetworkPreferencesPermission ( ) ; \n - / / TODO http : / / b / 176496438 add permission check once permissions are added . \n tests \ net \ AndroidManifest . xml \n + < uses - permission android : name = " android . permission . CONTROL _ OEM _ PAID _ NETWORK _ PREFERENCE " / > \n
services \ core \ java \ com \ android \ server \ ConnectivityService . java \n - final NetworkRequestInfo nri = getNriForAppRequest ( request ) ; \n + / / Additionally , this lookup needs to be relatively fast ( hence the lookup optimization ) \n + / / to avoid potential race conditions when validating a package - > uid mapping when sending \n + / / the callback on the very low - chance that an application shuts down prior to the callback \n + / / being sent . \n + final NetworkRequestInfo nri = mNetworkRequests . get ( request ) ! = null \n + ? mNetworkRequests . get ( request ) : getNriForAppRequest ( request ) ; \n
services \ core \ java \ com \ android \ server \ ConnectivityService . java \n - handleRemoveNetworkRequests ( mDefaultNetworkRequests ) ; \n + / / Pass in a defensive copy as this collection will be updated on remove . \n + handleRemoveNetworkRequests ( new ArraySet < > ( mDefaultNetworkRequests ) ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ TaskThresholdMemoryRevokingScheduler . java \n - log . debug ( " taskId = % s : requested revoking % s ; remaining % s " , task . getTaskInfo ( ) . getTaskId ( ) , revokedBytes , remainingBytesToRevoke . get ( ) ) ; \n + log . debug ( " taskId = % s : requested revoking % s ; remaining % s " , task . getTaskId ( ) , revokedBytes , remainingBytesToRevoke . get ( ) ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ operator \ ExchangeClient . java \n - return postProcessPage ( page ) ; \n - } \n - \n - private SerializedPage postProcessPage ( SerializedPage page ) \n - { \n - checkState ( ! Thread . holdsLock ( this ) , " Can not get next page while holding a lock on this " ) ; \n - \n - if ( pageBuffer . peek ( ) = = NO _ MORE _ PAGES ) { \n - close ( ) ; \n - } \n + scheduleRequestIfNecessary ( ) ; \n - scheduleRequestIfNecessary ( ) ; \n + \n
presto - array \ src \ main \ java \ com \ facebook \ presto \ array \ BooleanBigArray . java \n - private int capacity ; \n + private long capacity ; \n presto - array \ src \ main \ java \ com \ facebook \ presto \ array \ ByteBigArray . java \n - private int capacity ; \n + private long capacity ; \n presto - array \ src \ main \ java \ com \ facebook \ presto \ array \ DoubleBigArray . java \n - private int capacity ; \n + private long capacity ; \n presto - array \ src \ main \ java \ com \ facebook \ presto \ array \ IntBigArray . java \n - private int capacity ; \n + private long capacity ; \n presto - array \ src \ main \ java \ com \ facebook \ presto \ array \ LongBigArray . java \n - private int capacity ; \n + private long capacity ; \n presto - array \ src \ main \ java \ com \ facebook \ presto \ array \ ObjectBigArray . java \n - private int capacity ; \n + private long capacity ; \n presto - array \ src \ main \ java \ com \ facebook \ presto \ array \ ShortBigArray . java \n - private int capacity ; \n + private long capacity ; \n
x - pack \ docs \ en \ security \ authorization \ built - in - roles . asciidoc \n + \n - Grants read access to the ` . watches ` index , read access to the watch history and \n - the triggered watches index and allows to execute all watcher actions . \n + Allows users to create and execute all { watcher } actions . Grants read access to \n + the ` . watches ` index . Also grants read access to the watch history and the \n + triggered watches index . \n + \n
docs \ painless \ painless - lang - spec \ painless - operators - numeric . asciidoc \n - - - - \n - pre _ increment : ' - - ' ( variable | field ) ; \n + pre _ decrement : ' - - ' ( variable | field ) ; \n - - - - \n
docs \ reference \ ilm \ apis \ put - lifecycle . asciidoc \n - privilege on all indices being managed by ` policy ` . All operations executed by \n - { ilm } for a policy are executed as the user that put the latest version of a \n - policy . For more information , see < < security - privileges > > . \n + privilege on all indices being managed by ` policy ` . { ilm - init } performs \n + operations as the user who last updated the policy . { ilm - init } only has the \n + < < security - privileges , privileges > > assigned to the user at the time of the \n + last policy update . \n docs \ reference \ ilm \ ilm - index - lifecycle . asciidoc \n - and when it transitions between phases . \n + and when it transitions between phases . \n + If you use { es } ' s Security features , { ilm - init } performs operations as the user \n + who last updated the policy . { ilm - init } only has the \n + < < security - privileges , privileges > > assigned to the user at the time of the \n + last policy update . \n + \n
examples \ TwitterRestClient . java \n - client . get ( getAbsoluteUrl ( url ) , params , responseHandler ) ; \n + client . post ( getAbsoluteUrl ( url ) , params , responseHandler ) ; \n
new file \n releases \ android - async - http - 1 . 2 . 0 . jar \n Binary files / dev / null and b / releases / android - async - http - 1 . 2 . 0 . jar differ \n new file \n releases \ android - async - http - 1 . 2 . 1 . jar \n Binary files / dev / null and b / releases / android - async - http - 1 . 2 . 1 . jar differ \n new file \n releases \ android - async - http - 1 . 3 . 0 . jar \n Binary files / dev / null and b / releases / android - async - http - 1 . 3 . 0 . jar differ \n new file \n releases \ android - async - http - 1 . 3 . 1 . jar \n Binary files / dev / null and b / releases / android - async - http - 1 . 3 . 1 . jar differ \n new file \n releases \ android - async - http - 1 . 3 . 2 . jar \n Binary files / dev / null and b / releases / android - async - http - 1 . 3 . 2 . jar differ \n new file \n releases \ android - async - http - 1 . 4 . 0 . jar \n Binary files / dev / null and b / releases / android - async - http - 1 . 4 . 0 . jar differ \n new file \n releases \ android - async - http - 1 . 4 . 1 . jar \n Binary files / dev / null and b / releases / android - async - http - 1 . 4 . 1 . jar differ \n new file \n releases \ android - async - http - 1 . 4 . 2 . jar \n Binary files / dev / null and b / releases / android - async - http - 1 . 4 . 2 . jar differ \n
src \ com \ loopj \ android \ http \ PersistentCookieStore . java \n - / / Clear cookies from local store \n - cookies . clear ( ) ; \n - \n + \n + / / Clear cookies from local store \n + cookies . clear ( ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ buffer \ PageSplitterUtil . java \n - / / if the size of the page doesn ' t improve from the previous call we terminate the recursion . \n - if ( page . getSizeInBytes ( ) = = previousPageSize | | page . getSizeInBytes ( ) < = maxPageSizeInBytes | | page . getPositionCount ( ) = = 1 ) { \n + / / if the size of the page doesn ' t improve too much from the previous call we terminate the recursion . \n + if ( page . getSizeInBytes ( ) > previousPageSize * 0 . 9 | | page . getSizeInBytes ( ) < = maxPageSizeInBytes | | page . getPositionCount ( ) = = 1 ) { \n presto - main \ src \ test \ java \ com \ facebook \ presto \ execution \ TestPageSplitterUtil . java \n + import com . facebook . presto . common . block . DictionaryBlock ; \n + import io . airlift . slice . Slices ; \n + import static com . facebook . presto . block . BlockAssertions . createRandomDictionaryBlock ; \n + import static com . facebook . presto . block . BlockAssertions . createSlicesBlock ; \n + \n + @ Test \n + public void testSplitDictionaryBlock ( ) \n + { \n + / / create a huge dictionary with a single entry \n + Block dictionary = createSlicesBlock ( Slices . utf8Slice ( new String ( new char [ 1 _ 000 _ 000 ] ) ) ) ; \n + \n + / / make every row in the block identical to the single entry in the dictionary \n + DictionaryBlock dictionaryBlock = createRandomDictionaryBlock ( dictionary , 50000 ) ; \n + \n + List < Page > pages = splitPage ( new Page ( dictionaryBlock ) , 1000 ) ; \n + assertEquals ( pages . size ( ) , 2 ) ; \n + } \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ RowExpressionInterpreter . java \n - checkState ( ( resolution . isCastFunction ( ( ( CallExpression ) possibleCompiledPattern ) . getFunctionHandle ( ) ) ) ) ; \n - possibleCompiledPattern = functionInvoker . invoke ( ( ( CallExpression ) possibleCompiledPattern ) . getFunctionHandle ( ) , session , nonCompiledPattern ) ; \n + \n + checkState ( possibleCompiledPattern instanceof CallExpression ) ; \n + / / this corresponds to ExpressionInterpreter : : getConstantPattern \n + if ( hasEscape ) { \n + / / like _ pattern ( pattern , escape ) \n + possibleCompiledPattern = functionInvoker . invoke ( ( ( CallExpression ) possibleCompiledPattern ) . getFunctionHandle ( ) , session , nonCompiledPattern , escape ) ; \n + } \n + else { \n + / / like _ pattern ( pattern ) \n + possibleCompiledPattern = functionInvoker . invoke ( ( ( CallExpression ) possibleCompiledPattern ) . getFunctionHandle ( ) , session , nonCompiledPattern ) ; \n + } \n + \n + checkState ( possibleCompiledPattern instanceof Regex , " unexpected like pattern type " + possibleCompiledPattern . getClass ( ) ) ; \n presto - main \ src \ test \ java \ com \ facebook \ presto \ sql \ TestExpressionInterpreter . java \n + \n + assertRowExpressionEquals ( SERIALIZABLE , " ' % ' LIKE ' z % ' ESCAPE ' z ' " , " true " ) ; \n + assertRowExpressionEquals ( SERIALIZABLE , " ' % ' LIKE ' z % ' " , " false " ) ; \n - assertRowExpressionOptimizedEquals ( \n + assertRowExpressionEquals ( \n - assertRowExpressionOptimizedEquals ( \n + assertRowExpressionEquals ( \n - assertRowExpressionOptimizedEquals ( \n + assertRowExpressionEquals ( \n - private static void assertRowExpressionOptimizedEquals ( Level level , @ Language ( " SQL " ) String actual , @ Language ( " SQL " ) String expected ) \n + private static void assertRowExpressionEquals ( Level level , @ Language ( " SQL " ) String actual , @ Language ( " SQL " ) String expected ) \n
pom . xml \n + < dependency > \n + < groupId > org . apache . hudi < / groupId > \n + < artifactId > hudi - hadoop - mr < / artifactId > \n + < version > 0 . 5 . 1 - incubating < / version > \n + < exclusions > \n + < exclusion > \n + < groupId > org . objenesis < / groupId > \n + < artifactId > objenesis < / artifactId > \n + < / exclusion > \n + < exclusion > \n + < groupId > commons - logging < / groupId > \n + < artifactId > commons - logging < / artifactId > \n + < / exclusion > \n + < exclusion > \n + < groupId > org . slf4j < / groupId > \n + < artifactId > jcl - over - slf4j < / artifactId > \n + < / exclusion > \n + < exclusion > \n + < groupId > org . apache . httpcomponents < / groupId > \n + < artifactId > httpclient < / artifactId > \n + < / exclusion > \n + < / exclusions > \n + < / dependency > \n + \n presto - hive \ pom . xml \n - < version > 0 . 5 . 1 - incubating < / version > \n - < exclusions > \n - < exclusion > \n - < groupId > org . objenesis < / groupId > \n - < artifactId > objenesis < / artifactId > \n - < / exclusion > \n - < exclusion > \n - < groupId > commons - logging < / groupId > \n - < artifactId > commons - logging < / artifactId > \n - < / exclusion > \n - < exclusion > \n - < groupId > org . slf4j < / groupId > \n - < artifactId > jcl - over - slf4j < / artifactId > \n - < / exclusion > \n - < / exclusions > \n
src \ clj \ backtype \ storm \ daemon \ supervisor . clj \n - my - hostname ( local - hostname ) \n + my - hostname ( if ( contains ? conf STORM - LOCAL - HOSTNAME ) \n + ( conf STORM - LOCAL - HOSTNAME ) \n + ( local - hostname ) ) \n src \ jvm \ backtype \ storm \ Config . java \n + \n + / * * \n + * The hostname the supervisors / workers should report to nimbus . \n + * \n + * You should set this config when you dont have a DNS which supervisors / workers \n + * can utilize to find each other based on hostname got from calls to \n + * < code > InetAddress . getLocalHost ( ) . getCanonicalHostName ( ) < / code > . \n + * / \n + public static String STORM _ LOCAL _ HOSTNAME = " storm . local . hostname " ; \n
src \ clj \ backtype \ storm \ testing4j . clj \n - ^ : static [ submitLocalTopology [ Object String \n + ^ : static [ submitLocalTopology [ backtype . storm . ILocalCluster String \n - ( defn - submitLocalTopology [ ^ Object nimbus ^ String topologyName ^ Config config ^ StormTopology topology ] \n - ( submit - local - topology nimbus topologyName config topology ) ) \n + ( defn - submitLocalTopology [ ^ ILocalCluster cluster ^ String topologyName ^ Config config ^ StormTopology topology ] \n + ( submit - local - topology ( . getNimbus cluster ) topologyName config topology ) ) \n
storm - core \ src \ clj \ backtype \ storm \ daemon \ executor . clj \n - ( if ( and ( not ( storm - conf TOPOLOGY - ENABLE - MESSAGE - TIMEOUTS ) ) \n - ( = : spout ( : type executor - data ) ) ) \n - ( log - message " Timeouts disabled for executor " ( : executor - id executor - data ) ) \n + ( if ( or ( system - id ? ( : component - id executor - data ) ) \n + ( and ( not ( storm - conf TOPOLOGY - ENABLE - MESSAGE - TIMEOUTS ) ) \n + ( = : spout ( : type executor - data ) ) ) ) \n + ( log - message " Timeouts disabled for executor " ( : component - id executor - data ) " : " ( : executor - id executor - data ) ) \n new file \n storm - core \ test \ clj \ backtype \ storm \ tick _ tuple _ test . clj \n + ( ns backtype . storm . tick - tuple - test \n + ( : use [ clojure test ] ) \n + ( : use [ backtype . storm bootstrap testing ] ) \n + ( : use [ backtype . storm . daemon common ] ) ) \n + \n + ( bootstrap ) \n + \n + ( defbolt noop - bolt [ " tuple " ] { : prepare true } \n + [ conf context collector ] \n + ( bolt \n + ( execute [ tuple ] ) ) ) \n + \n + ( defspout noop - spout [ " tuple " ] \n + [ conf context collector ] \n + ( spout \n + ( nextTuple [ ] ) ) ) \n + \n + ( deftest test - tick - tuple - works - with - system - bolt \n + ( with - simulated - time - local - cluster [ cluster ] \n + ( let [ topology ( thrift / mk - topology \n + { " 1 " ( thrift / mk - spout - spec noop - spout ) } \n + { " 2 " ( thrift / mk - bolt - spec { " 1 " [ " tuple " ] } noop - bolt ) } ) ] \n + ( try \n + ( submit - local - topology ( : nimbus cluster ) \n + " test " \n + { TOPOLOGY - TICK - TUPLE - FREQ - SECS 1 } \n + topology ) \n + ( advance - cluster - time cluster 2 ) \n + ; ; if reaches here , it means everything works ok . \n + ( is true ) \n + ( catch Exception e \n + ( is false ) ) ) ) ) ) \n + \n + \n + \n
android \ src \ main \ res \ raw \ bootstrap _ data . json \n - " title " : " Play & Studio " , \n + " title " : " Play & Android Studio " , \n - " title " : " Office Hours / Spaces " , \n + " title " : " Office Hours / Ask a Dev " , \n
lib \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ map \ util \ MarkerLoadingTask . java \n + import java . util . Iterator ; \n + \n - Iterable < GeoJsonFeature > features = layer . getFeatures ( ) ; \n + \n + Iterator < GeoJsonFeature > iterator = layer . getFeatures ( ) . iterator ( ) ; \n - for ( GeoJsonFeature feature : features ) { \n + while ( iterator . hasNext ( ) ) { \n + GeoJsonFeature feature = iterator . next ( ) ; \n + \n - pointStyle . setVisible ( true ) ; \n - feature . setPointStyle ( pointStyle ) ; \n + \n + / / If the marker is invalid ( e . g . the icon does not exist ) , remove it from the map . \n + if ( pointStyle = = null ) { \n + iterator . remove ( ) ; \n + } else { \n + pointStyle . setVisible ( true ) ; \n + feature . setPointStyle ( pointStyle ) ; \n + } \n
lib \ src \ mapEditor \ java \ com \ google \ samples \ apps \ iosched \ map \ EditorMapFragment . java \n - @ Override \n - public void onInfoShowVenue ( ) { \n - } \n - \n lib \ src \ mapEditor \ java \ com \ google \ samples \ apps \ iosched \ map \ MapEditorActivity . java \n - @ Override \n - public void onInfoShowVenue ( ) { \n - showMessage ( " Venue Marker " ) ; \n - } \n - \n
ReactAndroid \ build . gradle \n - reactNativeRootDir = file ( " $ rootDir " ) \n + reactNativeRootDir = file ( " $ projectDir / . . " ) \n
packages \ react - native - codegen \ scripts \ oss \ build . sh \n - pushd " $ THIS _ DIR / . . / . . " > / dev / null \n + CODEGEN _ DIR = " $ THIS _ DIR / . . / . . " \n - yarn install 2 > > ( grep - v ' ^ warning ' 1 > & 2 ) \n - yarn run build \n + rm - rf " $ { CODEGEN _ DIR : ? } / lib " " $ { CODEGEN _ DIR : ? } / node _ modules " \n - popd > / dev / null \n + YARN _ BINARY = " $ { YARN _ BINARY : - $ ( command - v yarn ) } " \n + \n + if [ [ " $ FBSOURCE _ ENV " - eq " 1 " ] ] ; then \n + # Custom FB - specific setup \n + pushd " $ CODEGEN _ DIR " > / dev / null \n + \n + " $ YARN _ BINARY " install 2 > > ( grep - v ' ^ warning ' 1 > & 2 ) \n + # Note : Within FBSOURCE _ ENV , this has to explicitly run build . \n + " $ YARN _ BINARY " run build \n + \n + popd > / dev / null \n + else \n + # Run yarn install in a separate tmp dir to avoid conflict with the rest of the repo . \n + # Note : OSS - only . \n + TMP _ DIR = $ ( mktemp - d ) \n + \n + cp - R " $ CODEGEN _ DIR / . " " $ TMP _ DIR " \n + \n + pushd " $ TMP _ DIR " > / dev / null \n + \n + # Note : this automatically runs build as well . \n + " $ YARN _ BINARY " install 2 > > ( grep - v ' ^ warning ' 1 > & 2 ) \n + \n + popd > / dev / null \n + \n + mv " $ TMP _ DIR / lib " " $ TMP _ DIR / node _ modules " " $ CODEGEN _ DIR " \n + rm - rf " $ TMP _ DIR " \n + fi \n
React \ Views \ RefreshControl \ RCTRefreshControl . m \n + - ( void ) didMoveToWindow \n + { \n + [ super didMoveToWindow ] ; \n + \n + / / Since iOS 14 there seems to be a bug where refresh control becomes \n + / / visible if the view gets removed from window then added back again . \n + / / Calling endRefreshing fixes the layout . \n + if ( ! _ currentRefreshingState ) { \n + [ super endRefreshing ] ; \n + } \n + } \n + \n - ( void ) beginRefreshingProgrammatically \n
keystore \ java \ android \ security \ KeyStoreSecurityLevel . java \n - return handleExceptions ( ( ) - > mSecurityLevel . importWrappedKey ( wrappedKeyDescriptor , \n + return handleExceptions ( ( ) - > mSecurityLevel . importWrappedKey ( keyDescriptor , \n keystore \ java \ android \ security \ keystore2 \ AndroidKeyStoreHmacSpi . java \n + parameters . add ( KeyStore2ParameterUtils . makeEnum ( \n + KeymasterDefs . KM _ TAG _ PURPOSE , KeymasterDefs . KM _ PURPOSE _ SIGN \n + ) ) ; \n keystore \ java \ android \ security \ keystore2 \ AndroidKeyStoreKey . java \n - import android . util . Log ; \n - / / If the key ids are equal and the class matches all the other fields cannot differ \n - / / unless we have a bug . \n - if ( ! mAlgorithm . equals ( other . mAlgorithm ) \n - | | ! mAuthorizations . equals ( other . mAuthorizations ) \n - | | ! mDescriptor . equals ( other . mDescriptor ) ) { \n - Log . e ( " AndroidKeyStoreKey " , " Bug : key ids are identical , but key metadata " \n - + " differs . " ) ; \n - return false ; \n - } \n keystore \ java \ android \ security \ keystore2 \ AndroidKeyStoreSpi . java \n - throw new KeyStoreException ( " Failed to load wrapping key . " , e ) ; \n + throw new KeyStoreException ( " Failed to import wrapped key . Keystore error code : " \n + + e . getErrorCode ( ) , e ) ; \n
keystore \ java \ android \ security \ Authorization . java \n - private static IKeystoreAuthorization sIKeystoreAuthorization ; \n - public Authorization ( ) { \n - sIKeystoreAuthorization = null ; \n - } \n - \n - private static synchronized IKeystoreAuthorization getService ( ) { \n - if ( sIKeystoreAuthorization = = null ) { \n - sIKeystoreAuthorization = IKeystoreAuthorization . Stub . asInterface ( \n + private static IKeystoreAuthorization getService ( ) { \n + return IKeystoreAuthorization . Stub . asInterface ( \n - } \n - return sIKeystoreAuthorization ; \n - public int addAuthToken ( @ NonNull HardwareAuthToken authToken ) { \n + public static int addAuthToken ( @ NonNull HardwareAuthToken authToken ) { \n - } catch ( RemoteException e ) { \n + } catch ( RemoteException | NullPointerException e ) { \n - public int addAuthToken ( @ NonNull byte [ ] authToken ) { \n + public static int addAuthToken ( @ NonNull byte [ ] authToken ) { \n - public int onLockScreenEvent ( @ NonNull boolean locked , @ NonNull int userId , \n + public static int onLockScreenEvent ( @ NonNull boolean locked , @ NonNull int userId , \n - } catch ( RemoteException e ) { \n + } catch ( RemoteException | NullPointerException e ) { \n keystore \ java \ android \ security \ KeyStore . java \n - new Authorization ( ) . addAuthToken ( authToken ) ; \n + Authorization . addAuthToken ( authToken ) ; \n keystore \ java \ android \ security \ KeyStore2 . java \n - Log . e ( TAG , " KeyStore exception " , e ) ; \n services \ core \ java \ com \ android \ server \ locksettings \ LockSettingsService . java \n - new Authorization ( ) . onLockScreenEvent ( false , userHandle , password ) ; \n + Authorization . onLockScreenEvent ( false , userHandle , password ) ; \n services \ core \ java \ com \ android \ server \ trust \ TrustManagerService . java \n - mAuthorizationService . onLockScreenEvent ( locked , userId , null ) ; \n + Authorization . onLockScreenEvent ( locked , userId , null ) ; \n - mAuthorizationService . onLockScreenEvent ( locked , userId , null ) ; \n + Authorization . onLockScreenEvent ( locked , userId , null ) ; \n
keystore \ java \ android \ security \ KeyStore2 . java \n + import android . security . keymaster . KeymasterDefs ; \n - throw new KeyStoreException ( e . errorCode , " " ) ; \n + throw getKeyStoreException ( e . errorCode ) ; \n + static KeyStoreException getKeyStoreException ( int errorCode ) { \n + if ( errorCode > 0 ) { \n + / / KeyStore layer error \n + switch ( errorCode ) { \n + case ResponseCode . LOCKED : \n + return new KeyStoreException ( errorCode , " User authentication required " ) ; \n + case ResponseCode . UNINITIALIZED : \n + return new KeyStoreException ( errorCode , " Keystore not initialized " ) ; \n + case ResponseCode . SYSTEM _ ERROR : \n + return new KeyStoreException ( errorCode , " System error " ) ; \n + case ResponseCode . PERMISSION _ DENIED : \n + return new KeyStoreException ( errorCode , " Permission denied " ) ; \n + case ResponseCode . KEY _ NOT _ FOUND : \n + return new KeyStoreException ( errorCode , " Key not found " ) ; \n + case ResponseCode . VALUE _ CORRUPTED : \n + return new KeyStoreException ( errorCode , " Key blob corrupted " ) ; \n + case ResponseCode . KEY _ PERMANENTLY _ INVALIDATED : \n + return new KeyStoreException ( errorCode , " Key permanently invalidated " ) ; \n + default : \n + return new KeyStoreException ( errorCode , String . valueOf ( errorCode ) ) ; \n + } \n + } else { \n + / / Keymaster layer error \n + switch ( errorCode ) { \n + case KeymasterDefs . KM _ ERROR _ INVALID _ AUTHORIZATION _ TIMEOUT : \n + / / The name of this parameter significantly differs between Keymaster and \n + / / framework APIs . Use the framework wording to make life easier for developers . \n + return new KeyStoreException ( errorCode , \n + " Invalid user authentication validity duration " ) ; \n + default : \n + return new KeyStoreException ( errorCode , \n + KeymasterDefs . getErrorMessage ( errorCode ) ) ; \n + } \n + } \n + } \n + \n keystore \ java \ android \ security \ KeyStoreOperation . java \n - / / TODO Human readable string . Use something like KeyStore . getKeyStoreException \n - throw new KeyStoreException ( e . errorCode , " " ) ; \n + throw KeyStore2 . getKeyStoreException ( e . errorCode ) ; \n keystore \ java \ android \ security \ KeyStoreSecurityLevel . java \n - throw new KeyStoreException ( e . errorCode , " " ) ; \n + throw KeyStore2 . getKeyStoreException ( e . errorCode ) ; \n - throw new KeyStoreException ( e . errorCode , " " ) ; \n + throw KeyStore2 . getKeyStoreException ( e . errorCode ) ; \n
build . gradle \n - mavenCentral ( ) \n - mavenCentral ( ) \n + jcenter ( ) \n + google ( ) \n gradle \ dependencies . gradle \n - supportLibrariesVersion = ' 25 . 1 . 0 ' \n + supportLibrariesVersion = ' 26 . 0 . 1 ' \n
README . md \n - - - - - - - - \n + \n + - dontwarn okhttp3 . * * \n - dontwarn okio . * * \n - - dontwarn javax . annotation . Nullable \n - - dontwarn javax . annotation . ParametersAreNonnullByDefault \n + - dontwarn javax . annotation . * * \n
gradle \ wrapper \ gradle - wrapper . jar \n Binary files a / gradle / wrapper / gradle - wrapper . jar and b / gradle / wrapper / gradle - wrapper . jar differ \n gradle \ wrapper \ gradle - wrapper . properties \n - # Mon Apr 29 15 : 00 : 11 CEST 2019 \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 5 . 4 . 1 - all . zip \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 5 . 1 . 1 - all . zip \n gradlew \n + # \n + # Copyright 2015 the original author or authors . \n + # \n + # Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + # you may not use this file except in compliance with the License . \n + # You may obtain a copy of the License at \n + # \n + # http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + # \n + # Unless required by applicable law or agreed to in writing , software \n + # distributed under the License is distributed on an " AS IS " BASIS , \n + # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + # See the License for the specific language governing permissions and \n + # limitations under the License . \n + # \n + \n - DEFAULT _ JVM _ OPTS = ' " - Xmx64m " ' \n + DEFAULT _ JVM _ OPTS = ' " - Xmx64m " " - Xms64m " ' \n
src \ jvm \ backtype \ storm \ spout \ SchemeAsMultiScheme . java \n - return Arrays . asList ( scheme . deserialize ( ser ) ) ; \n + List < Object > o = scheme . deserialize ( ser ) ; \n + if ( o = = null ) return null ; \n + else return Arrays . asList ( o ) ; \n
src \ jvm \ backtype \ storm \ spout \ SchemeAsMultiScheme . java \n - return Arrays . asList ( scheme . deserialize ( ser ) ) ; \n + List < Object > o = scheme . deserialize ( ser ) ; \n + if ( o = = null ) return null ; \n + else return Arrays . asList ( o ) ; \n
project . clj \n - ( defproject storm / storm " 0 . 9 . 0 - wip14 " \n + ( defproject storm / storm " 0 . 9 . 0 - wip15 " \n
distribution \ packages \ src \ common \ env \ elasticsearch \n - # JAVA _ HOME = \n + # ES _ JAVA _ HOME = \n
. ci \ matrix - runtime - javas . yml \n - java11 \n - - openjdk14 \n - openjdk15 \n - openjdk16 \n - zulu11 \n
x - pack \ plugin \ core \ src \ main \ plugin - metadata \ plugin - security . policy \n + \n + / / needed because of problems in unbound LDAP library \n + permission java . util . PropertyPermission " * " , " read , write " ; \n x - pack \ plugin \ security \ src \ main \ plugin - metadata \ plugin - security . policy \n - / / needed because of problems in unbound LDAP library \n - permission java . util . PropertyPermission " * " , " read , write " ; \n + / / needed for SAML \n + permission java . util . PropertyPermission " org . apache . xml . security . ignoreLineBreaks " , " read , write " ; \n
x - pack \ plugin \ watcher \ src \ test \ java \ org \ elasticsearch \ xpack \ watcher \ support \ WatcherUtilsTests . java \n + import static org . elasticsearch . xpack . watcher . support . search . WatcherSearchTemplateRequest . DEFAULT _ INDICES _ OPTIONS ; \n - randomBoolean ( ) , WatcherSearchTemplateRequest . DEFAULT _ INDICES _ OPTIONS ) ; \n + randomBoolean ( ) , randomBoolean ( ) , DEFAULT _ INDICES _ OPTIONS . allowAliasesToMultipleIndices ( ) , \n + DEFAULT _ INDICES _ OPTIONS . forbidClosedIndices ( ) , DEFAULT _ INDICES _ OPTIONS . ignoreAliases ( ) , \n + DEFAULT _ INDICES _ OPTIONS . ignoreThrottled ( ) ) ; \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 65397 " ) \n - IndicesOptions indicesOptions = WatcherSearchTemplateRequest . DEFAULT _ INDICES _ OPTIONS ; \n + IndicesOptions indicesOptions = DEFAULT _ INDICES _ OPTIONS ; \n - randomBoolean ( ) , WatcherSearchTemplateRequest . DEFAULT _ INDICES _ OPTIONS ) ; \n - builder . startObject ( " indices _ options " ) \n - . field ( " allow _ no _ indices " , indicesOptions . allowNoIndices ( ) ) \n - . field ( " expand _ wildcards " , indicesOptions . expandWildcardsClosed ( ) & & indicesOptions . expandWildcardsOpen ( ) ? " all " : \n - indicesOptions . expandWildcardsClosed ( ) ? " closed " : \n - indicesOptions . expandWildcardsOpen ( ) ? " open " : \n - " none " ) \n - . field ( " ignore _ unavailable " , indicesOptions . ignoreUnavailable ( ) ) \n - . endObject ( ) ; \n + randomBoolean ( ) , randomBoolean ( ) , indicesOptions . allowAliasesToMultipleIndices ( ) , \n + indicesOptions . forbidClosedIndices ( ) , indicesOptions . ignoreAliases ( ) , indicesOptions . ignoreThrottled ( ) ) ; \n + builder . startObject ( " indices _ options " ) ; \n + indicesOptions . toXContent ( builder , ToXContent . EMPTY _ PARAMS ) ; \n + builder . endObject ( ) ; \n - \n
rest - api - spec \ src \ main \ resources \ rest - api - spec \ api \ indices . stats . json \n - " suggest " , \n - " suggest " , \n - " description " : " A comma - separated list of fields for ` fielddata ` and ` suggest ` index metric ( supports wildcards ) " \n + " description " : " A comma - separated list of fields for the ` completion ` index metric ( supports wildcards ) " \n - " description " : " A comma - separated list of fields for ` fielddata ` index metric ( supports wildcards ) " \n + " description " : " A comma - separated list of fields for the ` fielddata ` index metric ( supports wildcards ) " \n rest - api - spec \ src \ main \ resources \ rest - api - spec \ api \ nodes . stats . json \n - " suggest " , \n - " suggest " , \n - " description " : " A comma - separated list of fields for ` fielddata ` and ` suggest ` index metric ( supports wildcards ) " \n + " description " : " A comma - separated list of fields for the ` completion ` index metric ( supports wildcards ) " \n - " description " : " A comma - separated list of fields for ` fielddata ` index metric ( supports wildcards ) " \n + " description " : " A comma - separated list of fields for the ` fielddata ` index metric ( supports wildcards ) " \n
x - pack \ plugin \ watcher \ qa \ rest \ src \ yamlRestTest \ resources \ rest - api - spec \ test \ watcher \ put _ watch \ 92 _ put _ watch _ with _ indices _ options . yml \n - - - \n - skip : \n - version : " 7 . 10 . 1 - 7 . 99 . 99 " \n - reason : " watch parsing with partial indices options was broken in 7 . 10 . 1 " \n + version : " 7 . 10 . 1 - 7 . 10 . 2 " \n + reason : " watch parsing with partial indices options was broken in 7 . 10 . 1 and 7 . 10 . 2 " \n - do : \n - - - \n - skip : \n - version : " 7 . 10 . 1 - 7 . 99 . 99 " \n - reason : " watch parsing with partial indices options was broken in 7 . 10 . 1 " \n + version : " 7 . 10 . 1 - 7 . 10 . 2 " \n + reason : " watch parsing with partial indices options was broken in 7 . 10 . 1 and 7 . 10 . 2 " \n - do : \n - - - \n - skip : \n - version : " 7 . 10 . 1 - 7 . 99 . 99 " \n - reason : " watch parsing with partial indices options was broken in 7 . 10 . 1 " \n + version : " 7 . 10 . 1 - 7 . 10 . 2 " \n + reason : " watch parsing with partial indices options was broken in 7 . 10 . 1 and 7 . 10 . 2 " \n - do : \n
core \ java \ com \ android \ internal \ widget \ OWNERS \n + \n + # Notification related \n + per - file * Notification * = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file * Messaging * = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file * Message * = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file * Conversation * = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file * ImageResolver * = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file CallLayout . java = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file CachingIconView . java = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file ImageFloatingTextView . java = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file ObservableTextView . java = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file RemeasuringLinearLayout . java = file : / services / core / java / com / android / server / notification / OWNERS \n + per - file ViewClippingUtil . java = file : / services / core / java / com / android / server / notification / OWNERS \n
core \ java \ com \ android \ internal \ widget \ OWNERS \n + per - file * People * = file : / services / core / java / com / android / server / notification / OWNERS \n
core \ java \ android \ util \ OWNERS \n + \n + per - file TypedValue . java = file : / core / java / android / content / res / OWNERS \n + per - file AttributeSet . java = file : / core / java / android / content / res / OWNERS \n
Android . bp \n - " android . system . keystore2 - java " , \n + " android . system . keystore2 - V1 - java " , \n services \ core \ Android . bp \n - " android . hardware . power - java " , \n + " android . hardware . power - V1 - java " , \n - " android . hardware . vibrator - java " , \n + " android . hardware . vibrator - V1 - java " , \n - " android . hardware . light - java " , \n + " android . hardware . light - V1 - java " , \n - " android . hardware . rebootescrow - java " , \n + " android . hardware . rebootescrow - V1 - java " , \n - " dnsresolver _ aidl _ interface - java " , \n + " dnsresolver _ aidl _ interface - V7 - java " , \n services \ core \ jni \ Android . bp \n - " android . hardware . power - cpp " , \n + " android . hardware . power - V1 - cpp " , \n - " android . hardware . vibrator - cpp " , \n + " android . hardware . vibrator - V1 - cpp " , \n - " android . system . suspend . control - cpp " , \n + " android . system . suspend . control - V1 - cpp " , \n services \ incremental \ Android . bp \n - " libdataloader _ aidl - unstable - cpp " , \n - " libincremental _ aidl - unstable - cpp " , \n - " libincremental _ manager _ aidl - unstable - cpp " , \n + " libdataloader _ aidl - cpp " , \n + " libincremental _ aidl - cpp " , \n + " libincremental _ manager _ aidl - cpp " , \n services \ tests \ servicestests \ Android . bp \n - " netd _ aidl _ interface - cpp " , \n + " netd _ aidl _ interface - V5 - cpp " , \n services \ tests \ uiservicestests \ Android . bp \n - " netd _ aidl _ interface - cpp " , \n + " netd _ aidl _ interface - V5 - cpp " , \n
tests \ net \ Android . bp \n - " netd _ aidl _ interface - cpp " , \n + " netd _ aidl _ interface - V5 - cpp " , \n
core \ jni \ Android . bp \n - " android . hardware . memtrack - unstable - ndk _ platform " , \n + " android . hardware . memtrack - V1 - ndk _ platform " , \n
imagepipeline - base \ src \ main \ java \ com \ facebook \ cache \ common \ DebuggingCacheKey . java \n - private final Object mCallerContext ; \n + private final @ Nullable Object mCallerContext ; \n imagepipeline - base \ src \ main \ java \ com \ facebook \ cache \ common \ NoOpCacheErrorLogger . java \n - private static NoOpCacheErrorLogger sInstance = null ; \n + private static @ Nullable NoOpCacheErrorLogger sInstance = null ; \n imagepipeline - base \ src \ main \ java \ com \ facebook \ cache \ common \ NoOpCacheEventListener . java \n + import javax . annotation . Nullable ; \n + \n - private static NoOpCacheEventListener sInstance = null ; \n + private static @ Nullable NoOpCacheEventListener sInstance = null ; \n
drawee \ src \ main \ java \ com \ facebook \ drawee \ drawable \ ScalingUtils . java \n - public static ScaleTypeDrawable getActiveScaleTypeDrawable ( Drawable drawable ) { \n + public static ScaleTypeDrawable getActiveScaleTypeDrawable ( @ Nullable Drawable drawable ) { \n
fbcore \ src \ main \ java \ com \ facebook \ common \ activitylistener \ ActivityListenerManager . java \n - private ActivityListener getListenerOrCleanUp ( Activity activity ) { \n + private @ Nullable ActivityListener getListenerOrCleanUp ( Activity activity ) { \n
monostate \ src \ test \ java \ com \ iluwatar \ monostate \ AppTest . java \n - Assert . assertTrue ( LoadBalancer . getLastServedId ( ) = = 2 ) ; \n monostate \ src \ test \ java \ com \ iluwatar \ monostate \ LoadBalancerTest . java \n + import static org . mockito . Matchers . any ; \n + import static org . mockito . Mockito . doNothing ; \n + import static org . mockito . Mockito . when ; \n + when ( server . getHost ( ) ) . thenReturn ( " testhost " ) ; \n + when ( server . getPort ( ) ) . thenReturn ( 1234 ) ; \n + doNothing ( ) . when ( server ) . serve ( any ( Request . class ) ) ; \n
service - locator \ src \ main \ java \ com \ iluwatar \ servicelocator \ ServiceLocator . java \n - serviceCache . addService ( serviceObj ) ; \n + if ( serviceObj ! = null ) { / / Only cache a service if it actually exists \n + serviceCache . addService ( serviceObj ) ; \n + } \n new file \n service - locator \ src \ test \ java \ com \ iluwatar \ servicelocator \ ServiceLocatorTest . java \n + package com . iluwatar . servicelocator ; \n + \n + import org . junit . Test ; \n + \n + import static org . junit . Assert . * ; \n + \n + / * * \n + * Date : 12 / 29 / 15 - 19 : 07 PM \n + * \n + * @ author Jeroen Meulemeester \n + * / \n + public class ServiceLocatorTest { \n + \n + / * * \n + * Verify if we just receive ' null ' when requesting a non - existing service \n + * / \n + @ Test \n + public void testGetNonExistentService ( ) { \n + assertNull ( ServiceLocator . getService ( " fantastic / unicorn / service " ) ) ; \n + assertNull ( ServiceLocator . getService ( " another / fantastic / unicorn / service " ) ) ; \n + } \n + \n + / * * \n + * Verify if we get the same cached instance when requesting the same service twice \n + * / \n + @ Test \n + public void testServiceCache ( ) { \n + final String [ ] serviceNames = new String [ ] { \n + " jndi / serviceA " , " jndi / serviceB " \n + } ; \n + \n + for ( final String serviceName : serviceNames ) { \n + final Service service = ServiceLocator . getService ( serviceName ) ; \n + assertNotNull ( service ) ; \n + assertEquals ( serviceName , service . getName ( ) ) ; \n + assertTrue ( service . getId ( ) > 0 ) ; / / The id is generated randomly , but the minimum value is ' 1 ' \n + assertSame ( service , ServiceLocator . getService ( serviceName ) ) ; \n + } \n + \n + } \n + \n + } \n
LICENSE . md \n - Copyright ( c ) 2014 Ilkka Seppälä \n + Copyright ( c ) 2014 - 2016 Ilkka Seppälä \n
dubbo - config \ dubbo - config - spring \ src \ test \ java \ org \ apache \ dubbo \ config \ spring \ initializer \ DubboApplicationContextInitializerTest . java \n - tomcat . setBaseDir ( " src / test / resources " ) ; \n + tomcat . setBaseDir ( " target / test - classes " ) ; \n - tomcat . setBaseDir ( " src / test / resources " ) ; \n + tomcat . setBaseDir ( " target / test - classes " ) ; \n - tomcat . setBaseDir ( " src / test / resources " ) ; \n + tomcat . setBaseDir ( " target / test - classes " ) ; \n
dubbo - cluster \ src \ main \ java \ com \ alibaba \ dubbo \ rpc \ cluster \ support \ wrapper \ MockClusterInvoker . java \n - logger . info ( " fail - mock : " + invocation . getMethodName ( ) + " fail - mock enabled , url : " + directory . getUrl ( ) , e ) ; \n + logger . warn ( " fail - mock : " + invocation . getMethodName ( ) + " fail - mock enabled , url : " + directory . getUrl ( ) , e ) ; \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ common \ status \ support \ LoadStatusChecker . java \n + if ( load = = - 1 ) { \n + com . sun . management . OperatingSystemMXBean bean = \n + ( com . sun . management . OperatingSystemMXBean ) operatingSystemMXBean ; \n + load = bean . getSystemCpuLoad ( ) ; \n + } \n
okhttp - tls \ build . gradle \n - implementation deps . bouncycastle \n - implementation deps . bouncycastlepkix \n - implementation deps . bouncycastletls \n okhttp - tls \ src \ main \ kotlin \ okhttp3 \ tls \ HeldCertificate . kt \n - import java . security . Security \n - import org . bouncycastle . jce . provider . BouncyCastleProvider \n - \n - init { \n - Security . addProvider ( BouncyCastleProvider ( ) ) \n - } \n
okhttp \ src \ main \ kotlin \ okhttp3 \ FormBody . kt \n - plusIsSpace = false , / / plus is encoded as ` % 25 ` , space is encoded as plus \n + plusIsSpace = false , / / plus is encoded as ` % 2B ` , space is encoded as plus . \n - plusIsSpace = false , / / plus is encoded as ` % 25 ` , space is encoded as plus \n + plusIsSpace = false , / / plus is encoded as ` % 2B ` , space is encoded as plus . \n okhttp \ src \ main \ kotlin \ okhttp3 \ HttpUrl . kt \n - } else if ( codePoint = = ' ' . toInt ( ) & & encodeSet = = FORM _ ENCODE _ SET ) { \n - / / Encode ' ' as ' + ' \n - / / @ see - > https : / / www . w3 . org / TR / 2014 / REC - html5 - 20141028 / single - page . html # url - encoded - form - data \n + } else if ( codePoint = = ' ' . toInt ( ) & & encodeSet = = = FORM _ ENCODE _ SET ) { \n + / / Encode ' ' as ' + ' . \n
okhttp \ src \ main \ kotlin \ okhttp3 \ internal \ Util . kt \n + if ( rethrown . message = = " bio = = null " ) { \n + / / Conscrypt in Android 10 and 11 may throw closing an SSLSocket . This is safe to ignore . \n + / / https : / / issuetracker . google . com / issues / 177450597 \n + return \n + } \n
build . gradle \n - ' bouncycastle ' : ' 1 . 64 ' , \n + ' bouncycastle ' : ' 1 . 65 ' , \n
docs \ changelog _ 3x . md \n + # # Version 3 . 14 . 6 \n + \n + _ 2020 - 01 - 11 _ \n + \n + * Fix : Don ' t crash if the connection is closed when sending a degraded ping . This fixes a \n + regression that was introduced in OkHttp 3 . 14 . 5 . \n + \n + \n + # # Version 3 . 12 . 8 \n + \n + _ 2020 - 01 - 11 _ \n + \n + * Fix : Don ' t crash if the connection is closed when sending a degraded ping . This fixes a \n + regression that was introduced in OkHttp 3 . 12 . 7 . \n + \n + \n
CHANGELOG . md \n + # # Version 4 . 9 . 1 \n + \n + _ 2021 - 01 - 30 _ \n + \n + * Fix : Work around a crash in Android 10 and 11 that may be triggered when two threads \n + concurrently close an SSL socket . This would have appeared in crash logs as \n + ` NullPointerException : bio = = null ` . \n + \n + \n docs \ changelog _ 3x . md \n + # # Version 3 . 12 . 13 \n + \n + _ 2021 - 01 - 30 _ \n + \n + * Fix : Work around a crash in Android 10 and 11 that may be triggered when two threads \n + concurrently close an SSL socket . This would have appeared in crash logs as \n + ` NullPointerException : bio = = null ` . \n + \n
React \ Tests \ Text \ RCTParagraphComponentViewTests . mm \n + - ( void ) testAttributedString \n + { \n + ParagraphShadowNode : : ConcreteState : : Shared _ stateA = stateWithShadowNode ( ParagrahShadowNodeA _ ) ; \n + RCTParagraphComponentView * paragraphComponentViewA = [ [ RCTParagraphComponentView alloc ] init ] ; \n + [ paragraphComponentViewA updateState : _ stateA oldState : nil ] ; \n + \n + ParagraphShadowNode : : ConcreteState : : Shared _ stateB = stateWithShadowNode ( ParagrahShadowNodeB _ ) ; \n + RCTParagraphComponentView * paragraphComponentViewB = [ [ RCTParagraphComponentView alloc ] init ] ; \n + [ paragraphComponentViewB updateState : _ stateB oldState : nil ] ; \n + \n + ParagraphShadowNode : : ConcreteState : : Shared _ stateC = stateWithShadowNode ( ParagrahShadowNodeC _ ) ; \n + RCTParagraphComponentView * paragraphComponentViewC = [ [ RCTParagraphComponentView alloc ] init ] ; \n + [ paragraphComponentViewC updateState : _ stateC oldState : nil ] ; \n + \n + / / Check the correctness of attributedString \n + XCTAssert ( [ [ paragraphComponentViewA . attributedText string ] \n + isEqual : @ " Please check out facebook and instagram for a full description . " ] ) ; \n + XCTAssertEqual ( _ stateA - > getData ( ) . attributedString . getFragments ( ) . size ( ) , 5 ) ; \n + \n + XCTAssert ( [ [ paragraphComponentViewB . attributedText string ] \n + isEqual : \n + @ " Lorem ipsum dolor sit amet , consectetur adipiscing elit . Maecenas ut risus et sapien bibendum volutpat . Nulla facilisi . Cras imperdiet gravida tincidunt . In tempor , tellus et vestibulum venenatis , lorem nunc eleifend lectus , a consectetur magna augue at arcu . " ] ) ; \n + XCTAssertEqual ( _ stateB - > getData ( ) . attributedString . getFragments ( ) . size ( ) , 2 ) ; \n + \n + XCTAssert ( [ [ paragraphComponentViewC . attributedText string ] \n + isEqual : \n + @ " Lorem ipsum dolor sit amet , consectetur adipiscing elit . Maecenas ut risus et sapien bibendum volutpat . Nulla facilisi . Cras imperdiet gravida tincidunt . In tempor , tellus et vestibulum venenatis , lorem nunc eleifend lectus , a consectetur magna augue at arcu . See Less " ] ) ; \n + XCTAssertEqual ( _ stateC - > getData ( ) . attributedString . getFragments ( ) . size ( ) , 3 ) ; \n + } \n + \n + # pragma mark - Accessibility \n + \n - ( void ) testAccessibilityMultipleLinks \n
ReactCommon \ fabric \ components \ view \ accessibility \ AccessibilityPrimitives . h \n + enum { Unchecked , Checked , Mixed } checked { Unchecked } ; \n + bool busy { false } ; \n + bool expanded { false } ; \n - return lhs . disabled = = rhs . disabled & & lhs . selected = = rhs . selected ; \n + return lhs . disabled = = rhs . disabled & & lhs . selected = = rhs . selected & & \n + lhs . checked = = rhs . checked & & lhs . busy = = rhs . busy & & \n + lhs . expanded = = rhs . expanded ; \n ReactCommon \ fabric \ components \ view \ accessibility \ accessibilityPropsConversions . h \n + auto checked = map . find ( " checked " ) ; \n + if ( checked ! = map . end ( ) ) { \n + if ( checked - > second . hasType < std : : string > ( ) ) { \n + if ( ( std : : string ) checked - > second = = " mixed " ) { \n + result . checked = AccessibilityState : : Mixed ; \n + } \n + } else if ( checked - > second . hasType < bool > ( ) ) { \n + if ( ( bool ) checked - > second = = true ) { \n + result . checked = AccessibilityState : : Checked ; \n + } else { \n + result . checked = AccessibilityState : : Unchecked ; \n + } \n + } \n + } \n + auto busy = map . find ( " busy " ) ; \n + if ( busy ! = map . end ( ) ) { \n + fromRawValue ( busy - > second , result . busy ) ; \n + } \n + auto expanded = map . find ( " expanded " ) ; \n + if ( expanded ! = map . end ( ) ) { \n + fromRawValue ( expanded - > second , result . expanded ) ; \n + } \n
React \ Fabric \ Mounting \ ComponentViews \ Text \ RCTParagraphComponentAccessibilityProvider . mm \n - firstElement . accessibilityFrameInContainerSpace = _ view . bounds ; \n + firstElement . accessibilityFrame = UIAccessibilityConvertFrameToScreenCoordinates ( _ view . bounds , _ view ) ; \n - element . accessibilityFrameInContainerSpace = fragmentRect ; \n + element . accessibilityFrame = \n + UIAccessibilityConvertFrameToScreenCoordinates ( fragmentRect , self - > _ view ) ; \n
presto - raptor \ src \ main \ java \ com \ facebook \ presto \ raptor \ storage \ BucketBalancer . java \n - private final Duration initialDelay ; \n - metadataConfig . getStartupGracePeriod ( ) , \n - Duration initialDelay , \n - this . initialDelay = requireNonNull ( initialDelay , " initialDelay is null " ) ; \n - executor . scheduleWithFixedDelay ( this : : runBalanceJob , initialDelay . toMillis ( ) , interval . toMillis ( ) , MILLISECONDS ) ; \n + executor . scheduleWithFixedDelay ( this : : runBalanceJob , interval . toMillis ( ) , interval . toMillis ( ) , MILLISECONDS ) ; \n presto - raptor \ src \ test \ java \ com \ facebook \ presto \ raptor \ storage \ TestBucketBalancer . java \n - balancer = new BucketBalancer ( nodeSupplier , shardManager , true , new Duration ( 1 , DAYS ) , new Duration ( 1 , DAYS ) , 0 , true , true , " test " ) ; \n + balancer = new BucketBalancer ( nodeSupplier , shardManager , true , new Duration ( 1 , DAYS ) , 0 , true , true , " test " ) ; \n
presto - hive \ src \ test \ java \ com \ facebook \ presto \ hive \ TestHiveIntegrationSmokeTest . java \n - import static com . facebook . presto . hive . HiveQueryRunner . HIVE _ BUCKETED _ CATALOG ; \n - . setCatalogSessionProperty ( HIVE _ BUCKETED _ CATALOG , " ignore _ table _ bucketing " , " true " ) \n + . setCatalogSessionProperty ( bucketedSession . getCatalog ( ) . get ( ) , " ignore _ table _ bucketing " , " true " ) \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ optimizations \ AddExchanges . java \n + boolean hasMixedGroupingSets = node . hasEmptyGroupingSet ( ) & & node . hasNonEmptyGroupingSet ( ) ; \n - if ( ! node . getGroupingKeys ( ) . isEmpty ( ) ) { \n + / / If aggregation has a mixed of non - global and global grouping set , an repartition exchange is any way needed to eliminate duplicate default outputs \n + / / from partial aggregations ( enforced in ` ValidateAggregationWithDefaultValues . java ` ) . Therefore , we don ' t have preference on what the child will return . \n + if ( ! node . getGroupingKeys ( ) . isEmpty ( ) & & ! hasMixedGroupingSets ) { \n - else if ( ! child . getProperties ( ) . isStreamPartitionedOn ( partitioningRequirement ) & & ! child . getProperties ( ) . isNodePartitionedOn ( partitioningRequirement ) ) { \n + else if ( hasMixedGroupingSets \n + | | ! child . getProperties ( ) . isStreamPartitionedOn ( partitioningRequirement ) & & ! child . getProperties ( ) . isNodePartitionedOn ( partitioningRequirement ) ) { \n
server \ src \ main \ java \ org \ elasticsearch \ search \ query \ QueryPhase . java \n + import org . elasticsearch . search . sort . FieldSortBuilder ; \n - if ( SortField . FIELD _ DOC . equals ( sField ) = = false ) return null ; \n - } else { \n + if ( SortField . FIELD _ DOC . equals ( sField ) = = false ) { \n + return null ; \n + } \n + } else if ( FieldSortBuilder . SHARD _ DOC _ FIELD _ NAME . equals ( sFieldName ) = = false ) { \n - if ( searchExecutionContext . getFieldType ( sFieldName ) = = null ) return null ; / / could be _ script sort that uses _ score \n + if ( searchExecutionContext . getFieldType ( sFieldName ) = = null ) { \n + return null ; / / could be _ script sort that uses _ score \n + } \n
server \ src \ main \ java \ org \ elasticsearch \ common \ lucene \ search \ XMoreLikeThis . java \n - / * \n - * Copyright Elasticsearch B . V . and / or licensed to Elasticsearch B . V . under one \n - * or more contributor license agreements . Licensed under the Elastic License \n - * 2 . 0 and the Server Side Public License , v 1 ; you may not use this file except \n - * in compliance with , at your election , the Elastic License 2 . 0 or the Server \n - * Side Public License , v 1 . \n - * / \n - \n - / * \n - * Copyright 2004 - 2005 The Apache Software Foundation . \n - * \n - * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n - * you may not use this file except in compliance with the License . \n - * You may obtain a copy of the License at \n + / * @ notice \n + * Licensed to the Apache Software Foundation ( ASF ) under one or more \n + * contributor license agreements . See the NOTICE file distributed with \n + * this work for additional information regarding copyright ownership . \n + * The ASF licenses this file to You under the Apache License , Version 2 . 0 \n + * ( the " License " ) ; you may not use this file except in compliance with \n + * the License . You may obtain a copy of the License at \n + * \n + * Modifications copyright ( C ) 2020 Elasticsearch B . V . \n + \n
server \ src \ main \ java \ org \ elasticsearch \ search \ sort \ ShardDocSortField . java \n - final DocComparator delegate = new DocComparator ( numHits , false , sortPos ) ; \n + final DocComparator delegate = new DocComparator ( numHits , getReverse ( ) , sortPos ) ; \n
compiler \ fir \ checkers \ src \ org \ jetbrains \ kotlin \ fir \ analysis \ checkers \ FirDeclarationInspector . kt \n + fun StringBuilder . appendOperatorTag ( it : FirSimpleFunction ) { \n + if ( it . isOperator ) { \n + append ( " operator " ) \n + } \n + } \n + \n - if ( it . isOperator ) { \n - append ( " operator " ) \n - } \n + appendOperatorTag ( it ) \n compiler \ fir \ checkers \ src \ org \ jetbrains \ kotlin \ fir \ analysis \ checkers \ declaration \ FirMethodOfAnyImplementedInInterfaceChecker . kt \n + import org . jetbrains . kotlin . fir . symbols . CallableId \n - @ Suppress ( " DuplicatedCode " ) \n - override fun represent ( it : FirSimpleFunction ) = buildString { \n - append ( ' < ' ) \n - it . typeParameters . forEach { \n - appendRepresentation ( it ) \n - append ( ' , ' ) \n - } \n - append ( ' > ' ) \n - append ( ' [ ' ) \n - it . receiverTypeRef ? . let { \n - appendRepresentation ( it ) \n - } \n - append ( ' ] ' ) \n - append ( it . name . asString ( ) ) \n - append ( ' ( ' ) \n - it . valueParameters . forEach { \n - appendRepresentation ( it ) \n - append ( ' , ' ) \n - } \n - append ( ' ) ' ) \n + / / We need representations that look like JVM signatures . Thus , just function names , not fully qualified ones . \n + override fun StringBuilder . appendRepresentation ( it : CallableId ) { \n + append ( it . callableName ) \n + } \n + \n + / / We need representations that look like JVM signatures . Hence , no need to represent operator . \n + override fun StringBuilder . appendOperatorTag ( it : FirSimpleFunction ) { \n + / / Intentionally empty \n + if ( it ! is FirSimpleFunction | | ! it . isOverride | | ! it . hasBody ) continue \n + \n - if ( it is FirSimpleFunction & & inspector . contains ( it ) & & it . body ! = null & & it . isOverride ) { \n + if ( inspector . contains ( it ) ) { \n
compiler \ fir \ fir2ir \ src \ org \ jetbrains \ kotlin \ fir \ backend \ generators \ FakeOverrideGenerator . kt \n + val isLocal = klass ! is FirRegularClass | | klass . isLocal \n - val isLocal = klass ! is FirRegularClass | | klass . isLocal \n
compiler \ fir \ resolve \ src \ org \ jetbrains \ kotlin \ fir \ scopes \ impl \ FirStandardOverrideChecker . kt \n + import org . jetbrains . kotlin . descriptors . Visibilities \n + if ( Visibilities . isPrivate ( baseDeclaration . visibility ) ) return false \n + \n + if ( Visibilities . isPrivate ( baseDeclaration . visibility ) ) return false \n + \n compiler \ testData \ asJava \ lightClasses \ ideRegression \ OverridingProtected . kt \n - / / LAZINESS : NoLaziness \n + / / LAZINESS : NoLaziness \n + / / FIR _ COMPARISON \n compiler \ testData \ codegen \ box \ properties \ privatePropertyInConstructor . kt \n - class A ( \n - private val x : String , \n - private var y : Double \n + open class A ( \n + private val x : String , \n + private var y : Double \n + if ( y < 0 . 0 ) throw AssertionError ( " $ y < 0 . 0 " ) \n + class B ( \n + val x : String , \n + y : Double \n + ) : A ( " abc " , y ) \n + \n - return " OK " \n + val b = B ( " OK " , 0 . 42 ) \n + b . foo ( ) \n + return b . x \n compiler \ testData \ diagnostics \ tests \ override \ AllPrivateFromSuperTypes . fir . kt \n - val c = < ! HIDDEN ! > a < ! > \n + val c = < ! NONE _ APPLICABLE ! > a < ! > \n
dropwizard - dependencies \ pom . xml \n - < jersey . version > 2 . 32 < / jersey . version > \n + < jersey . version > 2 . 33 < / jersey . version > \n
dropwizard - dependencies \ pom . xml \n - < tomcat - jdbc . version > 9 . 0 . 41 < / tomcat - jdbc . version > \n + < tomcat - jdbc . version > 9 . 0 . 43 < / tomcat - jdbc . version > \n
new file \n CODEOWNERS \n + * @ dropwizard / committers \n
build . gradle \n - String bwc _ tests _ disabled _ issue = " https : / / github . com / elastic / elasticsearch / pull / 68490 " / * place a PR link here when committing bwc changes * / \n + String bwc _ tests _ disabled _ issue = " https : / / github . com / elastic / elasticsearch / pull / 68489 " / * place a PR link here when committing bwc changes * / \n - bwc _ tests _ enabled = true \n - bwc _ tests _ disabled _ issue = " " \n + bwc _ tests _ enabled = false \n + bwc _ tests _ disabled _ issue = " https : / / github . com / elastic / elasticsearch / issues / 66772 " \n
build . gradle \n - boolean bwc _ tests _ enabled = false \n - String bwc _ tests _ disabled _ issue = " https : / / github . com / elastic / elasticsearch / pull / 68489 " / * place a PR link here when committing bwc changes * / \n + boolean bwc _ tests _ enabled = true \n + String bwc _ tests _ disabled _ issue = " " / * place a PR link here when committing bwc changes * / \n rest - api - spec \ src \ main \ resources \ rest - api - spec \ test \ indices . rollover \ 35 _ max _ single _ primary _ size _ condition . yml \n - - - \n - skip : \n - version : " - 7 . 99 . 99 " \n - reason : max _ single _ primary _ size condition was introduced in 8 . 0 . 0 \n + version : " - 7 . 11 . 99 " \n + reason : max _ single _ primary _ size condition was introduced in 7 . 12 . 0 \n - do : \n server \ src \ main \ java \ org \ elasticsearch \ action \ admin \ indices \ rollover \ MaxSinglePrimarySizeCondition . java \n - return version . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ; \n + return version . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ; \n
server \ src \ main \ java \ org \ elasticsearch \ action \ admin \ indices \ shrink \ ResizeRequest . java \n + if ( maxSinglePrimarySize ! = null ) { \n + builder . field ( MAX _ SINGLE _ PRIMARY _ SIZE . getPreferredName ( ) , maxSinglePrimarySize ) ; \n + } \n server \ src \ test \ java \ org \ elasticsearch \ action \ admin \ indices \ shrink \ ResizeRequestTests . java \n + import org . elasticsearch . common . unit . ByteSizeUnit ; \n + import org . elasticsearch . common . unit . ByteSizeValue ; \n + { \n + ResizeRequest request = new ResizeRequest ( " target " , " source " ) ; \n + request . setMaxSinglePrimarySize ( new ByteSizeValue ( 100 , ByteSizeUnit . MB ) ) ; \n + String actualRequestBody = Strings . toString ( request ) ; \n + assertEquals ( " { \ " settings \ " : { } , \ " aliases \ " : { } , \ " max _ single _ primary _ size \ " : \ " 100mb \ " } " , actualRequestBody ) ; \n + } \n
retrofit \ src \ main \ java \ retrofit2 \ Response . java \n + checkNotNull ( body , " body = = null " ) ; \n + . body ( new OkHttpCall . NoContentResponseBody ( body . contentType ( ) , body . contentLength ( ) ) ) \n retrofit \ src \ test \ java \ retrofit2 \ ResponseTest . java \n + import okhttp3 . MediaType ; \n - ResponseBody errorBody = ResponseBody . create ( null , " Broken ! " ) ; \n + MediaType plainText = MediaType . get ( " text / plain ; charset = utf - 8 " ) ; \n + ResponseBody errorBody = ResponseBody . create ( plainText , " Broken ! " ) ; \n + assertThat ( response . raw ( ) . body ( ) . contentType ( ) ) . isEqualTo ( plainText ) ; \n + assertThat ( response . raw ( ) . body ( ) . contentLength ( ) ) . isEqualTo ( 7 ) ; \n + try { \n + response . raw ( ) . body ( ) . source ( ) ; \n + fail ( ) ; \n + } catch ( IllegalStateException expected ) { \n + } \n
retrofit \ src \ main \ java \ retrofit2 \ Response . java \n + checkNotNull ( body , " body = = null " ) ; \n + . body ( new OkHttpCall . NoContentResponseBody ( body . contentType ( ) , body . contentLength ( ) ) ) \n retrofit \ src \ test \ java \ retrofit2 \ ResponseTest . java \n + import okhttp3 . MediaType ; \n - ResponseBody errorBody = ResponseBody . create ( null , " Broken ! " ) ; \n + MediaType plainText = MediaType . get ( " text / plain ; charset = utf - 8 " ) ; \n + ResponseBody errorBody = ResponseBody . create ( plainText , " Broken ! " ) ; \n + assertThat ( response . raw ( ) . body ( ) . contentType ( ) ) . isEqualTo ( plainText ) ; \n + assertThat ( response . raw ( ) . body ( ) . contentLength ( ) ) . isEqualTo ( 7 ) ; \n + try { \n + response . raw ( ) . body ( ) . source ( ) ; \n + fail ( ) ; \n + } catch ( IllegalStateException expected ) { \n + } \n
README . md \n - [ okhttp proguard ] : https : / / square . github . io / okhttp / # r8 - proguard \n + [ okhttp proguard ] : https : / / square . github . io / okhttp / r8 _ proguard / \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ analysis \ ConfigurableAttributesTest . java \n + import static com . google . devtools . build . lib . packages . BuildType . LABEL _ LIST ; \n + \n + private static final MockRule RULE _ WITH _ NO _ PLATFORM = \n + ( ) - > \n + MockRule . define ( \n + " rule _ with _ no _ platform " , \n + ( builder , env ) - > \n + builder \n + . add ( attr ( " deps " , LABEL _ LIST ) . allowedFileTypes ( ) ) \n + . useToolchainResolution ( false ) ) ; \n + \n - . addRuleDefinition ( RULE _ WITH _ LABEL _ DEFAULT ) ; \n + . addRuleDefinition ( RULE _ WITH _ LABEL _ DEFAULT ) \n + . addRuleDefinition ( RULE _ WITH _ NO _ PLATFORM ) ; \n - assertThat ( attributes . get ( " srcs " , BuildType . LABEL _ LIST ) ) . isEmpty ( ) ; \n + assertThat ( attributes . get ( " srcs " , LABEL _ LIST ) ) . isEmpty ( ) ; \n - " filegroup ( name = ' hello ' , " , \n - " srcs = select ( { " , \n + " rule _ with _ no _ platform ( name = ' hello ' , " , \n + " deps = select ( { " , \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ bazel \ rules \ common \ BazelFilegroupRule . java \n - . useToolchainResolution ( false ) \n
distdir _ deps . bzl \n - " archive " : " platforms - 0 . 0 . 2 . tar . gz " , \n - " sha256 " : " 48a2d8d343863989c232843e01afc8a986eb8738766bfd8611420a7db8f6f0c3 " , \n + " archive " : " platforms - 0 . 0 . 3 . tar . gz " , \n + " sha256 " : " 460caee0fa583b908c622913334ec3c1b842572b9c23cf0d3da0c2543a1a157d " , \n - " https : / / mirror . bazel . build / github . com / bazelbuild / platforms / releases / download / 0 . 0 . 2 / platforms - 0 . 0 . 2 . tar . gz " , \n - " https : / / github . com / bazelbuild / platforms / releases / download / 0 . 0 . 2 / platforms - 0 . 0 . 2 . tar . gz " , \n + " https : / / mirror . bazel . build / github . com / bazelbuild / platforms / releases / download / 0 . 0 . 3 / platforms - 0 . 0 . 3 . tar . gz " , \n + " https : / / github . com / bazelbuild / platforms / releases / download / 0 . 0 . 3 / platforms - 0 . 0 . 3 . tar . gz " , \n
. travis . yml \n - sdkmanager " system - images ; android - 16 ; default ; armeabi - v7a " \n - echo no | avdmanager create avd - - force - n test - k " system - images ; android - 16 ; default ; armeabi - v7a " \n - # Pin the emulator to 29 . 2 . 1 . 0 to work around https : / / issuetracker . google . com / issues / 145622251 . \n - - curl - fo emulator . zip " https : / / dl . google . com / android / repository / emulator - linux - 5889189 . zip " \n - - rm - rf " $ { ANDROID _ HOME } / emulator " \n - - unzip - q emulator . zip - d " $ { ANDROID _ HOME } " \n - - rm - f emulator . zip \n - - $ ANDROID _ HOME / emulator / emulator - avd test - no - audio - no - window & \n + - $ ANDROID _ HOME / emulator / emulator - avd test - no - audio - no - window - gpu swiftshader _ indirect & \n
build . gradle \n - androidPlugin : ' com . android . tools . build : gradle : 3 . 5 . 2 ' , \n + androidPlugin : ' com . android . tools . build : gradle : 3 . 5 . 3 ' , \n
gradle \ gradle - mvn - push . gradle \n - from android . sourceSets . main . java . sourceFiles \n + from android . sourceSets . main . java . source \n
build . gradle \n - ' supportLibrary ' : ' 28 . 0 . 0 - alpha3 ' \n + ' supportLibrary ' : ' 28 . 0 . 0 - rc01 ' \n - androidPlugin : ' com . android . tools . build : gradle : 3 . 2 . 0 - beta05 ' , \n + androidPlugin : ' com . android . tools . build : gradle : 3 . 2 . 0 - rc02 ' , \n
build . gradle \n - truth : ' com . google . truth : truth : 0 . 36 ' , \n + truth : ' com . google . truth : truth : 0 . 39 ' , \n + classpath ' com . github . ben - manes : gradle - versions - plugin : 0 . 17 . 0 ' \n + apply plugin : ' com . github . ben - manes . versions ' \n + \n
shark - android \ src \ main \ java \ shark \ AndroidReferenceMatchers . kt \n - sdkInt in 24 . . 28 \n + sdkInt in 24 . . 29 \n
spring - tx \ src \ main \ java \ org \ springframework \ transaction \ support \ TransactionSynchronizationUtils . java \n + * @ since 5 . 3 . 4 \n
spring - core \ src \ main \ java \ org \ springframework \ core \ env \ StandardEnvironment . java \n + / * * \n + * Create a new { @ code StandardEnvironment } instance . \n + * / \n + / * * \n + * Create a new { @ code StandardEnvironment } instance with a specific { @ link MutablePropertySources } instance . \n + * @ param propertySources property sources to use \n + * @ since 5 . 3 . 4 \n + * / \n spring - core \ src \ test \ java \ org \ springframework \ core \ env \ CustomEnvironmentTests . java \n - public void withNoProfileProperties ( ) { \n + void withNoProfileProperties ( ) { \n - public void withCustomMutablePropertySources ( ) { \n + void withCustomMutablePropertySources ( ) { \n spring - web \ src \ main \ java \ org \ springframework \ web \ context \ support \ StandardServletEnvironment . java \n + / * * \n + * Create a new { @ code StandardServletEnvironment } instance . \n + * / \n + / * * \n + * Create a new { @ code StandardServletEnvironment } instance with a specific { @ link MutablePropertySources } instance . \n + * @ param propertySources property sources to use \n + * @ since 5 . 3 . 4 \n + * / \n
spring - test \ src \ main \ java \ org \ springframework \ mock \ web \ MockHttpServletMapping . java \n - * < p > Currently not exposed in { @ link MockHttpServletMapping } as a setter to \n + * < p > Currently not exposed in { @ link MockHttpServletRequest } as a setter to \n
android \ guava - testlib \ src \ com \ google \ common \ collect \ testing \ IteratorTester . java \n - * < p > For example , to test { @ link java . util . ArrayList # iterator ( ) ArrayList . iterator ( ) } : \n + * < p > For example , to test { @ link java . util . Collections # unmodifiableList ( java . util . List ) \n + * Collections . unmodifiableList } ' s iterator : \n - * new ArrayList < > ( Arrays . asList ( " a " , " b " , " c " , " d " , " e " ) ) ; \n + * Collections . unmodifiableList ( \n + * Arrays . asList ( " a " , " b " , " c " , " d " , " e " ) ) ; \n - * IteratorFeature . MODIFIABLE , \n + * IteratorFeature . UNMODIFIABLE , \n - * KnownOrder . KNOWN _ ORDER ) { \n + * IteratorTester . KnownOrder . KNOWN _ ORDER ) { \n + * < p > < b > Note < / b > : It is necessary to use { @ code IteratorTester . KnownOrder } as shown above , rather \n + * than { @ code KnownOrder } directly , because otherwise the code is not compilable . \n + * \n guava - testlib \ src \ com \ google \ common \ collect \ testing \ IteratorTester . java \n - * < p > For example , to test { @ link java . util . ArrayList # iterator ( ) ArrayList . iterator ( ) } : \n + * < p > For example , to test { @ link java . util . Collections # unmodifiableList ( java . util . List ) \n + * Collections . unmodifiableList } ' s iterator : \n - * new ArrayList < > ( Arrays . asList ( " a " , " b " , " c " , " d " , " e " ) ) ; \n + * Collections . unmodifiableList ( \n + * Arrays . asList ( " a " , " b " , " c " , " d " , " e " ) ) ; \n - * IteratorFeature . MODIFIABLE , \n + * IteratorFeature . UNMODIFIABLE , \n - * KnownOrder . KNOWN _ ORDER ) { \n + * IteratorTester . KnownOrder . KNOWN _ ORDER ) { \n + * < p > < b > Note < / b > : It is necessary to use { @ code IteratorTester . KnownOrder } as shown above , rather \n + * than { @ code KnownOrder } directly , because otherwise the code is not compilable . \n + * \n
android \ guava - testlib \ src \ com \ google \ common \ collect \ testing \ IteratorTester . java \n + * < p > The value you pass to the parameter { @ code steps } should be greater than the length of your \n + * iterator , so that this class can check that your iterator behaves correctly when it is exhausted . \n + * \n - * 5 , \n + * 6 , \n - * than { @ code KnownOrder } directly , because otherwise the code is not compilable . \n + * than { @ code KnownOrder } directly , because otherwise the code cannot be compiled . \n guava - testlib \ src \ com \ google \ common \ collect \ testing \ IteratorTester . java \n + * < p > The value you pass to the parameter { @ code steps } should be greater than the length of your \n + * iterator , so that this class can check that your iterator behaves correctly when it is exhausted . \n + * \n - * 5 , \n + * 6 , \n - * than { @ code KnownOrder } directly , because otherwise the code is not compilable . \n + * than { @ code KnownOrder } directly , because otherwise the code cannot be compiled . \n
android \ guava - testlib \ src \ com \ google \ common \ collect \ testing \ IteratorTester . java \n + * < p > For example , to test { @ link java . util . ArrayList # iterator ( ) ArrayList . iterator ( ) } : \n + * \n + * < pre > { @ code \n + * List < String > expectedElements = \n + * Arrays . asList ( " a " , " b " , " c " , " d " , " e " ) ; \n + * List < String > actualElements = \n + * new ArrayList < > ( Arrays . asList ( " a " , " b " , " c " , " d " , " e " ) ) ; \n + * IteratorTester < String > iteratorTester = \n + * new IteratorTester < String > ( \n + * 5 , \n + * IteratorFeature . MODIFIABLE , \n + * expectedElements , \n + * KnownOrder . KNOWN _ ORDER ) { \n + * @ Override \n + * protected Iterator < String > newTargetIterator ( ) { \n + * return actualElements . iterator ( ) ; \n + * } \n + * } ; \n + * iteratorTester . test ( ) ; \n + * iteratorTester . testForEachRemaining ( ) ; \n + * } < / pre > \n + * \n guava - testlib \ src \ com \ google \ common \ collect \ testing \ IteratorTester . java \n + * < p > For example , to test { @ link java . util . ArrayList # iterator ( ) ArrayList . iterator ( ) } : \n + * \n + * < pre > { @ code \n + * List < String > expectedElements = \n + * Arrays . asList ( " a " , " b " , " c " , " d " , " e " ) ; \n + * List < String > actualElements = \n + * new ArrayList < > ( Arrays . asList ( " a " , " b " , " c " , " d " , " e " ) ) ; \n + * IteratorTester < String > iteratorTester = \n + * new IteratorTester < String > ( \n + * 5 , \n + * IteratorFeature . MODIFIABLE , \n + * expectedElements , \n + * KnownOrder . KNOWN _ ORDER ) { \n + * @ Override \n + * protected Iterator < String > newTargetIterator ( ) { \n + * return actualElements . iterator ( ) ; \n + * } \n + * } ; \n + * iteratorTester . test ( ) ; \n + * iteratorTester . testForEachRemaining ( ) ; \n + * } < / pre > \n + * \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ map \ MapFragment . kt \n - if ( bottomSheetBehavior . state = = BottomSheetBehavior . STATE _ EXPANDED ) { \n + if ( : : bottomSheetBehavior . isInitialized & & \n + bottomSheetBehavior . state = = BottomSheetBehavior . STATE _ EXPANDED \n + ) { \n mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ schedule \ ScheduleFragment . kt \n - if ( bottomSheetBehavior . state = = STATE _ EXPANDED ) { \n + if ( : : bottomSheetBehavior . isInitialized & & bottomSheetBehavior . state = = STATE _ EXPANDED ) { \n
mobile \ build . gradle \n - " ABC " / / TODO : Debug key \n + " AIzaSyAhJx57ikQH9rYc8IT8W3d2As5cGHMBvuo " \n
mobile \ src \ main \ res \ values \ styles . xml \n - < item name = " android : paddingHorizontal " tools : targetApi = " o " > @ dimen / tag _ hz _ padding < / item > \n - < item name = " android : paddingVertical " tools : targetApi = " o " > @ dimen / tag _ vert _ padding < / item > \n + < item name = " android : paddingLeft " > @ dimen / tag _ hz _ padding < / item > \n + < item name = " android : paddingRight " > @ dimen / tag _ hz _ padding < / item > \n + < item name = " android : paddingTop " > @ dimen / tag _ vert _ padding < / item > \n + < item name = " android : paddingBottom " > @ dimen / tag _ vert _ padding < / item > \n - < item name = " android : paddingVertical " tools : ignore = " NewApi " > 12dp < / item > \n + < item name = " android : paddingTop " > 12dp < / item > \n + < item name = " android : paddingBottom " > 12dp < / item > \n - < item name = " android : paddingHorizontal " tools : ignore = " NewApi " > 24dp < / item > \n - < item name = " android : paddingVertical " tools : ignore = " NewApi " > @ dimen / padding _ borderless _ button < / item > \n + < item name = " android : paddingLeft " > 24dp < / item > \n + < item name = " android : paddingRight " > 24dp < / item > \n + < item name = " android : paddingTop " > @ dimen / padding _ borderless _ button < / item > \n + < item name = " android : paddingBottom " > @ dimen / padding _ borderless _ button < / item > \n - < / resources > \n + < / resources > \n
build . gradle . kts \n - ktlint ( ktlintVer ) . userData ( mapOf ( " max _ line _ length " to " 100 " ) ) \n + ktlint ( ktlintVer ) . userData ( \n + mapOf ( " max _ line _ length " to " 100 " , " disabled _ rules " to " import - ordering " ) \n + ) \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ MainActivity . kt \n - import com . google . android . play . core . ktx . AppUpdateResult \n - viewModel . appUpdateAvailability . observe ( this , Observer { \n - when ( it ) { \n - is AppUpdateResult . Available - > TODO ( ) \n - is AppUpdateResult . InProgress - > Unit / / do nothing \n - is AppUpdateResult . Downloaded - > TODO ( ) \n - AppUpdateResult . NotAvailable - > \n - Timber . d ( " No App Update available at this time . " ) \n - } \n - } ) \n + / / TODO ( b / 150719453 ) \n + / / viewModel . appUpdateAvailability . observe ( this , Observer { \n + / / when ( it ) { \n + / / is AppUpdateResult . Available - > TODO ( ) \n + / / is AppUpdateResult . InProgress - > Unit / / do nothing \n + / / is AppUpdateResult . Downloaded - > TODO ( ) \n + / / AppUpdateResult . NotAvailable - > \n + / / Timber . d ( " No App Update available at this time . " ) \n + / / } \n + / / } ) \n
mobile \ src \ test \ java \ com \ google \ samples \ apps \ iosched \ ui \ schedule \ ScheduleViewModelTest . kt \n - Flow < Result < LoadFilteredUserSessionsResult > > { \n + Flow < Result < LoadFilteredUserSessionsResult > > = flow { \n shared \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ shared \ domain \ FlowUseCase . kt \n - import kotlinx . coroutines . flow . emitAll \n - import kotlinx . coroutines . flow . flow \n - operator fun invoke ( parameters : P ) : Flow < Result < R > > = flow { \n - emitAll ( execute ( parameters ) ) \n - } \n + operator fun invoke ( parameters : P ) : Flow < Result < R > > = execute ( parameters ) \n shared \ src \ test \ java \ com \ google \ samples \ apps \ iosched \ shared \ domain \ FlowUseCaseTest . kt \n + import kotlinx . coroutines . flow . flow \n - override fun execute ( parameters : Unit ) : Flow < Result < Unit > > { \n + override fun execute ( parameters : Unit ) : Flow < Result < Unit > > = flow { \n
new file \n . github \ workflows \ gradle - wrapper - validation . yml \n + name : " Validate Gradle Wrapper " \n + on : [ push , pull _ request ] \n + \n + jobs : \n + validation : \n + name : " Validation " \n + runs - on : ubuntu - latest \n + steps : \n + - uses : actions / checkout @ v2 \n + - uses : gradle / wrapper - validation - action @ v1 \n
new file \n . github \ workflows \ gradle - wrapper - validation . yml \n + name : " Validate Gradle Wrapper " \n + on : [ push , pull _ request ] \n + \n + jobs : \n + validation : \n + name : " Validation " \n + runs - on : ubuntu - latest \n + steps : \n + - uses : actions / checkout @ v2 \n + - uses : gradle / wrapper - validation - action @ v1 \n
naked - objects \ pom . xml \n - < url > http : / / repository - estatio . forge . cloudbees . com / snapshot / < / url > \n + < url > https : / / repository - estatio . forge . cloudbees . com / snapshot / < / url > \n
README . md \n + * * Use different package name for non - release builds * * \n + Use ` applicationIdSuffix ` for * debug * [ build type ] ( http : / / tools . android . com / tech - docs / new - build - system / user - guide # TOC - Build - Types ) to be able to install both * debug * and * release * apk on the same device ( do this also for custom build types , if you need any ) . This will be especially valuable later on in the app ' s lifecycle , after it has been published to the store . \n + \n + ` ` ` groovy \n + android { \n + buildTypes { \n + debug { \n + applicationIdSuffix ' . debug ' \n + versionNameSuffix ' - DEBUG ' \n + } \n + \n + release { \n + / / . . . \n + } \n + } \n + } \n + ` ` ` \n + \n + Use different icons to distinguish the builds installed on a device—for example with different colors or an overlaid " debug " label . Gradle makes this very easy : with default project structure , simply put * debug * icon in ` app / src / debug / res ` and * release * icon in ` app / src / release / res ` . You could also [ change app name ] ( http : / / stackoverflow . com / questions / 24785270 / how - to - change - app - name - per - gradle - build - type ) per build type , as well as ` versionName ` ( as in the above example ) . \n + \n
templates \ rx - architecture \ app \ build . gradle \n + applicationIdSuffix ' . debug ' \n + versionNameSuffix ' - DEBUG ' \n
README . md \n - # # # # [ Use styles to avoid duplicate attributes in layout XMLs ] ( # resources ) \n - # # # # [ Use multiple style files to avoid a single huge one ] ( # resources ) \n - # # # # [ Keep your colors . xml short and DRY , just define the palette ] ( # styles ) \n + # # # # [ Use styles to avoid duplicate attributes in layout XMLs ] ( # styles ) \n + # # # # [ Use multiple style files to avoid a single huge one ] ( # splitstyles ) \n + # # # # [ Keep your colors . xml short and DRY , just define the palette ] ( # colorsxml ) \n + < a name = " splitstyles " > < / a > \n
android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ UrlDeviceDiscoveryService . java \n - mUrlDeviceDiscoverers . add ( new WifiUrlDeviceDiscoverer ( this ) ) ; \n
android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ BluetoothSite . java \n - import android . util . Log ; \n - mBluetoothGatt = BluetoothAdapter . getDefaultAdapter ( ) . getRemoteDevice ( deviceAddress ) \n - . connectGatt ( activity , false , this ) ; \n + activity . runOnUiThread ( new Runnable ( ) { \n + @ Override \n + public void run ( ) { \n + mBluetoothGatt = BluetoothAdapter . getDefaultAdapter ( ) . getRemoteDevice ( deviceAddress ) \n + . connectGatt ( activity , false , BluetoothSite . this ) ; \n + } \n + } ) ; \n - if ( newState = = BluetoothProfile . STATE _ CONNECTED ) { \n + if ( newState = = BluetoothProfile . STATE _ CONNECTED & & status = = gatt . GATT _ SUCCESS ) { \n + } else if ( status ! = gatt . GATT _ SUCCESS ) { \n + Log . i ( TAG , " Status is " + status ) ; \n + close ( ) ; \n
android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ BleUrlDeviceDiscoverer . java \n - UrlDevice urlDevice = createUrlDeviceBuilder ( TAG + device . getAddress ( ) , beacon . getUrl ( ) ) \n + UrlDevice urlDevice = createUrlDeviceBuilder ( TAG + device . getAddress ( ) + beacon . getUrl ( ) , \n + beacon . getUrl ( ) ) \n
shared \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ shared \ data \ FirestoreExtensions . kt \n - / / This is a prefix for Firestore document for 2019 \n - collection ( " google _ io _ events " ) . document ( " 2019 " ) \n + / / This is a prefix for Firestore document for this year \n + collection ( " google _ io _ events " ) . document ( " 2020 " ) \n
depconstraints \ build . gradle . kts \n - val glide = " 4 . 6 . 1 " \n + val glide = " 4 . 9 . 0 " \n - val room = " 2 . 1 . 0 " \n + val room = " 2 . 2 . 5 " \n mobile \ build . gradle . kts \n + \n + javaCompileOptions { \n + annotationProcessorOptions { \n + arguments [ " room . incremental " ] = " true " \n + } \n + } \n shared \ build . gradle . kts \n + \n + javaCompileOptions { \n + annotationProcessorOptions { \n + arguments [ " room . incremental " ] = " true " \n + } \n + } \n
mobile \ src \ androidTest \ java \ com \ google \ samples \ apps \ iosched \ tests \ MainTestApplication . kt \n + import timber . log . Timber \n + Timber . plant ( Timber . DebugTree ( ) ) \n mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ agenda \ AgendaViewModel . kt \n + import androidx . lifecycle . liveData \n - import com . google . samples . apps . iosched . shared . util . map \n - val timeZoneId = preferConferenceTimeZoneResult . map { inConferenceTimeZone - > \n - if ( inConferenceTimeZone ) { \n - TimeUtils . CONFERENCE _ TIMEZONE \n + val timeZoneId = liveData { \n + if ( getTimeZoneUseCase ( Unit ) . data = = true ) { \n + emit ( TimeUtils . CONFERENCE _ TIMEZONE ) \n - ZoneId . systemDefault ( ) \n + emit ( ZoneId . systemDefault ( ) ) \n - refreshConferenceTimeZone ( ) \n - \n - private suspend fun refreshConferenceTimeZone ( ) { \n - preferConferenceTimeZoneResult . value = getTimeZoneUseCase ( Unit ) . data ? : true \n - } \n shared \ src \ staging \ java \ com \ google \ samples \ apps \ iosched \ shared \ data \ FakeAppConfigDataSource . kt \n - mutableLiveData . postValue ( \n + mutableLiveData . setValue ( \n
src \ main \ java \ io \ vertx \ core \ json \ JsonObject . java \n - if ( depth < 1 ) { \n + if ( depth < 1 ) { \n - if ( depth = = 1 ) { \n + if ( depth = = 1 ) { \n - for ( Map . Entry < String , Object > e : other . map . entrySet ( ) ) { \n + for ( Map . Entry < String , Object > e : other . map . entrySet ( ) ) { \n - if ( oldVal instanceof Map ) { \n + if ( oldVal instanceof Map ) { \n - if ( newVal instanceof Map ) { \n + if ( newVal instanceof Map ) { \n - if ( oldVal instanceof JsonObject & & newVal instanceof JsonObject ) { \n + if ( oldVal instanceof JsonObject & & newVal instanceof JsonObject ) { \n
src \ test \ benchmarks \ io \ vertx \ core \ impl \ VertxExecutorService . java \n - new VertxThreadFactory ( prefix , new BlockedThreadChecker ( 10000 , TimeUnit . NANOSECONDS , 10000 , TimeUnit . NANOSECONDS ) , false , 10000 , TimeUnit . NANOSECONDS ) ) ; \n + new VertxThreadFactory ( prefix , new BlockedThreadChecker ( 10000 , TimeUnit . MILLISECONDS , 10000 , TimeUnit . MILLISECONDS ) , false , 10000 , TimeUnit . NANOSECONDS ) ) ; \n
src \ test \ java \ io \ vertx \ core \ eventbus \ ClusteredEventBusTestBase . java \n - vertices [ 0 ] . eventBus ( ) . publish ( ADDRESS1 , val ) ; \n
feature - toggle \ pom . xml \n + < ! - - \n + ~ The MIT License ( MIT ) \n + ~ \n + ~ Copyright ( c ) 2016 Orange Foundry \n + ~ \n + ~ Permission is hereby granted , free of charge , to any person obtaining a copy \n + ~ of this software and associated documentation files ( the " Software " ) , to deal \n + ~ in the Software without restriction , including without limitation the rights \n + ~ to use , copy , modify , merge , publish , distribute , sublicense , and / or sell \n + ~ copies of the Software , and to permit persons to whom the Software is \n + ~ furnished to do so , subject to the following conditions : \n + ~ \n + ~ The above copyright notice and this permission notice shall be included in \n + ~ all copies or substantial portions of the Software . \n + ~ \n + ~ THE SOFTWARE IS PROVIDED " AS IS " , WITHOUT WARRANTY OF ANY KIND , EXPRESS OR \n + ~ IMPLIED , INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY , \n + ~ FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT . IN NO EVENT SHALL THE \n + ~ AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM , DAMAGES OR OTHER \n + ~ LIABILITY , WHETHER IN AN ACTION OF CONTRACT , TORT OR OTHERWISE , ARISING FROM , \n + ~ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN \n + ~ THE SOFTWARE . \n + - - > \n + \n pom . xml \n + < module > feature - toggle < / module > \n
rename from feature - toggle \ src \ main \ test \ com \ iluwatar \ featuretoggle \ pattern \ tieredversion \ TieredFeatureToggleVersionTest . java \n rename to feature - toggle \ src \ test \ java \ com \ iluwatar \ featuretoggle \ pattern \ tieredversion \ TieredFeatureToggleVersionTest . java \n rename from feature - toggle \ src \ main \ test \ com \ iluwatar \ featuretoggle \ user \ UserGroupTest . java \n rename to feature - toggle \ src \ test \ java \ com \ iluwatar \ featuretoggle \ user \ UserGroupTest . java \n
feature - toggle \ src \ main \ java \ com \ iluwatar \ featuretoggle \ pattern \ Service . java \n + boolean isEnhanced ( ) ; \n + \n feature - toggle \ src \ main \ java \ com \ iluwatar \ featuretoggle \ pattern \ propertiesversion \ PropertiesFeatureToggleVersion . java \n - private Properties properties ; \n + private boolean isEnhanced ; \n + / * * \n + * \n + * @ param properties { @ link Properties } used to configure the service and toggle features . \n + * / \n - this . properties = properties ; \n + if ( properties = = null ) { \n + throw new IllegalArgumentException ( " No Properties Provided . " ) ; \n + } else { \n + try { \n + isEnhanced = ( boolean ) properties . get ( " enhancedWelcome " ) ; \n + } catch ( Exception e ) { \n + throw new IllegalArgumentException ( " Invalid Enhancement Settings Provided . " ) ; \n + } \n + } \n - final boolean enhancedWelcome = ( boolean ) properties . get ( " enhancedWelcome " ) ; \n - \n - if ( enhancedWelcome ) { \n + if ( isEnhanced ( ) ) { \n + \n + @ Override \n + public boolean isEnhanced ( ) { \n + return isEnhanced ; \n + } \n feature - toggle \ src \ main \ java \ com \ iluwatar \ featuretoggle \ pattern \ tieredversion \ TieredFeatureToggleVersion . java \n + @ Override \n + public boolean isEnhanced ( ) { \n + return true ; \n + } \n + \n feature - toggle \ src \ test \ java \ com \ iluwatar \ featuretoggle \ pattern \ propertiesversion \ PropertiesFeatureToggleVersionTest . java \n + import static org . junit . Assert . assertFalse ; \n + import static org . junit . Assert . assertTrue ; \n + assertTrue ( service . isEnhanced ( ) ) ; \n + assertFalse ( service . isEnhanced ( ) ) ; \n feature - toggle \ src \ test \ java \ com \ iluwatar \ featuretoggle \ pattern \ tieredversion \ TieredFeatureToggleVersionTest . java \n + import static org . junit . Assert . assertTrue ; \n + \n + @ Test \n + public void testIsEnhancedAlwaysTrueAsTiered ( ) throws Exception { \n + assertTrue ( service . isEnhanced ( ) ) ; \n + } \n
gradle . properties \n - VERSION _ NAME = 1 . 1 . 0 \n + VERSION _ NAME = 1 . 1 . 0 - SNAPSHOT \n
stetho \ src \ main \ java \ com \ facebook \ stetho \ inspector \ domstorage \ DOMStoragePeerManager . java \n + import com . facebook . stetho . common . LogUtil ; \n - throw new RuntimeException ( " Prefs change detected for unknown key = " + key ) ; \n + / / This can happen due to the async nature of the onSharedPreferenceChanged callback . A \n + / / rapid put / remove as two separate commits on a background thread would cause this . \n + LogUtil . i ( " Detected rapid put / remove of % s " , key ) ; \n
stetho \ src \ main \ java \ com \ facebook \ stetho \ inspector \ protocol \ module \ Database . java \n + import com . facebook . stetho . inspector . jsonrpc . JsonRpcException ; \n + import com . facebook . stetho . inspector . jsonrpc . protocol . JsonRpcError ; \n - public JsonRpcResult getDatabaseTableNames ( JsonRpcPeer peer , JSONObject params ) { \n + public JsonRpcResult getDatabaseTableNames ( JsonRpcPeer peer , JSONObject params ) \n + throws JsonRpcException { \n - GetDatabaseTableNamesResponse response = new GetDatabaseTableNamesResponse ( ) ; \n - response . tableNames = mDatabasePeerManager . getDatabaseTableNames ( request . databaseId ) ; \n - return response ; \n + try { \n + GetDatabaseTableNamesResponse response = new GetDatabaseTableNamesResponse ( ) ; \n + response . tableNames = mDatabasePeerManager . getDatabaseTableNames ( request . databaseId ) ; \n + return response ; \n + } catch ( SQLiteException e ) { \n + throw new JsonRpcException ( \n + new JsonRpcError ( \n + JsonRpcError . ErrorCode . INVALID _ REQUEST , \n + e . toString ( ) , \n + null / * data * / ) ) ; \n + } \n
CHANGELOG . md \n + # # Version 1 . 5 . 0 \n + _ 2017 _ 04 _ 13 _ \n + \n + * * * Generic socket support * * \n + Added the ability to inspect arbitrary sockets via Chrome devtools ' \n + WebSocket APIs . This support is integrated into stetho - sample \n + as a demo , and in future releases we ' d like to make it available \n + generically for at least okhttp customers . \n + \n + * * * Major Elements tab extensibility points * * \n + Significant expansion to AndroidDocumentProviderFactory which allows \n + for a much greater degree of customization , including the \n + ability to have editable styles . Over time we ' d like to incorporate \n + this support into native Android UI but also to make it even \n + easier to unlock powerful new customizations for custom view or \n + entire rendering systems . \n + \n + * Fix # 392 : Fix database id mapping for multiple database providers \n + * Fix # 521 : Fix hit testing for empty view groups \n + * Fix # 513 : Fix LeakCanary false positive \n + * Fix # 514 : Handle runtime exceptions from database drivers \n + * Fix # 511 : Remove accidental hard dependency on support library \n + * Fix # 406 : Fix stetho - rhino importClass / Package not working properly \n + * Fix # 499 : Treat HttpURLConnection headers as case insensitive \n + * Fix # 512 : Fix severe stdin issue in dumpapp script \n + * Fix # 486 : Fix TextViewDescriptor NPE when text is null \n + \n
README . md \n - compile ' com . facebook . stetho : stetho : 1 . 4 . 2 ' \n + compile ' com . facebook . stetho : stetho : 1 . 5 . 0 ' \n - < version > 1 . 4 . 2 < / version > \n + < version > 1 . 5 . 0 < / version > \n - compile ' com . facebook . stetho : stetho - okhttp3 : 1 . 4 . 2 ' \n + compile ' com . facebook . stetho : stetho - okhttp3 : 1 . 5 . 0 ' \n - compile ' com . facebook . stetho : stetho - urlconnection : 1 . 4 . 2 ' \n + compile ' com . facebook . stetho : stetho - urlconnection : 1 . 5 . 0 ' \n - compile ' com . facebook . stetho : stetho - js - rhino : 1 . 4 . 2 ' \n + compile ' com . facebook . stetho : stetho - js - rhino : 1 . 5 . 0 ' \n gradle . properties \n - VERSION _ NAME = 1 . 4 . 3 - SNAPSHOT \n + VERSION _ NAME = 1 . 5 . 0 \n
gradle . properties \n - VERSION _ NAME = 1 . 5 . 0 \n + VERSION _ NAME = 1 . 5 . 1 - SNAPSHOT \n
ReactCommon \ react \ renderer \ animations \ LayoutAnimationKeyFrameManager . cpp \n + \n + / / Dynamic cast , because - we don ' t know the type of this \n + / / ShadowNode , it could be Image or Text or something else with \n + / / different base props . \n - viewStart . props = props ; \n - assert ( viewStart . props ! = nullptr ) ; \n + \n + assert ( props ! = nullptr ) ; \n + if ( props ! = nullptr ) { \n + viewStart . props = props ; \n + } \n + \n + / / Dynamic cast , because - we don ' t know the type of this \n + / / ShadowNode , it could be Image or Text or something else with \n + / / different base props . \n - viewStart . props = props ; \n - assert ( viewStart . props ! = nullptr ) ; \n + \n + assert ( props ! = nullptr ) ; \n + if ( props ! = nullptr ) { \n + viewStart . props = props ; \n + } \n + \n + / / Dynamic cast , because - we don ' t know the type of this \n + / / ShadowNode , it could be Image or Text or something else with \n + / / different base props . \n - viewFinal . props = props ; \n - assert ( viewFinal . props ! = nullptr ) ; \n + \n + assert ( props ! = nullptr ) ; \n + if ( props ! = nullptr ) { \n + viewFinal . props = props ; \n + } \n + \n + / / Dynamic cast , because - we don ' t know the type of this \n + / / ShadowNode , it could be Image or Text or something else with \n + / / different base props . \n - viewFinal . props = props ; \n - assert ( viewFinal . props ! = nullptr ) ; \n + \n + assert ( props ! = nullptr ) ; \n + if ( props ! = nullptr ) { \n + viewFinal . props = props ; \n + } \n
ReactCommon \ react \ renderer \ animations \ LayoutAnimationKeyFrameManager . cpp \n - keyframe . viewPrev = mutation . newChildShadowView . tag ! = 0 \n - ? mutation . newChildShadowView \n - : mutation . oldChildShadowView ; \n + / / The mutation is an " insert " , so it must have a \n + / / " newChildShadowView " \n + assert ( mutation . newChildShadowView . tag > 0 ) ; \n + \n + / / Those asserts don ' t run in prod . If there ' s some edge - case \n + / / that we haven ' t caught yet , we ' d crash in debug ; make sure we \n + / / don ' t mutate the prevView in prod . \n + if ( keyframe . type = = AnimationConfigurationType : : Update & & \n + mutation . newChildShadowView . tag > 0 ) { \n + keyframe . viewPrev = mutation . newChildShadowView ; \n + } \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ fabric \ mounting \ SurfaceMountingManager . java \n - ViewState viewState = getNullableViewState ( parentTag ) ; \n + ViewState parentViewState = getNullableViewState ( parentTag ) ; \n - if ( viewState = = null ) { \n + if ( parentViewState = = null ) { \n - final ViewGroup parentView = ( ViewGroup ) viewState . mView ; \n + if ( ! ( parentViewState . mView instanceof ViewGroup ) ) { \n + String message = \n + " Unable to remove a view from a view that is not a ViewGroup . ParentTag : " \n + + parentTag \n + + " - Tag : " \n + + tag \n + + " - Index : " \n + + index ; \n + FLog . e ( TAG , message ) ; \n + throw new IllegalStateException ( message ) ; \n + } \n + \n + final ViewGroup parentView = ( ViewGroup ) parentViewState . mView ; \n - ViewGroupManager < ViewGroup > viewGroupManager = getViewGroupManager ( viewState ) ; \n + ViewGroupManager < ViewGroup > viewGroupManager = getViewGroupManager ( parentViewState ) ; \n
. circleci \ config . yml \n - run : \n - name : Install rsync \n - command : apt - get update - y & & apt - get install rsync - y \n + name : Install rsync , zip \n + command : apt - get update - y & & apt - get install rsync zip - y \n - install _ buck _ tooling \n ReactAndroid \ src \ main \ third - party \ java \ mockito2 \ BUCK \n - binary _ jar = " : byte - buddy - binary . jar " , \n + binary _ jar = " : byte - buddy - binary - with - module - info - stripped " , \n + # Strip module - info . class because some Android tooling cannot parse the file . Matches configuration in fbandroid . \n + fb _ native . genrule ( \n + name = " byte - buddy - binary - with - module - info - stripped " , \n + out = " byte - buddy - binary - with - module - info - stripped . jar " , \n + cmd = " cp $ ( location : byte - buddy - binary . jar ) \ " $ OUT \ " & & zip - d \ " $ OUT \ " META - INF / versions / 9 / module - info . class " , \n + ) \n + \n - binary _ jar = " : byte - buddy - agent - binary . jar " , \n + binary _ jar = " : byte - buddy - agent - with - module - info - stripped " , \n + # Strip module - info . class because some Android tooling cannot parse the file . Matches configuration in fbandroid . \n + fb _ native . genrule ( \n + name = " byte - buddy - agent - with - module - info - stripped " , \n + out = " byte - buddy - agent - with - module - info - stripped . jar " , \n + cmd = " cp $ ( location : byte - buddy - agent - binary . jar ) \ " $ OUT \ " & & zip - d \ " $ OUT \ " META - INF / versions / 9 / module - info . class " , \n + ) \n + \n
buildSrc \ src \ main \ java \ com \ facebook \ fresco \ buildsrc \ TestDeps . kt \n - const val robolectric = " org . robolectric : robolectric : 4 . 3 . 1 " \n + const val robolectric = " org . robolectric : robolectric : 4 . 4 " \n - } \n + } \n
ReactAndroid \ src \ test \ java \ com \ facebook \ react \ bridge \ BUCK \n - react _ native _ dep ( " third - party / java / robolectric / 4 . 3 . 1 : robolectric " ) , \n + react _ native _ dep ( " third - party / java / robolectric / 4 . 4 : robolectric " ) , \n tools \ build _ defs \ oss \ rn _ defs . bzl \n - react _ native _ dep ( " third - party / java / robolectric / 4 . 3 . 1 : robolectric " ) , \n + react _ native _ dep ( " third - party / java / robolectric / 4 . 4 : robolectric " ) , \n
src \ clj \ clojure \ core . clj \n - ( pred item ) returns true . pred must be free of side - effects . \n + ( pred item ) returns logical true . pred must be free of side - effects . \n - ( pred item ) returns false . pred must be free of side - effects . \n + ( pred item ) returns logical false . pred must be free of side - effects . \n - ( pred item ) returns true . pred must be free of side - effects . \n + ( pred item ) returns logical true . pred must be free of side - effects . \n - ( pred item ) returns true . pred must be free of side - effects . " \n + ( pred item ) returns logical true . pred must be free of side - effects . " \n
src \ clj \ clojure \ walk . clj \n - ( instance ? clojure . lang . IMapEntry form ) ( outer ( vec ( map inner form ) ) ) \n + ( instance ? clojure . lang . IMapEntry form ) \n + ( outer ( clojure . lang . MapEntry / create ( inner ( key form ) ) ( inner ( val form ) ) ) ) \n test \ clojure \ test _ clojure \ clojure _ walk . clj \n + ( deftest walk - mapentry \n + " Checks that walk preserves the MapEntry type . See CLJ - 2031 . " \n + ( let [ coll [ : html { : a [ " b " 1 ] } " " ] \n + f ( fn [ e ] ( if ( and ( vector ? e ) ( not ( map - entry ? e ) ) ) ( apply list e ) e ) ) ] \n + ( is ( = ( list : html { : a ( list " b " 1 ) } " " ) ( w / postwalk f coll ) ) ) ) ) \n
src \ clj \ clojure \ core \ protocols . clj \n - ( let [ s ( . s str - seq ) ] \n + ( let [ s ( . s str - seq ) \n + len ( . length s ) ] \n - ( if ( < i ( . length s ) ) \n + ( if ( < i len ) \n
build . gradle \n - dependency " org . hibernate : hibernate - core : 5 . 4 . 26 . Final " \n - dependency " org . hibernate : hibernate - validator : 6 . 1 . 7 . Final " \n + dependency " org . hibernate : hibernate - core : 5 . 4 . 27 . Final " \n + dependency " org . hibernate : hibernate - validator : 6 . 2 . 0 . Final " \n
build . gradle \n - dependency " io . reactivex . rxjava3 : rxjava : 3 . 0 . 8 " \n + dependency " io . reactivex . rxjava3 : rxjava : 3 . 0 . 9 " \n - dependencySet ( group : ' org . mockito ' , version : ' 3 . 6 . 28 ' ) { \n + dependencySet ( group : ' org . mockito ' , version : ' 3 . 7 . 0 ' ) { \n - dependency " joda - time : joda - time : 2 . 10 . 8 " \n + dependency " joda - time : joda - time : 2 . 10 . 9 " \n - toolVersion = " 8 . 38 " \n + toolVersion = " 8 . 39 " \n
build . gradle \n - dependency " io . reactivex . rxjava2 : rxjava : 2 . 2 . 19 " \n + dependency " io . reactivex . rxjava2 : rxjava : 2 . 2 . 20 " \n - dependency " com . github . librepdf : openpdf : 1 . 3 . 23 " \n + dependency " com . github . librepdf : openpdf : 1 . 3 . 24 " \n - dependency ( " net . sourceforge . htmlunit : htmlunit : 2 . 45 . 0 " ) { \n + dependency ( " net . sourceforge . htmlunit : htmlunit : 2 . 46 . 0 " ) { \n - dependency ( " org . seleniumhq . selenium : htmlunit - driver : 2 . 45 . 0 " ) { \n + dependency ( " org . seleniumhq . selenium : htmlunit - driver : 2 . 46 . 0 " ) { \n
spring - context \ src \ test \ java \ org \ springframework \ context \ annotation \ AnnotationConfigApplicationContextTests . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + assertThat ( context . getBeanNamesForType ( FactoryBean . class ) ) . hasSize ( 1 ) ; \n + assertThat ( context . getBeanNamesForType ( NonInstantiatedFactoryBean . class ) ) . hasSize ( 1 ) ; \n
spring - jms \ src \ main \ java \ org \ springframework \ jms \ connection \ SingleConnectionFactory . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - logger . debug ( " Could not close shared JMS Connection " , ex ) ; \n + logger . warn ( " Could not close shared JMS Connection " , ex ) ; \n spring - orm \ src \ main \ java \ org \ springframework \ orm \ hibernate5 \ SessionFactoryUtils . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - catch ( HibernateException ex ) { \n - logger . debug ( " Could not close Hibernate Session " , ex ) ; \n - } \n - logger . debug ( " Unexpected exception on closing Hibernate Session " , ex ) ; \n + logger . error ( " Failed to release Hibernate Session " , ex ) ; \n spring - orm \ src \ main \ java \ org \ springframework \ orm \ jpa \ EntityManagerFactoryUtils . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - catch ( PersistenceException ex ) { \n - logger . debug ( " Could not close JPA EntityManager " , ex ) ; \n - } \n - logger . debug ( " Unexpected exception on closing JPA EntityManager " , ex ) ; \n + logger . error ( " Failed to release JPA EntityManager " , ex ) ; \n spring - orm \ src \ main \ java \ org \ springframework \ orm \ jpa \ JpaTransactionManager . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - catch ( Exception ex ) { \n + catch ( Throwable ex ) { \n - logger . error ( " Could not close JDBC connection after transaction " , ex ) ; \n + logger . error ( " Failed to release JDBC connection after transaction " , ex ) ; \n
spring - aspects \ src \ main \ java \ org \ springframework \ scheduling \ aspectj \ AspectJAsyncConfiguration . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + @ Role ( BeanDefinition . ROLE _ INFRASTRUCTURE ) \n spring - aspects \ src \ main \ java \ org \ springframework \ transaction \ aspectj \ AspectJJtaTransactionManagementConfiguration . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + @ Role ( BeanDefinition . ROLE _ INFRASTRUCTURE ) \n spring - aspects \ src \ main \ java \ org \ springframework \ transaction \ aspectj \ AspectJTransactionManagementConfiguration . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + @ Role ( BeanDefinition . ROLE _ INFRASTRUCTURE ) \n spring - context \ src \ main \ java \ org \ springframework \ context \ annotation \ LoadTimeWeavingConfiguration . java \n - * Copyright 2002 - 2017 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + @ Role ( BeanDefinition . ROLE _ INFRASTRUCTURE ) \n spring - context \ src \ main \ java \ org \ springframework \ context \ annotation \ MBeanExportConfiguration . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + @ Role ( BeanDefinition . ROLE _ INFRASTRUCTURE ) \n spring - tx \ src \ main \ java \ org \ springframework \ transaction \ annotation \ ProxyTransactionManagementConfiguration . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + @ Role ( BeanDefinition . ROLE _ INFRASTRUCTURE ) \n - TransactionAttributeSource transactionAttributeSource , \n - TransactionInterceptor transactionInterceptor ) { \n + TransactionAttributeSource transactionAttributeSource , TransactionInterceptor transactionInterceptor ) { \n + \n - public TransactionInterceptor transactionInterceptor ( \n - TransactionAttributeSource transactionAttributeSource ) { \n + public TransactionInterceptor transactionInterceptor ( TransactionAttributeSource transactionAttributeSource ) { \n
src \ test \ java \ io \ vertx \ core \ eventbus \ ClusterHostTest . java \n - import org . apache . commons . lang . SystemUtils ; \n + private static final String OS _ NAME = getOsName ( ) ; \n - Assume . assumeTrue ( SystemUtils . IS _ OS _ LINUX ) ; \n + Assume . assumeTrue ( OS _ NAME . startsWith ( " Linux " ) | | OS _ NAME . startsWith ( " LINUX " ) ) ; \n + } \n + \n + private static String getOsName ( ) { \n + try { \n + return System . getProperty ( " os . name " , " " ) ; \n + } catch ( SecurityException e ) { \n + return " " ; \n + } \n
src \ main \ java \ io \ vertx \ core \ impl \ Utils . java \n + private static final boolean isLinux ; \n - String os = System . getProperty ( " os . name " ) . toLowerCase ( ) ; \n + String os = System . getProperty ( " os . name " , " " ) . toLowerCase ( ) ; \n + isLinux = os . startsWith ( " linux " ) ; \n + / * * \n + * @ return true , if running on Linux \n + * / \n + public static boolean isLinux ( ) { \n + return isLinux ; \n + } \n + \n src \ test \ java \ io \ vertx \ core \ eventbus \ ClusterHostTest . java \n + import io . vertx . core . impl . Utils ; \n - private static final String OS _ NAME = getOsName ( ) ; \n - \n - Assume . assumeTrue ( OS _ NAME . startsWith ( " Linux " ) | | OS _ NAME . startsWith ( " LINUX " ) ) ; \n - } \n - \n - private static String getOsName ( ) { \n - try { \n - return System . getProperty ( " os . name " , " " ) ; \n - } catch ( SecurityException e ) { \n - return " " ; \n - } \n + Assume . assumeTrue ( Utils . isLinux ( ) ) ; \n
src \ main \ java \ io \ vertx \ core \ impl \ Utils . java \n + import io . netty . util . internal . PlatformDependent ; \n + \n - String os = System . getProperty ( " os . name " , " " ) . toLowerCase ( ) ; \n - isLinux = os . startsWith ( " linux " ) ; \n - isWindows = os . contains ( " win " ) ; \n + isLinux = " linux " . equals ( PlatformDependent . normalizedOs ( ) ) ; \n + isWindows = PlatformDependent . isWindows ( ) ; \n
rest - api - spec \ src \ main \ resources \ rest - api - spec \ test \ search . highlight \ 20 _ fvh . yml \n - - skip : \n - version : " all " \n - reason : " AwaitsFix https : / / github . com / elastic / elasticsearch / issues / 66147 " \n - do : \n - " title " : " The quick brown fox is brown " \n - " description " : " The quick pink panther is pink " \n + id : 1 \n + title : " The quick brown fox is brown " \n + description : " The quick pink panther is pink " \n - do : \n - " title " : " The quick blue fox is blue " \n - " nested " : \n - - " title " : " purple octopus " \n - - " title " : " purple fish " \n + id : 2 \n + title : " The quick blue fox is blue " \n + nested : \n + - title : " purple octopus " \n + - title : " purple fish " \n - - - \n + query : \n + term : \n + id : 1 \n + sort : [ id ] \n - match : { hits . hits . 0 . highlight . title . 0 : " The quick brown < em > fox < / em > is brown " } \n - is _ false : hits . hits . 0 . highlight . description \n
rest - api - spec \ src \ main \ resources \ rest - api - spec \ test \ search . aggregation \ 200 _ top _ hits _ metric . yml \n - - - \n - skip : \n - version : " - 7 . 99 . 99 " \n - reason : " bug fix is not yet backported " \n + version : " - 7 . 10 . 1 " \n + reason : " bug fix introduced in 7 . 10 . 2 " \n - do : \n rest - api - spec \ src \ main \ resources \ rest - api - spec \ test \ search . inner _ hits \ 20 _ highlighting . yml \n - - - \n - skip : \n - version : " - 7 . 99 . 99 " \n - reason : " bug fix is not yet backported " \n + version : " - 7 . 10 . 1 " \n + reason : " bug fix introduced in 7 . 10 . 2 " \n - do : \n
server \ src \ test \ java \ org \ elasticsearch \ index \ mapper \ GeoShapeFieldTypeTests . java \n - \n - / / Test a malformed value \n - sourceValue = " malformed " ; \n - assertEquals ( List . of ( ) , fetchSourceValue ( mapper , sourceValue , null ) ) ; \n
src \ main \ java \ io \ vertx \ core \ eventbus \ impl \ MessageConsumerImpl . java \n - Promise < Void > res = result ; \n + \n + Promise < Void > res = result ; / / Alias reference because result can become null when the onComplete callback executes \n - fut . onComplete ( ar - > { \n - res . tryFail ( " blah " ) ; \n - } ) ; \n + fut . onComplete ( ar - > res . tryFail ( " blah " ) ) ; \n + result = null ; \n src \ test \ java \ io \ vertx \ core \ eventbus \ EventBusFlowControlTest . java \n - import io . vertx . core . eventbus . DeliveryOptions ; \n - import io . vertx . core . eventbus . EventBus ; \n - import io . vertx . core . eventbus . MessageConsumer ; \n - import io . vertx . core . eventbus . MessageProducer ; \n + import io . vertx . core . streams . ReadStream ; \n - import java . util . concurrent . TimeUnit ; \n - consumer . handler ( msg - > { } ) ; \n + consumer . handler ( msg - > { \n + } ) ; \n + @ Test \n + public void testMessageConsumerUnregisterThenRegisterAgain ( ) { \n + String address = " some - address " ; \n + MessageConsumer < String > consumer = eb . consumer ( address ) ; \n + ReadStream < String > bodyStream = consumer . bodyStream ( ) ; \n + bodyStream . handler ( m1 - > { \n + assertEquals ( " m1 " , m1 ) ; \n + consumer . unregister ( ) ; \n + assertFalse ( " Consumer is not registered " , consumer . isRegistered ( ) ) ; \n + bodyStream . handler ( m2 - > { \n + assertEquals ( " m2 " , m2 ) ; \n + consumer . unregister ( ) ; \n + assertFalse ( " Consumer is not registered " , consumer . isRegistered ( ) ) ; \n + testComplete ( ) ; \n + } ) ; \n + assertTrue ( " Consumer is registered " , consumer . isRegistered ( ) ) ; \n + eb . send ( address , " m2 " ) ; \n + } ) ; \n + assertTrue ( " Consumer is registered " , consumer . isRegistered ( ) ) ; \n + eb . send ( address , " m1 " ) ; \n + await ( ) ; \n + } \n + \n
src \ test \ java \ io \ vertx \ core \ FutureTest . java \n - await ( 5 , SECONDS ) ; \n + await ( ) ; \n - await ( 5 , SECONDS ) ; \n + await ( ) ; \n - await ( 5 , SECONDS ) ; \n + await ( ) ; \n - await ( 5 , SECONDS ) ; \n + await ( ) ; \n
src \ main \ asciidoc \ index . adoc \n - - - - \n - We can conversely go from a ` CompletionStage ` to Vert . x ` Future ` using { @ link io . vertx . core . Future # from } . \n + We can conversely go from a ` CompletionStage ` to Vert . x ` Future ` using { @ link io . vertx . core . Future # fromCompletionStage } . \n src \ main \ java \ examples \ CompletionStageInteropExamples . java \n - Future . from ( completionStage , vertx . getOrCreateContext ( ) ) \n + Future . fromCompletionStage ( completionStage , vertx . getOrCreateContext ( ) ) \n src \ main \ java \ io \ vertx \ core \ Future . java \n - static < T > Future < T > from ( CompletionStage < T > completionStage ) { \n + static < T > Future < T > fromCompletionStage ( CompletionStage < T > completionStage ) { \n - static < T > Future < T > from ( CompletionStage < T > completionStage , Context context ) { \n + static < T > Future < T > fromCompletionStage ( CompletionStage < T > completionStage , Context context ) { \n src \ test \ java \ io \ vertx \ core \ FutureTest . java \n - import static java . util . concurrent . TimeUnit . SECONDS ; \n - \n - Future . from ( willSucceed ) . onSuccess ( str - > { \n + Future . fromCompletionStage ( willSucceed ) . onSuccess ( str - > { \n - Future . from ( willFail ) . onFailure ( err - > { \n + Future . fromCompletionStage ( willFail ) . onFailure ( err - > { \n - Future . from ( willSucceed , context ) . onSuccess ( str - > { \n + Future . fromCompletionStage ( willSucceed , context ) . onSuccess ( str - > { \n - Future . from ( willFail , context ) . onFailure ( err - > { \n + Future . fromCompletionStage ( willFail , context ) . onFailure ( err - > { \n
src \ main \ java \ examples \ NetExamples . java \n - . setKeyCertOptions ( certificate . keyCertOption ( ) ) \n + . setKeyCertOptions ( certificate . keyCertOptions ( ) ) \n - . setKeyCertOptions ( certificate . keyCertOption ( ) ) \n + . setKeyCertOptions ( certificate . keyCertOptions ( ) ) \n - . setKeyCertOptions ( certificate . keyCertOption ( ) ) \n + . setKeyCertOptions ( certificate . keyCertOptions ( ) ) \n src \ main \ java \ io \ vertx \ core \ net \ SelfSignedCertificate . java \n - PemKeyCertOptions keyCertOption ( ) ; \n + PemKeyCertOptions keyCertOptions ( ) ; \n src \ main \ java \ io \ vertx \ core \ net \ impl \ SelfSignedCertificateImpl . java \n - public PemKeyCertOptions keyCertOption ( ) { \n + public PemKeyCertOptions keyCertOptions ( ) { \n src \ test \ java \ io \ vertx \ test \ core \ NetTest . java \n - . setKeyCertOptions ( certificate . keyCertOption ( ) ) \n + . setKeyCertOptions ( certificate . keyCertOptions ( ) ) \n - . setKeyCertOptions ( certificate . keyCertOption ( ) ) \n + . setKeyCertOptions ( certificate . keyCertOptions ( ) ) \n
src \ main \ java \ io \ vertx \ core \ impl \ FailedFuture . java \n + \n + @ Override \n + public String toString ( ) { \n + return " Future { cause = " + cause . getMessage ( ) + " } " ; \n + } \n src \ main \ java \ io \ vertx \ core \ impl \ FutureImpl . java \n + @ Override \n + public String toString ( ) { \n + synchronized ( this ) { \n + if ( succeeded ) { \n + return " Future { result = " + result + " } " ; \n + } \n + if ( failed ) { \n + return " Future { cause = " + throwable . getMessage ( ) + " } " ; \n + } \n + return " Future { unresolved } " ; \n + } \n + } \n src \ main \ java \ io \ vertx \ core \ impl \ SucceededFuture . java \n + \n + @ Override \n + public String toString ( ) { \n + return " Future { result = " + result + " } " ; \n + } \n src \ test \ java \ io \ vertx \ test \ core \ FutureTest . java \n + @ Test \n + public void testToString ( ) { \n + assertEquals ( " Future { unresolved } " , Future . future ( ) . toString ( ) ) ; \n + assertEquals ( " Future { result = abc } " , Future . succeededFuture ( " abc " ) . toString ( ) ) ; \n + assertEquals ( " Future { cause = It ' s like that , and that ' s the way it is } " , Future . failedFuture ( " It ' s like that , and that ' s the way it is " ) . toString ( ) ) ; \n + \n + Future < String > f = Future . future ( ) ; \n + f . complete ( " abc " ) ; \n + assertEquals ( " Future { result = abc } " , f . toString ( ) ) ; \n + \n + f = Future . future ( ) ; \n + f . fail ( " abc " ) ; \n + assertEquals ( " Future { cause = abc } " , f . toString ( ) ) ; \n + } \n + \n
src \ main \ java \ io \ vertx \ core \ net \ SelfSignedCertificate . java \n - import java . security . cert . CertificateException ; \n - \n + \n + / * * \n + * Create a new { @ code SelfSignedCertificate } instance with a fully - qualified domain name , \n + * \n + * @ param fqdn a fully qualified domain name . \n + * @ return a new instance . \n + * / \n + static SelfSignedCertificate create ( String fqdn ) { \n + return new SelfSignedCertificateImpl ( fqdn ) ; \n + } \n src \ main \ java \ io \ vertx \ core \ net \ impl \ SelfSignedCertificateImpl . java \n + public SelfSignedCertificateImpl ( String fqdn ) { \n + try { \n + certificate = new io . netty . handler . ssl . util . SelfSignedCertificate ( fqdn ) ; \n + } catch ( CertificateException e ) { \n + throw new VertxException ( e ) ; \n + } \n + } \n + \n
pom . xml \n - < version > 4 . 0 . 2 < / version > \n + < version > 4 . 0 . 3 - SNAPSHOT < / version > \n - < stack . version > 4 . 0 . 2 < / stack . version > \n + < stack . version > 4 . 0 . 3 - SNAPSHOT < / stack . version > \n
src \ test \ java \ io \ vertx \ core \ ContextTest . java \n - future = future . recover ( πerr - > { \n + future = future . recover ( err - > { \n
src \ main \ java \ io \ vertx \ core \ metrics \ MetricsOptions . java \n - return json ! = null ? json . copy ( ) : new JsonObject ( ) ; \n + JsonObject json = this . json ; \n + if ( json = = null ) { \n + json = new JsonObject ( ) ; \n + MetricsOptionsConverter . toJson ( this , json ) ; \n + } \n + return json ; \n src \ main \ java \ io \ vertx \ core \ spi \ VertxMetricsFactory . java \n + } else { \n + metricsOptions = newOptions ( metricsOptions . toJson ( ) ) ; \n src \ test \ java \ io \ vertx \ core \ LauncherTest . java \n + @ Test \n + public void testCustomMetricsOptions ( ) throws Exception { \n + System . setProperty ( RunCommand . METRICS _ OPTIONS _ PROP _ PREFIX + " enabled " , " true " ) ; \n + System . setProperty ( RunCommand . METRICS _ OPTIONS _ PROP _ PREFIX + " customProperty " , " customPropertyValue " ) ; \n + MyLauncher launcher = new MyLauncher ( ) ; \n + String [ ] args = { " run " , " java : " + TestVerticle . class . getCanonicalName ( ) } ; \n + ClassLoader oldCL = Thread . currentThread ( ) . getContextClassLoader ( ) ; \n + Thread . currentThread ( ) . setContextClassLoader ( MetricsOptionsTest . createMetricsFromMetaInfLoader ( " io . vertx . core . CustomMetricsFactory " ) ) ; \n + try { \n + launcher . dispatch ( args ) ; \n + } finally { \n + Thread . currentThread ( ) . setContextClassLoader ( oldCL ) ; \n + } \n + assertWaitUntil ( ( ) - > TestVerticle . instanceCount . get ( ) = = 1 ) ; \n + VertxOptions opts = launcher . getVertxOptions ( ) ; \n + CustomMetricsOptions custom = ( CustomMetricsOptions ) opts . getMetricsOptions ( ) ; \n + assertEquals ( " customPropertyValue " , custom . getCustomProperty ( ) ) ; \n + } \n + \n src \ test \ java \ io \ vertx \ core \ spi \ metrics \ MetricsOptionsTest . java \n - assertSame ( metricsOptions , ( ( FakeVertxMetrics ) metrics ) . options ( ) ) ; \n + assertEquals ( metricsOptions . isEnabled ( ) , ( ( FakeVertxMetrics ) metrics ) . options ( ) . isEnabled ( ) ) ; \n
dropwizard - http2 \ pom . xml \n - < alpn - boot . version > 8 . 1 . 12 . v20180117 < / alpn - boot . version > \n + < alpn - boot . version > 8 . 1 . 13 . v20181017 < / alpn - boot . version > \n + < profile > \n + < id > jdk - 1 . 8 . 0 _ 191 < / id > \n + < activation > \n + < property > \n + < name > java . version < / name > \n + < value > 1 . 8 . 0 _ 191 < / value > \n + < / property > \n + < / activation > \n + < properties > \n + < alpn - boot . version > 8 . 1 . 13 . v20181017 < / alpn - boot . version > \n + < / properties > \n + < / profile > \n + < profile > \n + < id > jdk - 1 . 8 . 0 _ 192 < / id > \n + < activation > \n + < property > \n + < name > java . version < / name > \n + < value > 1 . 8 . 0 _ 192 < / value > \n + < / property > \n + < / activation > \n + < properties > \n + < alpn - boot . version > 8 . 1 . 13 . v20181017 < / alpn - boot . version > \n + < / properties > \n + < / profile > \n
dropwizard - bom \ pom . xml \n - < dependency > \n - < groupId > org . jdbi < / groupId > \n - < artifactId > jdbi3 - core < / artifactId > \n - < version > $ { jdbi3 . version } < / version > \n - < / dependency > \n - < dependency > \n - < groupId > org . jdbi < / groupId > \n - < artifactId > jdbi3 - jodatime2 < / artifactId > \n - < version > $ { jdbi3 . version } < / version > \n - < / dependency > \n - < dependency > \n - < groupId > org . jdbi < / groupId > \n - < artifactId > jdbi3 - guava < / artifactId > \n - < version > $ { jdbi3 . version } < / version > \n - < / dependency > \n
docs \ source \ about \ release - notes . rst \n + ` 2 . 0 . x Upgrade Notes < https : / / www . dropwizard . io / 2 . 0 . 0 / docs / manual / upgrade - notes / upgrade - notes - 2 _ 0 _ x . html > ` _ \n + ` GitHub Milestone 2 . 0 . 0 Merged PRs < https : / / github . com / dropwizard / dropwizard / pulls ? page = 1 & q = is % 3Apr + is % 3Aclosed + milestone % 3A2 . 0 . 0 > ` _ \n + \n - * Add opt - in ` ` EmptyOptionalNoContentExceptionMapper ` ` for returning 204 responses on empty ` ` Optional ` ` responses ( ` # 2356 < https : / / github . com / dropwizard / dropwizard / pull / 2356 > ` _ ) \n - * Add configuration for excluding mime types and paths to gzip ( ` # 2350 < https : / / github . com / dropwizard / dropwizard / pull / 2350 > ` _ ) \n + * Add opt - in ` ` EmptyOptionalNoContentExceptionMapper ` ` for returning 204 responses on empty ` ` Optional ` ` responses ( ` # 2350 < https : / / github . com / dropwizard / dropwizard / pull / 2350 > ` _ ) \n + * Add configuration for excluding mime types and paths to gzip ( ` # 2356 < https : / / github . com / dropwizard / dropwizard / pull / 2356 > ` _ ) \n + * Support expirable log level configurations ( ` # 2375 < https : / / github . com / dropwizard / dropwizard / pull / 2375 > ` _ ) \n + * Disable protocols less secure than tls v1 . 2 by default ( ` # 2417 < https : / / github . com / dropwizard / dropwizard / pull / 2417 > ` _ ) \n + * Add totalSizeCap to file log appender ( ` # 2502 < https : / / github . com / dropwizard / dropwizard / pull / 2502 > ` _ ) \n + * Upgrade to Jersey 2 . 28 ( ` # 2613 < https : / / github . com / dropwizard / dropwizard / pull / 2613 > ` _ ) \n - \n + * Add data size class adhering to the correct SI and IEC prefixes ( ` # 2686 < https : / / github . com / dropwizard / dropwizard / pull / 2686 > ` _ ) \n
build . gradle \n - repositories { mavenCentral ( ) } \n + repositories { mavenRepo url : ' http : / / jcenter . bintray . com ' } \n - repositories { mavenCentral ( ) } \n + repositories { mavenRepo url : ' http : / / jcenter . bintray . com ' } \n
gradle \ buildscript . gradle \n - classpath ' gradle - release : gradle - release : 1 . 1 . 4 ' \n + classpath ' gradle - release : gradle - release : 1 . 1 . 5 ' \n gradle \ convention . gradle \n - status = version . contains ( ' SNAPSHOT ' ) ? ' snapshot ' : status \n + / / GRADLE - 2087 workaround , perform after java plugin \n + status = project . hasProperty ( ' preferredStatus ' ) ? project . preferredStatus : ( version . contains ( ' SNAPSHOT ' ) ? ' snapshot ' : ' release ' ) \n gradle \ release . gradle \n - release . dependsOn ( forceCandidate ) \n + task forceRelease { \n + onlyIf { ! gradle . taskGraph . hasTask ( releaseCandidate ) } \n + doFirst { project . status = ' release ' } \n + } \n + release . dependsOn ( [ forceCandidate , forceRelease ] ) \n - / / Ensure upload happens before taggging but after all pre - checks \n - createReleaseTag . dependsOn ( [ uploadArtifactory , uploadMavenCentral ] ) \n + / / Ensure upload happens before taggging , hence upload failures will leave repo in a revertable state \n + preTagCommit . dependsOn ( [ uploadArtifactory , uploadMavenCentral ] ) \n + \n
build . gradle \n + bintrayUpload . enabled = false \n
native - filters \ src \ main \ java \ com \ facebook \ imagepipeline \ nativecode \ NativeRoundingFilter . java \n + @ DoNotStrip \n + @ DoNotStrip \n vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ core \ FrescoContext . java \n + import com . facebook . imagepipeline . core . NativeCodeSetup ; \n - if ( mExperiments . useNativeRounding ( ) ) { \n + if ( mExperiments . useNativeRounding ( ) & & NativeCodeSetup . getUseNativeCode ( ) ) { \n vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ transformation \ CircularBitmapTransformation . java \n - import com . facebook . imagepipeline . nativecode . NativeRoundingFilter ; \n + import java . lang . reflect . InvocationTargetException ; \n + import java . lang . reflect . Method ; \n + private static Method sToCircle ; \n + \n + private static Method sToCircleFast ; \n + \n + static { \n + try { \n + Class < ? > clazz = Class . forName ( " com . facebook . imagepipeline . nativecode . NativeRoundingFilter " ) ; \n + sToCircle = clazz . getMethod ( " toCircle " , Bitmap . class , boolean . class ) ; \n + sToCircleFast = clazz . getMethod ( " toCircleFast " , Bitmap . class , boolean . class ) ; \n + } catch ( ClassNotFoundException e ) { \n + throw new RuntimeException ( " Native code for rounding unsupported " , e ) ; \n + } catch ( NoSuchMethodException e ) { \n + throw new RuntimeException ( " Native code for rounding unsupported " , e ) ; \n + } \n + } \n + \n - if ( mUseFastNativeRounding ) { \n - NativeRoundingFilter . toCircleFast ( bitmap , mAntiAliased ) ; \n - } else { \n - NativeRoundingFilter . toCircle ( bitmap , mAntiAliased ) ; \n + try { \n + if ( mUseFastNativeRounding ) { \n + sToCircleFast . invoke ( null , bitmap , mAntiAliased ) ; \n + } else { \n + sToCircle . invoke ( null , bitmap , mAntiAliased ) ; \n + } \n + } catch ( IllegalAccessException e ) { \n + throw new RuntimeException ( " Native code for rounding unsupported " , e ) ; \n + } catch ( InvocationTargetException e ) { \n + throw new RuntimeException ( " Native code for rounding unsupported " , e ) ; \n vito \ core \ src \ test \ java \ com \ facebook \ fresco \ vito \ core \ FrescoContextTest . java \n + import com . facebook . imagepipeline . testing . TestNativeLoader ; \n + \n + static { \n + TestNativeLoader . init ( ) ; \n + } \n + \n
rename from imagepipeline - test \ src \ main \ java \ com \ facebook \ imagepipeline \ memory \ IntPair . java \n rename to imagepipeline \ src \ test \ java \ com \ facebook \ imagepipeline \ memory \ IntPair . java \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ memory \ BufferMemoryChunkPool . java \n - public BufferMemoryChunk alloc ( int bucketedSize ) { \n + protected BufferMemoryChunk alloc ( int bucketedSize ) { \n imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ memory \ MemoryChunkPool . java \n - protected MemoryChunkPool ( \n + MemoryChunkPool ( \n - public int getMinBufferSize ( ) { \n + int getMinBufferSize ( ) { \n - public abstract MemoryChunk alloc ( int bucketedSize ) ; \n + protected abstract MemoryChunk alloc ( int bucketedSize ) ; \n - public void free ( MemoryChunk value ) { \n + protected void free ( MemoryChunk value ) { \n - public int getSizeInBytes ( int bucketedSize ) { \n + protected int getSizeInBytes ( int bucketedSize ) { \n - public int getBucketedSize ( int requestSize ) { \n + protected int getBucketedSize ( int requestSize ) { \n - public int getBucketedSizeForValue ( MemoryChunk value ) { \n + protected int getBucketedSizeForValue ( MemoryChunk value ) { \n - public boolean isReusable ( MemoryChunk value ) { \n + protected boolean isReusable ( MemoryChunk value ) { \n imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ memory \ MemoryChunkUtil . java \n - public static int adjustByteCount ( final int offset , final int count , final int memorySize ) { \n + static int adjustByteCount ( final int offset , final int count , final int memorySize ) { \n - public static void checkBounds ( \n + static void checkBounds ( \n imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ memory \ MemoryPooledByteBuffer . java \n - \n - public CloseableReference < MemoryChunk > getCloseableReference ( ) { \n - return mBufRef ; \n - } \n imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ memory \ NativeMemoryChunkPool . java \n - public NativeMemoryChunk alloc ( int bucketedSize ) { \n + protected NativeMemoryChunk alloc ( int bucketedSize ) { \n rename from imagepipeline - test \ src \ main \ java \ com \ facebook \ imagepipeline \ memory \ PoolStats . java \n rename to imagepipeline \ src \ test \ java \ com \ facebook \ imagepipeline \ memory \ PoolStats . java \n - \n - public Map < Integer , IntPair > getBucketStats ( ) { \n - return mBucketStats ; \n - } \n imagepipeline \ src \ test \ java \ com \ facebook \ imagepipeline \ testing \ FakeBufferMemoryChunkPool . java \n - public BufferMemoryChunk alloc ( int bucketedSize ) { \n + protected BufferMemoryChunk alloc ( int bucketedSize ) { \n imagepipeline \ src \ test \ java \ com \ facebook \ imagepipeline \ testing \ FakeNativeMemoryChunkPool . java \n - public NativeMemoryChunk alloc ( int bucketedSize ) { \n + protected NativeMemoryChunk alloc ( int bucketedSize ) { \n
Libraries \ Components \ ScrollView \ ScrollView . js \n - UNSAFE _ componentWillReceiveProps ( nextProps : Props ) { \n - const currentContentInsetTop = this . props . contentInset \n - ? this . props . contentInset . top \n + componentDidUpdate ( prevProps : Props ) { \n + const prevContentInsetTop = prevProps . contentInset \n + ? prevProps . contentInset . top \n - const nextContentInsetTop = nextProps . contentInset \n - ? nextProps . contentInset . top \n + const newContentInsetTop = this . props . contentInset \n + ? this . props . contentInset . top \n - if ( currentContentInsetTop ! = = nextContentInsetTop ) { \n - this . _ scrollAnimatedValue . setOffset ( nextContentInsetTop | | 0 ) ; \n + if ( prevContentInsetTop ! = = newContentInsetTop ) { \n + this . _ scrollAnimatedValue . setOffset ( newContentInsetTop | | 0 ) ; \n - } \n - componentDidUpdate ( ) { \n
packages \ rn - tester \ js \ examples \ SectionList \ SectionListExamples . js \n + export function SectionList _ contentInset ( ) : React . Node { \n + const [ initialContentInset , toggledContentInset ] = [ 44 , 88 ] ; \n + \n + const [ output , setOutput ] = React . useState ( \n + ` contentInset top : $ { initialContentInset . toString ( ) } ` , \n + ) ; \n + const [ exampleProps , setExampleProps ] = React . useState ( { \n + automaticallyAdjustContentInsets : false , \n + contentInset : { top : initialContentInset } , \n + contentOffset : { y : - initialContentInset , x : 0 } , \n + } ) ; \n + \n + const onTest = ( ) = > { \n + const newContentInset = \n + exampleProps . contentInset . top = = = initialContentInset \n + ? toggledContentInset \n + : initialContentInset ; \n + setExampleProps ( { \n + automaticallyAdjustContentInsets : false , \n + contentInset : { top : newContentInset } , \n + contentOffset : { y : - newContentInset , x : 0 } , \n + } ) ; \n + setOutput ( ` contentInset top : $ { newContentInset . toString ( ) } ` ) ; \n + } ; \n + \n + return ( \n + < > \n + < View \n + style = { [ \n + styles . titleContainer , \n + { height : exampleProps . contentInset . top } , \n + ] } > \n + < Text style = { styles . titleText } > Menu < / Text > \n + < / View > \n + < SectionListExampleWithForwardedRef \n + exampleProps = { exampleProps } \n + testOutput = { output } \n + onTest = { onTest } \n + testLabel = { ' Toggle header size ' } \n + / > \n + < / > \n + ) ; \n + } \n + \n + titleContainer : { \n + position : ' absolute ' , \n + top : 45 , \n + left : 0 , \n + right : 0 , \n + justifyContent : ' flex - end ' , \n + alignItems : ' center ' , \n + backgroundColor : ' gray ' , \n + zIndex : 1 , \n + } , \n + titleText : { \n + fontSize : 24 , \n + lineHeight : 44 , \n + fontWeight : ' bold ' , \n + } , \n
packages \ rn - tester \ js \ examples \ ScrollView \ ScrollViewExample . js \n + name : ' keyboardShouldPersistTaps ' , \n + const [ textInputValue , setTextInputValue ] = useState ( ' Tap to open Keyboard ' ) ; \n + < TextInput \n + style = { styles . textInput } \n + value = { textInputValue } \n + onChangeText = { val = > setTextInputValue ( val ) } \n + / > \n + < Button \n + onPress = { ( ) = > console . log ( ' button pressed ! ' ) } \n + label = { ' Button ' } \n + / > \n
presto - docs \ src \ main \ sphinx \ admin \ spill . rst \n + Revocable memory and reserved pool \n + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n + \n + Both reserved memory pool and revocable memory are designed to cope with low memory conditions . \n + When user memory pool is exhausted then a single query will be promoted to a reserved pool . \n + In such case only that query is allowed to progress thus reducing cluster \n + concurrency . Revocable memory will try to prevent that by triggering spill . \n + Reserved pool is of ` ` query . max - total - memory - per - node ` ` size . If \n + ` ` query . max - total - memory - per - node ` ` is large compared to the total memory \n + available on the node , then the general memory pool may not have enough \n + memory to run larger queries . If spill is enabled , then this will cause \n + excessive spilling for queries that consume large amounts of memory per node . \n + These queries would finish much quicker if spill were disabled because they \n + would execute in the reserved pool . However , doing so could also significantly \n + reduce cluster concurrency . In such a situation we recommend disabling the \n + reserved memory pool via the ` ` experimental . reserved - pool - enabled ` ` config \n + property . \n + \n - - - - - - - - - - - - - - - - \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ s3 \ PrestoS3FileSystem . java \n - break ; \n + if ( read > 0 ) { \n + return read ; \n + } \n + return - 1 ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ operator \ OperatorContext . java \n - return delegate . trySetBytes ( bytes ) ; \n + if ( delegate . trySetBytes ( bytes ) ) { \n + allocationListener . run ( ) ; \n + return true ; \n + } \n + \n + return false ; \n + allocationListener . run ( ) ; \n
AndroidAnnotations \ . idea \ codeStyles \ Project . xml \n + < option name = " JD _ P _ AT _ EMPTY _ LINES " value = " false " / > \n
AndroidAnnotations \ androidannotations - core \ androidannotations \ src \ main \ java \ org \ androidannotations \ internal \ helper \ AndroidManifestFinder . java \n - File findManifestInKnownPathsStartingFromGenFolder ( String sourcesGenerationFolder ) throws FileNotFoundException { \n + File findManifestInKnownPathsStartingFromGenFolder ( String sourcesGenerationFolder ) { \n
AndroidAnnotations \ androidannotations - core \ androidannotations \ src \ main \ java \ org \ androidannotations \ internal \ helper \ AndroidManifestFinder . java \n - Matcher matcher = OUTPUT _ JSON _ PATTERN . matcher ( readJsonFromFile ( file ) ) ; \n - if ( matcher . matches ( ) ) { \n - String relativeManifestPath = matcher . group ( 1 ) ; \n + Matcher jsonMatcher = OUTPUT _ JSON _ PATTERN . matcher ( readJsonFromFile ( file ) ) ; \n + if ( jsonMatcher . matches ( ) ) { \n + String relativeManifestPath = jsonMatcher . group ( 1 ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ LocalDynamicFilter . java \n - import com . facebook . presto . sql . planner . plan . JoinNode ; \n + import com . facebook . presto . sql . planner . plan . AbstractJoinNode ; \n - public static Optional < LocalDynamicFilter > create ( JoinNode planNode , int partitionCount ) \n + public static Optional < LocalDynamicFilter > create ( AbstractJoinNode planNode , int partitionCount ) \n - . searchFrom ( planNode . getLeft ( ) ) \n + . searchFrom ( planNode . getProbe ( ) ) \n - PlanNode buildNode = planNode . getRight ( ) ; \n + PlanNode buildNode = planNode . getBuild ( ) ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ LocalExecutionPlanner . java \n + import com . facebook . presto . sql . planner . plan . AbstractJoinNode ; \n - filter - > factoriesBuilder . add ( createDynamicFilterSourceOperatorFactory ( filter , node , buildSource , buildContext ) ) ) ; \n + filter - > factoriesBuilder . add ( createDynamicFilterSourceOperatorFactory ( filter , node . getId ( ) , buildSource , buildContext ) ) ) ; \n - JoinNode node , \n + PlanNodeId planNodeId , \n - node . getId ( ) , \n + planNodeId , \n - private Optional < LocalDynamicFilter > createDynamicFilter ( JoinNode node , LocalExecutionPlanContext context , int partitionCount ) \n + private Optional < LocalDynamicFilter > createDynamicFilter ( AbstractJoinNode node , LocalExecutionPlanContext context , int partitionCount ) \n + \n + ImmutableList . Builder < OperatorFactory > factoriesBuilder = ImmutableList . builder ( ) ; \n + factoriesBuilder . addAll ( buildSource . getOperatorFactories ( ) ) ; \n + \n + / / add collector to the source \n + int partitionCount = buildContext . getDriverInstanceCount ( ) . orElse ( 1 ) ; \n + Optional < LocalDynamicFilter > localDynamicFilter = createDynamicFilter ( node , context , partitionCount ) ; \n + localDynamicFilter . ifPresent ( filter - > factoriesBuilder . add ( createDynamicFilterSourceOperatorFactory ( filter , node . getId ( ) , buildSource , buildContext ) ) ) ; \n + \n + factoriesBuilder . add ( setBuilderOperatorFactory ) ; \n + \n - ImmutableList . < OperatorFactory > builder ( ) \n - . addAll ( buildSource . getOperatorFactories ( ) ) \n - . add ( setBuilderOperatorFactory ) \n - . build ( ) , \n + factoriesBuilder . build ( ) , \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ NodePartitionMap . java \n + private final boolean cacheable ; \n + this . cacheable = false ; \n - public NodePartitionMap ( List < InternalNode > partitionToNode , int [ ] bucketToPartition , ToIntFunction < Split > splitToBucket ) \n + public NodePartitionMap ( List < InternalNode > partitionToNode , int [ ] bucketToPartition , ToIntFunction < Split > splitToBucket , boolean cacheable ) \n + this . cacheable = cacheable ; \n - return new FixedBucketNodeMap ( splitToBucket , bucketToNode . build ( ) , false ) ; \n + return new FixedBucketNodeMap ( splitToBucket , bucketToNode . build ( ) , cacheable ) ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ NodePartitioningManager . java \n + boolean cacheable ; \n + bucketToNode = getFixedMapping ( connectorBucketNodeMap ) ; \n + cacheable = false ; \n + break ; \n + cacheable = true ; \n + cacheable = false ; \n - return new NodePartitionMap ( partitionToNode , bucketToPartition , getSplitToBucket ( session , partitioningHandle ) ) ; \n + return new NodePartitionMap ( partitionToNode , bucketToPartition , getSplitToBucket ( session , partitioningHandle ) , cacheable ) ; \n
presto - cache \ src \ main \ java \ com \ facebook \ presto \ cache \ alluxio \ AlluxioCacheConfig . java \n + private boolean cacheQuotaEnabled ; \n + \n + public boolean isCacheQuotaEnabled ( ) \n + { \n + return cacheQuotaEnabled ; \n + } \n + \n + @ Config ( " cache . alluxio . quota - enabled " ) \n + @ ConfigDescription ( " Whether to enable quota for alluxio caching operations " ) \n + public AlluxioCacheConfig setCacheQuotaEnabled ( boolean cacheQuotaEnabled ) \n + { \n + this . cacheQuotaEnabled = cacheQuotaEnabled ; \n + return this ; \n + } \n presto - cache \ src \ test \ java \ com \ facebook \ presto \ cache \ alluxio \ TestAlluxioCacheConfig . java \n - . setTimeoutThreads ( 64 ) ) ; \n + . setTimeoutThreads ( 64 ) \n + . setCacheQuotaEnabled ( false ) ) ; \n + . put ( " cache . alluxio . quota - enabled " , " true " ) \n - . setTimeoutThreads ( 512 ) ; \n + . setTimeoutThreads ( 512 ) \n + . setCacheQuotaEnabled ( true ) ; \n presto - hive - common \ src \ main \ java \ com \ facebook \ presto \ hive \ CacheQuota . java \n + private final String identity ; \n + this . identity = requireNonNull ( identity , " identity is null " ) ; \n + public String getIdentity ( ) \n + { \n + return identity ; \n + } \n + \n - return identifier = = that . identifier & & Objects . equals ( quota , that . quota ) ; \n + return identity . equals ( that . identity ) & & identifier = = that . identifier & & Objects . equals ( quota , that . quota ) ; \n - return Objects . hash ( identifier , quota ) ; \n + return Objects . hash ( identity , identifier , quota ) ; \n
tools \ osx \ crosstool \ cc _ toolchain _ config . bzl \n - flag _ groups = [ flag _ group ( flags = [ " - fdebug - compilation - dir " , " . " ] ) ] , \n + flag _ groups = [ flag _ group ( flags = [ " DEBUG _ PREFIX _ MAP _ PWD = . " ] ) ] , \n tools \ osx \ crosstool \ wrapped _ clang . cc \n + if ( SetArgIfFlagPresent ( arg , " DEBUG _ PREFIX _ MAP _ PWD " , & dest _ dir ) ) { \n + new _ arg = " - fdebug - prefix - map = " + cwd + " = " + dest _ dir ; \n + } \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ apple \ AppleCommandLineOptions . java \n - host . appleBitcodeMode = appleBitcodeMode ; \n
tools \ objc \ libtool . sh \n - # Ensure 0 timestamping for hermetic results . \n - export ZERO _ AR _ DATE = 1 \n - \n tools \ osx \ crosstool \ cc _ toolchain _ config . bzl \n + env _ entry ( \n + key = " ZERO _ AR _ DATE " , \n + value = " 1 " , \n + ) , \n
CHANGELOG . md \n + # # 2 . 2 . 3 \n + \n + # # # Bug fixes \n + \n + * Fixed native memory leak setting the value of a primary key ( # 3993 ) . \n + \n realm \ realm - library \ src \ main \ cpp \ io _ realm _ internal _ Table . cpp \n - Row * row = new Row ( ( * pk _ table ) [ row _ index ] ) ; \n - StringData current _ primary _ key = row - > get _ string ( io _ realm _ internal _ Table _ PRIMARY _ KEY _ FIELD _ COLUMN _ INDEX ) ; \n + StringData current _ primary _ key = pk _ table - > get _ string ( io _ realm _ internal _ Table _ PRIMARY _ KEY _ FIELD _ COLUMN _ INDEX , row _ index ) ; \n
CHANGELOG . md \n + # # 2 . 3 . 2 \n + \n + # # # Internal \n + \n + * Updated to Realm Sync v1 . 0 . 4 . \n + * Updated to Realm Core v2 . 3 . 1 . \n + \n + \n dependencies . list \n - REALM _ SYNC _ VERSION = 1 . 0 . 0 \n - REALM _ SYNC _ SHA256 = 0e95ee9ed06f1bf66d1531086197e6549ad7ca36da6400b0c5026c5a0c3c4249 \n + REALM _ SYNC _ VERSION = 1 . 0 . 4 \n + REALM _ SYNC _ SHA256 = a1d00577219b7c2749a0b4baa8b07ead2380bc47907fb2ce4b13cf59d26ca463 \n
CHANGELOG . md \n + # # # Internal \n + \n + * Updated Realm Sync to 1 . 0 . 0 - BETA - 7 . 0 . \n + \n dependencies . list \n - REALM _ SYNC _ VERSION = 1 . 0 . 0 - BETA - 6 . 5 \n - REALM _ SYNC _ SHA256 = dad59e910e4a8cab75791bab152e7c9e43712b174e0dce5a1596273976eb4de3 \n + REALM _ SYNC _ VERSION = 1 . 0 . 0 - BETA - 7 . 0 \n + REALM _ SYNC _ SHA256 = 76dcf2052681aa21992489ca9b62172d9cb07f4def5e94011975df67bd552276 \n realm \ realm - library \ src \ main \ cpp \ CMakeLists . txt \n - file ( GLOB objectstore _ sync _ SRC " object - store / src / sync / * " ) \n + file ( GLOB objectstore _ sync _ SRC \n + " object - store / src / sync / * " \n + " object - store / src / sync / impl / * " ) \n realm \ realm - library \ src \ main \ cpp \ object - store \n - Subproject commit 814beb5a1e96f0bb72cf78e206b2e710ac79e217 \n + Subproject commit ac2f60726434654cace0bb5e57a92df7555c8f1f \n
CHANGELOG . md \n + * Fixed a bug in encryption ( # 4128 ) . \n - * Updated to Realm Sync v1 . 0 . 4 . \n - * Updated to Realm Core v2 . 3 . 1 . \n + * Updated to Realm Sync v1 . 2 . 1 . \n + * Updated to Realm Core v2 . 3 . 2 . \n dependencies . list \n - REALM _ SYNC _ VERSION = 1 . 0 . 4 \n - REALM _ SYNC _ SHA256 = a1d00577219b7c2749a0b4baa8b07ead2380bc47907fb2ce4b13cf59d26ca463 \n + REALM _ SYNC _ VERSION = 1 . 2 . 1 \n + REALM _ SYNC _ SHA256 = b796433319e2574ea3cdb1b3dcda4e2311a2080f8e1563ea68a59b2cdac1d0a7 \n realm \ realm - library \ src \ main \ cpp \ object - store \n - Subproject commit 29509795357df374f88950ee471a57900b97ecdf \n + Subproject commit 9a8520da95fc2505c1634d6d801f12ea73109cac \n
CHANGELOG . md \n + # # 2 . 2 . 3 \n + \n + # # # Bug fixes \n + \n + * Fixed memory leak in ` Java _ io _ realm _ internal _ Table _ nativeSetPrimaryKey ` ( # 3993 ) . \n + \n realm \ realm - library \ src \ main \ cpp \ io _ realm _ internal _ Table . cpp \n - Row * row = new Row ( ( * pk _ table ) [ row _ index ] ) ; \n - StringData current _ primary _ key = row - > get _ string ( io _ realm _ internal _ Table _ PRIMARY _ KEY _ FIELD _ COLUMN _ INDEX ) ; \n + StringData current _ primary _ key = pk _ table - > get _ string ( io _ realm _ internal _ Table _ PRIMARY _ KEY _ FIELD _ COLUMN _ INDEX , row _ index ) ; \n
CHANGELOG . md \n - # # 2 . 2 . 3 \n - \n - # # # Bug fixes \n - \n - * Fixed memory leak in ` Java _ io _ realm _ internal _ Table _ nativeSetPrimaryKey ` ( # 3993 ) . \n - \n realm \ realm - library \ src \ main \ cpp \ io _ realm _ internal _ Table . cpp \n - StringData current _ primary _ key = pk _ table - > get _ string ( io _ realm _ internal _ Table _ PRIMARY _ KEY _ FIELD _ COLUMN _ INDEX , row _ index ) ; \n + Row * row = new Row ( ( * pk _ table ) [ row _ index ] ) ; \n + StringData current _ primary _ key = row - > get _ string ( io _ realm _ internal _ Table _ PRIMARY _ KEY _ FIELD _ COLUMN _ INDEX ) ; \n
src \ main \ java \ org \ junit \ rules \ ExpectedException . java \n - public ExpectedException expect ( Matcher < ? > matcher ) { \n + public void expect ( Matcher < ? > matcher ) { \n - return this ; \n - public ExpectedException expect ( Class < ? extends Throwable > type ) { \n + public void expect ( Class < ? extends Throwable > type ) { \n - return this ; \n - public ExpectedException expectMessage ( String substring ) { \n + public void expectMessage ( String substring ) { \n - return this ; \n - public ExpectedException expectMessage ( Matcher < String > matcher ) { \n + public void expectMessage ( Matcher < String > matcher ) { \n - return this ; \n - public ExpectedException expectCause ( Matcher < ? > expectedCause ) { \n + public void expectCause ( Matcher < ? > expectedCause ) { \n - return this ; \n
src \ main \ java \ org \ junit \ runners \ ParentRunner . java \n + import org . junit . FixMethodOrder ; \n + if ( shouldNotReorder ( ) ) { \n + return ; \n + } \n + \n + if ( shouldNotReorder ( ) ) { \n + return ; \n + } \n + \n + private boolean shouldNotReorder ( ) { \n + / / If the test specifies a specific order , do not reorder . \n + return getDescription ( ) . getAnnotation ( FixMethodOrder . class ) ! = null ; \n + } \n + \n src \ test \ java \ org \ junit \ tests \ manipulation \ OrderableTest . java \n + import org . junit . FixMethodOrder ; \n + import org . junit . runners . MethodSorters ; \n + @ FixMethodOrder ( MethodSorters . NAME _ ASCENDING ) \n + public static class DoNotOrderMe { \n + @ Test \n + public void a ( ) { \n + log + = " a " ; \n + } \n + \n + @ Test \n + public void b ( ) { \n + log + = " b " ; \n + } \n + \n + @ Test \n + public void c ( ) { \n + log + = " c " ; \n + } \n + } \n + \n + \n + @ Test \n + public void orderingBackwardDoesNothingOnTestClassRunnerWithFixMethodOrder ( ) { \n + Request backward = Request . aClass ( DoNotOrderMe . class ) . orderWith ( \n + new ReverseAlphanumericOrdering ( ) ) ; \n + \n + new JUnitCore ( ) . run ( backward ) ; \n + assertEquals ( " abc " , log ) ; \n + } \n src \ test \ java \ org \ junit \ tests \ manipulation \ SortableTest . java \n + import org . junit . FixMethodOrder ; \n + import org . junit . runners . MethodSorters ; \n + @ FixMethodOrder ( MethodSorters . NAME _ ASCENDING ) \n + public static class DoNotSortMe { \n + @ Test \n + public void a ( ) { \n + log + = " a " ; \n + } \n + \n + @ Test \n + public void b ( ) { \n + log + = " b " ; \n + } \n + \n + @ Test \n + public void c ( ) { \n + log + = " c " ; \n + } \n + } \n + \n + @ Test \n + public void sortingBackwardDoesNothingOnTestClassRunnerWithFixMethodOrder ( ) { \n + Request backward = Request . aClass ( DoNotSortMe . class ) . sortWith ( backward ( ) ) ; \n + \n + new JUnitCore ( ) . run ( backward ) ; \n + assertEquals ( " abc " , log ) ; \n + } \n + \n
doc \ ReleaseNotes4 . 13 . 2 . md \n + \n + # Exceptions \n + \n + # # # [ Pull request # 1654 : ] ( https : / / github . com / junit - team / junit / pull / 1654 ) Fix for issue # 1192 : NotSerializableException with AssumptionViolatedException \n + \n + This change fixes an issue where ` AssumptionViolatedException ` instances could not be serialized \n + if they were created with a constructor that takes in an ` org . hamcrest . Matcher ` instance ( these \n + constructors are used if you use one of the ` assumeThat ( ) ` methods in ` org . junit . Assume ` ) . \n
src \ main \ java \ org \ junit \ runners \ BlockJUnit4ClassRunner . java \n - public void accept ( FrameworkMember member , T value ) { \n + public void accept ( FrameworkMember < ? > member , T value ) { \n src \ main \ java \ org \ junit \ runners \ ParentRunner . java \n - public void accept ( FrameworkMember member , TestRule value ) { \n + public void accept ( FrameworkMember < ? > member , TestRule value ) { \n src \ main \ java \ org \ junit \ runners \ model \ MemberValueConsumer . java \n - void accept ( FrameworkMember member , T value ) ; \n + void accept ( FrameworkMember < ? > member , T value ) ; \n src \ main \ java \ org \ junit \ runners \ model \ TestClass . java \n - public void accept ( FrameworkMember member , T value ) { \n + public void accept ( FrameworkMember < ? > member , T value ) { \n - public void accept ( FrameworkMember member , T value ) { \n + public void accept ( FrameworkMember < ? > member , T value ) { \n
CONTRIBUTING . md \n - The reasoning is that the JUnit team feels that our users should focus on using either the JUnit4 APIs \n - or the soon - to - be - released JUnit4 APIs . \n + The reasoning is that the JUnit team feels that our users should focus on using either the JUnit4 or JUnit5 APIs . \n
new file \n doc \ ReleaseNotes4 . 13 . 2 . md \n + # # Summary of changes in version 4 . 13 . 2 \n + \n + # Rules \n + \n + # # # [ Pull request # 1687 : ] ( https : / / github . com / junit - team / junit / pull / 1687 ) Mark ThreadGroups created by FailOnTimeout as daemon groups \n + \n + In JUnit 4 . 13 ( [ pull request # 1517 ] ( https : / / github . com / junit - team / junit4 / pull / 1517 ) ) an attempt was \n + made to fix leakage of the ` ThreadGroup ` instances created when a test is run with a timeout . That \n + change explicitly destroyed the ` ThreadGroup ` that was created for the time - limited test . Numerous \n + people reported problems that were caused by explicitly destroying the ` ThreadGroup ` . \n + \n + In this change , the code was updated to call ` ThreadGroup . setDaemon ( true ) ` instead of destroying the \n + ThreadGroup . \n
package . json \n + " packages / react - native - codegen " , \n packages \ rn - tester \ Podfile \n - codegen _ path = " . . / . . / packages / react - native - codegen " \n - system ( " ( cd # { codegen _ path } & & yarn install & & yarn run build ) " ) \n - codegen _ pre _ install ( installer , { path : prefix _ path , codegen _ path : codegen _ path } ) \n + codegen _ pre _ install ( installer , { path : prefix _ path } ) \n packages \ rn - tester \ Podfile . lock \n - PODFILE CHECKSUM : 497dba59a3312b3cb22d518b96672409db90460d \n + PODFILE CHECKSUM : 961e081223f82b7e9208869de4d73534d949ae9e \n scripts \ generate - native - modules - specs . sh \n - YARN _ BINARY = " $ { YARN _ BINARY : - yarn } " \n + YARN _ BINARY = " $ { YARN _ BINARY : - $ ( command - v yarn ) } " \n scripts \ react _ native _ pods . rb \n - codegen _ path = options [ : codegen _ path ] | | = " . . / node _ modules / react - native - codegen " \n + system ( " . / # { prefix } / packages / react - native - codegen / scripts / oss / build . sh " ) \n - schema _ generated = system ( " node # { codegen _ path } / lib / cli / combine / combine - js - to - schema - cli . js # { schema _ file } # { srcs _ dir } " ) \n + schema _ generated = system ( " node # { prefix } / packages / react - native - codegen / lib / cli / combine / combine - js - to - schema - cli . js # { schema _ file } # { srcs _ dir } " ) \n template \ package . json \n - " react - test - renderer " : " 17 . 0 . 1 " , \n - " react - native - codegen " : " 0 . 0 . 4 " \n + " react - test - renderer " : " 17 . 0 . 1 " \n
ReactAndroid \ build . gradle \n - / / The ' USE _ FABRIC ' environment variable will build Fabric C + + code into the bundle \n - / / USE _ FABRIC = 0 will build RN excluding fabric \n - / / USE _ FABRIC = 1 will build RN including fabric \n - def enableFabric = ( System . getenv ( ' USE _ FABRIC ' ) ? : ' 0 ' ) . toBoolean ( ) \n - \n - " BUILD _ FABRIC = $ enableFabric " , \n ReactAndroid \ src \ main \ jni \ react \ jni \ Android . mk \n - \n - ifeq ( $ ( BUILD _ FABRIC ) , true ) \n - include $ ( REACT _ SRC _ DIR ) / fabric / jni / Android . mk \n - endif \n + include $ ( REACT _ SRC _ DIR ) / fabric / jni / Android . mk \n ReactCommon \ jsi \ Android . mk \n - ifeq ( $ ( BUILD _ FABRIC ) , true ) \n - LOCAL _ CFLAGS + = - DRN _ FABRIC _ ENABLED \n - endif \n + # TODO : Remove this flag when ready . \n + # Android has this enabled by default , but the flag is still needed for iOS . \n + LOCAL _ CFLAGS + = - DRN _ FABRIC _ ENABLED \n packages \ rn - tester \ android \ app \ build . gradle \n - * / / Enable Fabric at build time and runtime . \n + * / / Enable Fabric at runtime . \n - * Build and enable Fabric in RN Tester app . \n + * Enable Fabric in RN Tester app . \n scripts \ generate - native - modules - specs - cli . js \n - android : USE _ FABRIC \n - ? [ ' componentsAndroid ' , ' modulesAndroid ' ] \n - : [ ' modulesAndroid ' ] , \n + android : [ ' componentsAndroid ' , ' modulesAndroid ' ] , \n
ReactAndroid \ Android - prebuilt . mk \n - # react _ codegen _ reactandroidspec \n + # react _ codegen _ rncore \n - LOCAL _ MODULE : = react _ codegen _ reactandroidspec \n - LOCAL _ SRC _ FILES : = $ ( REACT _ NDK _ EXPORT _ DIR ) / $ ( TARGET _ ARCH _ ABI ) / libreact _ codegen _ reactandroidspec . so \n + LOCAL _ MODULE : = react _ codegen _ rncore \n + LOCAL _ SRC _ FILES : = $ ( REACT _ NDK _ EXPORT _ DIR ) / $ ( TARGET _ ARCH _ ABI ) / libreact _ codegen _ rncore . so \n ReactAndroid \ build . gradle \n + / / TODO : The library name is chosen for parity with Fabric components & iOS \n + / / This should be changed to a more generic name , e . g . ` ReactCoreSpec ` . \n + libraryName = " rncore " \n packages \ rn - tester \ android \ app \ src \ main \ jni \ Android . mk \n - LOCAL _ SHARED _ LIBRARIES : = libfbjni libreact _ nativemodule _ core libturbomodulejsijni libreact _ codegen _ reactandroidspec \n + LOCAL _ SHARED _ LIBRARIES : = libfbjni libreact _ nativemodule _ core libturbomodulejsijni libreact _ codegen _ rncore \n - DLOG _ TAG = \ " ReactNative \ " \n packages \ rn - tester \ android \ app \ src \ main \ jni \ RNTesterAppModuleProvider . cpp \n - # include < ReactAndroidSpec . h > \n + # include < rncore . h > \n - return ReactAndroidSpec _ ModuleProvider ( moduleName , params ) ; \n + return rncore _ ModuleProvider ( moduleName , params ) ; \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ producers \ ResizeAndRotateProducer . java \n - getConsumer ( ) . onFailure ( e ) ; \n + if ( isLast ) { \n + getConsumer ( ) . onFailure ( e ) ; \n + } \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ listener \ RequestLoggingListener . java \n + throwable , \n
docs \ _ config . yml \n - - - \n - url : " https : / / facebook . github . io / fresco / " \n - cdn _ url : " https : / / frescolib . org / " \n + url : " https : / / frescolib . org " \n docs \ _ includes \ head . html \n - < link rel = " stylesheet " href = " { { site . cdn _ url } } { { site . baseurl } } / css / main . css " media = " screen " > \n - < link rel = " icon " href = " { { site . cdn _ url } } { { site . baseurl } } / static / favicon . png " type = " image / x - icon " > \n + < link rel = " stylesheet " href = " { { site . url } } { { site . baseurl } } / css / main . css " media = " screen " > \n + < link rel = " icon " href = " { { site . url } } { { site . baseurl } } / static / favicon . png " type = " image / x - icon " > \n
new file \n services \ core \ java \ com \ android \ server \ security \ OWNERS \n + # Bug component : 36824 \n + \n + per - file FileIntegrityService . java = victorhsieh @ google . com \n + per - file VerityUtils . java = victorhsieh @ google . com \n
new file \n tests \ ApkVerityTest \ OWNERS \n + # Bug component : 36824 \n + \n + victorhsieh @ google . com \n
new file \n core \ tests \ coretests \ src \ android \ graphics \ OWNERS \n + # Bug component : 24939 \n + \n + include / graphics / java / android / graphics / OWNERS \n + \n + per - file Font * = file : / graphics / java / android / graphics / fonts / OWNERS \n + per - file Typeface * = file : / graphics / java / android / graphics / fonts / OWNERS \n new file \n services \ core \ java \ com \ android \ server \ graphics \ fonts \ OWNERS \n + # Bug component : 24939 \n + \n + include / graphics / java / android / graphics / fonts / OWNERS \n new file \n services \ tests \ servicestests \ src \ com \ android \ server \ graphics \ fonts \ OWNERS \n + # Bug component : 24939 \n + \n + include / graphics / java / android / graphics / fonts / OWNERS \n
ion \ src \ com \ koushikdutta \ ion \ DataEmitterParser . java \n + \n + @ Override \n + public String getMime ( ) { \n + return null ; \n + } \n ion \ src \ com \ koushikdutta \ ion \ InputStreamParser . java \n + \n + @ Override \n + public String getMime ( ) { \n + return null ; \n + } \n ion \ src \ com \ koushikdutta \ ion \ IonRequestBuilder . java \n + / / only set the accept header if the default is currently in use \n + String mime = parser . getMime ( ) ; \n + if ( ! TextUtils . isEmpty ( mime ) ) { \n + String existingMime = getHeaders ( ) . get ( " Accept " ) ; \n + if ( existingMime = = AsyncHttpRequest . HEADER _ ACCEPT _ ALL ) \n + setHeader ( " Accept " , mime ) ; \n + } \n + \n + \n + @ Override \n + public String getMime ( ) { \n + return null ; \n + } \n ion \ src \ com \ koushikdutta \ ion \ gson \ GsonParser . java \n + \n + @ Override \n + public String getMime ( ) { \n + return " application / json " ; \n + } \n ion \ src \ com \ koushikdutta \ ion \ gson \ GsonSerializer . java \n + \n + @ Override \n + public String getMime ( ) { \n + return " application / json " ; \n + } \n
ion \ src \ com \ koushikdutta \ ion \ IonRequestBuilder . java \n + @ Override \n + public IonRequestBuilder load ( AsyncHttpRequest request ) { \n + headers = new Headers ( request . getHeaders ( ) . getMultiMap ( ) ) ; \n + setBody ( request . getBody ( ) ) ; \n + return load ( request . getMethod ( ) , request . getUri ( ) . toString ( ) ) ; \n + } \n + \n ion \ src \ com \ koushikdutta \ ion \ builder \ LoadBuilder . java \n + import com . koushikdutta . async . http . AsyncHttpRequest ; \n + \n + \n + / * * \n + * Load an http request , exactly as provided . \n + * @ param request \n + * @ return \n + * / \n + B load ( AsyncHttpRequest request ) ; \n
ion \ src \ com \ koushikdutta \ ion \ IonRequestBuilder . java \n - invokeLoadRequest ( request , ret ) ; \n + invokeLoadRequest ( result , ret ) ; \n - invokeLoadRequest ( request , ret ) ; \n + invokeLoadRequest ( result , ret ) ; \n
examples \ gridViewExample \ build . gradle \n + proguardFiles getDefaultProguardFile ( ' proguard - android . txt ' ) , ' proguard - rules . pro ' \n + proguardFiles getDefaultProguardFile ( ' proguard - android . txt ' ) , ' proguard - rules . pro ' \n new file \n examples \ gridViewExample \ proguard - rules . pro \n + - keep class io . realm . examples . realmgridview . City { < fields > ; } \n examples \ gridViewExample \ src \ main \ java \ io \ realm \ examples \ realmgridview \ City . java \n - \n + / / If you are using GSON , field names should not be obfuscated . \n + / / Add either the proguard rule in proguard - rules . pro or the @ SerializedName annotation . \n
README . md \n - mavenCentral ( ) \n + jcenter ( ) \n
library \ src \ main \ java \ com \ bumptech \ glide \ load \ resource \ gif \ GifFrameLoader . java \n - pendingTarget = delayTarget ; \n + if ( startFromFirstFrame ) { \n + handler . obtainMessage ( FrameLoaderCallback . MSG _ CLEAR , delayTarget ) . sendToTarget ( ) ; \n + } else { \n + pendingTarget = delayTarget ; \n + } \n library \ test \ src \ test \ java \ com \ bumptech \ glide \ load \ resource \ gif \ GifFrameLoaderTest . java \n + @ Test \n + public void onFrameReady _ whenInvisible _ setVisibleLater ( ) { \n + loader = createGifFrameLoader ( / * handler = * / null ) ; \n + / / The target is invisible at this point . \n + loader . unsubscribe ( callback ) ; \n + loader . setNextStartFromFirstFrame ( ) ; \n + DelayTarget loaded = mock ( DelayTarget . class ) ; \n + when ( loaded . getResource ( ) ) . thenReturn ( Bitmap . createBitmap ( 100 , 100 , Bitmap . Config . ARGB _ 8888 ) ) ; \n + loader . onFrameReady ( loaded ) ; \n + loader . subscribe ( callback ) ; \n + } \n + \n
build . gradle \n - boolean bwc _ tests _ enabled = false \n - String bwc _ tests _ disabled _ issue = " https : / / github . com / elastic / elasticsearch / pull / 68762 " / * place a PR link here when committing bwc changes * / \n + boolean bwc _ tests _ enabled = true \n + String bwc _ tests _ disabled _ issue = " " / * place a PR link here when committing bwc changes * / \n x - pack \ plugin \ core \ src \ main \ java \ org \ elasticsearch \ xpack \ core \ ilm \ SearchableSnapshotAction . java \n - if ( in . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( in . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n - if ( out . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( out . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n
x - pack \ qa \ full - cluster - restart \ src \ test \ java \ org \ elasticsearch \ xpack \ restart \ FullClusterRestartIT . java \n - import java . util . Date ; \n - . field ( " @ timestamp " , new Date ( ) ) \n + . field ( " @ timestamp " , System . currentTimeMillis ( ) ) \n + / / It ' s quite possible that this test will run where the data stream backing index is \n + / / created on one day , and then checked on a subsequent day . To avoid this failing the \n + / / test , we store the timestamp used when the document is indexed , then when we go to \n + / / check the backing index name , we retrieve the time and use it for the backing index \n + / / name resolution . \n + Request getDoc = new Request ( " GET " , " / ds / _ search " ) ; \n + Map < String , Object > doc = entityAsMap ( client ( ) . performRequest ( getDoc ) ) ; \n + logger . info ( " - - > doc : { } " , doc ) ; \n + Map < String , Object > hits = ( Map < String , Object > ) doc . get ( " hits " ) ; \n + Map < String , Object > docBody = ( Map < String , Object > ) ( ( List < Object > ) hits . get ( " hits " ) ) . get ( 0 ) ; \n + Long timestamp = ( Long ) ( ( Map < String , Object > ) docBody . get ( " _ source " ) ) . get ( " @ timestamp " ) ; \n + logger . info ( " - - > parsed out timestamp of { } " , timestamp ) ; \n + \n - assertEquals ( getOldClusterVersion ( ) . onOrAfter ( Version . V _ 7 _ 11 _ 0 ) \n - ? DataStream . getDefaultBackingIndexName ( " ds " , 1 ) \n - : DataStream . getLegacyDefaultBackingIndexName ( " ds " , 1 ) , \n - indices . get ( 0 ) . get ( " index _ name " ) ) ; \n + assertEquals ( DataStream . getDefaultBackingIndexName ( " ds " , 1 , timestamp , getOldClusterVersion ( ) ) , indices . get ( 0 ) . get ( " index _ name " ) ) ; \n
x - pack \ plugin \ ilm \ qa \ multi - node \ src \ javaRestTest \ java \ org \ elasticsearch \ xpack \ ilm \ TimeSeriesLifecycleActionsIT . java \n + import org . elasticsearch . index . engine . EngineConfig ; \n - assertThat ( getNumberOfSegments ( client ( ) , index ) , equalTo ( 1 ) ) ; \n + assertThat ( settings . get ( EngineConfig . INDEX _ CODEC _ SETTING . getKey ( ) ) , equalTo ( codec ) ) ; \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 65171 " ) \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ CreateFunctionTask . java \n + import com . facebook . presto . spi . PrestoException ; \n + import com . facebook . presto . spi . function . SqlFunctionHandle ; \n + import com . facebook . presto . sql . analyzer . Analysis ; \n + import static com . facebook . presto . spi . StandardErrorCode . NOT _ SUPPORTED ; \n - analyzer . analyze ( statement ) ; \n + Analysis analysis = analyzer . analyze ( statement ) ; \n + if ( analysis . getFunctionHandles ( ) . values ( ) . stream ( ) \n + . anyMatch ( SqlFunctionHandle . class : : isInstance ) ) { \n + throw new PrestoException ( NOT _ SUPPORTED , " Invoking a dynamically registered function in SQL function body is not supported " ) ; \n + } \n + \n presto - tests \ src \ test \ java \ com \ facebook \ presto \ tests \ TestSqlFunctions . java \n + @ Test \n + public void testNestedSqlFunctions ( ) \n + { \n + assertQuerySucceeds ( " CREATE FUNCTION testing . common . a ( ) RETURNS int RETURN 1 " ) ; \n + assertQueryFails ( \n + " CREATE FUNCTION testing . common . b ( ) RETURNS int RETURN testing . common . a ( ) " , \n + " Invoking a SQL function in SQL function body is not yet supported " ) ; \n + } \n + \n
pom . xml \n - < version > 1 . 4 . 197 < / version > \n + < version > 1 . 4 . 199 < / version > \n presto - hive \ src \ test \ java \ com \ facebook \ presto \ hive \ TestHivePushdownFilterQueries . java \n - " CASE WHEN orderkey % 13 = 0 THEN null ELSE ( ( orderkey , partkey ) , ( suppkey , ) , CASE WHEN orderkey % 17 = 0 THEN null ELSE ( orderkey , partkey ) END ) END AS nested _ keys , \ n " + \n + " CASE WHEN orderkey % 13 = 0 THEN null ELSE ARRAY [ ARRAY [ orderkey , partkey ] , ARRAY [ suppkey ] , CASE WHEN orderkey % 17 = 0 THEN null ELSE ARRAY [ orderkey , partkey ] END ] END AS nested _ keys , \ n " + \n presto - resource - group - managers \ src \ test \ java \ com \ facebook \ presto \ resourceGroups \ db \ TestDbResourceGroupConfigurationManager . java \n + import org . h2 . jdbc . JdbcSQLIntegrityConstraintViolationException ; \n - assertTrue ( ex . getCause ( ) instanceof org . h2 . jdbc . JdbcSQLException ) ; \n + assertTrue ( ex . getCause ( ) instanceof JdbcSQLIntegrityConstraintViolationException ) ; \n - assertTrue ( ex . getCause ( ) instanceof org . h2 . jdbc . JdbcSQLException ) ; \n + assertTrue ( ex . getCause ( ) instanceof JdbcSQLIntegrityConstraintViolationException ) ; \n presto - resource - group - managers \ src \ test \ java \ com \ facebook \ presto \ resourceGroups \ db \ TestResourceGroupsDao . java \n - import org . h2 . jdbc . JdbcSQLException ; \n + import org . h2 . jdbc . JdbcSQLIntegrityConstraintViolationException ; \n - assertTrue ( ex . getCause ( ) instanceof JdbcSQLException ) ; \n + assertTrue ( ex . getCause ( ) instanceof JdbcSQLIntegrityConstraintViolationException ) ; \n - assertTrue ( ex . getCause ( ) instanceof JdbcSQLException ) ; \n + assertTrue ( ex . getCause ( ) instanceof JdbcSQLIntegrityConstraintViolationException ) ; \n presto - tests \ src \ main \ java \ com \ facebook \ presto \ tests \ AbstractTestQueries . java \n - assertQuery ( " " + \n - " SELECT TIME , TIMESTAMP , DATE , INTERVAL \ n " + \n - " FROM ( SELECT 1 TIME , 2 TIMESTAMP , 3 DATE , 4 INTERVAL ) " ) ; \n + assertQuery ( \n + " SELECT TIME , TIMESTAMP , DATE , INTERVAL FROM ( SELECT 1 TIME , 2 TIMESTAMP , 3 DATE , 4 INTERVAL ) " , \n + " SELECT 1 , 2 , 3 , 4 " ) ; \n
new file \n presto - thrift - spec \ src \ main \ java \ com \ facebook \ presto \ PrestoThriftSpecDummy . java \n + / * \n + * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + * you may not use this file except in compliance with the License . \n + * You may obtain a copy of the License at \n + * \n + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + * \n + * Unless required by applicable law or agreed to in writing , software \n + * distributed under the License is distributed on an " AS IS " BASIS , \n + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + * See the License for the specific language governing permissions and \n + * limitations under the License . \n + * / \n + package com . facebook . presto ; \n + \n + / * * \n + * This class exists to force the creation of a jar for the presto - thrift - spec module . \n + * This is needed to deploy the presto - thrift - spec module to Nexus . \n + * / \n + public class PrestoThriftSpecDummy \n + { \n + } \n
kotlin - native \ performance \ gradle . properties \n + org . gradle . jvmargs = - Xmx2048m \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ KonanLoweringPhases . kt \n + ) \n + \n + internal val computeStringTrimPhase = makeKonanFileLoweringPhase ( \n + : : StringTrimLowering , \n + name = " StringTrimLowering " , \n + description = " Compute trimIndent and trimMargin operations on constant strings " \n kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ ToplevelPhases . kt \n + computeStringTrimPhase , \n kotlin - native \ backend . native \ tests \ build . gradle \n + task stringTrim ( type : KonanLocalTest ) { \n + source = " codegen / stringTrim / stringTrim . kt " \n + } \n + \n new file \n kotlin - native \ backend . native \ tests \ codegen \ stringTrim \ stringTrim . kt \n + / * \n + * Copyright 2010 - 2021 JetBrains s . r . o . Use of this source code is governed by the Apache 2 . 0 license \n + * that can be found in the LICENSE file . \n + * / \n + \n + package codegen . stringTrim . stringTrim \n + \n + import kotlin . test . * \n + \n + / / TODO : check IR \n + fun constantIndent ( ) : String { \n + return " " " \n + Hello , \n + World \n + " " " . trimIndent ( ) \n + } \n + \n + fun constantMargin ( ) : String { \n + return " " " \n + | Hello , \n + | World \n + " " " . trimMargin ( ) \n + } \n + \n + @ Test \n + fun runTest ( ) { \n + assertTrue ( constantIndent ( ) = = = constantIndent ( ) ) \n + assertTrue ( constantMargin ( ) = = = constantMargin ( ) ) \n + } \n + \n
kotlin - native \ Interop \ StubGenerator \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ native \ interop \ gen \ jvm \ InteropLibraryCreation . kt \n - val unzippedDir = if ( nopack ) libFile else org . jetbrains . kotlin . konan . file . createTempDir ( moduleName ) \n + val unzippedDir = if ( nopack ) libFile else org . jetbrains . kotlin . konan . file . createTempDir ( " klib " ) \n kotlin - native \ shared \ src \ library \ kotlin \ org \ jetbrains \ kotlin \ konan \ library \ impl \ KonanLibraryWriterImpl . kt \n - val unzippedDir = if ( nopack ) libFile else org . jetbrains . kotlin . konan . file . createTempDir ( moduleName ) \n + val unzippedDir = if ( nopack ) libFile else org . jetbrains . kotlin . konan . file . createTempDir ( " klib " ) \n
dubbo - cluster \ src \ main \ java \ org \ apache \ dubbo \ rpc \ cluster \ Configurator . java \n + @ Override \n dubbo - cluster \ src \ main \ java \ org \ apache \ dubbo \ rpc \ cluster \ router \ AbstractRouter . java \n + @ Override \n dubbo - compatible \ src \ main \ java \ com \ alibaba \ dubbo \ rpc \ Protocol . java \n - < T > Exporter < T > export ( Invoker < T > invoker ) throws RpcException ; \n + < T > Exporter < T > export ( Invoker < T > invoker ) throws RpcException ; \n + @ Override \n + @ Override \n dubbo - compatible \ src \ main \ java \ org \ apache \ dubbo \ config \ spring \ beans \ factory \ annotation \ CompatibleReferenceBeanBuilder . java \n - \n - \n + @ Override \n - ApplicationContext applicationContext ) { \n + ApplicationContext applicationContext ) { \n dubbo - config \ dubbo - config - spring \ src \ main \ java \ org \ apache \ dubbo \ config \ spring \ beans \ factory \ annotation \ AnnotationInjectedBeanPostProcessor . java \n + @ Override \n + @ Override \n dubbo - config \ dubbo - config - spring \ src \ main \ java \ org \ apache \ dubbo \ config \ spring \ beans \ factory \ annotation \ ReferenceBeanBuilder . java \n - \n + @ Override \n dubbo - remoting \ dubbo - remoting - zookeeper \ src \ main \ java \ org \ apache \ dubbo \ remoting \ zookeeper \ curator \ CuratorZookeeperTransporter . java \n - \n + @ Override \n dubbo - remoting \ dubbo - remoting - zookeeper \ src \ main \ java \ org \ apache \ dubbo \ remoting \ zookeeper \ support \ AbstractZookeeperTransporter . java \n + @ Override \n dubbo - remoting \ dubbo - remoting - zookeeper \ src \ main \ java \ org \ apache \ dubbo \ remoting \ zookeeper \ zkclient \ ZkclientZookeeperTransporter . java \n - \n + @ Override \n
dubbo - config \ dubbo - config - api \ src \ test \ java \ org \ apache \ dubbo \ config \ ServiceConfigTest . java \n - \n + import java . util . concurrent . TimeUnit ; \n + import static org . junit . jupiter . api . Assertions . assertTrue ; \n - \n + private ServiceConfig < DemoServiceImpl > delayService = new ServiceConfig < DemoServiceImpl > ( ) ; \n + delayService . setProvider ( provider ) ; \n + delayService . setApplication ( app ) ; \n + delayService . setRegistry ( registry ) ; \n + delayService . setInterface ( DemoService . class ) ; \n + delayService . setRef ( new DemoServiceImpl ( ) ) ; \n + delayService . setMethods ( Collections . singletonList ( method ) ) ; \n + delayService . setDelay ( 100 ) ; \n + \n + \n + @ Test \n + public void testDelayExport ( ) throws Exception { \n + delayService . export ( ) ; \n + assertTrue ( delayService . getExportedUrls ( ) . isEmpty ( ) ) ; \n + / / add 300ms to ensure that the delayService has been exported \n + TimeUnit . MILLISECONDS . sleep ( delayService . getDelay ( ) + 300 ) ; \n + assertThat ( delayService . getExportedUrls ( ) , hasSize ( 1 ) ) ; \n + } \n + \n
dubbo - plugin \ dubbo - qos \ src \ main \ java \ org \ apache \ dubbo \ qos \ protocol \ QosProtocolWrapper . java \n - boolean qosEnable = url . getParameter ( QOS _ ENABLE , true ) ; \n + if ( ! hasStarted . compareAndSet ( false , true ) ) { \n + return ; \n + } \n + \n + boolean qosEnable = url . getParameter ( QOS _ ENABLE , true ) ; \n - if ( ! hasStarted . compareAndSet ( false , true ) ) { \n - return ; \n - } \n - \n - boolean acceptForeignIp = Boolean . parseBoolean ( url . getParameter ( ACCEPT _ FOREIGN _ IP , " false " ) ) ; \n + boolean acceptForeignIp = Boolean . parseBoolean ( url . getParameter ( ACCEPT _ FOREIGN _ IP , " false " ) ) ; \n dubbo - plugin \ dubbo - qos \ src \ main \ java \ org \ apache \ dubbo \ qos \ server \ Server . java \n - boss = new NioEventLoopGroup ( 0 , new DefaultThreadFactory ( " qos - boss " , true ) ) ; \n + boss = new NioEventLoopGroup ( 1 , new DefaultThreadFactory ( " qos - boss " , true ) ) ; \n
annotation \ compiler \ src \ main \ java \ com \ bumptech \ glide \ annotation \ compiler \ GlideAnnotationProcessor . java \n - return true ; \n + return false ; \n - return true ; \n + return false ; \n
third _ party \ turbine \ turbine _ direct . jar \n Binary files a / third _ party / turbine / turbine _ direct . jar and b / third _ party / turbine / turbine _ direct . jar differ \n
third _ party \ turbine \ turbine _ direct . jar \n Binary files a / third _ party / turbine / turbine _ direct . jar and b / third _ party / turbine / turbine _ direct . jar differ \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ rpc \ model \ ConsumerModel . java \n - / / Assert . notNull ( proxyObject , " Proxy object can ' t be null " ) ; \n - * @ param method metodName \n + * @ param method methodName \n
dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ proxy \ AbstractProxyInvoker . java \n - CompletableFuture < Object > future = wrapWithFuture ( value , invocation ) ; \n + CompletableFuture < Object > future = wrapWithFuture ( value ) ; \n - private CompletableFuture < Object > wrapWithFuture ( Object value , Invocation invocation ) { \n + private CompletableFuture < Object > wrapWithFuture ( Object value ) { \n
dubbo - plugin \ dubbo - qos \ src \ main \ java \ org \ apache \ dubbo \ qos \ command \ impl \ Ready . java \n - @ Cmd ( name = " start " , summary = " Judge if service has started ? " ) \n + @ Cmd ( name = " ready " , summary = " Judge if service has started ? " ) \n
docs \ reference \ ml \ anomaly - detection \ ml - delayed - data - detection . asciidoc \n - Delayed data are documents that are indexed late . That is to say , it is data \n - related to a time that the { dfeed } has already processed . \n + Delayed data are documents that are indexed late . That is to say , it is data \n + related to a time that your { dfeed } has already processed and it is therefore \n + never analyzed by your { anomaly - job } . \n - \n
docs \ reference \ transform \ apis \ preview - transform . asciidoc \n + beta : [ ] \n + \n docs \ reference \ transform \ apis \ put - transform . asciidoc \n + beta : [ ] \n + \n
docs \ reference \ ml \ ml - shared . asciidoc \n - Advanced configuration option . { ml } uses loss guided tree growing . \n + Advanced configuration option . { ml - cap } uses loss guided tree growing . \n - Advanced configuration option . { ml } uses loss guided tree growing . \n - This means that trees will grow where the regularized loss reduces \n - the most . The regularized loss increases quickly where the tree depth \n - exceeds this parameter . This is a soft limit , it can be exceeded . \n - Values must be greater than or equal to 0 . \n - By default , this value is calculated during hyperparameter optimization . \n + Advanced configuration option . { ml - cap } uses loss guided tree growing , which \n + means that the decision trees grow where the regularized loss decreases most quickly . This \n + soft limit combines with the ` soft _ tree _ depth _ tolerance ` to penalize trees that \n + exceed the specified depth ; the regularized loss increases quickly beyond this \n + depth . Values must be greater than or equal to 0 . By default , this value is \n + calculated during hyperparameter optimization . \n - Advanced configuration option . \n - This controls how quickly the regularized loss increases when the tree \n - depth exceeds ` soft _ tree _ depth _ limit ` . \n - Values must be greater than or equal to 0 . 01 . \n - By default , this value is calculated during hyperparameter optimization . \n + Advanced configuration option . This option controls how quickly the regularized \n + loss increases when the tree depth exceeds ` soft _ tree _ depth _ limit ` . Values must \n + be greater than or equal to 0 . 01 . By default , this value is calculated during \n + hyperparameter optimization . \n
services \ tests \ servicestests \ src \ com \ android \ server \ net \ watchlist \ NetworkWatchlistServiceTests . java \n + import android . net . LinkProperties ; \n + import android . net . Network ; \n + import android . net . NetworkCapabilities ; \n + \n + / / TODO : mark @ Override when aosp / 1541935 automerges to master . \n + public void logDefaultNetworkValidity ( boolean valid ) { \n + } \n + \n + / / TODO : mark @ Override when aosp / 1541935 automerges to master . \n + public void logDefaultNetworkEvent ( Network defaultNetwork , int score , boolean validated , \n + LinkProperties lp , NetworkCapabilities nc , Network previousDefaultNetwork , \n + int previousScore , LinkProperties previousLp , NetworkCapabilities previousNc ) { \n + } \n
services \ core \ java \ com \ android \ server \ connectivity \ QosCallbackTracker . java \n - import android . util . Slog ; \n + import android . util . Log ; \n - Slog . d ( TAG , msg ) ; \n + Log . d ( TAG , msg ) ; \n - Slog . w ( TAG , msg ) ; \n + Log . w ( TAG , msg ) ; \n - Slog . e ( TAG , msg ) ; \n + Log . e ( TAG , msg ) ; \n - Slog . wtf ( TAG , msg ) ; \n + Log . wtf ( TAG , msg ) ; \n
core \ api \ module - lib - current . txt \n + public final class VpnTransportInfo implements android . os . Parcelable android . net . TransportInfo { \n + ctor public VpnTransportInfo ( int ) ; \n + method public int describeContents ( ) ; \n + method public void writeToParcel ( @ NonNull android . os . Parcel , int ) ; \n + field @ NonNull public static final android . os . Parcelable . Creator < android . net . VpnTransportInfo > CREATOR ; \n + field public final int type ; \n + } \n + \n rename from core \ java \ android \ net \ VpnTransportInfo . java \n rename to packages \ Connectivity \ framework \ src \ android \ net \ VpnTransportInfo . java \n + import static android . annotation . SystemApi . Client . MODULE _ LIBRARIES ; \n + \n - import android . annotation . Nullable ; \n + import android . annotation . SystemApi ; \n - / * * @ hide * / \n + / * * \n + * Container for VPN - specific transport information . \n + * \n + * @ see android . net . TransportInfo \n + * @ see NetworkCapabilities # getTransportInfo ( ) \n + * \n + * @ hide \n + * / \n + @ SystemApi ( client = MODULE _ LIBRARIES ) \n
server \ src \ main \ java \ org \ elasticsearch \ index \ mapper \ Mapper . java \n + public RuntimeFieldType . Parser runtimeFieldTypeParser ( String type ) { \n + return runtimeTypeParsers . apply ( type ) ; \n + } \n + \n - protected Function < String , TypeParser > typeParsers ( ) { return typeParsers ; } \n - \n - protected Function < String , RuntimeFieldType . Parser > runtimeTypeParsers ( ) { return runtimeTypeParsers ; } \n - \n server \ src \ main \ java \ org \ elasticsearch \ index \ mapper \ RuntimeFieldType . java \n - Parser typeParser = parserContext . runtimeTypeParsers ( ) . apply ( type ) ; \n + Parser typeParser = parserContext . runtimeFieldTypeParser ( type ) ; \n
x - pack \ plugin \ runtime - fields \ qa \ build . gradle \n - ' search / 115 _ multiple _ field _ collapsing / two levels fields collapsing ' , / / Broken . Gotta fix . \n + ' search . aggregation / 40 _ range / Date range ' , / / source only date field should also emit values for numbers , it expects strings only \n + ' search / 115 _ multiple _ field _ collapsing / two levels fields collapsing ' , / / Field collapsing on a runtime field does not work \n + / / distance feature query needs to be implemented for geo _ point runtime field : https : / / github . com / elastic / elasticsearch / issues / 67910 \n + ' search / 250 _ distance _ feature / test distance _ feature query on geo _ point type ' , \n + / / completion suggester does not return options when the context field is a geo _ point runtime field \n + ' suggest / 30 _ context / Multi contexts should work ' , \n - ' search . aggregation / 10 _ histogram / * ' , / / Runtime fields don ' t support sub - fields \n + / / Runtime fields don ' t support sub - fields \n + ' search . aggregation / 10 _ histogram / * ' , \n + ' suggest / 50 _ completion _ with _ multi _ fields / Search by suggestion on geofield - hash on sub field should work ' , \n x - pack \ plugin \ runtime - fields \ qa \ src \ main \ java \ org \ elasticsearch \ xpack \ runtimefields \ test \ CoreTestTranslater . java \n + import org . elasticsearch . index . mapper . GeoPointFieldMapper ; \n - / / TODO geo _ points are missing \n + GeoPointFieldMapper . CONTENT _ TYPE , \n - * runtime fields don ' t support text , and from a dynamic template a field can either be runtime of concrete . \n + * runtime fields don ' t support text , and from a dynamic template a field can either be runtime or concrete . \n - * Ip fields never get dynamically mapped so they ' ll just look like strings . \n + * Ip and geo _ point fields never get dynamically mapped so they ' ll just look like strings . \n - if ( type . equals ( IpFieldMapper . CONTENT _ TYPE ) | | type . equals ( KeywordFieldMapper . CONTENT _ TYPE ) ) { \n + if ( type . equals ( IpFieldMapper . CONTENT _ TYPE ) \n + | | type . equals ( GeoPointFieldMapper . CONTENT _ TYPE ) \n + | | type . equals ( KeywordFieldMapper . CONTENT _ TYPE ) ) { \n
server \ src \ main \ java \ org \ elasticsearch \ common \ compress \ CompressedXContent . java \n - builder . startObject ( ) ; \n + if ( xcontent . isFragment ( ) ) { \n + builder . startObject ( ) ; \n + } \n - builder . endObject ( ) ; \n + if ( xcontent . isFragment ( ) ) { \n + builder . endObject ( ) ; \n + } \n server \ src \ test \ java \ org \ elasticsearch \ common \ compress \ DeflateCompressedXContentTests . java \n + import org . elasticsearch . common . xcontent . ToXContent ; \n + import org . elasticsearch . common . xcontent . ToXContentFragment ; \n + import org . elasticsearch . common . xcontent . ToXContentObject ; \n + import org . elasticsearch . common . xcontent . XContentType ; \n + public void testToXContentObject ( ) throws IOException { \n + ToXContentObject toXContentObject = ( builder , params ) - > { \n + builder . startObject ( ) ; \n + builder . endObject ( ) ; \n + return builder ; \n + } ; \n + CompressedXContent compressedXContent = new CompressedXContent ( toXContentObject , XContentType . JSON , ToXContent . EMPTY _ PARAMS ) ; \n + assertEquals ( " { } " , compressedXContent . string ( ) ) ; \n + } \n + \n + public void testToXContentFragment ( ) throws IOException { \n + ToXContentFragment toXContentFragment = ( builder , params ) - > builder . field ( " field " , " value " ) ; \n + CompressedXContent compressedXContent = new CompressedXContent ( toXContentFragment , XContentType . JSON , ToXContent . EMPTY _ PARAMS ) ; \n + assertEquals ( " { \ " field \ " : \ " value \ " } " , compressedXContent . string ( ) ) ; \n + } \n
src \ main \ java \ io \ vertx \ core \ json \ JsonObject . java \n - * Faster than calling ` new JsonObject ( Json . encode ( pojo ) ) ` . \n + * Faster than calling ` new JsonObject ( Json . encode ( obj ) ) ` . \n
src \ test \ java \ io \ vertx \ test \ core \ JsonPOJOMapperTest . java \n - JsonObject jsonObject = JsonObject . mapFrom ( myObj1 ) ; \n - String jsonStr = jsonObject . encode ( ) ; \n + JsonObject jsonObject1 = JsonObject . mapFrom ( myObj1 ) ; \n + String jsonStr1 = jsonObject1 . encode ( ) ; \n + " { \ " a \ " : - 1 , \ " b \ " : \ " obj0 \ " , \ " c \ " : { \ " z \ " : [ 7 , 8 ] } , \ " d \ " : [ ] , \ " e \ " : [ 9 ] } " \n - + " ] , \ " e \ " : [ 3 ] } " , jsonStr ) ; \n + + " ] , \ " e \ " : [ 3 ] } " , jsonStr1 ) ; \n - MyType myObj2 = jsonObject . mapTo ( MyType . class ) ; \n - assertEquals ( myObj2 . b , " obj1 " ) ; \n - assertEquals ( myObj2 . d . get ( 0 ) . b , " obj0 " ) ; \n + MyType myObj1Roundtrip = jsonObject1 . mapTo ( MyType . class ) ; \n + assertEquals ( myObj1Roundtrip . a , 5 ) ; \n + assertEquals ( myObj1Roundtrip . b , " obj1 " ) ; \n + assertEquals ( myObj1Roundtrip . c . get ( " x " ) , " 1 " ) ; \n + assertEquals ( myObj1Roundtrip . c . get ( " y " ) , new Integer ( 2 ) ) ; \n + assertEquals ( myObj1Roundtrip . e , Arrays . asList ( 3 ) ) ; \n + MyType myObj0Roundtrip = myObj1Roundtrip . d . get ( 0 ) ; \n + assertEquals ( myObj0Roundtrip . a , - 1 ) ; \n + assertEquals ( myObj0Roundtrip . b , " obj0 " ) ; \n + assertEquals ( myObj0Roundtrip . c . get ( " z " ) , Arrays . asList ( 7 , 8 ) ) ; \n + assertEquals ( myObj0Roundtrip . e , Arrays . asList ( 9 ) ) ; \n
src \ test \ java \ io \ vertx \ test \ core \ JsonPOJOMapperTest . java \n - Thread . currentThread ( ) . setName ( " vert . x - 1 " ) ; \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ ReactInstanceManager . java \n + \n + / / Mark start of bridge loading \n + ReactMarker . logMarker ( ReactMarkerConstants . REACT _ BRIDGE _ LOADING _ START ) ; \n + / / Mark end of bridge loading \n + ReactMarker . logMarker ( ReactMarkerConstants . REACT _ BRIDGE _ LOADING _ END ) ; \n ReactAndroid \ src \ main \ java \ com \ facebook \ react \ bridge \ ReactMarkerConstants . java \n - / / New markers used by bridgeless RN below this line \n - REACT _ INSTANCE _ INIT _ START , \n - REACT _ INSTANCE _ INIT _ END \n + / / New markers used by bridge and bridgeless loading below this line \n + REACT _ BRIDGE _ LOADING _ START , \n + REACT _ BRIDGE _ LOADING _ END , \n + REACT _ BRIDGELESS _ LOADING _ START , \n + REACT _ BRIDGELESS _ LOADING _ END \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ config \ ReactFeatureFlags . java \n + \n + / * * Enables setting layout params to empty to fix a crash * / \n + public static boolean enableSettingEmptyLayoutParams = false ; \n ReactAndroid \ src \ main \ java \ com \ facebook \ react \ views \ text \ ReactTextView . java \n + import com . facebook . react . config . ReactFeatureFlags ; \n - / / Android ' s TextView crashes when it tries to relayout if LayoutParams are \n - / / null ; explicitly set the LayoutParams to prevent this crash . See : \n - / / https : / / github . com / facebook / react - native / pull / 7011 \n - if ( getLayoutParams ( ) = = null ) { \n - setLayoutParams ( EMPTY _ LAYOUT _ PARAMS ) ; \n + if ( ReactFeatureFlags . enableSettingEmptyLayoutParams ) { \n + / / Android ' s TextView crashes when it tries to relayout if LayoutParams are \n + / / null ; explicitly set the LayoutParams to prevent this crash . See : \n + / / https : / / github . com / facebook / react - native / pull / 7011 \n + if ( getLayoutParams ( ) = = null ) { \n + setLayoutParams ( EMPTY _ LAYOUT _ PARAMS ) ; \n + } \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ ReactInstanceManager . java \n - public void onActivityResult ( Activity activity , int requestCode , int resultCode , Intent data ) { \n + public void onActivityResult ( \n + Activity activity , int requestCode , int resultCode , @ Nullable Intent data ) { \n ReactAndroid \ src \ main \ java \ com \ facebook \ react \ ReactRootView . java \n - public void setEventListener ( ReactRootViewEventListener eventListener ) { \n + public void setEventListener ( @ Nullable ReactRootViewEventListener eventListener ) { \n ReactAndroid \ src \ main \ java \ com \ facebook \ react \ devsupport \ DevSupportManagerBase . java \n + private @ Nullable Activity currentActivity ; \n + \n - if ( mRedBoxDialog = = null ) { \n - Activity context = mReactInstanceDevHelper . getCurrentActivity ( ) ; \n + Activity context = mReactInstanceDevHelper . getCurrentActivity ( ) ; \n + if ( mRedBoxDialog = = null | | context ! = currentActivity ) { \n + message ) ; \n - mRedBoxDialog = new RedBoxDialog ( context , DevSupportManagerBase . this , mRedBoxHandler ) ; \n + currentActivity = context ; \n + mRedBoxDialog = \n + new RedBoxDialog ( currentActivity , DevSupportManagerBase . this , mRedBoxHandler ) ; \n
Libraries \ Text \ Text . js \n - onPress ! = null | | onLongPress ! = null | | onStartShouldSetResponder ! = null ; \n + ( onPress ! = null | | \n + onLongPress ! = null | | \n + onStartShouldSetResponder ! = null ) & & \n + restProps . disabled ! = = true ; \n
packages \ rn - tester \ js \ components \ ExamplePage . js \n - import { RNTesterThemeContext } from ' . / RNTesterTheme ' ; \n - \n - const theme = React . useContext ( RNTesterThemeContext ) ; \n - \n - const onAndroid = props . android ; \n - const onIos = props . ios ; \n - const category = props . category ; \n - \n + < Text style = { styles . title } > { props . title } < / Text > \n - < View style = { styles . rowStyle } > \n - < Text style = { { color : theme . SecondaryLabelColor , width : 65 } } > \n - { category | | ' Other ' } \n - < / Text > \n - < View style = { styles . platformLabelStyle } > \n - < Text \n - style = { { \n - color : onIos ? ' # 787878 ' : theme . SeparatorColor , \n - fontWeight : onIos ? ' 500 ' : ' 300 ' , \n - } } > \n - iOS \n - < / Text > \n - < Text \n - style = { { \n - color : onAndroid ? ' # 787878 ' : theme . SeparatorColor , \n - fontWeight : onAndroid ? ' 500 ' : ' 300 ' , \n - } } > \n - Android \n - < / Text > \n - < / View > \n - < / View > \n - paddingTop : 8 , \n + paddingTop : 4 , \n + paddingBottom : 8 , \n + title : { \n + alignSelf : ' center ' , \n + fontSize : 12 , \n + } , \n + description : { \n + fontSize : 16 , \n + paddingTop : 4 , \n + } , \n - description : { \n - marginVertical : 8 , \n - fontSize : 16 , \n - } , \n - docsContainer : { \n - alignContent : ' center ' , \n - justifyContent : ' center ' , \n - } , \n - rowStyle : { \n - flexDirection : ' row ' , \n - justifyContent : ' space - between ' , \n - } , \n - platformLabelStyle : { \n - flexDirection : ' row ' , \n - width : 100 , \n - justifyContent : ' space - between ' , \n - } , \n
Libraries \ Lists \ VirtualizedSectionList . js \n + if ( this . _ listRef = = null ) { \n + return ; \n + } \n - / / $ FlowFixMe Cannot access private property \n + / / $ FlowFixMe [ prop - missing ] Cannot access private property \n - getListRef ( ) : VirtualizedList { \n + getListRef ( ) : ? React . ElementRef < typeof VirtualizedList > { \n - _ listRef : VirtualizedList ; \n + _ listRef : ? React . ElementRef < typeof VirtualizedList > ; \n - / * $ FlowFixMe ( > = 0 . 53 . 0 site = react _ native _ fb , react _ native _ oss ) This comment \n - * suppresses an error when upgrading Flow ' s support for React . To see the \n - * error delete this comment and run Flow . * / \n
backends \ gdx - backend - lwjgl \ src \ com \ badlogic \ gdx \ backends \ lwjgl \ LwjglGL20 . java \n - com . badlogic . gdx . utils . BufferUtils . copy ( v , count , offset , intBuffer ) ; \n + com . badlogic . gdx . utils . BufferUtils . copy ( v , offset , count , intBuffer ) ; \n
gdx \ src \ com \ badlogic \ gdx \ graphics \ glutils \ ImmediateModeRenderer20 . java \n + import com . badlogic . gdx . utils . GdxRuntimeException ; \n + if ( ! program . isCompiled ( ) ) throw new GdxRuntimeException ( " Error compiling shader : " + program . getLog ( ) ) ; \n
gdx \ src \ com \ badlogic \ gdx \ graphics \ Cubemap . java \n + if ( data . isManaged ( ) ) addManagedCubemap ( Gdx . app , this ) ; \n - super ( GL20 . GL _ TEXTURE _ CUBE _ MAP ) ; \n - minFilter = TextureFilter . Nearest ; \n - magFilter = TextureFilter . Nearest ; \n - uWrap = TextureWrap . ClampToEdge ; \n - vWrap = TextureWrap . ClampToEdge ; \n - data = new FacedCubemapData ( positiveX , negativeX , positiveY , negativeY , positiveZ , negativeZ ) ; \n - load ( data ) ; \n + this ( new FacedCubemapData ( positiveX , negativeX , positiveY , negativeY , positiveZ , negativeZ ) ) ; \n
spring - boot - project \ spring - boot - docs \ src \ docs \ asciidoc \ spring - boot - features . adoc \n - WARNING : YAML files cannot be loaded by using the ` @ PropertySource ` or ` @ TestPropertySource ` annotations . \n - So , in the case that you need to load values that way , you need to use a properties file . \n - \n + WARNING : YAML files cannot be loaded by using the ` @ PropertySource ` or ` @ TestPropertySource ` annotations . \n + So , in the case that you need to load values that way , you need to use a properties file . \n + \n
spring - boot - project \ spring - boot \ src \ main \ java \ org \ springframework \ boot \ context \ config \ ConfigDataEnvironment . java \n - * Copyright 2012 - 2020 the original author or authors . \n + * Copyright 2012 - 2021 the original author or authors . \n - mandatoryLocations . addAll ( getMandatoryImports ( contributor ) ) ; \n + if ( contributor . isActive ( activationContext ) ) { \n + mandatoryLocations . addAll ( getMandatoryImports ( contributor ) ) ; \n + } \n spring - boot - project \ spring - boot \ src \ test \ java \ org \ springframework \ boot \ context \ config \ ConfigDataEnvironmentPostProcessorIntegrationTests . java \n - * Copyright 2012 - 2020 the original author or authors . \n + * Copyright 2012 - 2021 the original author or authors . \n + @ Test \n + void runWhenProfileSpecificMandatoryLocationDoesNotExistShouldNotFail ( ) { \n + ConfigurableApplicationContext context = this . application . run ( " - - spring . config . name = testprofiles " , \n + " - - spring . config . location = classpath : configdata / profiles / " ) ; \n + String property = context . getEnvironment ( ) . getProperty ( " my . property " ) ; \n + assertThat ( property ) . isEqualTo ( " fromyamlfile " ) ; \n + } \n + \n + @ Test \n + void runWhenProfileSpecificMandatoryLocationDoesNotExistShouldFailWhenProfileActive ( ) { \n + this . application . setAdditionalProfiles ( " prod " ) ; \n + assertThatExceptionOfType ( ConfigDataResourceNotFoundException . class ) . isThrownBy ( ( ) - > this . application \n + . run ( " - - spring . config . name = testprofiles " , " - - spring . config . location = classpath : configdata / profiles / " ) ) ; \n + } \n + \n spring - boot - project \ spring - boot \ src \ test \ resources \ configdata \ profiles \ testprofiles . yml \n + - - - \n + spring . config . activate . on - profile : prod \n + spring . config . import : file : . / non - existent . yml \n
spring - boot - project \ spring - boot \ src \ main \ java \ org \ springframework \ boot \ context \ config \ StandardConfigDataLocationResolver . java \n + import java . util . ArrayDeque ; \n + import java . util . Deque ; \n - for ( PropertySourceLoader propertySourceLoader : this . propertySourceLoaders ) { \n - for ( String extension : propertySourceLoader . getFileExtensions ( ) ) { \n - StandardConfigDataReference reference = new StandardConfigDataReference ( configDataLocation , \n - directory , directory + name , profile , extension , propertySourceLoader ) ; \n - references . add ( reference ) ; \n + Deque < StandardConfigDataReference > referencesForName = getReferencesForConfigName ( name , configDataLocation , \n + directory , profile ) ; \n + references . addAll ( referencesForName ) ; \n + } \n + return references ; \n + } \n + \n + private Deque < StandardConfigDataReference > getReferencesForConfigName ( String name , \n + ConfigDataLocation configDataLocation , String directory , String profile ) { \n + Deque < StandardConfigDataReference > references = new ArrayDeque < > ( ) ; \n + for ( PropertySourceLoader propertySourceLoader : this . propertySourceLoaders ) { \n + for ( String extension : propertySourceLoader . getFileExtensions ( ) ) { \n + StandardConfigDataReference reference = new StandardConfigDataReference ( configDataLocation , directory , \n + directory + name , profile , extension , propertySourceLoader ) ; \n + if ( ! references . contains ( reference ) ) { \n + references . addFirst ( reference ) ; \n spring - boot - project \ spring - boot \ src \ test \ java \ org \ springframework \ boot \ context \ config \ ConfigDataEnvironmentPostProcessorIntegrationTests . java \n + @ Test \n + void runWhenPropertiesAndYamlShouldPreferProperties ( ) { \n + ConfigurableApplicationContext context = this . application . run ( ) ; \n + String property = context . getEnvironment ( ) . getProperty ( " duplicate " ) ; \n + assertThat ( property ) . isEqualTo ( " properties " ) ; \n + } \n + \n spring - boot - project \ spring - boot \ src \ test \ resources \ application . properties \n + duplicate = properties \n new file \n spring - boot - project \ spring - boot \ src \ test \ resources \ application . yml \n + duplicate : yaml \n
agera \ src \ main \ java \ com \ google \ android \ agera \ Result . java \n + import static java . util . Collections . singletonList ; \n + import java . util . Collections ; \n + import java . util . List ; \n + private transient volatile List < T > list ; \n + @ Nullable \n + this . list = value ! = null ? null : Collections . < T > emptyList ( ) ; \n + \n + / * * \n + * Returns a list containing the value if it is present , or an empty list . \n + * / \n + @ NonNull \n + public List < T > asList ( ) { \n + List < T > list = this . list ; \n + if ( list = = null ) { \n + synchronized ( this ) { \n + list = this . list ; \n + if ( list = = null ) { \n + this . list = list = singletonList ( value ) ; \n + } \n + } \n + } \n + return list ; \n + } \n + \n agera \ src \ test \ java \ com \ google \ android \ agera \ ResultTest . java \n + import static org . hamcrest . Matchers . contains ; \n + import static org . hamcrest . Matchers . empty ; \n - public void shouldVerifyEqualsForSqlDeleteRequest ( ) { \n + public void shouldVerifyEqualsForResult ( ) { \n + \n + @ Test \n + public void shouldReturnEmptyListForAbsent ( ) { \n + assertThat ( ABSENT . asList ( ) , is ( ( empty ( ) ) ) ) ; \n + } \n + \n + @ Test \n + public void shouldReturnEmptyListForFailure ( ) { \n + assertThat ( FAILURE . asList ( ) , is ( ( empty ( ) ) ) ) ; \n + } \n + \n + @ Test \n + public void shouldReturnListWithValueForPresentWithValue ( ) { \n + assertThat ( PRESENT _ WITH _ VALUE . asList ( ) , contains ( VALUE ) ) ; \n + } \n
testapp \ src \ main \ java \ com \ google \ android \ agera \ testapp \ RowHandler . java \n - final LayoutManager layoutManager = recyclerView . getLayoutManager ( ) ; \n - final Parcelable state = itemRowStates . get ( id ) ; \n - layoutManager . onRestoreInstanceState ( state ) ; \n - if ( state = = null ) { \n - layoutManager . scrollToPosition ( 0 ) ; \n - } \n - } \n - \n - @ Override \n - public void onScrollStateChanged ( final RecyclerView recyclerView , final int newState ) { \n - if ( recyclerView ! = null \n - & & recyclerView . getLayoutManager ( ) ! = null ) { \n - itemRowStates . put ( previousStableIds . get ( recyclerView . getAdapter ( ) ) , \n - recyclerView . getLayoutManager ( ) . onSaveInstanceState ( ) ) ; \n - } \n + recyclerView . getLayoutManager ( ) . onRestoreInstanceState ( itemRowStates . get ( id ) ) ; \n + itemRowStates . put ( previousStableIds . get ( adapter ) , \n + recyclerView . getLayoutManager ( ) . onSaveInstanceState ( ) ) ; \n
extensions \ rvdatabinding \ src \ main \ java \ com \ google \ android \ agera \ rvdatabinding \ RecycleConfig . java \n - int CLEAR _ HANDLERS = 2 ; \n + int CLEAR _ HANDLERS = 1 < < 1 ; \n settings . gradle \n - gradle . ext . supportLibraryVersion = ' 25 . 1 . 1 ' \n + gradle . ext . supportLibraryVersion = ' 25 . 2 . 0 ' \n
realm \ realm - library \ src \ main \ cpp \ io _ realm _ OsRealmObjectSchema . cpp \n - JNIEXPORT jlongArray JNICALL Java _ io _ realm _ OsRealmObjectSchema _ nativeGetProperties ( JNIEnv * env , jclass , jlong nativePtr ) \n + JNIEXPORT jlongArray JNICALL Java _ io _ realm _ OsRealmObjectSchema _ nativeCopyProperties ( JNIEnv * env , jclass , jlong nativePtr ) \n - Property property = * it ; \n - tmp [ index ] = reinterpret _ cast < jlong > ( new Property ( std : : move ( property ) ) ) ; \n + tmp [ index ] = reinterpret _ cast < jlong > ( new Property ( * it / * do not move * / ) ) ; \n + + index ; \n + + it ; \n realm \ realm - library \ src \ main \ java \ io \ realm \ OsRealmObjectSchema . java \n - Set < Property > properties = getProperties ( ) ; \n + Set < Property > properties = copyProperties ( ) ; \n - private Set < Property > getProperties ( ) { \n - long [ ] ptrs = nativeGetProperties ( nativePtr ) ; \n + private Set < Property > copyProperties ( ) { \n + long [ ] ptrs = nativeCopyProperties ( nativePtr ) ; \n - static native long [ ] nativeGetProperties ( long nativePtr ) ; \n + static native long [ ] nativeCopyProperties ( long nativePtr ) ; \n
realm \ realm - library \ src \ main \ cpp \ io _ realm _ OsRealmSchema . cpp \n - ObjectSchema object _ schema = * reinterpret _ cast < ObjectSchema * > ( array [ i ] ) ; \n - object _ schemas . push _ back ( std : : move ( object _ schema ) ) ; \n + object _ schemas . push _ back ( * reinterpret _ cast < ObjectSchema * > ( array [ i ] ) ) ; \n - auto object _ schema = * it ; \n - tmp [ index ] = reinterpret _ cast < jlong > ( new ObjectSchema ( std : : move ( object _ schema ) ) ) ; \n + tmp [ index ] = reinterpret _ cast < jlong > ( new ObjectSchema ( * it ) ) ; \n + + index ; \n + + it ; \n
CHANGELOG . md \n - * Crash caused by JNI couldn ' t find ` OsObject . notifyChangeListeners ` when ProGurad is enabled ( # 4461 ) . \n + * Crash caused by JNI couldn ' t find ` OsObject . notifyChangeListeners ` when ProGuard is enabled ( # 4461 ) . \n
realm \ src \ androidTest \ java \ io \ realm \ RealmTest . java \n + public void testGetRealmAfterCompactRealm ( ) { \n + final RealmConfiguration configuration = testRealm . getConfiguration ( ) ; \n + testRealm . close ( ) ; \n + testRealm = null ; \n + Realm . compactRealm ( configuration ) ; \n + testRealm = Realm . getInstance ( configuration ) ; \n + } \n + \n
realm \ src \ main \ java \ io \ realm \ Realm . java \n - } else { \n - loadMediatorClasses ( realm ) ; \n - private static void loadMediatorClasses ( Realm realm ) { \n - RealmProxyMediator mediator = realm . configuration . getSchemaMediator ( ) ; \n - for ( Class < ? extends RealmObject > modelClass : mediator . getModelClasses ( ) ) { \n - realm . columnIndices . addClass ( modelClass , mediator . getColumnIndices ( modelClass ) ) ; \n - } \n - } \n - \n
realm - annotations - processor \ src \ main \ java \ io \ realm \ processor \ RealmVersionChecker . java \n + private static final String REALM _ VERSION _ PATTERN = " \ \ d + \ \ . \ \ d + \ \ . \ \ d + " ; \n - result = rd . readLine ( ) ; \n + String latestVersion = rd . readLine ( ) ; \n + / / if obtained string does not match the pattern , we are in the separate network . \n + if ( latestVersion . matches ( REALM _ VERSION _ PATTERN ) ) { \n + result = latestVersion ; \n + } \n
pom . xml \n - < version > 4 . 13 . 2 < / version > \n + < version > 4 . 13 . 3 - SNAPSHOT < / version > \n - < tag > r4 . 13 . 2 < / tag > \n + < tag > HEAD < / tag > \n
src \ site \ xdoc \ index . xml \n + < li > < a href = " https : / / github . com / junit - team / junit4 / blob / HEAD / doc / ReleaseNotes4 . 13 . 2 . md " > 4 . 13 . 2 < / a > < / li > \n
src \ main \ java \ junit \ runner \ Version . java \n - return " 4 . 13 . 2 - SNAPSHOT " ; \n + return " 4 . 13 . 3 - SNAPSHOT " ; \n
CHANGELOG . md \n - # # 1 . 5 . 0 ( future release ) \n + # # 1 . 4 . 10 \n + \n + - Fixed IP / name resolution errors # 998 \n + - Fixed SNI compatibility \n README . md \n - Version : 1 . 5 . 0 - SNAPSHOT \n + Version : 1 . 4 . 10 - SNAPSHOT \n - compile ' com . loopj . android : android - async - http : 1 . 5 . 0 - SNAPSHOT ' \n + compile ' com . loopj . android : android - async - http : 1 . 4 . 10 - SNAPSHOT ' \n build . gradle \n - version = ' 1 . 5 . 0 - SNAPSHOT ' \n + version = ' 1 . 4 . 10 - SNAPSHOT ' \n gradle . properties \n - VERSION _ NAME = 1 . 5 . 0 - SNAPSHOT \n - VERSION _ CODE = 150 \n + VERSION _ NAME = 1 . 4 . 10 - SNAPSHOT \n + VERSION _ CODE = 1410 \n sample \ src \ main \ AndroidManifest . xml \n - android : versionCode = " 7 " \n - android : versionName = " 1 . 5 . 0 - SNAPSHOT " > \n + android : versionCode = " 8 " \n + android : versionName = " 1 . 4 . 10 - SNAPSHOT " > \n
. travis . yml \n + dist : trusty \n
library \ build . gradle \n + \n + developers { \n + developer { \n + id = ' mareksebera ' \n + name = ' Marek Sebera ' \n + } \n + } \n
settings . gradle \n - id " com . gradle . enterprise " version " 3 . 5 " \n + id " com . gradle . enterprise " version " 3 . 5 . 1 " \n
dev - tools \ atomic _ push . sh \n + WORKING _ DIR = $ ( pwd ) \n - echo > & 2 " You must specify at least two branchs to push . " \n + echo > & 2 " You must specify at least two branches to push . " \n - \n - # Vailidate that script arguments are valid local branch names \n + \n + # Validate that script arguments are valid local branch names \n - \n + \n + # Determine if the branch is checked out to a worktree directory \n + WORKTREE _ DIR = $ ( git worktree list | grep - F [ $ { BRANCH } ] | awk ' { print $ 1 } ' ) \n + \n + # If the branch is checked out to a worktree directory change directory to there \n + if [ - n " $ { WORKTREE _ DIR } " - a " $ { WORKTREE _ DIR } " ! = " $ { WORKING _ DIR } " ] ; then \n + echo " Switching to $ { BRANCH } worktree in $ { WORKTREE _ DIR } " ; \n + cd $ { WORKTREE _ DIR } \n + fi \n + \n - \n + \n - \n + \n - \n + \n + \n + # Change back to original working directory if necessary \n + cd $ { WORKING _ DIR } \n
libs \ plugin - classloader \ build . gradle \n + / / This is only required because : server needs this at runtime . \n + / / We ' ll be removing this in 8 . 0 so for now just publish the JAR to make dependency resolution work . \n + apply plugin : ' elasticsearch . publish ' \n + \n
EventBusPerformance \ AndroidManifest . xml \n - android : minSdkVersion = " 6 " \n + android : minSdkVersion = " 7 " \n + < uses - feature \n + android : name = " android . hardware . touchscreen " \n + android : required = " false " / > \n + \n EventBusPerformance \ project . properties \n - target = android - 4 \n + target = android - 7 \n EventBusPerformance \ res \ values \ strings . xml \n - < string name = " app _ name " > Performance < / string > \n + < string name = " app _ name " > Event Performance < / string > \n
DaoGenerator \ performance \ performance - data . xlsx \n Binary files a / DaoGenerator / performance / performance - data . xlsx and b / DaoGenerator / performance / performance - data . xlsx differ \n PerformanceTestOrmLite \ . classpath \n - < classpathentry kind = " lib " path = " lib / ormlite - android - 4 . 24 . jar " sourcepath = " lib / ormlite - android - 4 . 24 - sources . jar " / > \n - < classpathentry kind = " lib " path = " lib / ormlite - core - 4 . 24 . jar " sourcepath = " C : / Users / Markus / . m2 / repository / com / j256 / ormlite / ormlite - core / 4 . 24 / ormlite - core - 4 . 24 - sources . jar " / > \n + < classpathentry kind = " lib " path = " lib / ormlite - android - 4 . 34 - SNAPSHOT . jar " / > \n + < classpathentry kind = " lib " path = " lib / ormlite - core - 4 . 34 - SNAPSHOT . jar " / > \n deleted file \n PerformanceTestOrmLite \ lib \ ormlite - android - 4 . 24 - sources . jar \n Binary files a / PerformanceTestOrmLite / lib / ormlite - android - 4 . 24 - sources . jar and / dev / null differ \n deleted file \n PerformanceTestOrmLite \ lib \ ormlite - android - 4 . 24 . jar \n Binary files a / PerformanceTestOrmLite / lib / ormlite - android - 4 . 24 . jar and / dev / null differ \n new file \n PerformanceTestOrmLite \ lib \ ormlite - android - 4 . 34 - SNAPSHOT . jar \n Binary files / dev / null and b / PerformanceTestOrmLite / lib / ormlite - android - 4 . 34 - SNAPSHOT . jar differ \n deleted file \n PerformanceTestOrmLite \ lib \ ormlite - core - 4 . 24 - sources . jar \n Binary files a / PerformanceTestOrmLite / lib / ormlite - core - 4 . 24 - sources . jar and / dev / null differ \n deleted file \n PerformanceTestOrmLite \ lib \ ormlite - core - 4 . 24 . jar \n Binary files a / PerformanceTestOrmLite / lib / ormlite - core - 4 . 24 . jar and / dev / null differ \n new file \n PerformanceTestOrmLite \ lib \ ormlite - core - 4 . 34 - SNAPSHOT . jar \n Binary files / dev / null and b / PerformanceTestOrmLite / lib / ormlite - core - 4 . 34 - SNAPSHOT . jar differ \n
DaoCore \ src \ de \ greenrobot \ dao \ AbstractDao . java \n - / * * Performs a standard Android - style query for entities . * / \n + / * * @ deprecated groupBy & having does not make sense for entities . Method will be removed . * / \n
faq . md \n - page - index : 1 \n + page - index : 5 \n - - - \n
rename from data - mapper \ index . md \n rename to data - mapper \ README . md \n
. travis . yml \n - iluwatar @ gmail . com \n + webhooks : \n + urls : \n + - https : / / webhooks . gitter . im / e / 3319623945358a093a6f \n + on _ success : change # options : [ always | never | change ] default : always \n + on _ failure : always # options : [ always | never | change ] default : always \n + on _ start : never # options : [ always | never | change ] default : always \n
EventBus \ src \ org \ greenrobot \ eventbus \ SubscriberMethodFinder . java \n - import android . annotation . TargetApi ; \n - import java . util . logging . Level ; \n - String msg = " Could not inspect methods of " + findState . clazz . getName ( ) + \n - " . Please consider using EventBus annotation processor to avoid reflection . " ; \n - throwLinkageError ( error , msg ) ; \n - return ; \n + String msg = " Could not inspect methods of " + findState . clazz . getName ( ) ; \n + if ( ignoreGeneratedIndex ) { \n + msg + = " . Please consider using EventBus annotation processor to avoid reflection . " ; \n + } else { \n + msg + = " . Please make this class visible to EventBus annotation processor to avoid reflection . " ; \n + } \n + throw new EventBusException ( msg , error ) ; \n - @ TargetApi ( 19 ) \n - private void throwLinkageError ( LinkageError error , String msg ) { \n - try { \n - error = new LinkageError ( msg , error ) ; / / Wrapping only works with Java 7 / Android API 19 \n - } catch ( Throwable ex ) { \n - Logger . Default . get ( ) . log ( Level . SEVERE , msg ) ; / / Can not wrap , log additional info \n - } \n - throw error ; \n - } \n - \n
build . gradle \n - greendaoPlugin : ' org . greenrobot : greendao - gradle - plugin : 3 . 2 . 2 ' \n + greendaoPlugin : ' org . greenrobot : greendao - gradle - plugin : 3 . 3 . 0 ' \n examples \ DaoExample \ build . gradle \n - classpath ' org . greenrobot : greendao - gradle - plugin : 3 . 2 . 2 ' \n + classpath ' org . greenrobot : greendao - gradle - plugin : 3 . 3 . 0 ' \n - implementation ' org . greenrobot : greendao : 3 . 2 . 2 ' \n + implementation ' org . greenrobot : greendao : 3 . 3 . 0 ' \n examples \ RxDaoExample \ build . gradle \n - classpath ' org . greenrobot : greendao - gradle - plugin : 3 . 2 . 2 ' \n + classpath ' org . greenrobot : greendao - gradle - plugin : 3 . 3 . 0 ' \n - implementation ' org . greenrobot : greendao : 3 . 2 . 2 ' \n + implementation ' org . greenrobot : greendao : 3 . 3 . 0 ' \n
README . md \n - \n - - - - - - - - - - - - - - - - - - - \n + * * Note : * * we highly recommend the [ EventBus annotation processor with its subscriber index ] ( https : / / greenrobot . org / eventbus / documentation / subscriber - index / ) . \n + This will avoid some reflection related problems seen in the wild . \n + \n - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ core \ ImagePipeline . java \n + / * * \n + * Returns whether the image is stored in the encoded memory cache . \n + * \n + * @ param uri the uri for the image to be looked up . \n + * @ return true if the image was found in the encoded memory cache , false otherwise \n + * / \n + public boolean isInEncodedMemoryCache ( final Uri uri ) { \n + if ( uri = = null ) { \n + return false ; \n + } \n + Predicate < CacheKey > encodedCachePredicate = predicateForUri ( uri ) ; \n + return mEncodedMemoryCache . contains ( encodedCachePredicate ) ; \n + } \n + \n + / * * \n + * Returns whether the image is stored in the encoded memory cache . \n + * \n + * @ param imageRequest the imageRequest for the image to be looked up . \n + * @ return true if the image was found in the encoded memory cache , false otherwise . \n + * / \n + public boolean isInEncodedMemoryCache ( final ImageRequest imageRequest ) { \n + if ( imageRequest = = null ) { \n + return false ; \n + } \n + final CacheKey cacheKey = mCacheKeyFactory . getEncodedCacheKey ( imageRequest , null ) ; \n + CloseableReference < PooledByteBuffer > ref = mEncodedMemoryCache . get ( cacheKey ) ; \n + try { \n + return CloseableReference . isValid ( ref ) ; \n + } finally { \n + CloseableReference . closeSafely ( ref ) ; \n + } \n + } \n + \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ producers \ PriorityNetworkFetcher . java \n + / * * Size of currentlyFetching queue when this request was added . * / \n + final int currentlyFetchingCountWhenCreated ; \n + \n - int lowPriCountWhenCreated ) { \n + int lowPriCountWhenCreated , \n + int currentlyFetchingCountWhenCreated ) { \n + this . currentlyFetchingCountWhenCreated = currentlyFetchingCountWhenCreated ; \n - mLowPriQueue . size ( ) ) ; \n + mLowPriQueue . size ( ) , \n + mCurrentlyFetching . size ( ) ) ; \n - extras . put ( " currently _ fetching _ size " , " " + mCurrentlyFetching . size ( ) ) ; \n + extras . put ( " currently _ fetching _ size " , " " + fetchState . currentlyFetchingCountWhenCreated ) ; \n imagepipeline \ src \ test \ java \ com \ facebook \ imagepipeline \ producers \ PriorityNetworkFetcherTest . java \n - / / currentlyFetching size is 1 . \n + / / currentlyFetching size is 0 . \n - assertThat ( fetcher . getExtraMap ( one , 123 ) ) . containsEntry ( " currently _ fetching _ size " , " 1 " ) ; \n + assertThat ( fetcher . getExtraMap ( one , 123 ) ) . containsEntry ( " currently _ fetching _ size " , " 0 " ) ; \n - / / enqueuing a request immediately executes it . Therefore , currentlyFetching size is 2 . \n + / / enqueuing a request immediately executes it . Therefore , currentlyFetching size is 1 . \n - assertThat ( fetcher . getExtraMap ( two , 123 ) ) . containsEntry ( " currently _ fetching _ size " , " 2 " ) ; \n + assertThat ( fetcher . getExtraMap ( two , 123 ) ) . containsEntry ( " currently _ fetching _ size " , " 1 " ) ; \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ producers \ PriorityNetworkFetcher . java \n + fetchState . delayCount + + ; \n + / * * number of times the request was delayed ( inserted to the delay queue ) * / \n + int delayCount = 0 ; \n + \n + extras . put ( " delay _ count " , " " + fetchState . delayCount ) ; \n imagepipeline \ src \ test \ java \ com \ facebook \ imagepipeline \ producers \ PriorityNetworkFetcherTest . java \n + assertThat ( fetcher . getExtraMap ( hipri1 , 123 ) ) . containsEntry ( " delay _ count " , " 0 " ) ; \n + assertThat ( fetcher . getExtraMap ( hipri1 , 123 ) ) . containsEntry ( " delay _ count " , " 1 " ) ; \n + assertThat ( fetcher . getExtraMap ( hipri1 , 123 ) ) . containsEntry ( " delay _ count " , " 0 " ) ; \n + assertThat ( fetcher . getExtraMap ( hipri1 , 123 ) ) . containsEntry ( " delay _ count " , " 1 " ) ; \n
server \ src \ main \ java \ org \ elasticsearch \ cluster \ metadata \ IndexAbstraction . java \n - import org . elasticsearch . common . collect . Tuple ; \n - import java . util . Iterator ; \n - \n - / * * \n - * Returns the unique alias metadata per concrete index . \n - * < p > \n - * ( note that although alias can point to the same concrete indices , each alias reference may have its own routing \n - * and filters ) \n - * / \n - public Iterable < Tuple < String , AliasMetadata > > getConcreteIndexAndAliasMetadatas ( ) { \n - return ( ) - > new Iterator < > ( ) { \n - \n - int index = 0 ; \n - \n - @ Override \n - public boolean hasNext ( ) { \n - return index < referenceIndexMetadatas . size ( ) ; \n - } \n - \n - @ Override \n - public Tuple < String , AliasMetadata > next ( ) { \n - IndexMetadata indexMetadata = referenceIndexMetadatas . get ( index + + ) ; \n - return new Tuple < > ( indexMetadata . getIndex ( ) . getName ( ) , indexMetadata . getAliases ( ) . get ( aliasName ) ) ; \n - } \n - } ; \n - } \n - \n server \ src \ main \ java \ org \ elasticsearch \ cluster \ metadata \ IndexNameExpressionResolver . java \n - import org . elasticsearch . common . collect . Tuple ; \n - IndexAbstraction . Alias alias = ( IndexAbstraction . Alias ) indexAbstraction ; \n - for ( Tuple < String , AliasMetadata > item : alias . getConcreteIndexAndAliasMetadatas ( ) ) { \n - String concreteIndex = item . v1 ( ) ; \n - AliasMetadata aliasMetadata = item . v2 ( ) ; \n + for ( IndexMetadata index : indexAbstraction . getIndices ( ) ) { \n + String concreteIndex = index . getIndex ( ) . getName ( ) ; \n + AliasMetadata aliasMetadata = index . getAliases ( ) . get ( indexAbstraction . getName ( ) ) ; \n
server \ src \ internalClusterTest \ java \ org \ elasticsearch \ aliases \ IndexAliasesIT . java \n - AliasMetadata aliasMetadata = ( ( IndexAbstraction . Alias ) internalCluster ( ) \n - . clusterService ( ) . state ( ) . metadata ( ) . getIndicesLookup ( ) . get ( " alias1 " ) ) . getFirstAliasMetadata ( ) ; \n + IndexAbstraction ia = internalCluster ( ) . clusterService ( ) . state ( ) . metadata ( ) . getIndicesLookup ( ) . get ( " alias1 " ) ; \n + AliasMetadata aliasMetadata = AliasMetadata . getFirstAliasMetadata ( ia ) ; \n server \ src \ main \ java \ org \ elasticsearch \ cluster \ metadata \ AliasMetadata . java \n + public static AliasMetadata getFirstAliasMetadata ( IndexAbstraction ia ) { \n + if ( ia . getType ( ) ! = IndexAbstraction . Type . ALIAS ) { \n + throw new IllegalArgumentException ( " unexpected type : [ " + ia . getType ( ) + " ] " ) ; \n + } \n + \n + return ia . getIndices ( ) . get ( 0 ) . getAliases ( ) . get ( ia . getName ( ) ) ; \n + } \n + \n server \ src \ main \ java \ org \ elasticsearch \ cluster \ metadata \ IndexAbstraction . java \n - public AliasMetadata getFirstAliasMetadata ( ) { \n - return referenceIndexMetadatas . get ( 0 ) . getAliases ( ) . get ( aliasName ) ; \n - } \n - \n server \ src \ main \ java \ org \ elasticsearch \ cluster \ metadata \ Metadata . java \n - IndexAbstraction . Alias alias = ( IndexAbstraction . Alias ) result ; \n - return resolveRouting ( routing , aliasOrIndex , alias . getFirstAliasMetadata ( ) ) ; \n + return resolveRouting ( routing , aliasOrIndex , AliasMetadata . getFirstAliasMetadata ( result ) ) ; \n server \ src \ main \ java \ org \ elasticsearch \ cluster \ metadata \ MetadataMigrateToDataStreamService . java \n - IndexAbstraction . Alias alias = ( IndexAbstraction . Alias ) ia ; \n - \n - if ( alias . getWriteIndex ( ) = = null ) { \n + if ( ia . getWriteIndex ( ) = = null ) { \n - AliasMetadata aliasMetadata = alias . getFirstAliasMetadata ( ) ; \n + AliasMetadata aliasMetadata = AliasMetadata . getFirstAliasMetadata ( ia ) ; \n
x - pack \ plugin \ monitoring \ src \ main \ java \ org \ elasticsearch \ xpack \ monitoring \ exporter \ local \ LocalExporter . java \n + logger . trace ( " installing monitoring watches " ) ; \n + } else { \n + logger . trace ( " skipping installing monitoring watches , watches = [ { } ] , indexExists = [ { } ] , watcherSetup = [ { } ] " , \n + watches , indexExists , watcherSetup . get ( ) ) ; \n + } else { \n + logger . trace ( " watches shouldn ' t be setup , because state = [ { } ] and clusterStateChange = [ { } ] " , state . get ( ) , clusterStateChange ) ; \n + } else { \n + logger . trace ( " watches can ' t be used , because xpack . watcher . enabled = [ { } ] and " + \n + " xpack . monitoring . exporters . _ local . cluster _ alerts . management . enabled = [ { } ] " , \n + XPackSettings . WATCHER _ ENABLED . get ( config . settings ( ) ) , \n + CLUSTER _ ALERTS _ MANAGEMENT _ SETTING . getConcreteSettingForNamespace ( config . name ( ) ) . get ( config . settings ( ) ) ) ; \n + logger . trace ( " adding monitoring watch [ { } ] " , uniqueWatchId ) ; \n x - pack \ plugin \ monitoring \ src \ test \ java \ org \ elasticsearch \ xpack \ monitoring \ action \ TransportMonitoringMigrateAlertsActionTests . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 66586 " ) \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 66586 " ) \n
code \ src \ main \ com \ lmax \ disruptor \ Sequencer . java \n - * number of the slot if there is at least < code > availableCapacity < / code > slots \n + * number of the slot if there is at least < code > requiredCapacity < / code > slots \n - * @ param availableCapacity \n + * @ param requiredCapacity as slots in the data structure \n - * @ throws InsufficientCapacityException \n + * @ throws InsufficientCapacityException when the requiredCapacity is not available \n - public long tryNext ( int availableCapacity ) throws InsufficientCapacityException \n + public long tryNext ( int requiredCapacity ) throws InsufficientCapacityException \n - if ( availableCapacity < 1 ) \n + if ( requiredCapacity < 1 ) \n - throw new IllegalArgumentException ( " Available capacity must be greater than 0 " ) ; \n + throw new IllegalArgumentException ( " Required capacity must be greater than 0 " ) ; \n - return claimStrategy . checkAndIncrement ( availableCapacity , 1 , gatingSequences ) ; \n + return claimStrategy . checkAndIncrement ( requiredCapacity , 1 , gatingSequences ) ; \n
code \ build . xml \n + < compilerarg value = " - XDignore . symbol . file " / > \n + < arg value = " - XDignore . symbol . file " / > \n
code \ src \ main \ com \ lmax \ disruptor \ BatchEventProcessor . java \n - sequence . set ( nextSequence - 1L ) ; \n + sequence . set ( availableSequence ) ; \n
mockwebserver \ src \ main \ java \ okhttp3 \ mockwebserver \ MockWebServer . kt \n - fun takeRequest ( timeout : Long , unit : TimeUnit ) : RecordedRequest = requestQueue . poll ( timeout , unit ) \n + fun takeRequest ( timeout : Long , unit : TimeUnit ) : RecordedRequest ? = requestQueue . poll ( timeout , unit ) \n mockwebserver \ src \ test \ java \ okhttp3 \ mockwebserver \ MockWebServerTest . java \n + import static java . util . concurrent . TimeUnit . MILLISECONDS ; \n + \n + / / Server has no more requests . \n + assertThat ( server . takeRequest ( 100 , MILLISECONDS ) ) . isNull ( ) ; \n okhttp \ src \ test \ java \ okhttp3 \ KotlinSourceModernTest . kt \n - var request : RecordedRequest = mockWebServer . takeRequest ( ) \n - request = mockWebServer . takeRequest ( 0L , TimeUnit . SECONDS ) \n + val request : RecordedRequest = mockWebServer . takeRequest ( ) \n + val nullableRequest : RecordedRequest ? = mockWebServer . takeRequest ( 0L , TimeUnit . SECONDS ) \n
okhttp \ src \ test \ java \ okhttp3 \ CallTest . java \n - sink . writeUtf8 ( " attempt " + ( attempt + + ) ) ; \n + sink . writeUtf8 ( " attempt " + attempt + + ) ; \n - sink . writeUtf8 ( " attempt " + ( attempt + + ) ) ; \n + sink . writeUtf8 ( " attempt " + attempt + + ) ; \n okhttp \ src \ test \ java \ okhttp3 \ OkHttpClientTest . java \n - assertThat ( expected . getMessage ( ) ) . isEqualTo ( ( " protocols must not contain null " ) ) ; \n + assertThat ( expected . getMessage ( ) ) . isEqualTo ( " protocols must not contain null " ) ; \n
okhttp \ src \ main \ java \ okhttp3 \ ConnectionSpec . kt \n - val that = other as ConnectionSpec ? \n - if ( this . isTls ! = that ! ! . isTls ) return false \n + if ( this . isTls ! = other . isTls ) return false \n - if ( ! Arrays . equals ( this . cipherSuitesAsString , that . cipherSuitesAsString ) ) return false \n - if ( ! Arrays . equals ( this . tlsVersionsAsString , that . tlsVersionsAsString ) ) return false \n - if ( this . supportsTlsExtensions ! = that . supportsTlsExtensions ) return false \n + if ( ! Arrays . equals ( this . cipherSuitesAsString , other . cipherSuitesAsString ) ) return false \n + if ( ! Arrays . equals ( this . tlsVersionsAsString , other . tlsVersionsAsString ) ) return false \n + if ( this . supportsTlsExtensions ! = other . supportsTlsExtensions ) return false \n - result = 31 * result + cipherSuitesAsString ! ! . contentHashCode ( ) \n - result = 31 * result + tlsVersionsAsString ! ! . contentHashCode ( ) \n + result = 31 * result + ( cipherSuitesAsString ? . contentHashCode ( ) ? : 0 ) \n + result = 31 * result + ( tlsVersionsAsString ? . contentHashCode ( ) ? : 0 ) \n okhttp \ src \ test \ java \ okhttp3 \ ConnectionSpecTest . java \n + allCipherSuites . hashCode ( ) ; \n + assertThat ( allCipherSuites . equals ( null ) ) . isFalse ( ) ; \n + allTlsVersions . hashCode ( ) ; \n + assertThat ( allTlsVersions . equals ( null ) ) . isFalse ( ) ; \n
presto - common \ src \ main \ java \ com \ facebook \ presto \ common \ SubfieldTokenizer . java \n - return c = = ' : ' | | c = = ' $ ' | | c = = ' - ' | | c = = ' / ' | | c = = ' @ ' | | c = = ' | ' | | isUnquotedSubscriptCharacter ( c ) ; \n + return c = = ' : ' | | c = = ' $ ' | | c = = ' - ' | | c = = ' / ' | | c = = ' @ ' | | c = = ' | ' | | c = = ' ' | | isUnquotedSubscriptCharacter ( c ) ; \n presto - common \ src \ test \ java \ com \ facebook \ presto \ common \ TestSubfieldTokenizer . java \n + assertPath ( new Subfield ( " a and b " , ImmutableList . of ( ) ) ) ; \n
presto - hive \ src \ test \ java \ com \ facebook \ presto \ hive \ TestHiveExternalWorkersQueries . java \n + import java . util . UUID ; \n - Path tempDirectoryPath = Files . createTempDirectory ( TestHiveExternalWorkersQueries . class . getSimpleName ( ) ) ; \n - \n - if ( workerIndex = = 0 ) { \n - / / Write discovery URL to / tmp / config . properties \n - Files . write ( tempDirectoryPath . resolve ( " config . properties " ) , \n - format ( " discovery . uri = % s \ n " , discoveryUri ) . getBytes ( ) ) ; \n - } \n + Path tempDirectoryPath = Files . createTempDirectory ( TestHiveExternalWorkersQueries . class . getSimpleName ( ) ) ; \n + int port = 1234 + workerIndex ; \n + \n + / / Write config files \n + Files . write ( tempDirectoryPath . resolve ( " config . properties " ) , \n + format ( " discovery . uri = % s \ n " + \n + " node . version = testversion \ n " + \n + " http - server . http . port = % d " , discoveryUri , port ) . getBytes ( ) ) ; \n + Files . write ( tempDirectoryPath . resolve ( " node . properties " ) , \n + format ( " node . id = % s \ n " + \n + " node . address = 127 . 0 . 0 . 1 \ n " + \n + " node . environment = testing " , UUID . randomUUID ( ) ) . getBytes ( ) ) ; \n + \n
presto - hive \ src \ test \ java \ com \ facebook \ presto \ hive \ TestHiveExternalWorkersQueries . java \n + Path catalogDirectoryPath = tempDirectoryPath . resolve ( " catalog " ) ; \n + Files . createDirectory ( catalogDirectoryPath ) ; \n + Files . write ( catalogDirectoryPath . resolve ( " hive . properties " ) , " connector . name = hive " . getBytes ( ) ) ; \n + \n
graphics \ java \ android \ graphics \ drawable \ RippleDrawable . java \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 175939224 ) \n
core \ java \ android \ content \ res \ Resources . java \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 176190631 ) \n
core \ java \ android \ app \ ActivityThread . java \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n core \ java \ android \ bluetooth \ BluetoothA2dp . java \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n core \ java \ android \ bluetooth \ BluetoothAdapter . java \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n core \ java \ android \ bluetooth \ BluetoothHeadset . java \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n core \ java \ android \ content \ pm \ IPackageManager . aidl \n - @ UnsupportedAppUsage ( maxTargetSdk = 30 , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n core \ java \ android \ view \ View . java \n - @ UnsupportedAppUsage ( maxTargetSdk = Build . VERSION _ CODES . R , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n telephony \ java \ com \ android \ internal \ telephony \ ITelephony . aidl \n - @ UnsupportedAppUsage ( maxTargetSdk = 30 , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n - @ UnsupportedAppUsage ( maxTargetSdk = 30 , trackingBug = 170729553 ) \n + @ UnsupportedAppUsage ( trackingBug = 171933273 ) \n
fbcore \ src \ main \ java \ com \ facebook \ common \ util \ Hex . java \n + import com . facebook . infer . annotation . Nullsafe ; \n + \n + @ Nullsafe ( Nullsafe . Mode . STRICT ) \n
fbcore \ src \ main \ java \ com \ facebook \ common \ util \ UriUtil . java \n + import static com . facebook . infer . annotation . Assertions . assumeNotNull ; \n + \n + import com . facebook . infer . annotation . Nullsafe ; \n + @ Nullsafe ( Nullsafe . Mode . STRICT ) \n - Uri . withAppendedPath ( ContactsContract . AUTHORITY _ URI , " display _ photo " ) ; \n + Uri . withAppendedPath ( assumeNotNull ( ContactsContract . AUTHORITY _ URI ) , " display _ photo " ) ; \n + if ( uri . getPath ( ) = = null ) { \n + return false ; \n + } \n - & & ! uri . getPath ( ) . startsWith ( LOCAL _ CONTACT _ IMAGE _ URI . getPath ( ) ) ; \n + & & ! uri . getPath ( ) . startsWith ( assumeNotNull ( LOCAL _ CONTACT _ IMAGE _ URI . getPath ( ) ) ) ; \n
fbcore \ src \ main \ java \ com \ facebook \ common \ util \ TriState . java \n + import com . facebook . infer . annotation . Nullsafe ; \n + @ Nullsafe ( Nullsafe . Mode . STRICT ) \n - public static TriState valueOf ( Boolean bool ) { \n + public static TriState valueOf ( @ Nullable Boolean bool ) { \n
AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ helper \ ValidatorHelper . java \n + \n + if ( converters = = null ) { \n + valid . invalidate ( ) ; \n + return ; \n + } \n + \n
AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ processing \ rest \ MethodProcessor . java \n + JVar hashMapVar = generateHashMapVar ( methodHolder ) ; \n + \n - JVar hashMapVar = generateHashMapVar ( methodHolder ) ; \n
AndroidAnnotations \ pom . xml \n - < version > 2 . 7 < / version > \n + < version > 2 . 9 < / version > \n
CHANGELOG . md \n + # # # Version 1 . 5 . 10 ( [ Maven Central ] ( http : / / search . maven . org / # search % 7Cga % 7C1 % 7Cg % 3A % 22com . netflix . hystrix % 22 % 20AND % 20v % 3A % 221 . 5 . 10 % 22 ) , [ Bintray ] ( https : / / bintray . com / netflixoss / maven / Hystrix / 1 . 5 . 10 / ) ) # # # \n + \n + - [ Pull 1489 ] ( https : / / github . com / Netflix / Hystrix / pull / 1489 ) Added rollingMaxConcurrentExecutionCount to CodaHale metrics publisher . Thanks @ LuboVarga ! \n + - [ Pull 1481 ] ( https : / / github . com / Netflix / Hystrix / pull / 1481 ) Add sanity checking to HystrixCommandAspect to debug unreproducible cases . Thanks @ dmgcodevil ! \n + - [ Pull 1482 ] ( https : / / github . com / Netflix / Hystrix / pull / 1482 ) Make it possible to re - use fallback methods in Javanica . ( Addresses # 1446 ) . Thanks @ dmgcodevil ! \n + - [ Pull 1488 ] ( https : / / github . com / Netflix / Hystrix / pull / 1488 ) Fix spelling mistakes in Javanica docs . Thanks @ bltb ! \n + - [ Pull 1475 ] ( https : / / github . com / Netflix / Hystrix / pull / 1475 ) Added example usage of CodaHale metrics publisher . Thanks @ LuboVarga ! \n + - [ Pull 1469 ] ( https : / / github . com / Netflix / Hystrix / pull / 1469 ) Fix possible concurrency bug . Thanks @ petercla ! \n + - [ Pull 1453 ] ( https : / / github . com / Netflix / Hystrix / pull / 1453 ) Add Javanica unit test for NotWrapped checked exception . Thanks @ tbvh ! \n + \n
hystrix - core \ src \ main \ java \ com \ netflix \ hystrix \ AbstractCommand . java \n - / * \n - * Define the action to perform on timeout outside of the TimerListener to it can capture the HystrixRequestContext \n - * of the calling thread which doesn ' t exist on the Timer thread . \n - * / \n - final HystrixContextRunnable timeoutRunnable = new HystrixContextRunnable ( originalCommand . concurrencyStrategy , new Runnable ( ) { \n - \n - @ Override \n - public void run ( ) { \n - child . onError ( new HystrixTimeoutException ( ) ) ; \n - } \n - } ) ; \n + / / capture the HystrixRequestContext upfront so that we can use it in the timeout thread later \n + final HystrixRequestContext hystrixRequestContext = HystrixRequestContext . getContextForCurrentThread ( ) ; \n + final HystrixContextRunnable timeoutRunnable = new HystrixContextRunnable ( originalCommand . concurrencyStrategy , hystrixRequestContext , new Runnable ( ) { \n + \n + @ Override \n + public void run ( ) { \n + child . onError ( new HystrixTimeoutException ( ) ) ; \n + } \n + } ) ; \n + \n + \n hystrix - core \ src \ main \ java \ com \ netflix \ hystrix \ strategy \ concurrency \ HystrixContextRunnable . java \n + this ( concurrencyStrategy , HystrixRequestContext . getContextForCurrentThread ( ) , actual ) ; \n + } \n + \n + public HystrixContextRunnable ( final HystrixConcurrencyStrategy concurrencyStrategy , final HystrixRequestContext hystrixRequestContext , final Runnable actual ) { \n - this . parentThreadState = HystrixRequestContext . getContextForCurrentThread ( ) ; \n + this . parentThreadState = hystrixRequestContext ; \n
CHANGELOG . md \n + # # # Version 1 . 5 . 13 ( [ Maven Central ] ( http : / / search . maven . org / # search % 7Cga % 7C1 % 7Cg % 3A % 22com . netflix . hystrix % 22 % 20AND % 20v % 3A % 221 . 5 . 13 % 22 ) , [ Bintray ] ( https : / / bintray . com / netflixoss / maven / Hystrix / 1 . 5 . 13 / ) ) # # # \n + \n + - [ Pull 1621 ] ( https : / / github . com / Netflix / Hystrix / pull / 1621 ) Fixed bug where an unsubscription of a command in half - open state leaves circuit permanently open \n + - [ Pull 1605 ] ( https : / / github . com / Netflix / Hystrix / pull / 1605 ) Change return value on unsubscribe to Observable . empty ( ) . Thanks @ atoulme ! \n + - [ Pull 1615 ] ( https : / / github . com / Netflix / Hystrix / pull / 1615 ) Updated Gradle to version 4 . 0 . Thanks @ wlsc ! \n + - [ Pull 1616 ] ( https : / / github . com / Netflix / Hystrix / pull / 1616 ) Javanica : Wrong hystrix event type for fallback missing . Thanks @ dmgcodevil ! \n + - [ Pull 1606 ] ( https : / / github . com / Netflix / Hystrix / pull / 1606 ) Escape user entered input to avoid HTML injection . This fixes # 1456 . Thanks @ atoulme ! \n + - [ Pull 1595 ] ( https : / / github . com / Netflix / Hystrix / pull / 1595 ) Possibility to add custom root node for command and thread pool metrics . Thanks @ dstoklosa ! \n + - [ Pull 1587 ] ( https : / / github . com / Netflix / Hystrix / pull / 1587 ) Throw IllegalStateException if request cache is not available when clearing . Thanks @ jack - kerouac ! \n + \n - [ Pull 1586 ] ( https : / / github . com / Netflix / Hystrix / pull / 1586 ) Start streams for CodaHale metric consumer , ot get it actually working \n
hystrix - core \ src \ test \ java \ com \ netflix \ hystrix \ metric \ consumer \ HealthCountsStreamTest . java \n - saturators . add ( CommandStreamTest . Command . from ( groupKey , key , HystrixEventType . SUCCESS , 700 , HystrixCommandProperties . ExecutionIsolationStrategy . SEMAPHORE ) ) ; \n + saturators . add ( CommandStreamTest . Command . from ( groupKey , key , HystrixEventType . SUCCESS , 400 , HystrixCommandProperties . ExecutionIsolationStrategy . SEMAPHORE ) ) ; \n - saturators . add ( CommandStreamTest . Command . from ( groupKey , key , HystrixEventType . SUCCESS , 700 ) ) ; \n + saturators . add ( CommandStreamTest . Command . from ( groupKey , key , HystrixEventType . SUCCESS , 400 ) ) ; \n
hystrix - core \ src \ test \ java \ com \ netflix \ hystrix \ metric \ consumer \ HealthCountsStreamTest . java \n - Thread . sleep ( 100 ) ; \n + Thread . sleep ( 500 ) ; \n
hystrix - core \ src \ jmh \ java \ com \ netflix \ hystrix \ perf \ CommandExecutionAndConcurrentMetricsReadPerfTest . java \n - public Integer writeHeavyReadMetrics ( CommandState state ) { \n + public long writeHeavyReadMetrics ( CommandState state ) { \n - return metrics . getExecutionTimeMean ( ) + metrics . getExecutionTimePercentile ( 50 ) + metrics . getExecutionTimePercentile ( 75 ) + metrics . getExecutionTimePercentile ( 99 ) ; \n + return metrics . getExecutionTimeMean ( ) \n + + metrics . getExecutionTimePercentile ( 50 ) \n + + metrics . getExecutionTimePercentile ( 75 ) \n + + metrics . getExecutionTimePercentile ( 99 ) \n + + metrics . getCumulativeCount ( HystrixEventType . SUCCESS ) \n + + metrics . getRollingCount ( HystrixEventType . FAILURE ) \n + + metrics . getRollingMaxConcurrentExecutions ( ) ; \n - public Integer evenSplitOfWritesAndReadsReadMetrics ( CommandState state ) { \n + public long evenSplitOfWritesAndReadsReadMetrics ( CommandState state ) { \n - return metrics . getExecutionTimeMean ( ) + metrics . getExecutionTimePercentile ( 50 ) + metrics . getExecutionTimePercentile ( 75 ) + metrics . getExecutionTimePercentile ( 99 ) ; \n + return metrics . getExecutionTimeMean ( ) \n + + metrics . getExecutionTimePercentile ( 50 ) \n + + metrics . getExecutionTimePercentile ( 75 ) \n + + metrics . getExecutionTimePercentile ( 99 ) \n + + metrics . getCumulativeCount ( HystrixEventType . SUCCESS ) \n + + metrics . getRollingCount ( HystrixEventType . FAILURE ) \n + + metrics . getRollingMaxConcurrentExecutions ( ) ; \n
src \ main \ java \ org \ junit \ rules \ Verifier . java \n - public class Verifier implements TestRule { \n + public abstract class Verifier implements TestRule { \n
src \ main \ java \ org \ junit \ rules \ TemporaryFolder . java \n - folder = createTemporaryFolderIn ( parentFolder ) ; \n + folder = createTemporaryFolderIn ( parentFolder ) ; \n + public File newFolder ( String folder ) { \n + return newFolder ( new String [ ] { folder } ) ; \n + } \n + \n + / * * \n + * Returns a new fresh folder with the given name ( s ) under the temporary \n + * folder . \n + * / \n src \ test \ java \ org \ junit \ tests \ experimental \ rules \ TempFolderRuleTest . java \n + import java . lang . reflect . Method ; \n - public void testUsingTempFolder ( ) throws IOException { \n + public void testUsingTempFolderStringReflection ( ) throws Exception { \n + / / force usage of folder . newFolder ( String ) , \n + / / check is available and works , to avoid a potential NoSuchMethodError with non - recompiled code . \n + Method method = folder . getClass ( ) . getMethod ( " newFolder " , new Class < ? > [ ] { String . class } ) ; \n + createdFiles [ 0 ] = ( File ) method . invoke ( folder , subfolder ) ; \n + new File ( createdFiles [ 0 ] , filename ) . createNewFile ( ) ; \n + \n + File expectedFile = new File ( folder . getRoot ( ) , join ( subfolder , filename ) ) ; \n + \n + assertTrue ( expectedFile . exists ( ) ) ; \n + } \n + \n + @ Test \n + public void testUsingTempFolderString ( ) throws IOException { \n + String subfolder = " subfolder " ; \n + String filename = " a . txt " ; \n + / / this uses newFolder ( String ) , ensure that a single String works \n - \n + \n - \n + \n
src \ main \ java \ org \ junit \ runners \ Parameterized . java \n - * & # 064 ; Parameters ( name = & quot ; { index } : fib ( { 0 } ) = { 1 } & quot ; ) \n - * public static Iterable & lt ; Object [ ] & gt ; data ( ) { \n - * return Arrays . asList ( new Object [ ] [ ] { { 0 , 0 } , { 1 , 1 } , { 2 , 1 } , \n + * & # 064 ; Parameters ( name = & quot ; { index } : fib [ { 0 } ] = { 1 } & quot ; ) \n + * public static Iterable & lt ; Object [ ] & gt ; data ( ) { \n + * return Arrays . asList ( new Object [ ] [ ] { { 0 , 0 } , { 1 , 1 } , { 2 , 1 } , \n - * private int fInput ; \n + * private int fInput ; \n - * private int fExpected ; \n + * private int fExpected ; \n - * public FibonacciTest ( int input , int expected ) { \n - * fInput = input ; \n - * fExpected = expected ; \n + * public FibonacciTest ( int input , int expected ) { \n + * fInput = input ; \n + * fExpected = expected ; \n - * & # 064 ; Test \n - * public void test ( ) { \n - * assertEquals ( fExpected , Fibonacci . compute ( fInput ) ) ; \n + * & # 064 ; Test \n + * public void test ( ) { \n + * assertEquals ( fExpected , Fibonacci . compute ( fInput ) ) ; \n - * } \n + * } \n + * \n - * } \n + * } \n
android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ NearbyBeaconsFragment . java \n - String siteUrl = mUrlToUrlMetadata . get ( url ) . siteUrl ; \n - if ( siteUrl ! = null ) { \n - / / Open the url in the browser \n - openUrlInBrowser ( siteUrl ) ; \n - } else { \n - Toast . makeText ( getActivity ( ) , " No URL found . " , Toast . LENGTH _ SHORT ) . show ( ) ; \n + String urlToNavigateTo = url ; \n + / / If this url has metadata \n + if ( mUrlToUrlMetadata . get ( url ) ! = null ) { \n + String siteUrl = mUrlToUrlMetadata . get ( url ) . siteUrl ; \n + / / If the metadata has a siteUrl \n + if ( siteUrl ! = null ) { \n + urlToNavigateTo = siteUrl ; \n + } \n + openUrlInBrowser ( urlToNavigateTo ) ; \n android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ UriBeaconDiscoveryService . java \n - if ( ! URLUtil . isNetworkUrl ( url ) ) { \n - url = " http : / / " + url ; \n + String urlToNavigateTo = url ; \n + / / If this url has metadata \n + if ( mUrlToUrlMetadata . get ( url ) ! = null ) { \n + String siteUrl = mUrlToUrlMetadata . get ( url ) . siteUrl ; \n + / / If this metadata has a siteUrl \n + if ( siteUrl ! = null ) { \n + urlToNavigateTo = siteUrl ; \n + } \n + } \n + if ( ! URLUtil . isNetworkUrl ( urlToNavigateTo ) ) { \n + urlToNavigateTo = " http : / / " + urlToNavigateTo ; \n - url = MetadataResolver . createUrlProxyGoLink ( url ) ; \n + urlToNavigateTo = MetadataResolver . createUrlProxyGoLink ( urlToNavigateTo ) ; \n - intent . setData ( Uri . parse ( url ) ) ; \n + intent . setData ( Uri . parse ( urlToNavigateTo ) ) ; \n
deleted file \n android \ PhysicalWeb \ app \ version . properties \n - # Sat Nov 08 08 : 20 : 32 PST 2014 \n - MAJOR = 0 \n - MINOR = 1 \n - BUILD = 801 \n - PATCH = 0 \n
android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ UriBeaconDiscoveryService . java \n + \n + \n - / / If at least one beacon has been found \n - if ( mSortedDevices . size ( ) > 0 ) { \n - / / Create or update a notification for this beacon \n - updateNearbyBeaconNotification ( mDeviceAddressToUrl . get ( mSortedDevices . get ( 0 ) ) , \n - NEAREST _ BEACON _ NOTIFICATION _ ID ) ; \n - } \n + \n + / / Create a summary notification for both beacon notifications . \n + / / Do this first so that we don ' t first show the individual notifications \n + updateSummaryNotification ( ) ; \n - / / Create a summary notification for both beacon notifications \n - updateSummaryNotification ( ) ; \n + } \n + \n + / / If at least one beacon has been found \n + if ( mSortedDevices . size ( ) > 0 ) { \n + / / Create or update a notification for this beacon \n + updateNearbyBeaconNotification ( mDeviceAddressToUrl . get ( mSortedDevices . get ( 0 ) ) , \n + NEAREST _ BEACON _ NOTIFICATION _ ID ) ; \n
rxjava - contrib \ rxjava - android - samples - build - wrapper \ build . gradle \n - def androidHome = System . getenv ( " ANDROID _ HOME " ) \n - if ( androidHome . isEmpty ( ) ) { \n - println ( " No Android SDK detected ; skipping Android samples build " ) \n - } else { \n + def androidHome = System . getenv ( " ANDROID _ HOME " ) \n + if ( project . hasProperty ( ' buildAndroidSamples ' ) & & ! androidHome . isEmpty ( ) ) { \n - } \n + } \n
rxjava - contrib \ rxjava - android - samples \ gradle \ wrapper \ gradle - wrapper . properties \n - # Wed Mar 12 11 : 02 : 06 CET 2014 \n + # Wed Mar 12 12 : 09 : 46 CET 2014 \n - distributionUrl = http \ : / / services . gradle . org / distributions / gradle - 1 . 10 - bin . zip \n + distributionUrl = http \ : / / services . gradle . org / distributions / gradle - 1 . 10 - all . zip \n
rxjava - contrib \ rxjava - android - samples \ samples \ src \ main \ java \ com \ netflix \ rxjava \ android \ samples \ RetainedFragmentActivity . java \n - strings = SampleObservables . fakeApiCall ( 2000 ) . map ( PARSE _ JSON ) . cache ( ) ; \n + / / in retained fragments , it ' s sufficient to bind the fragment in onCreate , since \n + / / Android takes care of detaching the Activity for us , and holding a reference for \n + / / the duration of the observable does not harm . \n + strings = bindFragment ( this , SampleObservables . fakeApiCall ( 2000 ) . map ( PARSE _ JSON ) . cache ( ) ) ; \n - subscription = bindFragment ( this , strings ) . subscribe ( new Action1 < String > ( ) { \n + subscription = strings . subscribe ( new Action1 < String > ( ) { \n
library \ src \ main \ java \ com \ github \ paolorotolo \ appintro \ AppIntroBase . java \n - protected boolean isVibrateOn = false ; \n + \n - protected boolean baseProgressButtonEnabled = true ; \n - protected boolean progressButtonEnabled = true ; \n + protected boolean isVibrateOn = false ; \n + protected boolean baseProgressButtonEnabled = true ; \n + protected boolean progressButtonEnabled = true ; \n + private boolean isGoBackLockEnabled = false ; \n + \n + @ Override \n + public void onBackPressed ( ) \n + { \n + / / Do nothing if goBack lock is enabled \n + if ( ! isGoBackLockEnabled ) { \n + super . onBackPressed ( ) ; \n + } \n + } \n + \n + / * * \n + * Enables / Disables leaving the intro via the device ' s software / hardware back button . \n + * Note , that does does NOT lock swiping back through the slides . \n + * @ param lockEnabled Whether leaving the intro via the phone ' s back button is locked . \n + * / \n + public void setGoBackLock ( boolean lockEnabled ) { \n + isGoBackLockEnabled = lockEnabled ; \n + } \n + \n
build . gradle \n - classpath ' com . android . tools . build : gradle : 1 . 5 . 0 ' \n + classpath ' com . android . tools . build : gradle : 2 . 0 . 0 ' \n example \ build . gradle \n - buildToolsVersion " 23 . 0 . 2 " \n + buildToolsVersion " 23 . 0 . 3 " \n - compile ' com . android . support : appcompat - v7 : 23 . 1 . 1 ' \n + compile ' com . android . support : appcompat - v7 : 23 . 3 . 0 ' \n - androidTestCompile ' com . android . support : appcompat - v7 : 23 . 1 . 1 ' \n + androidTestCompile ' com . android . support : appcompat - v7 : 23 . 3 . 0 ' \n library \ build . gradle \n - buildToolsVersion " 23 . 0 . 2 " \n + buildToolsVersion " 23 . 0 . 3 " \n - compile ' com . android . support : support - v4 : 23 . 1 . 1 ' \n + compile ' com . android . support : support - v4 : 23 . 3 . 0 ' \n - compile ' com . android . support : support - annotations : 23 . 1 . 1 ' \n + compile ' com . android . support : support - annotations : 23 . 3 . 0 ' \n - compile ' com . android . support : appcompat - v7 : 23 . 1 . 1 ' \n + compile ' com . android . support : appcompat - v7 : 23 . 3 . 0 ' \n
LICENSE \n + AppIntro library \n + \n + Copyright 2015 Paolo Rotolo \n + Copyright 2016 Maximilian Narr \n + \n + Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + you may not use this file except in compliance with the License . \n + You may obtain a copy of the License at \n + \n + http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + \n + Unless required by applicable law or agreed to in writing , software \n + distributed under the License is distributed on an " AS IS " BASIS , \n + WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + See the License for the specific language governing permissions and \n + limitations under the License . \n + \n + \n - END OF TERMS AND CONDITIONS \n - \n - APPENDIX : How to apply the Apache License to your work . \n - \n - To apply the Apache License to your work , attach the following \n - boilerplate notice , with the fields enclosed by brackets " { } " \n - replaced with your own identifying information . ( Don ' t include \n - the brackets ! ) The text should be enclosed in the appropriate \n - comment syntax for the file format . We also recommend that a \n - file or class name and description of purpose be included on the \n - same " printed page " as the copyright notice for easier \n - identification within third - party archives . \n - \n - Copyright { 2015 } { Paolo Rotolo } \n - \n - Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n - you may not use this file except in compliance with the License . \n - You may obtain a copy of the License at \n - \n - http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n - \n - Unless required by applicable law or agreed to in writing , software \n - distributed under the License is distributed on an " AS IS " BASIS , \n - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n - See the License for the specific language governing permissions and \n - limitations under the License . \n - \n + END OF TERMS AND CONDITIONS \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ AbstractDwrfEncryptionInformationSource . java \n - fieldToKeyReference = ImmutableMap . of ( DwrfEncryptionMetadata . TABLE _ IDENTIFIER , encryptTable . get ( ) ) ; \n + if ( ! requestedColumns . isPresent ( ) | | ! requestedColumns . get ( ) . isEmpty ( ) ) { \n + fieldToKeyReference = ImmutableMap . of ( DwrfEncryptionMetadata . TABLE _ IDENTIFIER , encryptTable . get ( ) ) ; \n + } \n + else { \n + fieldToKeyReference = ImmutableMap . of ( ) ; \n + } \n presto - hive \ src \ test \ java \ com \ facebook \ presto \ hive \ TestAbstractDwrfEncryptionInformationSource . java \n + @ Test \n + public void testGetReadEncryptionInformationForPartitionedTableWithTableLevelEncryptionAndNoRequestedColumns ( ) \n + { \n + Table table = createTable ( DWRF , Optional . of ( forTable ( " key1 " , " algo " , " provider " ) ) , true ) ; \n + Optional < Map < String , EncryptionInformation > > encryptionInformation = encryptionInformationSource . getReadEncryptionInformation ( \n + SESSION , \n + table , \n + Optional . of ( ImmutableSet . of ( ) ) , \n + ImmutableMap . of ( \n + " ds = 2020 - 01 - 01 " , new Partition ( " dbName " , " tableName " , ImmutableList . of ( " 2020 - 01 - 01 " ) , table . getStorage ( ) , table . getDataColumns ( ) , ImmutableMap . of ( ) ) , \n + " ds = 2020 - 01 - 02 " , new Partition ( " dbName " , " tableName " , ImmutableList . of ( " 2020 - 01 - 02 " ) , table . getStorage ( ) , table . getDataColumns ( ) , ImmutableMap . of ( ) ) ) ) ; \n + \n + assertTrue ( encryptionInformation . isPresent ( ) ) ; \n + assertEquals ( \n + encryptionInformation . get ( ) , \n + ImmutableMap . of ( \n + " ds = 2020 - 01 - 01 " , EncryptionInformation . fromEncryptionMetadata ( DwrfEncryptionMetadata . forPerField ( ImmutableMap . of ( ) , ImmutableMap . of ( TEST _ EXTRA _ METADATA , " ds = 2020 - 01 - 01 " ) , " algo " , " provider " ) ) , \n + " ds = 2020 - 01 - 02 " , EncryptionInformation . fromEncryptionMetadata ( DwrfEncryptionMetadata . forPerField ( ImmutableMap . of ( ) , ImmutableMap . of ( TEST _ EXTRA _ METADATA , " ds = 2020 - 01 - 02 " ) , " algo " , " provider " ) ) ) ) ; \n + } \n + \n
presto - resource - group - managers \ src \ main \ java \ com \ facebook \ presto \ resourceGroups \ db \ ResourceGroupsDao . java \n + " id BIGINT NOT NULL AUTO _ INCREMENT , \ n " + \n + " PRIMARY KEY ( id ) , \ n " + \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ resourceGroups \ InternalResourceGroupManager . java \n - return Math . min ( resourceGroup . getQueuedQueries ( ) , resourceGroup . getSoftConcurrencyLimit ( ) - resourceGroup . getRunningQueries ( ) ) ; \n + return Math . max ( Math . min ( resourceGroup . getQueuedQueries ( ) , resourceGroup . getSoftConcurrencyLimit ( ) - resourceGroup . getRunningQueries ( ) ) , 0 ) ; \n
README . md \n - < dubbo . version > 2 . 7 . 7 < / dubbo . version > \n + < dubbo . version > 2 . 7 . 8 < / dubbo . version > \n
. gitignore \n + # visual - studio - code ignore \n + . vscode / \n + \n
dubbo - config \ dubbo - config - spring \ src \ main \ java \ org \ apache \ dubbo \ config \ spring \ schema \ DubboNamespaceHandler . java \n - import org . apache . dubbo . config . spring . context . DubboBootstrapApplicationListener ; \n - import org . apache . dubbo . config . spring . context . DubboLifecycleComponentApplicationListener ; \n - import com . alibaba . spring . util . AnnotatedBeanDefinitionRegistryUtils ; \n - import org . springframework . context . ApplicationListener ; \n - import static com . alibaba . spring . util . AnnotatedBeanDefinitionRegistryUtils . registerBeans ; \n + import static org . apache . dubbo . config . spring . util . DubboBeanUtils . registerCommonBeans ; \n - registerApplicationListeners ( registry ) ; \n + / * * \n + * @ since 2 . 7 . 8 \n + * issue : https : / / github . com / apache / dubbo / issues / 6275 \n + * / \n + registerCommonBeans ( registry ) ; \n - / * * \n - * Register { @ link ApplicationListener ApplicationListeners } as a Spring Bean \n - * \n - * @ param registry { @ link BeanDefinitionRegistry } \n - * @ see ApplicationListener \n - * @ see AnnotatedBeanDefinitionRegistryUtils # registerBeans ( BeanDefinitionRegistry , Class [ ] ) \n - * @ since 2 . 7 . 5 \n - * / \n - private void registerApplicationListeners ( BeanDefinitionRegistry registry ) { \n - registerBeans ( registry , DubboLifecycleComponentApplicationListener . class ) ; \n - registerBeans ( registry , DubboBootstrapApplicationListener . class ) ; \n - } \n - \n
config \ checkstyle \ checkstyle . xml \n - value = " java . util . GregorianCalendar , java . util . Hashtable , java . util . HashSet , java . util . HashMap , java . util . ArrayList , java . util . LinkedHashSet , java . util . TreeSet , java . util . TreeMap , java . util . Vector " / > \n + value = " java . util . GregorianCalendar , java . util . Hashtable , java . util . Vector " / > \n src \ perftest \ java \ com \ lmax \ disruptor \ queue \ OneToOneQueueBatchedThroughputTest . java \n - import com . lmax . disruptor . support . ValueAdditionQueueProcessor ; \n src \ perftest \ java \ com \ lmax \ disruptor \ queue \ OneToOneQueueThroughputTest . java \n - import static com . lmax . disruptor . support . PerfTestUtil . failIf ; \n - \n - import java . util . concurrent . BlockingQueue ; \n - import java . util . concurrent . CountDownLatch ; \n - import java . util . concurrent . ExecutorService ; \n - import java . util . concurrent . Executors ; \n - import java . util . concurrent . Future ; \n - import java . util . concurrent . LinkedBlockingQueue ; \n - \n - import com . lmax . disruptor . support . PerfTestUtil ; \n + import java . util . concurrent . * ; \n + \n + import static com . lmax . disruptor . support . PerfTestUtil . failIf ; \n + \n src \ perftest \ java \ com \ lmax \ disruptor \ support \ ValueAdditionBatchQueueProcessor . java \n - private final ArrayList < Long > batch = new ArrayList < > ( 100 ) ; \n + private final ArrayList < Long > batch = new ArrayList < Long > ( 100 ) ; \n
build . gradle \n - version = new Version ( major : 3 , minor : 3 , revision : 7 ) \n + version = new Version ( major : 3 , minor : 4 , revision : 0 ) \n - sourceCompatibility = 1 . 6 \n - targetCompatibility = 1 . 6 \n + sourceCompatibility = 1 . 7 \n + targetCompatibility = 1 . 7 \n gradle \ wrapper \ gradle - wrapper . jar \n Binary files a / gradle / wrapper / gradle - wrapper . jar and b / gradle / wrapper / gradle - wrapper . jar differ \n gradle \ wrapper \ gradle - wrapper . properties \n - # Thu Sep 28 12 : 54 : 38 NZDT 2017 \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 4 . 2 - all . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 4 . 2 - bin . zip \n gradlew \n - warn ( ) { \n + warn ( ) { \n - die ( ) { \n + die ( ) { \n - save ( ) { \n + save ( ) { \n
build . gradle \n - version = new Version ( major : 3 , minor : 4 , revision : 1 , stage : " rc1 " ) \n + version = new Version ( major : 3 , minor : 4 , revision : 1 ) \n
new file \n src \ test \ java \ com \ lmax \ disruptor \ example \ EarlyReleaseHandler . java \n + package com . lmax . disruptor . example ; \n + \n + import com . lmax . disruptor . Sequence ; \n + import com . lmax . disruptor . SequenceReportingEventHandler ; \n + import com . lmax . disruptor . support . LongEvent ; \n + \n + public class EarlyReleaseHandler implements SequenceReportingEventHandler < LongEvent > \n + { \n + private Sequence sequenceCallback ; \n + private int batchRemaining = 20 ; \n + \n + @ Override \n + public void setSequenceCallback ( Sequence sequenceCallback ) \n + { \n + this . sequenceCallback = sequenceCallback ; \n + } \n + \n + @ Override \n + public void onEvent ( LongEvent event , long sequence , boolean endOfBatch ) throws Exception \n + { \n + processEvent ( event ) ; \n + \n + if ( isLogicalChunkOfWorkComplete ( ) ) \n + { \n + sequenceCallback . set ( sequence ) ; \n + batchRemaining = 20 ; \n + } \n + } \n + \n + private boolean isLogicalChunkOfWorkComplete ( ) \n + { \n + / / Ret true or false based on whatever cirteria is required for the smaller \n + / / chunk . If this is doing I / O , it may be after flushing / syncing to disk \n + / / or at the end of DB batch + commit . \n + / / Or it could simply be working off a smaller batch size . \n + \n + return - - batchRemaining = = - 1 ; \n + } \n + \n + private void processEvent ( LongEvent event ) \n + { \n + / / Do processing \n + } \n + } \n
src \ test \ java \ com \ lmax \ disruptor \ example \ EarlyReleaseHandler . java \n - if ( isLogicalChunkOfWorkComplete ( ) ) \n + boolean logicalChunkOfWorkComplete = isLogicalChunkOfWorkComplete ( ) ; \n + if ( logicalChunkOfWorkComplete ) \n - batchRemaining = 20 ; \n + \n + batchRemaining = logicalChunkOfWorkComplete | | endOfBatch ? 20 : batchRemaining ; \n
build . gradle \n + \n + java9Compile sourceSets . main . output \n + / / options . compilerArgs . addAll ( [ ' - - release ' , ' 9 ' ] ) \n + } \n + \n + task testJava9 ( type : Test ) { \n + dependsOn jar \n + def jdkHome = System . getenv ( " JAVA _ 9 " ) \n + classpath = files ( jar . archivePath , classpath ) - sourceSets . main . output \n + executable = file ( " $ jdkHome / bin / java " ) \n + doFirst { \n + println classpath . asPath \n + println " $ name runs test using JDK 9 " \n + } \n - metaInf . into ( " versions / 9 " , { \n - from ( compileJava9Java . destinationDir ) \n - include ( ' * * / * . class ' ) \n - } ) \n + into ( ' META - INF / versions / 9 ' ) { \n + from sourceSets . java9 . output \n + } \n
src \ main \ java \ spark \ webserver \ MatcherFilter . java \n - if ( httpResponse . getHeader ( CONTENT _ TYPE _ RESPONSE _ HEADER ) = = null ) { \n + if ( httpResponse . containsHeader ( CONTENT _ TYPE _ RESPONSE _ HEADER ) ) { \n
pom . xml \n + < plugin > \n + < groupId > org . apache . maven . plugins < / groupId > \n + < artifactId > maven - enforcer - plugin < / artifactId > \n + < version > 1 . 3 . 1 < / version > \n + < executions > \n + < execution > \n + < id > enforce - java < / id > \n + < goals > \n + < goal > enforce < / goal > \n + < / goals > \n + < configuration > \n + < rules > \n + < requireJavaVersion > \n + < version > [ 1 . 8 , ) < / version > \n + < / requireJavaVersion > \n + < / rules > \n + < / configuration > \n + < / execution > \n + < / executions > \n + < / plugin > \n - \n
pom . xml \n - < version > 1 . 7 . 2 < / version > \n + < version > 1 . 7 . 7 < / version > \n - < version > 1 . 7 . 2 < / version > \n + < version > 1 . 7 . 7 < / version > \n - < version > 4 . 8 . 1 < / version > \n + < version > 4 . 11 < / version > \n - < version > 4 . 2 . 2 < / version > \n + < version > 4 . 3 . 3 < / version > \n - < version > 2 . 3 . 19 < / version > \n + < version > 2 . 3 . 20 < / version > \n - < version > 2 . 3 . 2 < / version > \n + < version > 3 . 1 < / version > \n - < version > 2 . 14 < / version > \n + < version > 2 . 17 < / version > \n - < version > 2 . 8 < / version > \n + < version > 2 . 9 . 1 < / version > \n
src \ main \ java \ io \ vertx \ core \ http \ impl \ HttpClientResponseImpl . java \n - return stream . getStreamPriority ( ) ; \n + synchronized ( conn ) { \n + return stream . getStreamPriority ( ) ; \n + } \n
src \ main \ java \ io \ vertx \ core \ http \ impl \ Http2ConnectionBase . java \n - System . out . println ( getClass ( ) . getName ( ) + " . onPriorityRead ( " + new StreamPriority ( streamDependency , weight , exclusive ) + " ) : " + stream ) ; \n
src \ main \ java \ io \ vertx \ core \ http \ StreamPriority . java \n - @ DataObject ( generateConverter = true , publicConverter = false ) \n + @ DataObject \n - @ DataObjectProperty ( ) \n
web - service \ helpers . py \n - from urlparse import urljoin , urlparse \n + from urlparse import urljoin , urlparse , urlsplit , urlunsplit \n + # Url fragment is usually not preserved across fetches , so store request fragment here . \n + url _ fragment = parsed _ url . fragment \n + \n + scheme , netloc , path , query , _ = urlsplit ( siteInfo . url ) \n + finalUrl = urlunsplit ( ( scheme , netloc , path , query , url _ fragment ) ) \n + \n - device _ data [ ' url ' ] = siteInfo . url \n + device _ data [ ' url ' ] = finalUrl \n - device _ data [ ' displayUrl ' ] = siteInfo . url \n + device _ data [ ' displayUrl ' ] = finalUrl \n
web - service \ helpers . py \n - # Url fragment is usually not preserved across fetches , so store request fragment here . \n - url _ fragment = parsed _ url . fragment \n - \n - scheme , netloc , path , query , _ = urlsplit ( siteInfo . url ) \n - finalUrl = urlunsplit ( ( scheme , netloc , path , query , url _ fragment ) ) \n + scheme , netloc , path , query , fragment = urlsplit ( siteInfo . url ) \n + if fragment = = ' ' : \n + fragment = parsed _ url . fragment \n + finalUrl = urlunsplit ( ( scheme , netloc , path , query , fragment ) ) \n + \n + scheme , netloc , path , query , fragment = urlsplit ( final _ url ) \n + if fragment = = ' ' : \n + fragment = urlparse ( url ) . fragment \n + final _ url = urlunsplit ( ( scheme , netloc , path , query , fragment ) ) \n + \n
new file \n ios \ PhyWeb \ third - party \ uribeacon \n + Subproject commit 11616693b00e4edeba3f9eac9f39cdc7baf4fffd \n web - service \ helpers . py \n - # Try to find web manifest < link rel = " manifest " href = " . . . " > . \n - value = htmltree . xpath ( " / / link [ @ rel = ' manifest ' ] / attribute : : href " ) \n - if ( len ( value ) > 0 ) : \n - # Fetch web manifest . \n - manifestUrl = value [ 0 ] \n - if " : / / " not in manifestUrl : \n - manifestUrl = urljoin ( url , manifestUrl ) \n - try : \n - result = urlfetch . fetch ( manifestUrl ) \n - if result . status _ code = = 200 : \n - manifestData = json . loads ( result . content ) \n - if ' short _ name ' in manifestData : \n - title = manifestData [ ' short _ name ' ] \n - else : \n - title = manifestData [ ' name ' ] \n - except : \n - pass \n + # TODO ( mmocny ) : Removing until we test for URL = = manifestData [ ' start _ url ' ] \n + # . . will need to adjust to site root . \n + # \n + # # Try to find web manifest < link rel = " manifest " href = " . . . " > \n + # value = htmltree . xpath ( " / / link [ @ rel = ' manifest ' ] / attribute : : href " ) \n + # if ( len ( value ) > 0 ) : \n + # # Fetch web manifest . \n + # manifestUrl = value [ 0 ] \n + # if " : / / " not in manifestUrl : \n + # manifestUrl = urljoin ( url , manifestUrl ) \n + # try : \n + # result = urlfetch . fetch ( manifestUrl ) \n + # if result . status _ code = = 200 : \n + # manifestData = json . loads ( result . content ) \n + # if ' short _ name ' in manifestData : \n + # title = manifestData [ ' short _ name ' ] \n + # else : \n + # title = manifestData [ ' name ' ] \n + # except : \n + # pass \n
src \ clj \ clojure \ core . clj \n - ( if ( > kw kv ) \n + ( if ( > = kw kv ) \n - ( if ( < kw kv ) \n + ( if ( < = kw kv ) \n test \ clojure \ test _ clojure \ other _ functions . clj \n - [ 5 10 15 20 25 ] 25 5 \n - { nil 1 false - 1 true 0 } [ true true false nil ] false nil ) ) \n + { nil 1 false - 1 true 0 } [ true true false nil ] false nil ) \n + ( are [ f k coll expected ] ( = expected ( apply f k coll ) ) \n + min - key : x [ { : x 1000 } { : x 1001 } { : x 1002 } { : x 1000 : second true } ] { : x 1000 : second true } \n + max - key : x [ { : x 1000 } { : x 999 } { : x 998 } { : x 1000 : second true } ] { : x 1000 : second true } ) ) \n
src \ clj \ clojure \ core . clj \n - " Returns the x for which ( k x ) , a number , is greatest . " \n + " Returns the x for which ( k x ) , a number , is greatest . \n + \n + If there are multiple such xs , the last one is returned . " \n - " Returns the x for which ( k x ) , a number , is least . " \n + " Returns the x for which ( k x ) , a number , is least . \n + \n + If there are multiple such xs , the last one is returned . " \n
src \ clj \ clojure \ core . clj \n - ^ { : arglists ' ( [ coll x ] [ coll x & xs ] ) \n + ^ { : arglists ' ( [ ] [ coll ] [ coll x ] [ coll x & xs ] ) \n - ' added ' . ( conj nil item ) returns ( item ) . The ' addition ' may \n - happen at different ' places ' depending on the concrete type . " \n + ' added ' . ( conj nil item ) returns ( item ) . \n + ( conj coll ) returns coll . ( conj ) returns [ ] . \n + The ' addition ' may happen at different ' places ' depending \n + on the concrete type . " \n
imagepipeline \ src \ main \ java \ com \ facebook \ imagepipeline \ request \ BasePostprocessor . java \n - import android . graphics . Paint ; \n - / * * \n - * This is the default value that define if native bitmap copy is enable or not . If it isn ' t , the \n - * fallback is drawing the bitmap using { @ link Canvas # drawBitmap ( Bitmap , float , float , Paint ) } . \n - * / \n - public static boolean sEnableNativeBitmapCopy = true ; \n - \n - * copied if { @ link # sEnableNativeBitmapCopy } is true . Otherwise , the { @ code sourceBitmap } is \n - * drawn into { @ code destBitmap } . \n + * copied . Otherwise , the { @ code sourceBitmap } is drawn into { @ code destBitmap } . \n - if ( destBitmap . getConfig ( ) = = sourceBitmap . getConfig ( ) & & sEnableNativeBitmapCopy ) { \n + if ( destBitmap . getConfig ( ) = = sourceBitmap . getConfig ( ) ) { \n
imagepipeline - backends \ imagepipeline - okhttp \ build . gradle \n - api " com . squareup . okhttp : okhttp : $ { OKHTTP _ VERSION } " \n + compileOnly " com . google . code . findbugs : jsr305 : $ { JSR _ 305 _ VERSION } " \n - implementation project ( ' : fbcore ' ) \n - implementation project ( ' : imagepipeline ' ) \n + api " com . squareup . okhttp : okhttp : $ { OKHTTP _ VERSION } " \n + \n + implementation project ( ' : fbcore ' ) \n + implementation project ( ' : imagepipeline ' ) \n imagepipeline - backends \ imagepipeline - okhttp3 \ build . gradle \n - api " com . squareup . okhttp3 : okhttp : $ { OKHTTP3 _ VERSION } " \n + compileOnly " com . google . code . findbugs : jsr305 : $ { JSR _ 305 _ VERSION } " \n - implementation project ( ' : fbcore ' ) \n - implementation project ( ' : imagepipeline ' ) \n + api " com . squareup . okhttp3 : okhttp : $ { OKHTTP3 _ VERSION } " \n + \n + implementation project ( ' : fbcore ' ) \n + implementation project ( ' : imagepipeline ' ) \n
drawee - backends \ drawee - pipeline \ build . gradle \n + api project ( ' : native - filters ' ) \n
app \ build . gradle \n + \n - / / needed to fix glide androidX support \n - implementation " com . android . support : support - annotations : 28 . 0 . 0 " \n - annotationProcessor ' com . android . support : support - annotations : 28 . 0 . 0 ' \n - \n - / / kotlin \n - implementation " org . jetbrains . kotlin : kotlin - stdlib - jdk8 : $ { versions . kotlin } " \n - \n build . gradle \n - fastadapter : " 5 . 3 . 2 " , \n + fastadapter : " 5 . 3 . 3 " , \n gradle - release . gradle \n + \n + / / we want dependencies as compile , to ensure they are transitively resolved \n + asNode ( ) . dependencies . ' * ' . findAll ( ) { it . scope . text ( ) = = ' runtime ' } . each { it . scope * . value = ' compile ' } \n materialdrawer - iconics \ build . gradle \n - / / kotlin \n - implementation " org . jetbrains . kotlin : kotlin - stdlib - jdk7 : $ { versions . kotlin } " \n - \n materialdrawer - nav \ build . gradle \n - / / kotlin \n - implementation " org . jetbrains . kotlin : kotlin - stdlib - jdk7 : $ { versions . kotlin } " \n - \n - implementation " androidx . navigation : navigation - runtime : $ { versions . navigation } " \n + implementation " androidx . navigation : navigation - runtime - ktx : $ { versions . navigation } " \n materialdrawer \ build . gradle \n - implementation " androidx . drawerlayout : drawerlayout : $ { versions . drawerlayout } " \n + \n + api " androidx . drawerlayout : drawerlayout : $ { versions . drawerlayout } " \n + api " androidx . recyclerview : recyclerview : $ { versions . recyclerView } " \n + \n - implementation " androidx . recyclerview : recyclerview : $ { versions . recyclerView } " \n - implementation " androidx . annotation : annotation : $ { versions . annotation } " \n + \n - implementation " org . jetbrains . kotlin : kotlin - stdlib - jdk7 : $ { versions . kotlin } " \n + api " org . jetbrains . kotlin : kotlin - stdlib - jdk8 : $ { versions . kotlin } " \n
build . gradle \n - fastadapter : " 5 . 3 . 3 " , \n - iconics : " 5 . 2 . 5 " , \n - aboutLibs : " 8 . 8 . 1 " , \n + fastadapter : " 5 . 3 . 4 " , \n + iconics : " 5 . 2 . 6 " , \n + aboutLibs : " 8 . 8 . 2 " , \n
README . md \n - - Kotlin & & New | [ v8 . 3 . 2 ] ( https : / / github . com / mikepenz / MaterialDrawer / tree / v8 . 3 . 2 ) \n + - Kotlin & & New | [ v8 . 3 . 3 ] ( https : / / github . com / mikepenz / MaterialDrawer / tree / v8 . 3 . 3 ) \n - Kotlin | [ v7 . 0 . 0 ] ( https : / / github . com / mikepenz / MaterialDrawer / tree / v7 . 0 . 0 ) | ( Builder approach like v6 . x ) \n - Java & & AndroidX | [ v6 . 1 . 2 ] ( https : / / github . com / mikepenz / MaterialDrawer / tree / v6 . 1 . 2 ) \n - Java & & AppCompat | [ v6 . 0 . 9 ] ( https : / / github . com / mikepenz / MaterialDrawer / tree / v6 . 0 . 9 ) \n build . gradle \n - versionName : " 8 . 3 . 2 " , \n - versionCode : 8032 \n + versionName : " 8 . 3 . 3 " , \n + versionCode : 8033 \n
compiler \ tests - compiler - utils \ tests \ org \ jetbrains \ kotlin \ codegen \ D8Checker . java \n - public static final boolean RUN _ D8 _ CHECKER = true ; \n + public static final boolean RUN _ D8 _ CHECKER = ! Boolean . valueOf ( System . getProperty ( " kotlin . test . box . d8 . disable " ) ) ; \n + if ( ! RUN _ D8 _ CHECKER ) return ; \n + \n + if ( ! RUN _ D8 _ CHECKER ) return ; \n compiler \ tests - different - jdk \ build . gradle . kts \n + systemProperty ( " kotlin . test . box . d8 . disable " , true ) \n - ) { } \n + ) { \n + jvmArgs ! ! . add ( " - XX : - FailOverToOldVerifier " ) \n + systemProperty ( " kotlin . test . box . d8 . disable " , true ) \n + } \n
compiler \ tests - different - jdk \ build . gradle . kts \n - jvmArgs ! ! . add ( " - XX : - FailOverToOldVerifier " ) \n + jvmArgs ( " - XX : - FailOverToOldVerifier " ) \n - jvmArgs ! ! . add ( " - XX : - FailOverToOldVerifier " ) \n + jvmArgs ( " - XX : - FailOverToOldVerifier " ) \n - jvmArgs ! ! . add ( " - XX : - FailOverToOldVerifier " ) \n + jvmArgs ( " - XX : - FailOverToOldVerifier " ) \n - codegenTest ( target = 6 , jvm = " Last " , jdk = mostRecentJdk ) { \n - jvmArgs ! ! . add ( " - XX : - FailOverToOldVerifier " ) \n - } \n + codegenTest ( target = 6 , jvm = " Last " , jdk = mostRecentJdk ) { } \n - codegenTest ( target = 8 , jvm = " Last " , jdk = mostRecentJdk ) { \n - jvmArgs ! ! . add ( " - XX : - FailOverToOldVerifier " ) \n - } \n + codegenTest ( target = 8 , jvm = " Last " , jdk = mostRecentJdk ) { } \n - jvmArgs ! ! . add ( " - XX : - FailOverToOldVerifier " ) \n
compiler \ ir \ backend . common \ src \ org \ jetbrains \ kotlin \ backend \ common \ lower \ SingleAbstractMethodLowering . kt \n - val hashCode = builtIns . anyClass . owner . functions . single ( : : isHashCode ) . symbol \n + val hashCode = context . irBuiltIns . functionClass . owner . functions . single ( : : isHashCode ) . symbol \n
compiler \ frontend \ src \ org \ jetbrains \ kotlin \ diagnostics \ DiagnosticFactoryWithPsiElement . java \n + \n + @ SuppressWarnings ( " MethodOverloadsMethodOfSuperclass " ) \n + @ Deprecated \n + / / ABI - compatibility only ( used in Android plugin ) \n + public D cast ( Diagnostic d ) { \n + return super . cast ( d ) ; \n + } \n
compiler \ ir \ ir . tree \ src \ org \ jetbrains \ kotlin \ ir \ util \ SymbolTable . kt \n - s . signature ? . let { \n - idSigToSymbol [ it ] = s \n - } ? : if ( s . hasDescriptor ) { \n + val signature = s . signature \n + if ( signature ! = null ) { \n + idSigToSymbol [ signature ] = s \n + } else if ( s . hasDescriptor ) { \n
compiler \ testData \ codegen \ box \ fir \ KotlinDocumentationProvider . kt \n + / / SKIP _ JDK6 \n
services \ core \ java \ com \ android \ server \ pm \ PackageInstallerService . java \n + / / We also need to clean up orphaned staging directory for staged sessions \n + final File stagedSessionStagingDir = Environment . getDataStagingDirectory ( volumeUuid ) ; \n + unclaimedStages . addAll ( newArraySet ( stagedSessionStagingDir . listFiles ( ) ) ) ; \n + \n tests \ StagedInstallTest \ src \ com \ android \ tests \ stagedinstallinternal \ host \ StagedInstallInternalTest . java \n + @ Test \n + public void testOrphanedStagingDirectoryGetsCleanedUpOnReboot ( ) throws Exception { \n + / / create random directories in / data / app - staging folder \n + getDevice ( ) . enableAdbRoot ( ) ; \n + getDevice ( ) . executeShellCommand ( " mkdir / data / app - staging / session _ 123 " ) ; \n + getDevice ( ) . executeShellCommand ( " mkdir / data / app - staging / random _ name " ) ; \n + getDevice ( ) . disableAdbRoot ( ) ; \n + \n + assertThat ( getStagingDirectories ( ) ) . isNotEmpty ( ) ; \n + getDevice ( ) . reboot ( ) ; \n + assertThat ( getStagingDirectories ( ) ) . isEmpty ( ) ; \n + } \n + \n
services \ core \ java \ com \ android \ server \ pm \ PackageManagerShellCommand . java \n + " ; isStaged = " + session . isStaged ( ) \n + " ; isReady = " + session . isStagedSessionReady ( ) \n + " ; isApplied = " + session . isStagedSessionApplied ( ) \n - + " ; isFailed = " + session . isStagedSessionFailed ( ) + " ; " ) ; \n + + " ; isFailed = " + session . isStagedSessionFailed ( ) \n + + " ; errorMsg = " + session . getStagedSessionErrorMessage ( ) \n + + " ; " ) ; \n services \ core \ java \ com \ android \ server \ pm \ StagingManager . java \n - String errorMsg = " Reverting back to safe state . Marking " + session . sessionId \n - + " as failed " ; \n - if ( ! TextUtils . isEmpty ( mFailureReason ) ) { \n - errorMsg = errorMsg + " : " + mFailureReason ; \n + String revertMsg = " Reverting back to safe state . Marking " \n + + session . sessionId + " as failed . " ; \n + final String reasonForRevert = getReasonForRevert ( ) ; \n + if ( ! TextUtils . isEmpty ( reasonForRevert ) ) { \n + revertMsg + = " Reason for revert : " + reasonForRevert ; \n - Slog . d ( TAG , errorMsg ) ; \n - session . setStagedSessionFailed ( SessionInfo . STAGED _ SESSION _ UNKNOWN , errorMsg ) ; \n + Slog . d ( TAG , revertMsg ) ; \n + session . setStagedSessionFailed ( SessionInfo . STAGED _ SESSION _ UNKNOWN , revertMsg ) ; \n + private String getReasonForRevert ( ) { \n + if ( ! TextUtils . isEmpty ( mFailureReason ) ) { \n + return mFailureReason ; \n + } \n + if ( ! TextUtils . isEmpty ( mNativeFailureReason ) ) { \n + return " Session reverted due to crashing native process : " + mNativeFailureReason ; \n + } \n + return " " ; \n + } \n + \n
tests \ StagedInstallTest \ StagedInstallInternalTest . xml \n - - > \n - < option name = " test - suite - tag " value = " StagedInstallTest " / > \n + < option name = " test - suite - tag " value = " StagedInstallInternalTest " / > \n tests \ StagedInstallTest \ TEST _ MAPPING \n + { \n + " name " : " StagedInstallInternalTest " , \n + " options " : [ \n + { \n + " exclude - annotation " : " android . platform . test . annotations . LargeTest " \n + } \n + ] \n + } \n + ] , \n + " postsubmit " : [ \n tests \ StagedInstallTest \ src \ com \ android \ tests \ stagedinstallinternal \ host \ StagedInstallInternalTest . java \n + import android . platform . test . annotations . LargeTest ; \n + @ LargeTest \n
facade \ src \ main \ java \ com \ iluwatar \ facade \ DwarvenGoldmineFacade . java \n - private void makeActions ( Collection < DwarvenMineWorker > workers , \n + private static void makeActions ( Collection < DwarvenMineWorker > workers , \n front - controller \ src \ main \ java \ com \ iluwatar \ front \ controller \ FrontController . java \n - private Class getCommandClass ( String request ) { \n + private static Class getCommandClass ( String request ) { \n reactor \ src \ main \ java \ com \ iluwatar \ reactor \ app \ LoggingHandler . java \n - private void sendReply ( AbstractNioChannel channel , DatagramPacket incomingPacket , SelectionKey key ) { \n + private static void sendReply ( AbstractNioChannel channel , DatagramPacket incomingPacket , SelectionKey key ) { \n - private void sendReply ( AbstractNioChannel channel , SelectionKey key ) { \n + private static void sendReply ( AbstractNioChannel channel , SelectionKey key ) { \n - private void doLogging ( ByteBuffer data ) { \n + private static void doLogging ( ByteBuffer data ) { \n reactor \ src \ main \ java \ com \ iluwatar \ reactor \ framework \ NioReactor . java \n - private void onChannelWritable ( SelectionKey key ) throws IOException { \n + private static void onChannelWritable ( SelectionKey key ) throws IOException { \n reader - writer - lock \ src \ main \ java \ com \ iluwatar \ reader \ writer \ lock \ ReaderWriterLock . java \n - private void waitUninterruptibly ( Object o ) { \n + private static void waitUninterruptibly ( Object o ) { \n repository \ src \ main \ java \ com \ iluwatar \ repository \ AppConfig . java \n - private Properties jpaProperties ( ) { \n + private static Properties jpaProperties ( ) { \n
null - object \ src \ main \ java \ com \ iluwatar \ nullobject \ NullNode . java \n - public void walk ( ) { } \n + public void walk ( ) { \n + / / Do nothing \n + } \n visitor \ src \ main \ java \ com \ iluwatar \ visitor \ CommanderVisitor . java \n - public void visitSoldier ( Soldier soldier ) { } \n + public void visitSoldier ( Soldier soldier ) { \n + / / Do nothing \n + } \n - public void visitSergeant ( Sergeant sergeant ) { } \n + public void visitSergeant ( Sergeant sergeant ) { \n + / / Do nothing \n + } \n visitor \ src \ main \ java \ com \ iluwatar \ visitor \ SergeantVisitor . java \n - public void visitSoldier ( Soldier soldier ) { } \n + public void visitSoldier ( Soldier soldier ) { \n + / / Do nothing \n + } \n - public void visitCommander ( Commander commander ) { } \n + public void visitCommander ( Commander commander ) { \n + / / Do nothing \n + } \n visitor \ src \ main \ java \ com \ iluwatar \ visitor \ SoldierVisitor . java \n - public void visitSergeant ( Sergeant sergeant ) { } \n + public void visitSergeant ( Sergeant sergeant ) { \n + / / Do nothing \n + } \n - public void visitCommander ( Commander commander ) { } \n + public void visitCommander ( Commander commander ) { \n + / / Do nothing \n + } \n
builder \ src \ main \ java \ com \ iluwatar \ builder \ Hero . java \n - public class Hero { \n + public final class Hero { \n caching \ src \ main \ java \ com \ iluwatar \ caching \ AppManager . java \n - public class AppManager { \n + public final class AppManager { \n caching \ src \ main \ java \ com \ iluwatar \ caching \ DbManager . java \n - public class DbManager { \n + public final class DbManager { \n flux \ src \ main \ java \ com \ iluwatar \ flux \ dispatcher \ Dispatcher . java \n - public class Dispatcher { \n + public final class Dispatcher { \n multiton \ src \ main \ java \ com \ iluwatar \ multiton \ Nazgul . java \n - public class Nazgul { \n + public final class Nazgul { \n naked - objects \ integtests \ src \ test \ java \ domainapp \ integtests \ bootstrap \ SimpleAppSystemInitializer . java \n - public class SimpleAppSystemInitializer { \n + public final class SimpleAppSystemInitializer { \n null - object \ src \ main \ java \ com \ iluwatar \ nullobject \ NullNode . java \n - public class NullNode implements Node { \n + public final class NullNode implements Node { \n service - layer \ src \ main \ java \ com \ iluwatar \ servicelayer \ hibernate \ HibernateUtil . java \n - public class HibernateUtil { \n + public final class HibernateUtil { \n service - locator \ src \ main \ java \ com \ iluwatar \ servicelocator \ ServiceLocator . java \n - public class ServiceLocator { \n + public final class ServiceLocator { \n singleton \ src \ main \ java \ com \ iluwatar \ singleton \ InitializingOnDemandHolderIdiom . java \n - public class InitializingOnDemandHolderIdiom implements Serializable { \n + public final class InitializingOnDemandHolderIdiom implements Serializable { \n singleton \ src \ main \ java \ com \ iluwatar \ singleton \ ThreadSafeDoubleCheckLocking . java \n - public class ThreadSafeDoubleCheckLocking { \n + public final class ThreadSafeDoubleCheckLocking { \n singleton \ src \ main \ java \ com \ iluwatar \ singleton \ ThreadSafeLazyLoadedIvoryTower . java \n - public class ThreadSafeLazyLoadedIvoryTower { \n + public final class ThreadSafeLazyLoadedIvoryTower { \n step - builder \ src \ main \ java \ com \ iluwatar \ stepbuilder \ CharacterStepBuilder . java \n - public class CharacterStepBuilder { \n + public final class CharacterStepBuilder { \n tolerant - reader \ src \ main \ java \ com \ iluwatar \ tolerantreader \ RainbowFishSerializer . java \n - public class RainbowFishSerializer { \n + public final class RainbowFishSerializer { \n
dubbo - config \ dubbo - config - spring \ src \ main \ java \ org \ apache \ dubbo \ config \ spring \ beans \ factory \ annotation \ ReferenceBeanBuilder . java \n - \n + Boolean generic = getAttribute ( attributes , " generic " ) ; \n + if ( generic ! = null & & generic ) { \n + / / it ' s a generic reference \n + String interfaceClassName = getAttribute ( attributes , " interfaceName " ) ; \n + Assert . hasText ( interfaceClassName , \n + " @ Reference interfaceName ( ) must be present when reference a generic service ! " ) ; \n + referenceBean . setInterface ( interfaceClassName ) ; \n + return ; \n + } \n dubbo - config \ dubbo - config - spring \ src \ main \ java \ org \ apache \ dubbo \ config \ spring \ util \ AnnotationUtils . java \n - \n + Boolean generic = getAttribute ( attributes , " generic " ) ; \n + if ( generic ! = null & & generic ) { \n + / / it ' s a generic reference \n + String interfaceClassName = getAttribute ( attributes , " interfaceName " ) ; \n + Assert . hasText ( interfaceClassName , \n + " @ Reference interfaceName ( ) must be present when reference a generic service ! " ) ; \n + return interfaceClassName ; \n + } \n
dubbo - cluster \ src \ main \ java \ org \ apache \ dubbo \ rpc \ cluster \ loadbalance \ ConsistentHashLoadBalance . java \n - int identityHashCode = System . identityHashCode ( invokers ) ; \n + / / using the hashcode of list to compute the hash only pay attention to the elements in the list \n + int invokersHashCode = invokers . hashCode ( ) ; \n - if ( selector = = null | | selector . identityHashCode ! = identityHashCode ) { \n - selectors . put ( key , new ConsistentHashSelector < T > ( invokers , methodName , identityHashCode ) ) ; \n + if ( selector = = null | | selector . identityHashCode ! = invokersHashCode ) { \n + selectors . put ( key , new ConsistentHashSelector < T > ( invokers , methodName , invokersHashCode ) ) ; \n dubbo - cluster \ src \ test \ java \ org \ apache \ dubbo \ rpc \ cluster \ loadbalance \ ConsistentHashLoadBalanceTest . java \n + import org . apache . dubbo . common . URL ; \n - \n + import org . apache . dubbo . rpc . cluster . LoadBalance ; \n + import org . apache . dubbo . rpc . cluster . RouterChain ; \n + import java . util . List ; \n + / / https : / / github . com / apache / dubbo / issues / 5429 \n + @ Test \n + void testNormalWhenRouterEnabled ( ) { \n + LoadBalance lb = getLoadBalance ( ConsistentHashLoadBalance . NAME ) ; \n + URL url = invokers . get ( 0 ) . getUrl ( ) ; \n + RouterChain < LoadBalanceBaseTest > routerChain = RouterChain . buildChain ( url ) ; \n + Invoker < LoadBalanceBaseTest > result = lb . select ( invokers , url , invocation ) ; \n + \n + for ( int i = 0 ; i < 100 ; i + + ) { \n + routerChain . setInvokers ( invokers ) ; \n + List < Invoker < LoadBalanceBaseTest > > routeInvokers = routerChain . route ( url , invocation ) ; \n + Invoker < LoadBalanceBaseTest > finalInvoker = lb . select ( routeInvokers , url , invocation ) ; \n + Assertions . assertEquals ( result , finalInvoker ) ; \n + } \n + } \n
dubbo - registry \ dubbo - registry - consul \ src \ main \ java \ org \ apache \ dubbo \ registry \ consul \ ConsulServiceDiscovery . java \n - Response < List < HealthService > > response = getHealthServices ( serviceName , - 1 , Integer . MAX _ VALUE ) ; \n + Response < List < HealthService > > response = getHealthServices ( serviceName , consulIndex , Integer . MAX _ VALUE ) ; \n
CHANGELOG . md \n - # # 7 . 0 . 0 - beta . 0 ( YYYY - MM - DD ) \n + # # 7 . 0 . 0 - beta ( YYYY - MM - DD ) \n - * [ ObjectServer ] Query - based Sync is now the default mode of synchronization . To enable Full Realm synchronization use ` SyncConfiguration . Builder . fullSynchronization ( ) ` . ` SyncConfiguration . Builder . partialRealm ( ) ` has been deprecated . \n - * [ ObjectServer ] ` SyncConfiguration . isPartialRealm ( ) ` has been replaced by ` SyncConfiguration . isFullySynchronizedRealm ( ) ` . \n + * Core 6 only support file upgrades from the file format introduced in Realm Java 2 . 0 . \n + * [ ObjectServer ] Query - based Sync is now the default mode of synchronization . To enable Full Realm synchronization use ` SyncConfiguration . Builder . fullSynchronization ( ) ` . ` SyncConfiguration . Builder . partialRealm ( ) ` has been deprecated . \n + * [ ObjectServer ] ` SyncConfiguration . isPartialRealm ( ) ` has been replaced by ` SyncConfiguration . isFullySynchronizedRealm ( ) ` . \n - * File format : Generates Realms with format v9 ( Reads and upgrades all previous formats ) \n + * File format : Generates Realms with format v10 ( Reads and upgrades all previous formats up to Realm Java 2 . 0 ) . \n realm \ realm - library \ src \ main \ cpp \ io _ realm _ internal _ OsSharedRealm . cpp \n - table = group . add _ table ( table _ name ) ; \n - ColKey column _ key = table - > add _ column ( pkType , field _ name , is _ nullable ) ; \n - table - > add _ search _ index ( column _ key ) ; \n - table - > set _ primary _ key _ column ( column _ key ) ; \n + table = group . add _ table _ with _ primary _ key ( table _ name , pkType , field _ name , is _ nullable ) ; \n version . txt \n - 7 . 0 . 0 - beta . 0 - SNAPSHOT \n + 7 . 0 . 0 - beta - SNAPSHOT \n
realm \ realm - library \ src \ main \ cpp \ io _ realm _ internal _ OsSharedRealm . cpp \n - table = group . add _ table _ with _ primary _ key ( table _ name , pkType , field _ name , is _ nullable ) ; \n + / / _ _ CORE6 _ _ work around until we decide if add _ table _ with _ primary _ key should throw if called with the same table name \n + if ( ! group . has _ table ( table _ name ) ) { \n + table = group . add _ table _ with _ primary _ key ( table _ name , pkType , field _ name , is _ nullable ) ; \n + } else { \n + throw TableNameInUse ( ) ; \n + } \n
realm \ realm - library \ src \ main \ cpp \ util . cpp \n + catch ( const InvalidDatabase & e ) { \n + ss < < e . what ( ) < < " ( " < < e . get _ path ( ) < < " ) in " < < file < < " line " < < line ; \n + ThrowRealmFileException ( env , ss . str ( ) , realm : : RealmFileException : : Kind : : AccessError , e . get _ path ( ) ) ; \n + } \n realm \ realm - library \ src \ syncIntegrationTest \ java \ io \ realm \ objectserver \ EncryptedSynchronizedRealmTests . java \n - import io . realm . exceptions . RealmError ; \n + import io . realm . exceptions . RealmFileException ; \n - } catch ( RealmError ignored ) { \n + } catch ( RealmFileException ignored ) { \n
Libraries \ Components \ TextInput \ TextInput . js \n - * @ flow \n + * @ flow strict - local \n - ' use strict ' ; \n - \n - let viewCommands : TextInputNativeCommands < HostComponent < any > > ; \n + let viewCommands ; \n - viewCommands = props . multiline \n - ? RCTMultilineTextInputNativeCommands \n - : RCTSinglelineTextInputNativeCommands ; \n + viewCommands = \n + props . multiline = = = true \n + ? RCTMultilineTextInputNativeCommands \n + : RCTSinglelineTextInputNativeCommands ; \n - const RCTTextInputView = props . multiline \n - ? RCTMultilineTextInputView \n - : RCTSinglelineTextInputView ; \n + const RCTTextInputView = \n + props . multiline = = = true \n + ? RCTMultilineTextInputView \n + : RCTSinglelineTextInputView ; \n - const style = props . multiline \n - ? [ styles . multilineInput , props . style ] \n - : props . style ; \n + const style = \n + props . multiline = = = true \n + ? [ styles . multilineInput , props . style ] \n + : props . style ; \n - ! ( props . value & & childCount ) , \n + ! ( props . value ! = null & & childCount ) , \n + / / $ FlowFixMe [ unclear - type ] Unclear type . Using ` any ` type is not safe . \n
packages \ rn - tester \ js \ components \ RNTesterButton . js \n + testID ? : string , \n + testID = { this . props . testID } \n packages \ rn - tester \ js \ examples \ Animated \ AnimatedExample . js \n - \n + import type { RNTesterExampleModuleItem } from ' . . / . . / types / RNTesterTypes ' ; \n + \n - exports . examples = [ \n + exports . examples = ( [ \n + name : ' fadeInView ' , \n + testID = " toggle - button " \n - < View style = { styles . content } > \n + < View testID = " fade - in - view " style = { styles . content } > \n + name : ' movingView ' , \n - < RNTesterButton onPress = { ( ) = > this . moveTo ( 0 ) } > \n + < RNTesterButton \n + testID = " move - left - button " \n + onPress = { ( ) = > this . moveTo ( 0 ) } > \n + testID = " move - right - button " \n + testID = " moving - view " \n - ] ; \n + ] : Array < RNTesterExampleModuleItem > ) ; \n
packages \ rn - tester \ js \ examples \ TextInput \ TextInputSharedExamples . js \n - < View testID = { this . props . testID } > \n + < View > \n - testID = " text - input " \n + testID = { ` $ { this . props . testID } - text - input ` } \n - < Text testID = " selection " > \n - selection = { JSON . stringify ( this . state . selection ) } \n + < Text testID = { ` $ { this . props . testID } - selection ` } > \n + selection = { JSON . stringify ( this . state . selection ) . replace ( / " / g , ' ' ) } \n - < Text testID = " cursor - start " onPress = { this . placeAt . bind ( this , 0 ) } > \n + < Text \n + testID = { ` $ { this . props . testID } - cursor - start ` } \n + onPress = { this . placeAt . bind ( this , 0 ) } > \n - < Text testID = " cursor - end " onPress = { this . placeAt . bind ( this , length ) } > \n + < Text \n + testID = { ` $ { this . props . testID } - cursor - end ` } \n + onPress = { this . placeAt . bind ( this , length ) } > \n - < Text testID = " select - all " onPress = { this . select . bind ( this , 0 , length ) } > \n + < Text \n + testID = { ` $ { this . props . testID } - select - all ` } \n + onPress = { this . select . bind ( this , 0 , length ) } > \n
lib \ build . gradle \n - compile ' com . google . api - client : google - api - client : 1 . 22 . 0 ' \n - compile ' com . google . api - client : google - api - client - android : 1 . 22 . 0 ' \n + \n + compile ( ' com . google . api - client : google - api - client : 1 . 22 . 0 ' ) { \n + / / Dependency org . apache . httpcomponents : httpclient : 4 . 0 . 1 \n + / / conflicts with the internal version provided by Android . \n + exclude group : ' org . apache . httpcomponents ' , module : ' httpclient ' \n + } \n + \n + compile ( ' com . google . api - client : google - api - client - android : 1 . 22 . 0 ' ) { \n + / / Dependency org . apache . httpcomponents : httpclient : 4 . 0 . 1 \n + / / conflicts with the internal version provided by Android . \n + exclude group : ' org . apache . httpcomponents ' , module : ' httpclient ' \n + } \n - compile files ( ' . . / third _ party / volley / libs / volley . jar ' ) \n
lib \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ sync \ userdata \ UserDataSyncHelper . java \n - if ( mReconciledUserDataModel ! = mLocalUserDataModel ) { \n + if ( ! mReconciledUserDataModel . equals ( mLocalUserDataModel ) ) { \n - if ( mReconciledUserDataModel ! = mRemoteUserDataModel ) { \n + if ( ! mReconciledUserDataModel . equals ( mRemoteUserDataModel ) ) { \n
lib \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ provider \ ScheduleContract . java \n - private static final String PATH _ MY _ RESERVATION = " my _ reservation " ; \n + private static final String PATH _ MY _ RESERVATION = " my _ reservations " ; \n - public static final String CONTENT _ TYPE _ ID = " myschedule " ; \n + public static final String CONTENT _ TYPE _ ID = " myreservation " ; \n
src \ main \ java \ com \ squareup \ okhttp \ internal \ spdy \ SpdyReader . java \n + if ( numberOfPairs < 0 ) { \n + Logger . getLogger ( getClass ( ) . getName ( ) ) . warning ( " numberOfPairs < 0 : " + numberOfPairs ) ; \n + throw ioException ( " numberOfPairs < 0 " ) ; \n + } \n
okhttp \ src \ main \ java \ com \ squareup \ okhttp \ HttpResponseCache . java \n + public long getSize ( ) { \n + return cache . size ( ) ; \n + } \n + \n + public long getMaxSize ( ) { \n + return cache . getMaxSize ( ) ; \n + } \n + \n + public void flush ( ) throws IOException { \n + cache . flush ( ) ; \n + } \n + \n + public void close ( ) throws IOException { \n + cache . close ( ) ; \n + } \n + \n + public File getDirectory ( ) { \n + return cache . getDirectory ( ) ; \n + } \n + \n + public boolean isClosed ( ) { \n + return cache . isClosed ( ) ; \n + } \n + \n
okhttp \ src \ main \ java \ com \ squareup \ okhttp \ internal \ http \ RouteSelector . java \n - socketHost = uri . getHost ( ) ; \n + socketHost = address . getUriHost ( ) ; \n
command \ README . md \n + * [ org . junit . runners . model . Statement ] ( https : / / github . com / junit - team / junit4 / blob / master / src / main / java / org / junit / runners / model / Statement . java ) \n
dirty - flag \ README . md \n - Java \n - - Difficulty - Easy \n + - Difficulty - Beginner \n - Performance \n - - - \n
acyclic - visitor \ src \ main \ java \ com \ iluwatar \ acyclicvisitor \ AllModemVisitor . java \n - * All ModemVisitor interface extends all visitor interfaces \n + * All ModemVisitor interface extends all visitor interfaces . This interface \n + * provides ease of use when a visitor needs to visit all modem types . \n - public interface AllModemVisitor extends ModemVisitor , ZoomVisitor , HayesVisitor { \n + public interface AllModemVisitor extends ZoomVisitor , HayesVisitor { \n acyclic - visitor \ src \ main \ java \ com \ iluwatar \ acyclicvisitor \ ConfigureForUnixVisitor . java \n - * manufacturer \n + * manufacturer , unlike traditional visitor pattern , this class may selectively implement \n + * visit for other modems . \n - public class ConfigureForUnixVisitor implements ModemVisitor , ZoomVisitor { \n + public class ConfigureForUnixVisitor implements ZoomVisitor { \n acyclic - visitor \ src \ main \ java \ com \ iluwatar \ acyclicvisitor \ Hayes . java \n - try { \n - ( ( HayesVisitor ) modemVisitor ) . visit ( this ) ; \n - } catch ( ClassCastException e ) { \n - LOGGER . error ( " Unable to cast to HayesVisitor " ) ; \n + if ( modemVisitor instanceof HayesVisitor ) { \n + ( ( HayesVisitor ) modemVisitor ) . visit ( this ) ; \n + } else { \n + LOGGER . info ( " Only HayesVisitor is allowed to visit Hayes modem " ) ; \n acyclic - visitor \ src \ main \ java \ com \ iluwatar \ acyclicvisitor \ Zoom . java \n - try { \n - ( ( ZoomVisitor ) modemVisitor ) . visit ( this ) ; \n - } catch ( ClassCastException e ) { \n - LOGGER . error ( " Unable to cast to ZoomVisitor " ) ; \n + if ( modemVisitor instanceof ZoomVisitor ) { \n + ( ( ZoomVisitor ) modemVisitor ) . visit ( this ) ; \n + } else { \n + LOGGER . info ( " Only ZoomVisitor is allowed to visit Zoom modem " ) ; \n
android \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ BaseActivity . java \n - private boolean mManualSyncRequest ; \n - \n - mManualSyncRequest = true ; \n - mManualSyncRequest = false ; \n - boolean syncPending = ContentResolver . isSyncPending ( \n - account , ScheduleContract . CONTENT _ AUTHORITY ) ; \n - if ( ! syncActive & & ! syncPending ) { \n - mManualSyncRequest = false ; \n - } \n - onRefreshingStateChanged ( syncActive | | mManualSyncRequest ) ; \n + onRefreshingStateChanged ( syncActive ) ; \n
android \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ myschedule \ MyScheduleModel . java \n - import android . content . Intent ; \n - import com . google . samples . apps . iosched . feedback . SessionFeedbackActivity ; \n + import static com . google . samples . apps . iosched . util . LogUtils . LOGE ; \n - mScheduleDataQueryCallback . onModelUpdated ( MyScheduleModel . this , \n - MyScheduleQueryEnum . SCHEDULE ) ; \n + / / mPrefChangeListener is observing as soon as the model is created but \n + / / mScheduleDataQueryCallback is only created when the view has requested \n + / / some data . There is a tiny amount of time when mPrefChangeListener is \n + / / active but mScheduleDataQueryCallback is null . This was observed when \n + / / going to MySchedule screen straight after the welcome flow . \n + if ( mScheduleDataQueryCallback ! = null ) { \n + mScheduleDataQueryCallback . onModelUpdated ( MyScheduleModel . this , \n + MyScheduleQueryEnum . SCHEDULE ) ; \n + } else { \n + LOGE ( TAG , " sharedpreferences key " + key + \n + " changed , but null schedule data query callback , cannot " + \n + " inform model is updated " ) ; \n + } \n
android \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ AppApplication . java \n - import android . app . Application ; \n + import android . content . Context ; \n + import android . support . multidex . MultiDexApplication ; \n - public class AppApplication extends Application { \n + public class AppApplication extends MultiDexApplication { \n - MultiDex . install ( this ) ; \n + \n + @ Override \n + protected void attachBaseContext ( Context base ) { \n + super . attachBaseContext ( base ) ; \n + MultiDex . install ( this ) ; \n + } \n
storm - core \ project . clj \n - [ storm / libthrift7 " 0 . 7 . 0 " \n + [ storm / libthrift7 " 0 . 7 . 0 - 1 " \n
storm - core \ src \ clj \ backtype \ storm \ daemon \ logviewer . clj \n + ( : use [ hiccup core page - helpers ] ) \n - ( : use [ backtype . storm . ui . core : only [ ui - template ] ] ) \n + ( defn log - template [ body ] \n + ( html \n + [ : head \n + [ : title " Storm log viewer " ] \n + ( include - css " / css / bootstrap - 1 . 1 . 0 . css " ) \n + ( include - css " / css / style . css " ) \n + ( include - js " / js / jquery - 1 . 6 . 2 . min . js " ) \n + ( include - js " / js / jquery . tablesorter . min . js " ) \n + ( include - js " / js / jquery . cookies . 2 . 2 . 0 . min . js " ) \n + ( include - js " / js / script . js " ) \n + ] \n + [ : body \n + ( seq body ) \n + ] ) ) \n + \n - ( ui - template ( log - page ( : file m ) ( : tail m ) ( : grep m ) ) ) ) \n + ( log - template ( log - page ( : file m ) ( : tail m ) ( : grep m ) ) ) ) \n - ( ui - template ( log - level - page ( : name m ) ( : level m ) ) ) ) \n + ( log - template ( log - level - page ( : name m ) ( : level m ) ) ) ) \n storm - core \ src \ clj \ backtype \ storm \ ui \ core . clj \n - host ( * STORM - CONF * LOGVIEWER - PORT ) port ) ( str port " log " ) ) ) \n + host ( * STORM - CONF * LOGVIEWER - PORT ) port ) ( str port ) ) ) \n
src \ jvm \ backtype \ storm \ utils \ NimbusClient . java \n - Integer timeout = Utils . getInt ( conf . get ( Config . NIMBUS _ TASK _ TIMEOUT _ SECS ) ) ; \n - return new NimbusClient ( conf , nimbusHost , nimbusPort , timeout ) ; \n + return new NimbusClient ( conf , nimbusHost , nimbusPort ) ; \n
src \ clj \ backtype \ storm \ scheduler \ IsolationScheduler . clj \n + ( defn - host - > used - slots [ ^ Cluster cluster ] \n + ( - > > cluster \n + . getUsedSlots \n + ( group - by # ( . getHost cluster ( . getNodeId ^ WorkerSlot % ) ) ) \n + ) ) \n + \n - ( if ( and ( every ? # ( = ( second % ) top - id ) assignments ) \n + ( if ( and ( contains ? iso - ids - set top - id ) \n + ( every ? # ( = ( second % ) top - id ) assignments ) \n - ( let [ ^ LinkedList sorted - assignable - hosts ( host - assignable - slots cluster ) ] \n + ( let [ host - > used - slots ( host - > used - slots cluster ) \n + ^ LinkedList sorted - assignable - hosts ( host - assignable - slots cluster ) ] \n - ( . freeSlots cluster host - slots ) \n + ( . freeSlots cluster ( get host - > used - slots host ) ) \n src \ jvm \ backtype \ storm \ scheduler \ Cluster . java \n - for ( WorkerSlot slot : slots ) { \n - this . freeSlot ( slot ) ; \n + if ( slots ! = null ) { \n + for ( WorkerSlot slot : slots ) { \n + this . freeSlot ( slot ) ; \n + } \n
src \ clj \ backtype \ storm \ scheduler \ IsolationScheduler . clj \n + shuffle \n - num - workers ( count host - assignments ) \n + num - workers ( count assignments ) \n test \ clj \ backtype \ storm \ nimbus _ test . clj \n + ( defn topology - slots [ state storm - name ] \n + ( let [ storm - id ( get - storm - id state storm - name ) \n + assignment ( . assignment - info state storm - id nil ) ] \n + ( - > > assignment \n + : executor - > node + port \n + vals \n + set \n + ) ) ) \n + \n - ( with - local - cluster [ cluster : supervisors 6 \n + ( with - simulated - time - local - cluster [ cluster : supervisors 6 \n + NIMBUS - MONITOR - FREQ - SECS 10 \n + ( advance - cluster - time cluster 1 ) \n + ( advance - cluster - time cluster 1 ) \n + \n + ; ; check that nothing gets reassigned \n + ( bind tester1 - slots ( topology - slots state " tester1 " ) ) \n + ( bind tester2 - slots ( topology - slots state " tester2 " ) ) \n + ( bind noniso - slots ( topology - slots state " noniso " ) ) \n + ( advance - cluster - time cluster 20 ) \n + ( is ( = tester1 - slots ( topology - slots state " tester1 " ) ) ) \n + ( is ( = tester2 - slots ( topology - slots state " tester2 " ) ) ) \n + ( is ( = noniso - slots ( topology - slots state " noniso " ) ) ) \n + \n
src \ clj \ backtype \ storm \ scheduler \ IsolationScheduler . clj \n - ( doseq [ [ top - id worker - specs ] topology - worker - specs ] \n - ( if - not ( empty ? worker - specs ) \n - ( log - warn " Unable to isolate topology " top - id ) \n + ( let [ non - iso - topologies ( - > > topology - worker - specs \n + ( mapcat ( fn [ [ top - id worker - specs ] ] \n + ( if - not ( empty ? worker - specs ) [ top - id ] ) \n + ) ) ) ] \n + ( if ( empty ? non - iso - topologies ) \n + ; ; run default scheduler on non - isolated topologies \n + ( - < > topology - worker - specs \n + allocated - topologies \n + ( leftover - topologies topologies < > ) \n + ( DefaultScheduler / default - schedule < > cluster ) ) \n + ( log - warn " Unstable to isolate topologies " ( pr - str non - iso - topologies ) " . Will wait for enough resources for isolated topologies before allocating any other resources . " ) \n - \n - \n - ; ; run default scheduler on iso topologies that didn ' t have enough slot + non - isolated topologies \n - ( - < > topology - worker - specs \n - allocated - topologies \n - ( leftover - topologies topologies < > ) \n - ( DefaultScheduler / default - schedule < > cluster ) ) \n
CHANGES \n - - [ BREAKING CHANGE ] Requires Java 7 or above \n + - [ BREAKING CHANGE ] Requires Java 7 or above . \n - [ BREAKING CHANGE ] API Change : Scaling is now an object instead of an enum . This may change behavior when used with serialization . \n - - [ BREAKING CHANGE ] Group # clearChildren ( ) now unfocuses the actors . Added Group # clearChildren ( boolean unfocus ) for when this isn ' t wanted . # 6423 \n + - [ BREAKING CHANGE ] Group # clear and # clearChildren ( ) now unfocuses the actors . Added # clear ( boolean ) and # clearChildren ( boolean ) for when this isn ' t wanted . # 6423 \n - Scene2d . ui : Added new ParticleEffectActor to use particle effects on Stage \n - API addition : iOS : Added HdpiMode option to IOSApplicationConfiguration to allow users to set whether they want to work in logical or raw pixels ( default logical ) . \n - Fix for # 6377 Gdx . net . openURI not working with targetSdk 30 \n gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ Group . java \n - / * * Removes all children , actions , and listeners from this group . * / \n + / * * Removes all children , actions , and listeners from this group . The children are unfocused . * / \n - clearChildren ( ) ; \n + clearChildren ( true ) ; \n + } \n + \n + / * * Removes all children , actions , and listeners from this group . * / \n + public void clear ( boolean unfocus ) { \n + super . clear ( ) ; \n + clearChildren ( unfocus ) ; \n
CHANGES \n - [ BREAKING CHANGE ] Requires Java 7 or above . \n - [ BREAKING CHANGE ] API Change : Scaling is now an object instead of an enum . This may change behavior when used with serialization . \n - - [ BREAKING CHANGE ] Group # clear and # clearChildren ( ) now unfocuses the actors . Added # clear ( boolean ) and # clearChildren ( boolean ) for when this isn ' t wanted . # 6423 \n + - [ BREAKING CHANGE ] Group # clear ( ) and # clearChildren ( ) now unfocus the children . Added clear ( boolean ) and clearChildren ( boolean ) for when this isn ' t wanted . Code that overrides clear ( ) / clearChildren ( ) probably should change to override the ( boolean ) method . # 6423 \n - [ BREAKING CHANGE ] Lwjgl3WindowConfiguration # autoIconify is enabled by default . \n - Scene2d . ui : Added new ParticleEffectActor to use particle effects on Stage \n - API addition : iOS : Added HdpiMode option to IOSApplicationConfiguration to allow users to set whether they want to work in logical or raw pixels ( default logical ) . \n gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ ui \ Table . java \n - public void clearChildren ( ) { \n + public void clearChildren ( boolean unfocus ) { \n - super . clearChildren ( ) ; \n + super . clearChildren ( unfocus ) ; \n gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ ui \ Tree . java \n - public void clearChildren ( ) { \n - super . clearChildren ( ) ; \n + public void clearChildren ( boolean unfocus ) { \n + super . clearChildren ( unfocus ) ; \n
gdx \ src \ com \ badlogic \ gdx \ utils \ SharedLibraryLoader . java \n - \n - static String randomUUID ( ) { \n - UUID uuid = new UUID ( MathUtils . random ( Long . MAX _ VALUE ) , MathUtils . random ( Long . MAX _ VALUE ) ) ; \n - return uuid . toString ( ) ; \n + \n + static String randomUUID ( ) { \n + return new UUID ( MathUtils . random . nextLong ( ) , MathUtils . random . nextLong ( ) ) . toString ( ) ; \n
gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ ui \ Tree . java \n - public Array < N > getNodes ( ) { \n - return rootNodes ; \n - } \n - \n + / * * @ deprecated Use { @ link # getRootNodes ( ) } . * / \n + public Array < N > getNodes ( ) { \n + return rootNodes ; \n + } \n + \n
gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ ui \ Tree . java \n + @ Deprecated \n
gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ ui \ HorizontalGroup . java \n + r = Math . min ( r , rowSizes . size - 2 ) ; / / In case an actor changed size without invalidating this layout . \n gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ ui \ VerticalGroup . java \n + r = Math . min ( r , columnSizes . size - 2 ) ; / / In case an actor changed size without invalidating this layout . \n
deleted file \n services \ core \ java \ com \ android \ server \ location \ timezone \ OWNERS \n - # Bug component : 847766 \n - nfuller @ google . com \n - include / core / java / android / app / timedetector / OWNERS \n deleted file \n services \ tests \ servicestests \ src \ com \ android \ server \ location \ timezone \ OWNERS \n - # Bug component : 847766 \n - nfuller @ google . com \n - include / core / java / android / app / timedetector / OWNERS \n
new file \n services \ tests \ servicestests \ src \ com \ android \ server \ location \ timezone \ OWNERS \n + # Bug component : 847766 \n + nfuller @ google . com \n + include / core / java / android / app / timedetector / OWNERS \n
new file \n core \ java \ android \ service \ timezone \ OWNERS \n + # Bug component : 847766 \n + nfuller @ google . com \n + include / core / java / android / app / timedetector / OWNERS \n
settings . gradle \n - id " com . gradle . enterprise " version " 3 . 2 " \n - id " io . spring . gradle - enterprise - conventions " version " 0 . 0 . 2 " \n + id " com . gradle . enterprise " version " 3 . 5 . 1 " \n + id " io . spring . ge . conventions " version " 0 . 0 . 7 " \n
settings . gradle \n - id " com . gradle . enterprise " version " 3 . 5 " \n + id " com . gradle . enterprise " version " 3 . 5 . 1 " \n
. mvn \ extensions . xml \n - < version > 1 . 7 . 1 < / version > \n + < version > 1 . 8 . 1 < / version > \n
presto - kudu \ src \ main \ java \ com \ facebook \ presto \ kudu \ KuduModule . java \n - import com . google . inject . multibindings . MultibindingsScanner ; \n - install ( MultibindingsScanner . asModule ( ) ) ; \n - \n
presto - base - jdbc \ src \ test \ java \ com \ facebook \ presto \ plugin \ jdbc \ TestJdbcClient . java \n - SchemaTableName schemaTableName = new SchemaTableName ( " example " , tableName ) ; \n + SchemaTableName schemaTableName = new SchemaTableName ( " schema _ for _ create _ table _ tests " , tableName ) ; \n - SchemaTableName schemaTableName = new SchemaTableName ( " example " , tableName ) ; \n + SchemaTableName schemaTableName = new SchemaTableName ( " schema _ for _ create _ table _ tests " , tableName ) ; \n presto - base - jdbc \ src \ test \ java \ com \ facebook \ presto \ plugin \ jdbc \ TestingDatabase . java \n + connection . createStatement ( ) . execute ( " CREATE SCHEMA schema _ for _ create _ table _ tests " ) ; \n
presto - docs \ src \ main \ sphinx \ admin \ properties . rst \n + ` ` query . low - memory - killer . policy ` ` \n + ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ ^ \n + \n + * * * Type : * * ` ` string ` ` \n + * * * Default value : * * ` ` none ` ` \n + \n + The policy used for selecting the query to kill when the cluster is out of memory ( OOM ) . \n + This property can have one of the following values : ` ` none ` ` , ` ` total - reservation ` ` , \n + or ` ` total - reservation - on - blocked - nodes ` ` . ` ` none ` ` disables the cluster OOM killer . \n + The value of ` ` total - reservation ` ` configures a policy that kills the query with the largest \n + memory reservation across the cluster . The value of ` ` total - reservation - on - blocked - nodes ` ` \n + configures a policy that kills the query using the most memory on the workers that are out of memory ( blocked ) . \n + \n
server \ src \ main \ java \ org \ elasticsearch \ index \ engine \ LuceneChangesSnapshot . java \n + import org . elasticsearch . common . lucene . index . SequentialStoredFieldsLeafReader ; \n - leaf . reader ( ) . document ( segmentDocID , fields ) ; \n - \n + if ( leaf . reader ( ) instanceof SequentialStoredFieldsLeafReader ) { \n + ( ( SequentialStoredFieldsLeafReader ) leaf . reader ( ) ) . getSequentialStoredFieldsReader ( ) . visitDocument ( segmentDocID , fields ) ; \n + } else { \n + assert false : " The changes reader isn ' t wrapped with Lucene # wrapAllDocsLive " ; \n + throw new IllegalStateException ( " The changes reader isn ' t wrapped with Lucene # wrapAllDocsLive " ) ; \n + } \n test \ framework \ src \ main \ java \ org \ elasticsearch \ test \ engine \ ThrowingLeafReaderWrapper . java \n + import org . apache . lucene . codecs . StoredFieldsReader ; \n - import org . apache . lucene . index . FilterLeafReader ; \n + import org . elasticsearch . common . lucene . index . SequentialStoredFieldsLeafReader ; \n - public class ThrowingLeafReaderWrapper extends FilterLeafReader { \n + public class ThrowingLeafReaderWrapper extends SequentialStoredFieldsLeafReader { \n + \n + @ Override \n + protected StoredFieldsReader doGetSequentialStoredFieldsReader ( StoredFieldsReader reader ) { \n + return reader ; \n + } \n
server \ src \ main \ java \ org \ elasticsearch \ index \ engine \ LuceneChangesSnapshot . java \n + import org . elasticsearch . common . lucene . index . SequentialStoredFieldsLeafReader ; \n - leaf . reader ( ) . document ( segmentDocID , fields ) ; \n - \n + if ( leaf . reader ( ) instanceof SequentialStoredFieldsLeafReader ) { \n + ( ( SequentialStoredFieldsLeafReader ) leaf . reader ( ) ) . getSequentialStoredFieldsReader ( ) . visitDocument ( segmentDocID , fields ) ; \n + } else { \n + assert false : " The changes reader isn ' t wrapped with Lucene # wrapAllDocsLive " ; \n + throw new IllegalStateException ( " The changes reader isn ' t wrapped with Lucene # wrapAllDocsLive " ) ; \n + } \n
server \ src \ main \ java \ org \ elasticsearch \ index \ engine \ LuceneChangesSnapshot . java \n - import org . elasticsearch . common . lucene . index . SequentialStoredFieldsLeafReader ; \n - if ( leaf . reader ( ) instanceof SequentialStoredFieldsLeafReader ) { \n - ( ( SequentialStoredFieldsLeafReader ) leaf . reader ( ) ) . getSequentialStoredFieldsReader ( ) . visitDocument ( segmentDocID , fields ) ; \n - } else { \n - assert false : " The changes reader isn ' t wrapped with Lucene # wrapAllDocsLive " ; \n - throw new IllegalStateException ( " The changes reader isn ' t wrapped with Lucene # wrapAllDocsLive " ) ; \n - } \n + leaf . reader ( ) . document ( segmentDocID , fields ) ; \n + \n
dropwizard - testing \ src \ main \ java \ io \ dropwizard \ testing \ junit5 \ DropwizardAppExtension . java \n - * < p > \n - * Using DropwizardAppExtension at the suite level can speed up test runs , as the application is only started and stopped \n - * once for the entire suite : \n - * < / p > \n - * \n - * < pre > \n - * public class MySuite { \n - * public static final DropwizardAppExtension & lt ; MyConfig > DROPWIZARD = new DropwizardAppExtension & lt ; > ( . . . ) ; \n - * } \n - * < / pre > \n - * \n - * < p > \n - * If the same instance of DropwizardAppExtension is reused at the suite - and class - level , then the application will be \n - * started and stopped once , regardless of whether the entire suite or a single test is executed . \n - * < / p > \n - * \n - * < pre > \n - * & # 064 ; ExtendWith ( DropwizardExtensionsSupport . class ) \n - * public class FooTest { \n - * public static final DropwizardAppExtension & lt ; MyConfig > DROPWIZARD = MySuite . DROPWIZARD ; \n - * \n - * public void testFoo ( ) { . . . } \n - * } \n - * \n - * & # 064 ; ExtendWith ( DropwizardExtensionsSupport . class ) \n - * public class BarTest { \n - * public static final DropwizardAppExtension & lt ; MyConfig > DROPWIZARD = MySuite . DROPWIZARD ; \n - * \n - * public void testBar ( ) { . . . } \n - * } \n - * < / pre > \n - * \n - * < p > \n - * \n - * < / p > \n - * \n
docs \ source \ manual \ configuration . rst \n - ` ` timestamp ` ` * true * Whether to include the timestamp of the event the ` ` timestamp ` ` field . \n - ` ` userAgent ` ` * true * Whether to include the user agent of the request as the ` ` userAgent ` ` field . \n - ` ` requestParameters ` ` * false * Whether to include the request parameters as the ` ` params ` ` field . \n - - ` ` requestContent ` ` * false * Whether to include the body of the request as the ` ` requestContent ` ` field . \n + - ` ` requestContent ` ` * false * Whether to include the body of the request as the ` ` requestContent ` ` field . Must register _ the TeeFilter _ to be effective . \n - ` ` requestUrl ` ` * false * Whether to include the request URL ( method , URI , query parameters , protocol ) as the ` ` url ` ` field . \n - ` ` pathQuery ` ` * false * Whether to include the URI and query parameters of the request as the ` ` pathQuery ` ` field . \n - ` ` remoteHost ` ` * false * Whether to include the fully qualified name of the client or the last proxy that sent the request as the ` ` remoteHost ` ` field . \n - - ` ` responseContent ` ` * false * Whether to include the response body as the ` ` responseContent ` ` field . \n + - ` ` responseContent ` ` * false * Whether to include the response body as the ` ` responseContent ` ` field . Must register _ the TeeFilter _ to be effective . \n - ` ` serverName ` ` * false * Whether to include the name of the server to which the request was sent as the ` ` serverName ` ` field . \n + . . _ TeeFilter : https : / / logback . qos . ch / access . html # teeFilter \n + \n + . . _ register : https : / / github . com / dropwizard / dropwizard / issues / 2045 # issuecomment - 299149563 \n + \n
docs \ source \ manual \ testing . rst \n - < version > $ { jersey . version } < / version > \n - < exclusions > \n - < exclusion > \n - < groupId > javax . servlet < / groupId > \n - < artifactId > javax . servlet - api < / artifactId > \n - < / exclusion > \n - < exclusion > \n - < groupId > junit < / groupId > \n - < artifactId > junit < / artifactId > \n - < / exclusion > \n - < / exclusions > \n
core \ src \ main \ res \ values \ colors . xml \n - < color name = " designer _ news _ super _ dark " > # 000133 < / color > \n - \n designernews \ src \ main \ java \ io \ plaidapp \ designernews \ ui \ story \ StoryActivity . java \n + import static android . view . ViewGroup . MarginLayoutParams ; \n - @ Inject StoryViewModel viewModel ; \n - @ Inject LoginRepository loginRepository ; \n - @ Inject Markdown markdown ; \n + @ Inject \n + StoryViewModel viewModel ; \n + @ Inject \n + LoginRepository loginRepository ; \n + @ Inject \n + Markdown markdown ; \n + draggableFrame . setSystemUiVisibility ( View . SYSTEM _ UI _ FLAG _ LAYOUT _ STABLE | \n + View . SYSTEM _ UI _ FLAG _ LAYOUT _ FULLSCREEN | \n + View . SYSTEM _ UI _ FLAG _ LAYOUT _ HIDE _ NAVIGATION ) ; \n + final int stableListPaddingBottom = commentsList . getPaddingBottom ( ) ; \n + draggableFrame . setOnApplyWindowInsetsListener ( ( v , insets ) - > { \n + final MarginLayoutParams lp = ( MarginLayoutParams ) v . getLayoutParams ( ) ; \n + lp . topMargin = insets . getSystemWindowInsetTop ( ) ; \n + v . setLayoutParams ( lp ) ; \n + commentsList . setPadding ( \n + commentsList . getPaddingLeft ( ) , \n + commentsList . getPaddingTop ( ) , \n + commentsList . getPaddingRight ( ) , \n + stableListPaddingBottom + insets . getSystemWindowInsetBottom ( ) ) ; \n + return insets ; \n + } ) ; \n + \n designernews \ src \ main \ res \ values \ styles . xml \n - < item name = " android : navigationBarColor " > @ color / designer _ news _ super _ dark < / item > \n + < item name = " android : navigationBarColor " > @ color / nav _ bar < / item > \n
search \ src \ main \ java \ io \ plaidapp \ search \ ui \ SearchActivity . kt \n + import android . view . ViewGroup . MarginLayoutParams \n + import androidx . core . view . marginBottom \n + import androidx . core . view . updateLayoutParams \n + import androidx . core . view . updatePadding \n + setupInsets ( ) \n + private fun setupInsets ( ) { \n + container . apply { \n + systemUiVisibility = ( View . SYSTEM _ UI _ FLAG _ LAYOUT _ STABLE \n + or View . SYSTEM _ UI _ FLAG _ LAYOUT _ FULLSCREEN \n + or View . SYSTEM _ UI _ FLAG _ LAYOUT _ HIDE _ NAVIGATION ) \n + val stableFabMarginBottom = fab . marginBottom \n + setOnApplyWindowInsetsListener { _ , insets - > \n + updatePadding ( top = insets . systemWindowInsetTop ) \n + results . updatePadding ( bottom = insets . systemWindowInsetBottom ) \n + fab . updateLayoutParams < MarginLayoutParams > { \n + stableFabMarginBottom + insets . systemWindowInsetBottom \n + } \n + confirmSaveContainer . updateLayoutParams < MarginLayoutParams > { \n + stableFabMarginBottom + insets . systemWindowInsetBottom \n + } \n + insets \n + } \n + } \n + } \n + \n search \ src \ main \ res \ values \ styles . xml \n - < item name = " android : navigationBarColor " > @ color / background _ super _ dark < / item > \n + < item name = " android : navigationBarColor " > @ color / nav _ bar < / item > \n
designernews \ src \ main \ java \ io \ plaidapp \ designernews \ ui \ story \ StoryActivity . java \n + final int stableListPaddingRight = commentsList . getPaddingRight ( ) ; \n + final int stableFabMarginBottom = ( ( MarginLayoutParams ) fab . getLayoutParams ( ) ) . bottomMargin ; \n + final int stableFabMarginRight = ( ( MarginLayoutParams ) fab . getLayoutParams ( ) ) . bottomMargin ; \n - final MarginLayoutParams lp = ( MarginLayoutParams ) v . getLayoutParams ( ) ; \n - lp . topMargin = insets . getSystemWindowInsetTop ( ) ; \n - v . setLayoutParams ( lp ) ; \n + final MarginLayoutParams listLp = ( MarginLayoutParams ) v . getLayoutParams ( ) ; \n + listLp . topMargin = insets . getSystemWindowInsetTop ( ) ; \n + v . setLayoutParams ( listLp ) ; \n - commentsList . getPaddingRight ( ) , \n + stableListPaddingRight + insets . getSystemWindowInsetRight ( ) , \n + final MarginLayoutParams fabLp = ( MarginLayoutParams ) fab . getLayoutParams ( ) ; \n + fabLp . rightMargin = stableFabMarginRight + insets . getSystemWindowInsetRight ( ) ; \n + fabLp . bottomMargin = stableFabMarginBottom + insets . getSystemWindowInsetBottom ( ) ; \n + fab . setLayoutParams ( fabLp ) ; \n dribbble \ src \ main \ java \ io \ plaidapp \ dribbble \ ui \ shot \ ShotActivity . kt \n - import android . view . View \n - import android . view . ViewGroup . MarginLayoutParams \n - import androidx . core . view . updateLayoutParams \n - import androidx . core . view . updatePadding \n
handler \ src \ main \ java \ io \ netty \ handler \ ssl \ AbstractSniHandler . java \n + break ; \n - break ; \n + / / fall - through \n handler \ src \ test \ java \ io \ netty \ handler \ ssl \ SniHandlerTest . java \n - / / fail ( ) ; \n + fail ( ) ; \n + @ Test ( timeout = 10000 ) \n + public void testMajorVersionNot3 ( ) throws Exception { \n + SslContext nettyContext = makeSslContext ( provider , false ) ; \n + \n + try { \n + DomainNameMapping < SslContext > mapping = new DomainNameMappingBuilder < SslContext > ( nettyContext ) . build ( ) ; \n + \n + SniHandler handler = new SniHandler ( mapping ) ; \n + EmbeddedChannel ch = new EmbeddedChannel ( handler ) ; \n + \n + / / invalid \n + byte [ ] message = { 22 , 2 , 0 , 0 , 0 } ; \n + try { \n + / / Push the handshake message . \n + ch . writeInbound ( Unpooled . wrappedBuffer ( message ) ) ; \n + fail ( ) ; \n + } catch ( Exception e ) { \n + / / expected \n + } \n + \n + ch . close ( ) ; \n + \n + / / When the channel is closed the SslHandler will write an empty buffer to the channel . \n + ByteBuf buf = ch . readOutbound ( ) ; \n + if ( buf ! = null ) { \n + assertFalse ( buf . isReadable ( ) ) ; \n + buf . release ( ) ; \n + } \n + \n + assertThat ( ch . finish ( ) , is ( false ) ) ; \n + assertThat ( handler . hostname ( ) , nullValue ( ) ) ; \n + assertThat ( handler . sslContext ( ) , is ( nettyContext ) ) ; \n + } finally { \n + releaseAll ( nettyContext ) ; \n + } \n + } \n + \n
transport \ src \ test \ java \ io \ netty \ channel \ pool \ SimpleChannelPoolTest . java \n - pool . release ( ch1 ) ; \n - pool . release ( ch2 ) ; \n + pool . release ( ch1 ) . get ( 1 , TimeUnit . SECONDS ) ; \n + pool . release ( ch2 ) . get ( 1 , TimeUnit . SECONDS ) ; \n
buffer \ src \ main \ java \ io \ netty \ buffer \ PooledByteBuf . java \n + } else { \n + tmpNioBuf . clear ( ) ; \n buffer \ src \ main \ java \ io \ netty \ buffer \ PooledDirectByteBuf . java \n - tmpBuf . clear ( ) . position ( index ) . limit ( index + length ) ; \n + tmpBuf . limit ( index + length ) . position ( index ) ; \n - tmpBuf . clear ( ) . position ( idx ( index ) ) ; \n + tmpBuf . position ( idx ( index ) ) ; \n buffer \ src \ test \ java \ io \ netty \ buffer \ PoolArenaTest . java \n + import static org . junit . Assume . assumeTrue ; \n + \n + assumeTrue ( PlatformDependent . hasUnsafe ( ) ) ; \n - public final void testAllocationCounter ( ) { \n + public void testAllocationCounter ( ) { \n + \n + @ Test \n + public void testDirectArenaMemoryCopy ( ) { \n + ByteBuf src = PooledByteBufAllocator . DEFAULT . directBuffer ( 512 ) ; \n + ByteBuf dst = PooledByteBufAllocator . DEFAULT . directBuffer ( 512 ) ; \n + \n + PooledByteBuf < ByteBuffer > pooledSrc = unwrapIfNeeded ( src ) ; \n + PooledByteBuf < ByteBuffer > pooledDst = unwrapIfNeeded ( dst ) ; \n + \n + / / This causes the internal reused ByteBuffer duplicate limit to be set to 128 \n + pooledDst . writeBytes ( ByteBuffer . allocate ( 128 ) ) ; \n + / / Ensure internal ByteBuffer duplicate limit is properly reset ( used in memoryCopy non - Unsafe case ) \n + pooledDst . chunk . arena . memoryCopy ( pooledSrc . memory , 0 , pooledDst , 512 ) ; \n + \n + src . release ( ) ; \n + dst . release ( ) ; \n + } \n + \n + @ SuppressWarnings ( " unchecked " ) \n + private PooledByteBuf < ByteBuffer > unwrapIfNeeded ( ByteBuf buf ) { \n + return ( PooledByteBuf < ByteBuffer > ) ( buf instanceof PooledByteBuf ? buf : buf . unwrap ( ) ) ; \n + } \n
src \ jcstress \ java \ com \ lmax \ disruptor \ SequenceStress . java \n + import org . openjdk . jcstress . infra . results . JJ _ Result ; \n - import org . openjdk . jcstress . infra . results . LL _ Result ; \n - import org . openjdk . jcstress . infra . results . L _ Result ; \n - public void arbiter ( L _ Result r ) \n + public void arbiter ( J _ Result r ) \n - public void arbiter ( L _ Result r ) \n + public void arbiter ( J _ Result r ) \n - public void arbiter ( L _ Result r ) \n + public void arbiter ( J _ Result r ) \n - public void actor2 ( LL _ Result r ) \n + public void actor2 ( JJ _ Result r ) \n - public void actor2 ( LL _ Result r ) \n + public void actor2 ( JJ _ Result r ) \n - public void actor2 ( LL _ Result r ) \n + public void actor2 ( JJ _ Result r ) \n - public void actor1 ( LL _ Result r ) \n + public void actor1 ( JJ _ Result r ) \n - public void actor2 ( LL _ Result r ) \n + public void actor2 ( JJ _ Result r ) \n - public void actor1 ( LL _ Result r ) \n + public void actor1 ( JJ _ Result r ) \n - public void actor2 ( LL _ Result r ) \n + public void actor2 ( JJ _ Result r ) \n
rename from . github \ workflows \ jcstress - weekly - stress . yml \n rename to . github \ workflows \ jcstress - stress . yml \n - cron : " 0 0 * * WED " \n + workflow _ dispatch : \n
rename from . github \ workflows \ jcstress - stress . yml \n rename to . github \ workflows \ jcstress - tough . yml \n - name : JCStress Testing - Thorough stress testing \n + name : JCStress Testing - stress testing \n - name : Grant execute permission for gradlew \n - name : Build with Gradle \n - run : . / gradlew jcstress - Pmode = stress \n + run : . / gradlew jcstress - Pmode = tough \n - name : Archive artifacts \n
appintro \ src \ main \ java \ com \ github \ appintro \ AppIntroBase . kt \n + val isFirstSlide = pager . isFirstSlide ( fragments . size ) \n - backButton . isVisible = isWizardMode \n + backButton . isVisible = isWizardMode & & ! isFirstSlide \n
compiler \ testData \ diagnostics \ ReadMe . md \n - This directive allows to exclude some irrelevant diagnostics ( e . g . unused parameter ) from a certain test , or to test only a specific set of diagnostics . \n + This directive allows to exclude some irrelevant diagnostics ( e . g . unused parameter ) from a certain test or to include others . \n - ' ( [ + - ! ] DIAGNOSTIC _ FACTORY _ NAME | ERROR | WARNING | INFO ) + ' \n + ' ( [ + - ] DIAGNOSTIC _ FACTORY _ NAME | ERROR | WARNING | INFO ) + ' \n - * ` - ` means ' exclude ' ; \n - * ` ! ` means ' exclude everything but this ' . \n + * ` - ` means ' exclude ' . \n - Directives are applied in the order of appearance , i . e . ` ! FOO + BAR ` means include only ` FOO ` and ` BAR ` . \n + Directives are applied in the order of appearance , i . e . ` + FOO - BAR ` means include ` FOO ` but not ` BAR ` . \n
CHANGELOG . md \n - # # Version 6 . 1 . 0 * ( 2021 - 01 - 29 ) * \n + # # Version 6 . 1 . 0 * ( 2021 - 02 - 03 ) * \n
src \ jvm \ clojure \ lang \ DynamicClassLoader . java \n + void installPackage ( String className ) { \n + int offset = className . lastIndexOf ( ' . ' ) ; \n + if ( offset ! = - 1 ) \n + { \n + String pkgname = className . substring ( 0 , offset ) ; \n + if ( getPackage ( pkgname ) = = null ) \n + definePackage ( pkgname , null , null , null , null , null , null , null ) ; \n + } \n + } \n + \n + installPackage ( name ) ; \n test \ clojure \ test _ clojure \ compilation . clj \n + ( deftest CLJ - 1550 - dcl - package \n + ( let [ pkg ( . getPackage clojure . test _ clojure . compilation . load _ ns . x ) ] \n + ( is ( = " clojure . test _ clojure . compilation . load _ ns " ( and pkg ( . getName pkg ) ) ) ) ) ) \n + \n
src \ jvm \ clojure \ lang \ Compiler . java \n - gen . invokeStatic ( type , m ) ; \n + gen . visitMethodInsn ( INVOKESTATIC , type . getInternalName ( ) , methodName , m . getDescriptor ( ) , c . isInterface ( ) ) ; \n test \ clojure \ test _ clojure \ compilation . clj \n - ( is ( = " test " ( compilation . JDK8InterfaceMethods / staticMethod1 " test " ) ) ) ) ) \n + ( is ( = " test " ( compilation . JDK8InterfaceMethods / staticMethod1 " test " ) ) ) \n + ( is ( = 1 ( if ( compilation . JDK8InterfaceMethods / staticMethod2 true ) 1 2 ) ) ) ) ) \n test \ java \ compilation \ JDK8InterfaceMethods . java \n + public static boolean staticMethod2 ( boolean b ) { return b ; } \n
src \ jvm \ clojure \ lang \ Compiler . java \n - else if ( v instanceof IPersistentCollection & & ( ( IPersistentCollection ) v ) . count ( ) = = 0 ) \n + else if ( v instanceof IPersistentCollection \n + & & ( ( ( IPersistentCollection ) v ) . count ( ) = = 0 ) \n + & & ( ! ( v instanceof IObj ) | | ( ( IObj ) v ) . meta ( ) = = null ) ) \n test \ clojure \ test _ clojure \ metadata . clj \n + ( testing " const vars preserve metadata " \n + ( let [ [ v1 v2 ] ( eval - in - temp - ns \n + ( def ^ : const foo ^ : foo [ ] ) \n + ( def ^ : const bar ^ : foo [ : bar ] ) \n + [ ( meta foo ) ( meta bar ) ] ) ] \n + ( is ( = { : foo true } v1 ) ) \n + ( is ( = { : foo true } v2 ) ) ) ) \n
common \ src \ main \ java \ com \ example \ android \ uamp \ media \ extensions \ JavaLangExt . kt \n + import java . util . Locale \n - if ( this = = null & & other = = null ) { \n - true \n - } else if ( this ! = null & & other ! = null ) { \n - toLowerCase ( ) . contains ( other . toLowerCase ( ) ) \n + if ( this ! = null & & other ! = null ) { \n + toLowerCase ( Locale . getDefault ( ) ) . contains ( other . toLowerCase ( Locale . getDefault ( ) ) ) \n - false \n + this = = other \n
common \ src \ main \ java \ com \ example \ android \ uamp \ media \ PackageValidator . kt \n - private val certificateWhitelist : Map < String , KnownCallerInfo > \n + private val certificateAllowList : Map < String , KnownCallerInfo > \n - certificateWhitelist = buildCertificateWhitelist ( parser ) \n + certificateAllowList = buildCertificateAllowList ( parser ) \n - val isPackageInWhitelist = certificateWhitelist [ callingPackage ] ? . signatures ? . first { \n + val isPackageInAllowList = certificateAllowList [ callingPackage ] ? . signatures ? . first { \n - / / If it ' s one of the apps on the whitelist , allow it . \n - isPackageInWhitelist - > true \n + / / If it ' s one of the apps on the allow list , allow it . \n + isPackageInAllowList - > true \n - * This requests both the signatures ( for checking if an app is on the whitelist ) and \n - * the app ' s permissions , which allow for more flexibility in the whitelist . \n + * This requests both the signatures ( for checking if an app is on the allow list ) and \n + * the app ' s permissions , which allow for more flexibility in the allow list . \n - private fun buildCertificateWhitelist ( parser : XmlResourceParser ) : Map < String , KnownCallerInfo > { \n + private fun buildCertificateAllowList ( parser : XmlResourceParser ) : Map < String , KnownCallerInfo > { \n - val certificateWhitelist = LinkedHashMap < String , KnownCallerInfo > ( ) \n + val certificateAllowList = LinkedHashMap < String , KnownCallerInfo > ( ) \n - val existingCallerInfo = certificateWhitelist [ packageName ] \n + val existingCallerInfo = certificateAllowList [ packageName ] \n - certificateWhitelist [ packageName ] = callerInfo \n + certificateAllowList [ packageName ] = callerInfo \n - return certificateWhitelist \n + return certificateAllowList \n common \ src \ main \ java \ com \ example \ android \ uamp \ media \ library \ BrowseTree . kt \n - * Whether to allow clients which are unknown ( non - whitelisted ) to use search on this \n + * Whether to allow clients which are unknown ( not on the allow listed ) to use search on this \n
app \ src \ main \ AndroidManifest . xml \n + \n + < intent - filter > \n + < action android : name = " android . media . action . MEDIA _ PLAY _ FROM _ SEARCH " / > \n + < / intent - filter > \n - < intent - filter > \n - < action android : name = " android . media . action . MEDIA _ PLAY _ FROM _ SEARCH " / > \n - < / intent - filter > \n
build . gradle \n - classpath ' com . android . tools . build : gradle : 0 . 12 . + ' \n - classpath ' org . ajoberstar : gradle - git : 0 . 9 . + ' \n + classpath ' com . android . tools . build : gradle : 0 . 12 . 2 ' \n + classpath ' org . ajoberstar : gradle - git : 0 . 9 . 0 ' \n example \ build . gradle \n - / / noinspection GradleDependency \n - compile ' com . android . support : support - v4 : 19 . 1 . + ' \n + compile ' com . android . support : support - annotations : 20 . 0 . 0 ' \n + \n + compile ' com . android . support : support - v4 : 20 . 0 . 0 ' \n lib - core - slh \ build . gradle \n + provided ' com . android . support : support - annotations : 20 . 0 . 0 ' \n + \n lib - core \ build . gradle \n + provided ' com . android . support : support - annotations : 20 . 0 . 0 ' \n + \n - compile ' com . android . support : support - annotations : + ' \n lib - manipulation \ build . gradle \n + provided ' com . android . support : support - annotations : 20 . 0 . 0 ' \n + \n
lib - manipulation \ src \ androidTest \ java \ com \ nhaarman \ listviewanimations \ itemmanipulation \ swipedismiss \ undo \ SwipeUndoTouchListenerTest . java \n - Thread . sleep ( 5000 ) ; / / Wait for the smooth scroll to settle ; \n + Thread . sleep ( 15000 ) ; / / Wait for the smooth scroll to settle ; \n - Thread . sleep ( 5000 ) ; / / Wait for the smooth scroll to settle ; \n + Thread . sleep ( 15000 ) ; / / Wait for the smooth scroll to settle ; \n
library \ src \ com \ nhaarman \ listviewanimations \ itemmanipulation \ swipedismiss \ contextualundo \ ContextualUndoAdapter . java \n - private Handler mHandler ; \n + private final Handler mHandler ; \n + private final CountDownRunnable mCountDownRunnable ; \n - private CountDownRunnable mCountDownRunnable ; \n - \n - private DeleteItemCallback mDeleteItemCallback ; \n - private CountDownFormatter mCountDownFormatter ; \n + private final DeleteItemCallback mDeleteItemCallback ; \n + private final CountDownFormatter mCountDownFormatter ; \n + * @ deprecated use { @ link # removePendingItem ( ) } or { @ link # animateRemovePendingItem ( ) } instead . \n + @ Deprecated \n - removePreviousContextualUndoIfPresent ( ) ; \n - } else if ( ( mCurrentRemovedView ! = null ) | | ( mCurrentRemovedId > = 0 ) ) { \n + animateRemovePendingItem ( ) ; \n + } else { \n + removePendingItem ( ) ; \n + } \n + } \n + \n + / * * \n + * Cancels the count down , and removes any item that was swiped away , without animating . Will cause { @ link DeleteItemCallback # deleteItem ( int ) } to be called . \n + * / \n + public void removePendingItem ( ) { \n + if ( ( mCurrentRemovedView ! = null ) | | ( mCurrentRemovedId > = 0 ) ) { \n + / * * \n + * Removes any item that was swiped away , animating the removal ( collapsing the item ) . { @ link DeleteItemCallback # deleteItem ( int ) } to be called . \n + * / \n + public void animateRemovePendingItem ( ) { \n + removePreviousContextualUndoIfPresent ( ) ; \n + } \n + \n + / * * \n + * Cancel the count down . This will not cause the { @ link DeleteItemCallback # deleteItem ( int ) } to be called . Use { @ link # removePendingItem ( ) } for that instead . \n + * / \n + private void cancelCountDown ( ) { \n + mHandler . removeCallbacks ( mCountDownRunnable ) ; \n + } \n + \n
rest - api - spec \ src \ main \ resources \ rest - api - spec \ test \ search . aggregation \ 220 _ filters _ bucket . yml \n - - - \n + - skip : \n + version : " - 7 . 99 . 99 " \n + reason : cache fixed in 8 . 0 . 0 to be backported to 7 . 11 . 0 \n + \n - do : \n
rest - api - spec \ src \ main \ resources \ rest - api - spec \ test \ search . aggregation \ 220 _ filters _ bucket . yml \n - - - \n - skip : \n - version : " - 7 . 99 . 99 " \n - reason : cache fixed in 8 . 0 . 0 to be backported to 7 . 11 . 0 \n + version : " - 7 . 10 . 99 " \n + reason : fixed in 7 . 11 . 0 \n
server \ src \ test \ java \ org \ elasticsearch \ common \ breaker \ PreallocatedCircuitBreakerServiceTests . java \n - import org . elasticsearch . common . unit . ByteSizeValue ; \n + import static org . elasticsearch . indices . breaker . HierarchyCircuitBreakerService . REQUEST _ CIRCUIT _ BREAKER _ LIMIT _ SETTING ; \n + import static org . elasticsearch . indices . breaker . HierarchyCircuitBreakerService . USE _ REAL _ MEMORY _ USAGE _ SETTING ; \n - import static org . hamcrest . Matchers . lessThanOrEqualTo ; \n - import static org . junit . Assume . assumeThat ; \n - long limit = ByteSizeValue . ofMb ( 100 ) . getBytes ( ) ; \n - assumeThat ( limit , lessThanOrEqualTo ( realBreaker . getLimit ( ) ) ) ; \n - long preallocatedBytes = randomLongBetween ( 1 , limit ) ; \n + long preallocatedBytes = randomLongBetween ( 1 , ( long ) ( realBreaker . getLimit ( ) * . 8 ) ) ; \n - long delta = randomLongBetween ( - Math . min ( current , limit / 100 ) , 0 ) ; \n + long delta = randomLongBetween ( - Math . min ( current , realBreaker . getLimit ( ) / 100 ) , 0 ) ; \n - long delta = randomLongBetween ( 0 , limit / 100 ) ; \n + long delta = randomLongBetween ( 0 , realBreaker . getLimit ( ) / 100 ) ; \n - Settings . EMPTY , \n + Settings . builder ( ) \n + / / Pin the limit to something that ' ll totally fit in the heap we use for the tests \n + . put ( REQUEST _ CIRCUIT _ BREAKER _ LIMIT _ SETTING . getKey ( ) , " 100mb " ) \n + / / Disable the real memory checking because it causes other tests to interfere with this one . \n + . put ( USE _ REAL _ MEMORY _ USAGE _ SETTING . getKey ( ) , false ) \n + . build ( ) , \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ HiveManifestUtils . java \n + import com . facebook . presto . spi . ConnectorSession ; \n + import java . util . OptionalLong ; \n + import static com . facebook . presto . hive . HiveSessionProperties . isFileRenamingEnabled ; \n + public static OptionalLong getManifestSizeInBytes ( ConnectorSession session , PartitionUpdate partitionUpdate , Map < String , String > parameters ) \n + { \n + if ( isFileRenamingEnabled ( session ) & & partitionUpdate . containsNumberedFileNames ( ) ) { \n + if ( parameters . containsKey ( MANIFEST _ VERSION ) ) { \n + return OptionalLong . of ( parameters . get ( FILE _ NAMES ) . length ( ) + parameters . get ( FILE _ SIZES ) . length ( ) ) ; \n + } \n + List < FileWriteInfo > fileWriteInfos = partitionUpdate . getFileWriteInfos ( ) ; \n + return OptionalLong . of ( compressFileNames ( fileWriteInfos . stream ( ) . map ( FileWriteInfo : : getWriteFileName ) . collect ( toImmutableList ( ) ) ) . length ( ) \n + + compressFileSizes ( fileWriteInfos . stream ( ) . map ( FileWriteInfo : : getFileSize ) . filter ( Optional : : isPresent ) . map ( Optional : : get ) . collect ( toImmutableList ( ) ) ) . length ( ) ) ; \n + } \n + \n + return OptionalLong . empty ( ) ; \n + } \n + \n presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ HiveMetadata . java \n - import com . facebook . presto . common . Page ; \n - import static com . facebook . presto . hive . HiveManifestUtils . createPartitionManifest ; \n + import static com . facebook . presto . hive . HiveManifestUtils . getManifestSizeInBytes ; \n - / / TODO : Put the manifest blob in partition parameters \n - Optional < Page > manifestBlob = createPartitionManifest ( partitionUpdate ) ; \n - manifestBlob . ifPresent ( manifest - > hivePartitionStats . addManifestSizeInBytes ( manifest . getRetainedSizeInBytes ( ) ) ) ; \n + getManifestSizeInBytes ( session , partitionUpdate , extraPartitionMetadata ) . ifPresent ( hivePartitionStats : : addManifestSizeInBytes ) ; \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ HiveMetadata . java \n + import static com . facebook . presto . hive . HiveSessionProperties . isPreferManifestsToListFiles ; \n - if ( isFileRenamingEnabled ( session ) ) { \n + if ( isPreferManifestsToListFiles ( session ) & & isFileRenamingEnabled ( session ) ) { \n + / / Store list of file names and sizes in partition metadata when prefer _ manifests _ to _ list _ files and file _ renaming _ enabled are set to true \n - if ( HiveSessionProperties . isPreferManifestsToListFiles ( session ) ) { \n - / / Store list of file names and sizes in partition metadata when prefer _ manifests _ to _ list _ files property is set \n + if ( isPreferManifestsToListFiles ( session ) & & isFileRenamingEnabled ( session ) ) { \n + / / Store list of file names and sizes in partition metadata when prefer _ manifests _ to _ list _ files and file _ renaming _ enabled are set to true \n
presto - hive - metastore \ src \ main \ java \ com \ facebook \ presto \ hive \ metastore \ CachingHiveMetastore . java \n - Optional < Integer > partitionVersion = partition . get ( ) . getPartitionVersion ( ) ; \n + Optional < Long > partitionVersion = partition . get ( ) . getPartitionVersion ( ) ; \n presto - hive - metastore \ src \ main \ java \ com \ facebook \ presto \ hive \ metastore \ Partition . java \n - private final Optional < Integer > partitionVersion ; \n + private final Optional < Long > partitionVersion ; \n - @ JsonProperty ( " partitionVersion " ) Optional < Integer > partitionVersion , \n + @ JsonProperty ( " partitionVersion " ) Optional < Long > partitionVersion , \n - public Optional < Integer > getPartitionVersion ( ) \n + public Optional < Long > getPartitionVersion ( ) \n - private Optional < Integer > partitionVersion = Optional . empty ( ) ; \n + private Optional < Long > partitionVersion = Optional . empty ( ) ; \n - public Builder setPartitionVersion ( int partitionVersion ) \n + public Builder setPartitionVersion ( long partitionVersion ) \n presto - hive - metastore \ src \ main \ java \ com \ facebook \ presto \ hive \ metastore \ PartitionNameWithVersion . java \n - private final int partitionVersion ; \n + private final long partitionVersion ; \n - public PartitionNameWithVersion ( String partitionName , int partitionVersion ) \n + public PartitionNameWithVersion ( String partitionName , long partitionVersion ) \n - public int getPartitionVersion ( ) \n + public long getPartitionVersion ( ) \n
src \ main \ java \ io \ reactivex \ annotations \ SchedulerSupport . java \n - @ Target ( { ElementType . METHOD , ElementType . TYPE } ) \n + @ Target ( { ElementType . CONSTRUCTOR , ElementType . METHOD , ElementType . TYPE } ) \n
src \ main \ java \ io \ reactivex \ schedulers \ TestScheduler . java \n + / * * \n + * Creates a new TestScheduler with initial virtual time of zero . \n + * / \n + public TestScheduler ( ) { \n + / / No - op . \n + } \n + \n + / * * \n + * Creates a new TestScheduler with the specified initial virtual time . \n + * \n + * @ param delayTime \n + * the point in time to move the Scheduler ' s clock to \n + * @ param unit \n + * the units of time that { @ code delayTime } is expressed in \n + * / \n + public TestScheduler ( long delayTime , TimeUnit unit ) { \n + time = unit . toNanos ( delayTime ) ; \n + } \n + \n src \ test \ java \ io \ reactivex \ schedulers \ TestSchedulerTest . java \n - \n + @ Test \n + public void constructorTimeSetsTime ( ) { \n + TestScheduler ts = new TestScheduler ( 5 , TimeUnit . SECONDS ) ; \n + assertEquals ( 5 , ts . now ( TimeUnit . SECONDS ) ) ; \n + assertEquals ( 5000 , ts . now ( TimeUnit . MILLISECONDS ) ) ; \n + } \n
retrofit \ src \ main \ resources \ META - INF \ proguard \ retrofit2 . pro \n - # Retrofit does reflection on generic parameters and InnerClass is required to use Signature . \n - - keepattributes Signature , InnerClasses \n + # Retrofit does reflection on generic parameters . InnerClasses is required to use Signature and \n + # EnclosingMethod is required to use InnerClasses . \n + - keepattributes Signature , InnerClasses , EnclosingMethod \n - keepclassmembers , allowshrinking , allowobfuscation interface * { \n
codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ cookie \ ClientCookieDecoder . java \n - return cookieBuilder . cookie ( ) ; \n + return cookieBuilder ! = null ? cookieBuilder . cookie ( ) : null ; \n codec - http \ src \ test \ java \ io \ netty \ handler \ codec \ http \ cookie \ ClientCookieDecoderTest . java \n + @ Test \n + public void testDecodingInvalidValuesWithCommaAtStart ( ) { \n + assertNull ( ClientCookieDecoder . STRICT . decode ( " , " ) ) ; \n + assertNull ( ClientCookieDecoder . STRICT . decode ( " , a " ) ) ; \n + assertNull ( ClientCookieDecoder . STRICT . decode ( " , a = a " ) ) ; \n + } \n + \n
codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ AbstractHttp2StreamChannel . java \n - private final class Http2StreamChannelConfig extends DefaultChannelConfig { \n + private static final class Http2StreamChannelConfig extends DefaultChannelConfig { \n resolver - dns \ src \ main \ java \ io \ netty \ resolver \ dns \ DnsNameResolver . java \n - private final class AddressedEnvelopeAdapter implements AddressedEnvelope < DnsResponse , InetSocketAddress > { \n + private static final class AddressedEnvelopeAdapter implements AddressedEnvelope < DnsResponse , InetSocketAddress > { \n
codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ DefaultHttp2UnknownFrame . java \n - return new DefaultHttp2UnknownFrame ( frameType , flags , content ) . stream ( stream ( ) ) ; \n + return new DefaultHttp2UnknownFrame ( frameType , flags , content ) . stream ( stream ) ; \n - return StringUtil . simpleClassName ( this ) + " ( frameType = " + frameType ( ) + " , stream = " + stream ( ) + \n - " , flags = " + flags ( ) + " , content = " + contentToString ( ) + ' ) ' ; \n + return StringUtil . simpleClassName ( this ) + " ( frameType = " + frameType + " , stream = " + stream + \n + " , flags = " + flags + " , content = " + contentToString ( ) + ' ) ' ; \n - return super . equals ( other ) & & flags ( ) . equals ( other . flags ( ) ) \n - & & frameType ( ) = = other . frameType ( ) & & ( stream ( ) = = null & & other . stream ( ) = = null ) | | \n - stream ( ) . equals ( other . stream ( ) ) ; \n + Http2FrameStream otherStream = other . stream ( ) ; \n + return ( stream = = otherStream | | otherStream ! = null & & otherStream . equals ( stream ) ) \n + & & flags . equals ( other . flags ( ) ) \n + & & frameType = = other . frameType ( ) \n + & & super . equals ( other ) ; \n - hash = hash * 31 + frameType ( ) ; \n - hash = hash * 31 + flags ( ) . hashCode ( ) ; \n - if ( stream ( ) ! = null ) { \n - hash = hash * 31 + stream ( ) . hashCode ( ) ; \n + hash = hash * 31 + frameType ; \n + hash = hash * 31 + flags . hashCode ( ) ; \n + if ( stream ! = null ) { \n + hash = hash * 31 + stream . hashCode ( ) ; \n
tests \ mute - common . csv \n + org . jetbrains . kotlin . checkers . FirPsiCheckerTestGenerated . Regression . testJet53 , , , FLAKY \n
idea \ tests \ org \ jetbrains \ kotlin \ idea \ codeInsight \ generate \ AbstractCodeInsightActionTest . kt \n + import com . intellij . testFramework . LightProjectDescriptor \n - override fun getProjectDescriptor ( ) = KotlinWithJdkAndRuntimeLightProjectDescriptor . INSTANCE \n + override fun getProjectDescriptor ( ) : LightProjectDescriptor = KotlinWithJdkAndRuntimeLightProjectDescriptor . INSTANCE \n idea \ tests \ org \ jetbrains \ kotlin \ idea \ codeInsight \ generate \ AbstractGenerateTestSupportMethodActionTest . kt \n - import com . intellij . openapi . roots . ModuleRootManager \n + import com . intellij . openapi . module . ModuleTypeId \n + import com . intellij . openapi . projectRoots . Sdk \n + import com . intellij . testFramework . LightProjectDescriptor \n + import org . jetbrains . jps . model . java . JavaSourceRootType \n + import org . jetbrains . jps . model . module . JpsModuleSourceRootType \n - import org . jetbrains . kotlin . idea . util . application . runWriteAction \n + import org . jetbrains . kotlin . idea . test . PluginTestCaseBase \n - private fun setUpTestSourceRoot ( ) { \n - val model = ModuleRootManager . getInstance ( module ) . modifiableModel \n - val entry = model . contentEntries . single ( ) \n - val sourceFolderFile = entry . sourceFolderFiles . single ( ) \n - entry . removeSourceFolder ( entry . sourceFolders . single ( ) ) \n - entry . addSourceFolder ( sourceFolderFile , true ) \n - runWriteAction { \n - model . commit ( ) \n - module . project . save ( ) \n - } \n - } \n - \n - override fun doTest ( path : String ) { \n - setUpTestSourceRoot ( ) \n - super . doTest ( path ) \n + override fun getProjectDescriptor ( ) : LightProjectDescriptor = TEST _ ROOT _ PROJECT _ DESCRIPTOR \n + \n + companion object { \n + val TEST _ ROOT _ PROJECT _ DESCRIPTOR = object : LightProjectDescriptor ( ) { \n + override fun getModuleTypeId ( ) : String = ModuleTypeId . JAVA _ MODULE \n + override fun getSdk ( ) : Sdk = PluginTestCaseBase . mockJdk ( ) \n + override fun getSourceRootType ( ) : JpsModuleSourceRootType < * > = JavaSourceRootType . TEST _ SOURCE \n + } \n
idea \ idea - analysis \ src \ org \ jetbrains \ kotlin \ idea \ highlighter \ DebugInfoAnnotator . kt \n - get ( ) = ApplicationManager . getApplication ( ) \n - . isInternal & & ( KotlinPluginUtil . isSnapshotVersion ( ) | | KotlinPluginUtil . isDevVersion ( ) ) \n + get ( ) = ApplicationManager . getApplication ( ) . isUnitTestMode | | \n + ( ApplicationManager . getApplication ( ) . isInternal & & \n + ( KotlinPluginUtil . isSnapshotVersion ( ) | | KotlinPluginUtil . isDevVersion ( ) ) ) \n
compiler \ tests \ org \ jetbrains \ kotlin \ code \ CodeConformanceTest . kt \n + " kotlin - native " , / / Have a separate licences manager \n
libraries \ tools \ kotlin - gradle - plugin - integration - tests \ build . gradle . kts \n - compileOnly ( intellijDep ( ) ) { includeJars ( " asm - all " ) } \n + testCompileOnly ( " org . jetbrains . intellij . deps : asm - all : 9 . 0 " ) \n
libraries \ tools \ new - project - wizard \ new - project - wizard - cli \ testData \ projectTemplatesBuildFileGeneration \ fullStackWebApplication \ build . gradle \n - maven { url ' https : / / dl . bintray . com / kotlin / ktor ' } \n libraries \ tools \ new - project - wizard \ new - project - wizard - cli \ testData \ projectTemplatesBuildFileGeneration \ fullStackWebApplication \ build . gradle . kts \n - maven { url = uri ( " https : / / dl . bintray . com / kotlin / ktor " ) } \n libraries \ tools \ new - project - wizard \ src \ org \ jetbrains \ kotlin \ tools \ projectWizard \ settings \ buildsystem \ Repository . kt \n - val KTOR _ BINTRAY = BintrayRepository ( " kotlin / ktor " ) \n + val KTOR = DefaultRepository . MAVEN _ CENTRAL \n libraries \ tools \ new - project - wizard \ src \ org \ jetbrains \ kotlin \ tools \ projectWizard \ templates \ KtorServerTemplate . kt \n - + RepositoryIR ( Repositories . KTOR _ BINTRAY ) \n + + RepositoryIR ( Repositories . KTOR ) \n + RepositoryIR ( DefaultRepository . JCENTER ) \n + runTaskIrs ( mainClass = " ServerKt " ) \n - MavenArtifact ( Repositories . KTOR _ BINTRAY , " io . ktor " , name ) , \n + MavenArtifact ( Repositories . KTOR , " io . ktor " , name ) , \n
android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ NearbyBeaconsFragment . java \n - private boolean mDebugViewEnabled = false ; \n - private AdapterView . OnItemLongClickListener mAdapterViewItemLongClickListener = \n - new AdapterView . OnItemLongClickListener ( ) { \n - public boolean onItemLongClick ( AdapterView < ? > av , View v , int position , long id ) { \n - mDebugViewEnabled = ! mDebugViewEnabled ; \n - mNearbyDeviceAdapter . notifyDataSetChanged ( ) ; \n - return true ; \n - } \n - } ; \n - \n - if ( mDebugViewEnabled ) { \n + if ( Utils . getDebugViewEnabled ( getActivity ( ) ) ) { \n android \ PhysicalWeb \ app \ src \ main \ java \ org \ physical _ web \ physicalweb \ Utils . java \n + / * * \n + * Get the saved setting for debug View . \n + * @ param context The context for the SharedPreferences . \n + * @ return The debug view setting . \n + * / \n + public static boolean getDebugViewEnabled ( Context context ) { \n + return PreferenceManager . getDefaultSharedPreferences ( context ) \n + . getBoolean ( context . getString ( R . string . debug _ key ) , false ) ; \n + } \n + \n android \ PhysicalWeb \ app \ src \ main \ res \ values \ config - strings . xml \n + < string name = " debug _ settings _ key " > debug _ settings < / string > \n + < string name = " debug _ key " > debug < / string > \n android \ PhysicalWeb \ app \ src \ main \ res \ values \ strings . xml \n + < string name = " debug _ settings _ title " > Debug Settings < / string > \n + < string name = " debug _ title " > Enable Debug View < / string > \n + < string name = " debug _ summary " > Enabling Debug View lets you view additional metadata . < / string > \n android \ PhysicalWeb \ app \ src \ main \ res \ xml \ settings . xml \n + < PreferenceCategory \n + android : key = " @ string / debug _ settings _ key " \n + android : title = " @ string / debug _ settings _ title " \n + android : persistent = " false " > \n + \n + < CheckBoxPreference \n + android : key = " @ string / debug _ key " \n + android : title = " @ string / debug _ title " \n + android : summary = " @ string / debug _ summary " \n + android : defaultValue = " false " / > \n + < / PreferenceCategory > \n + \n
android \ PhysicalWeb \ app \ build . gradle \n - compileSdkVersion 23 \n - buildToolsVersion " 23 . 0 . 3 " \n + compileSdkVersion 24 \n + buildToolsVersion " 24 . 0 . 1 " \n - targetSdkVersion 23 \n + targetSdkVersion 24 \n + jackOptions { \n + enabled true \n + } \n - sourceCompatibility JavaVersion . VERSION _ 1 _ 7 \n - targetCompatibility JavaVersion . VERSION _ 1 _ 7 \n + sourceCompatibility JavaVersion . VERSION _ 1 _ 8 \n + targetCompatibility JavaVersion . VERSION _ 1 _ 8 \n
. gitignore \n + . idea / \n android \ PhysicalWeb \ app \ src \ main \ AndroidManifest . xml \n - android : theme = " @ android : style / Theme . NoDisplay " \n + android : theme = " @ android : style / Theme . Translucent . NoTitleBar " \n
src \ test \ java \ org \ junit \ runner \ FilterFactoriesTest . java \n - @ Override \n - @ Override \n src \ test \ java \ org \ junit \ runner \ JUnitCommandLineParseResultTest . java \n - @ Override \n
src \ main \ java \ org \ junit \ internal \ runners \ ErrorReportingRunner . java \n - " initializationError : " ) ; \n + " initializationError " ) ; \n src \ main \ java \ org \ junit \ runner \ FilterFactory . java \n - * Creates a { @ link Filter } given a $ { FilterFactoryParams } argument . \n + * Creates a { @ link Filter } given a { @ link FilterFactoryParams } argument . \n src \ main \ java \ org \ junit \ runner \ JUnitCommandLineParser . java \n - import org . junit . internal . JUnitSystem ; \n - private final JUnitSystem system ; \n - \n - / * * \n - * Constructs a { @ link JUnitCommandLineParser } . \n - * \n - * @ param system { @ link JUnitSystem } to be used . \n - * / \n - public JUnitCommandLineParser ( JUnitSystem system ) { \n - this . system = system ; \n - } \n - \n - system . out ( ) . println ( " Could not find filter : " + e . getMessage ( ) ) ; \n - system . out ( ) . println ( " Could not find class : " + arg ) ; \n src \ main \ java \ org \ junit \ runner \ JUnitCore . java \n - JUnitCommandLineParser jUnitCommandLineParser = new JUnitCommandLineParser ( system ) ; \n + JUnitCommandLineParser jUnitCommandLineParser = new JUnitCommandLineParser ( ) ; \n src \ test \ java \ org \ junit \ runner \ JUnitCommandLineParserTest . java \n - import org . junit . tests . TestSystem ; \n - private JUnitCommandLineParser jUnitCommandLineParser = new JUnitCommandLineParser ( new TestSystem ( ) ) ; \n + private JUnitCommandLineParser jUnitCommandLineParser = new JUnitCommandLineParser ( ) ; \n - assertThat ( description . toString ( ) , containsString ( " initializationError : " ) ) ; \n + assertThat ( description . toString ( ) , containsString ( " initializationError " ) ) ; \n - assertThat ( description . toString ( ) , containsString ( " initializationError : " ) ) ; \n + assertThat ( description . toString ( ) , containsString ( " initializationError " ) ) ; \n - assertThat ( description . toString ( ) , containsString ( " initializationError : " ) ) ; \n + assertThat ( description . toString ( ) , containsString ( " initializationError " ) ) ; \n - assertThat ( description . toString ( ) , containsString ( " initializationError : " ) ) ; \n + assertThat ( description . toString ( ) , containsString ( " initializationError " ) ) ; \n - assertThat ( description . toString ( ) , containsString ( " initializationError : " ) ) ; \n + assertThat ( description . toString ( ) , containsString ( " initializationError " ) ) ; \n
src \ main \ java \ org \ junit \ experimental \ categories \ CategoryFilterFactory . java \n - * Creates a { @ link org . junit . experimental . categories . Categories . CategoryFilter } given an array of classes used as \n - * { @ link Category } values . \n + * Creates a { @ link org . junit . experimental . categories . Categories . CategoryFilter } given an array of classes . \n src \ main \ java \ org \ junit \ experimental \ categories \ ExcludeCategories . java \n - * @ return \n src \ main \ java \ org \ junit \ experimental \ categories \ IncludeCategories . java \n - * @ return \n src \ main \ java \ org \ junit \ internal \ runners \ ErrorReportingRunner . java \n - return Description . createTestDescription ( fTestClass , " initializationError : " ) ; \n + return Description . createTestDescription ( fTestClass , \n + " initializationError : " ) ; \n src \ main \ java \ org \ junit \ runner \ FilterFactories . java \n + String [ ] tuple ; \n - String [ ] tuple = filterSpec . split ( " = " , 2 ) ; \n - \n - return createFilter ( tuple [ 0 ] , new FilterFactoryParams ( tuple [ 1 ] ) ) ; \n + tuple = filterSpec . split ( " = " , 2 ) ; \n - return createFilter ( filterSpec , new FilterFactoryParams ( ) ) ; \n + tuple = new String [ ] { filterSpec , " " } ; \n + \n + return createFilter ( tuple [ 0 ] , new FilterFactoryParams ( tuple [ 1 ] ) ) ; \n src \ main \ java \ org \ junit \ runner \ FilterFactoryParams . java \n - public FilterFactoryParams ( ) { \n - this ( " " ) ; \n - } \n - \n src \ test \ java \ org \ junit \ runner \ FilterFactoriesTest . java \n - FilterFactoryStub . class , new FilterFactoryParams ( ) ) ; \n + FilterFactoryStub . class , new FilterFactoryParams ( " " ) ) ; \n
library \ src \ main \ java \ com \ loopj \ android \ http \ AsyncHttpClient . java \n - if ( responseHandler . getUseSynchronousMode ( ) ) { \n + if ( responseHandler . getUseSynchronousMode ( ) & & ! responseHandler . getUsePoolThread ( ) ) { \n library \ src \ main \ java \ com \ loopj \ android \ http \ AsyncHttpResponseHandler . java \n + private boolean usePoolThread ; \n + @ Override \n + public boolean getUsePoolThread ( ) { \n + return usePoolThread ; \n + } \n + \n + @ Override \n + public void setUsePoolThread ( boolean pool ) { \n + / / If pool thread is to be used , there ' s no point in keeping a reference \n + / / to the looper and no need for a handler . \n + if ( pool ) { \n + looper = null ; \n + handler = null ; \n + } \n + \n + usePoolThread = pool ; \n + } \n + \n + / / Do not use the pool ' s thread to run the handler . \n + setUsePoolThread ( false ) ; \n library \ src \ main \ java \ com \ loopj \ android \ http \ BaseJsonHttpResponseHandler . java \n - if ( ! getUseSynchronousMode ( ) ) { \n + if ( ! getUseSynchronousMode ( ) & & ! getUsePoolThread ( ) ) { \n - if ( ! getUseSynchronousMode ( ) ) { \n + if ( ! getUseSynchronousMode ( ) & & ! getUsePoolThread ( ) ) { \n library \ src \ main \ java \ com \ loopj \ android \ http \ JsonHttpResponseHandler . java \n - if ( ! getUseSynchronousMode ( ) ) { \n + if ( ! getUseSynchronousMode ( ) & & ! getUsePoolThread ( ) ) { \n - if ( ! getUseSynchronousMode ( ) ) { \n + if ( ! getUseSynchronousMode ( ) & & ! getUsePoolThread ( ) ) { \n library \ src \ main \ java \ com \ loopj \ android \ http \ ResponseHandlerInterface . java \n + / * * \n + * Sets whether the handler should be executed on the pool ' s thread or the \n + * UI thread \n + * \n + * @ param usePoolThread if the ResponseHandler should run on pool ' s thread \n + * / \n + void setUsePoolThread ( boolean usePoolThread ) ; \n + \n + / * * \n + * Returns whether the handler should be executed on the pool ' s thread \n + * or the UI thread \n + * \n + * @ return boolean if the ResponseHandler should run on pool ' s thread \n + * / \n + boolean getUsePoolThread ( ) ; \n + \n
library \ src \ main \ java \ com \ loopj \ android \ http \ BinaryHttpResponseHandler . java \n + status . getStatusCode ( ) , \n + response . getAllHeaders ( ) , \n + null , \n + new HttpResponseException ( \n - response . getAllHeaders ( ) , \n - null , \n - new HttpResponseException ( \n - status . getStatusCode ( ) , \n - " None , or more than one , Content - Type Header found ! " \n - ) \n + " None , or more than one , Content - Type Header found ! " \n + ) \n + status . getStatusCode ( ) , \n + response . getAllHeaders ( ) , \n + null , \n + new HttpResponseException ( \n - response . getAllHeaders ( ) , \n - null , \n - new HttpResponseException ( \n - status . getStatusCode ( ) , \n - " Content - Type not allowed ! " \n - ) \n + " Content - Type ( " + contentTypeHeader . getValue ( ) + " ) not allowed ! " \n + ) \n
library \ src \ main \ java \ com \ loopj \ android \ http \ JsonStreamerEntity . java \n - private static final byte [ ] STREAM _ ELAPSED = escape ( " _ elapsed " ) ; \n - private final String elapsedField ; \n + private final byte [ ] elapsedField ; \n - this . elapsedField = elapsedField ; \n + this . elapsedField = TextUtils . isEmpty ( elapsedField ) \n + ? null \n + : escape ( elapsedField ) ; \n - OutputStream os = null ! = contentEncoding \n + OutputStream os = contentEncoding ! = null \n - if ( ! TextUtils . isEmpty ( elapsedField ) | | keysProcessed < keysCount ) { \n + if ( elapsedField ! = null | | keysProcessed < keysCount ) { \n - if ( ! TextUtils . isEmpty ( elapsedField ) ) { \n - os . write ( STREAM _ ELAPSED ) ; \n + if ( elapsedField ! = null ) { \n + os . write ( elapsedField ) ; \n
common \ src \ main \ java \ io \ netty \ util \ Recycler . java \n - head = link . next ; \n + head = head . next ; \n
common \ src \ main \ java \ io \ netty \ util \ internal \ PlatformDependent . java \n + \n - / / Try to get from sun . misc . VM . maxDirectMemory ( ) which should be most accurate . \n - Class < ? > vmClass = Class . forName ( " sun . misc . VM " , true , systemClassLoader ) ; \n - Method m = vmClass . getDeclaredMethod ( " maxDirectMemory " ) ; \n - maxDirectMemory = ( ( Number ) m . invoke ( null ) ) . longValue ( ) ; \n + \n + / / On z / OS we should not use VM . maxDirectMemory ( ) as it not reflects the correct value . \n + / / See : \n + / / - https : / / github . com / netty / netty / issues / 7654 \n + if ( ! SystemPropertyUtil . get ( " os . name " , " " ) . toLowerCase ( ) . contains ( " z / os " ) ) { \n + / / Try to get from sun . misc . VM . maxDirectMemory ( ) which should be most accurate . \n + Class < ? > vmClass = Class . forName ( " sun . misc . VM " , true , systemClassLoader ) ; \n + Method m = vmClass . getDeclaredMethod ( " maxDirectMemory " ) ; \n + maxDirectMemory = ( ( Number ) m . invoke ( null ) ) . longValue ( ) ; \n + } \n
common \ pom . xml \n + < ! - - Add dependency on dev - tools as otherwise the build will fail if not installed first manually - - > \n + < ! - - See https : / / github . com / netty / netty / issues / 7842 - - > \n + < dependency > \n + < groupId > io . netty < / groupId > \n + < artifactId > netty - dev - tools < / artifactId > \n + < version > $ { project . version } < / version > \n + < scope > test < / scope > \n + < optional > true < / optional > \n + < / dependency > \n
docker \ Dockerfile . centos6 \n - ARG java _ version = 1 . 8 \n + ARG java _ version = adopt @ 1 . 8 . 0 - 272 \n
handler \ src \ test \ java \ io \ netty \ handler \ traffic \ FileRegionThrottleTest . java \n + import org . junit . Ignore ; \n + @ Ignore ( " This test is flaky , need more investigation " ) \n
pom . xml \n - < tcnative . version > 2 . 0 . 35 . Final < / tcnative . version > \n + < tcnative . version > 2 . 0 . 36 . Final < / tcnative . version > \n
src \ test \ java \ io \ vertx \ test \ core \ CreateVertxTest . java \n - import io . vertx . core . Vertx ; \n - import io . vertx . core . VertxOptions ; \n + import io . vertx . core . * ; \n + import io . vertx . test . fakecluster . FakeClusterManager ; \n + \n + \n + @ Test \n + public void testCreateClusteredVertxAsyncDetectJoinFailure ( ) { \n + VertxOptions options = new VertxOptions ( ) . setClusterManager ( new FakeClusterManager ( ) { \n + @ Override \n + public void join ( Handler < AsyncResult < Void > > resultHandler ) { \n + resultHandler . handle ( Future . failedFuture ( new Exception ( " joinfailure " ) ) ) ; \n + } \n + } ) ; \n + clusteredVertx ( options , ar - > { \n + assertTrue ( ar . failed ( ) ) ; \n + assertEquals ( " joinfailure " , ar . cause ( ) . getMessage ( ) ) ; \n + testComplete ( ) ; \n + } ) ; \n + await ( ) ; \n + } \n src \ test \ java \ io \ vertx \ test \ core \ VertxTest . java \n - @ Test \n - public void testClusterManagerFailure ( ) throws Exception { \n - VertxOptions options = new VertxOptions ( ) . setClusterManager ( new FakeClusterManager ( ) { \n - @ Override \n - public void join ( Handler < AsyncResult < Void > > resultHandler ) { \n - resultHandler . handle ( Future . failedFuture ( new Exception ( " joinfailure " ) ) ) ; \n - } \n - } ) ; \n - Vertx . clusteredVertx ( options , ar - > { \n - assertTrue ( ar . failed ( ) ) ; \n - assertEquals ( " joinfailure " , ar . cause ( ) . getMessage ( ) ) ; \n - testComplete ( ) ; \n - } ) ; \n - await ( ) ; \n - } \n - \n
src \ test \ java \ io \ vertx \ test \ core \ VertxTest . java \n - import io . vertx . core . * ; \n + import io . vertx . core . AsyncResult ; \n + import io . vertx . core . Closeable ; \n + import io . vertx . core . Future ; \n + import io . vertx . core . Handler ; \n + import io . vertx . core . Vertx ; \n - import io . vertx . core . shareddata . AsyncMap ; \n - import io . vertx . core . shareddata . Counter ; \n - import io . vertx . core . shareddata . Lock ; \n - import io . vertx . core . spi . cluster . AsyncMultiMap ; \n - import io . vertx . core . spi . cluster . ClusterManager ; \n - import io . vertx . core . spi . cluster . NodeListener ; \n - import io . vertx . test . fakecluster . FakeClusterManager ; \n - \n - import java . util . List ; \n - import java . util . Map ; \n - import java . util . concurrent . TimeUnit ; \n - \n
src \ main \ java \ io \ vertx \ core \ impl \ VertxImpl . java \n - if ( maxExecuteTime < 1 ) { \n + if ( poolSize < 1 ) { \n
src \ main \ java \ com \ alibaba \ fastjson \ serializer \ JavaBeanSerializer . java \n - if ( writeClassName | | ! fieldInfo . unwrapped ) { \n + boolean isMap = Map . class . isAssignableFrom ( fieldClass ) ; \n + boolean isJavaBean = ! fieldClass . isPrimitive ( ) & & ! fieldClass . getName ( ) . startsWith ( " java . " ) | | fieldClass = = Object . class ; \n + if ( writeClassName | | ! fieldInfo . unwrapped | | ! ( isMap | | isJavaBean ) ) { \n
src \ main \ java \ com \ alibaba \ fastjson \ parser \ DefaultJSONParser . java \n - Map map = object instanceof JSONObject ? ( ( JSONObject ) object ) . getInnerMap ( ) : object ; \n + boolean isJsonObjectMap = object instanceof JSONObject ; \n + Map map = isJsonObjectMap ? ( ( JSONObject ) object ) . getInnerMap ( ) : object ; \n - if ( lexer . isEnabled ( Feature . NonStringKeyAsString ) ) { \n + if ( lexer . isEnabled ( Feature . NonStringKeyAsString ) | | isJsonObjectMap ) { \n
src \ main \ java \ com \ alibaba \ fastjson \ parser \ JSONScanner . java \n - if ( t3 ! = ' 0 ' & & t3 ! = ' 3 ' ) { \n - return false ; \n - } \n - \n - if ( t4 ! = ' 0 ' ) { \n - return false ; \n + \n + if ( t0 = = ' 1 ' & & t1 = = ' 2 ' & & t3 = = ' 4 ' & & t4 = = ' 5 ' ) { \n + / / handle special case for ' + 12 : 45 ' \n + / / support TimeZone as Pacific / Chatham and NZ - CHAT \n + } else { \n + if ( t3 ! = ' 0 ' & & t3 ! = ' 3 ' ) { \n + return false ; \n + } \n + \n + \n + if ( t4 ! = ' 0 ' ) { \n + return false ; \n + } \n + \n new file \n src \ test \ java \ com \ alibaba \ json \ bvt \ issue _ 2700 \ Issue2754 . java \n + package com . alibaba . json . bvt . issue _ 2700 ; \n + \n + import com . alibaba . fastjson . JSON ; \n + import junit . framework . TestCase ; \n + \n + import java . text . SimpleDateFormat ; \n + import java . util . Calendar ; \n + import java . util . TimeZone ; \n + \n + public class Issue2754 extends TestCase { \n + public void test _ for _ issue ( ) throws Exception { \n + String s = " { \ " p1 \ " : \ " 2019 - 09 - 18T20 : 35 : 00 + 12 : 45 \ " } " ; \n + C c = JSON . parseObject ( s , C . class ) ; \n + \n + SimpleDateFormat sdf = new SimpleDateFormat ( " yyyy - MM - dd ' T ' HH : mm : ssXXX " ) ; \n + sdf . setTimeZone ( TimeZone . getTimeZone ( " Pacific / Chatham " ) ) ; \n + assertEquals ( " 2019 - 09 - 18T20 : 35 : 00 + 12 : 45 " , sdf . format ( c . p1 . getTime ( ) ) ) ; \n + } \n + \n + public static class C { \n + public Calendar p1 ; \n + } \n + } \n
dubbo - cluster \ src \ test \ java \ org \ apache \ dubbo \ rpc \ cluster \ StickyTest . java \n + import org . apache . dubbo . common . extension . ExtensionLoader ; \n + \n + ExtensionLoader . resetExtensionLoader ( LoadBalance . class ) ; \n dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ common \ extension \ ExtensionLoader . java \n + / / For testing purposes only \n + public static void resetExtensionLoader ( Class type ) { \n + ExtensionLoader loader = EXTENSION _ LOADERS . get ( type ) ; \n + if ( loader ! = null ) { \n + / / Remove all instances associated with this loader as well \n + Map < String , Class < ? > > classes = loader . getExtensionClasses ( ) ; \n + for ( Map . Entry < String , Class < ? > > entry : classes . entrySet ( ) ) { \n + EXTENSION _ INSTANCES . remove ( entry . getValue ( ) ) ; \n + } \n + classes . clear ( ) ; \n + EXTENSION _ LOADERS . remove ( type ) ; \n + } \n + } \n + \n
dubbo - registry \ dubbo - registry - default \ src \ test \ java \ org \ apache \ dubbo \ registry \ dubbo \ RegistryProtocolTest . java \n - RegistryProtocol registryProtocol = new RegistryProtocol ( ) ; \n + RegistryProtocol registryProtocol = RegistryProtocol . getRegistryProtocol ( ) ; \n - RegistryProtocol registryProtocol = new RegistryProtocol ( ) ; \n + RegistryProtocol registryProtocol = RegistryProtocol . getRegistryProtocol ( ) ; \n - RegistryProtocol registryProtocol = new RegistryProtocol ( ) ; \n + RegistryProtocol registryProtocol = RegistryProtocol . getRegistryProtocol ( ) ; \n - RegistryProtocol registryProtocol = new RegistryProtocol ( ) ; \n + RegistryProtocol registryProtocol = RegistryProtocol . getRegistryProtocol ( ) ; \n
dubbo - rpc \ dubbo - rpc - api \ src \ test \ java \ org \ apache \ dubbo \ rpc \ RpcContextTest . java \n + RpcContext . removeContext ( ) ; \n
library \ src \ main \ java \ com \ loopj \ android \ http \ AsyncHttpClient . java \n + / * * \n + * Returns the current executor service used . By default , \n + * Executors . newFixedThreadPool ( ) is used . \n + * \n + * @ return current executor service used \n + * / \n + public ExecutorService getThreadPool ( ) { \n + return threadPool ; \n + } \n + \n
library \ src \ main \ java \ com \ loopj \ android \ http \ AsyncHttpClient . java \n - threadPool = Executors . newCachedThreadPool ( ) ; \n + threadPool = getDefaultThreadPool ( ) ; \n + / * * \n + * Get the default threading pool to be used for this HTTP client . \n + * \n + * @ return The default threading pool to be used \n + * / \n + protected ExecutorService getDefaultThreadPool ( ) { \n + return Executors . newCachedThreadPool ( ) ; \n + } \n + \n
library \ src \ main \ java \ com \ loopj \ android \ http \ AsyncHttpResponseHandler . java \n - / / Test that a looper has been prepared prior to setting asynchronous mode . \n - if ( value & & null = = Looper . myLooper ( ) ) { \n - value = false ; \n - Log . i ( LOG _ TAG , " Current thread has not called Looper . prepare ( ) . Forcing synchronous mode . " ) ; \n + / / A looper must be prepared before setting asynchronous mode . \n + if ( ! value & & Looper . myLooper ( ) = = null ) { \n + value = true ; \n + Log . w ( LOG _ TAG , " Current thread has not called Looper . prepare ( ) . Forcing synchronous mode . " ) ; \n - / / If using asynchronous mode . \n - if ( value & & handler = = null ) { \n + / / If using synchronous mode . \n + if ( ! value & & handler = = null ) { \n - } else if ( ! value & & handler ! = null ) { \n + } else if ( value & & handler ! = null ) { \n
bin \ build _ release . sh \n - rm - f * . zip \n + rm - f * . zip \n + rm - f * . tar . gz \n + mv storm - * . zip . . / \n + tar - cvzf . . / storm - $ RELEASE . tar . gz . / \n + \n - mv _ release / storm - * . zip . \n + \n
bin \ storm \n - print " \ nYou can download a Storm release at https : / / github . com / nathanmarz / storm / downloads " \n + print " \ nYou can download a Storm release at http : / / storm - project . net / downloads . html " \n
. gitignore \n + * . tar . gz \n
shark - android \ src \ main \ java \ shark \ AndroidReferenceMatchers . kt \n - manufacturer = = SAMSUNG & & sdkInt = = 28 \n + manufacturer = = SAMSUNG & & sdkInt in 28 . . 29 \n
okhttp \ src \ main \ kotlin \ okhttp3 \ internal \ cache2 \ FileOperator . kt \n - * Copy [ byteCount ] bytes from the file at [ pos ] into ` source ` . It is the \n + * Copy [ byteCount ] bytes from the file at [ pos ] into ` sink ` . It is the \n
leakcanary - android - core \ src \ main \ java \ leakcanary \ LeakCanary . kt \n - val metatadaExtractor : MetadataExtractor = AndroidMetadataExtractor , \n + val metadataExtractor : MetadataExtractor = AndroidMetadataExtractor , \n leakcanary - android - core \ src \ main \ java \ leakcanary \ internal \ HeapAnalyzerService . kt \n - metadataExtractor = config . metatadaExtractor , \n + metadataExtractor = config . metadataExtractor , \n
React \ Fabric \ Mounting \ ComponentViews \ Image \ RCTImageComponentView . h \n + # import < React / RCTImageResponseDelegate . h > \n - @ interface RCTImageComponentView : RCTViewComponentView { \n + @ interface RCTImageComponentView : RCTViewComponentView < RCTImageResponseDelegate > { \n React \ Fabric \ Mounting \ ComponentViews \ Image \ RCTImageComponentView . mm \n - # import < React / RCTImageResponseDelegate . h > \n - @ interface RCTImageComponentView ( ) < RCTImageResponseDelegate > \n + @ interface RCTImageComponentView ( ) \n
ReactCommon \ react \ renderer \ imagemanager \ ImageTelemetry . cpp \n - void ImageTelemetry : : willRequestUrl ( ) { \n - assert ( willRequestUrlTime _ = = kTelemetryUndefinedTimePoint ) ; \n - willRequestUrlTime _ = telemetryTimePointNow ( ) ; \n - } \n - \n - assert ( willRequestUrlTime _ ! = kTelemetryUndefinedTimePoint ) ; \n ReactCommon \ react \ renderer \ imagemanager \ ImageTelemetry . h \n + * where the willRequestUrlTime is the time at ImageTelemetry ' s creation . \n - ImageTelemetry ( SurfaceId const surfaceId ) : surfaceId _ ( surfaceId ) { } \n + ImageTelemetry ( SurfaceId const surfaceId ) : surfaceId _ ( surfaceId ) { \n + willRequestUrlTime _ = telemetryTimePointNow ( ) ; \n + } \n - / * \n - * Signaling \n - * / \n - void willRequestUrl ( ) ; \n - \n - / * \n - * Reading \n - * / \n - TelemetryTimePoint willRequestUrlTime _ { kTelemetryUndefinedTimePoint } ; \n + TelemetryTimePoint willRequestUrlTime _ ; \n ReactCommon \ react \ renderer \ imagemanager \ platform \ ios \ RCTImageManager . mm \n - telemetry - > willRequestUrl ( ) ; \n
Libraries \ Components \ TextInput \ RCTMultilineTextInputNativeComponent . js \n + import RCTTextInputViewConfig from ' . / RCTTextInputViewConfig ' ; \n + const ReactNativeViewConfigRegistry = require ( ' . . / . . / Renderer / shims / ReactNativeViewConfigRegistry ' ) ; \n - const SinglelineTextInputNativeComponent : HostComponent < mixed > = requireNativeComponent < mixed > ( \n - ' RCTMultilineTextInputView ' , \n - ) ; \n + let MultilineTextInputNativeComponent ; \n + if ( global . RN $ Bridgeless ) { \n + ReactNativeViewConfigRegistry . register ( ' RCTMultilineTextInputView ' , ( ) = > { \n + return RCTTextInputViewConfig ; \n + } ) ; \n + MultilineTextInputNativeComponent = ' RCTMultilineTextInputView ' ; \n + } else { \n + MultilineTextInputNativeComponent = requireNativeComponent < mixed > ( \n + ' RCTMultilineTextInputView ' , \n + ) ; \n + } \n - export default SinglelineTextInputNativeComponent ; \n + / / flowlint - next - line unclear - type : off \n + export default ( ( MultilineTextInputNativeComponent : any ) : HostComponent < mixed > ) ; \n Libraries \ Components \ TextInput \ RCTSingelineTextInputNativeComponent . js \n - import RCTSinglelineTextInputViewConfig from ' . / RCTSinglelineTextInputViewConfig ' ; \n + import RCTTextInputViewConfig from ' . / RCTTextInputViewConfig ' ; \n - return RCTSinglelineTextInputViewConfig ; \n + return RCTTextInputViewConfig ; \n rename from Libraries \ Components \ TextInput \ RCTSinglelineTextInputViewConfig . js \n rename to Libraries \ Components \ TextInput \ RCTTextInputViewConfig . js \n - const RCTSinglelineTextInputViewConfig = { \n + const RCTTextInputViewConfig = { \n - module . exports = ( RCTSinglelineTextInputViewConfig : ViewConfig ) ; \n + module . exports = ( RCTTextInputViewConfig : ViewConfig ) ; \n
library \ src \ main \ java \ com \ github \ paolorotolo \ appintro \ AppIntroBase . java \n + protected FrameLayout indicatorContainer ; \n - FrameLayout indicatorContainer = findViewById ( R . id . indicator _ container ) ; \n + indicatorContainer = findViewById ( R . id . indicator _ container ) ; \n - \n - if ( pagerIndicatorEnabled ) { \n - indicatorContainer . setVisibility ( View . VISIBLE ) ; \n - } else { \n - indicatorContainer . setVisibility ( View . INVISIBLE ) ; \n - } \n + \n + / / Check new state of pagerIndicator \n + if ( indicatorContainer ! = null ) { \n + if ( pagerIndicatorEnabled ) { \n + indicatorContainer . setVisibility ( View . VISIBLE ) ; \n + } else { \n + indicatorContainer . setVisibility ( View . INVISIBLE ) ; \n + } \n + } \n
library \ src \ main \ java \ com \ github \ paolorotolo \ appintro \ AppIntroBase . java \n + updatePagerIndicatorState ( ) ; \n + private void updatePagerIndicatorState ( ) { \n + if ( indicatorContainer ! = null ) { \n + if ( pagerIndicatorEnabled ) { \n + indicatorContainer . setVisibility ( View . VISIBLE ) ; \n + } else { \n + indicatorContainer . setVisibility ( View . INVISIBLE ) ; \n + } \n + } \n + } \n + \n - if ( indicatorContainer ! = null ) { \n - if ( pagerIndicatorEnabled ) { \n - indicatorContainer . setVisibility ( View . VISIBLE ) ; \n - } else { \n - indicatorContainer . setVisibility ( View . INVISIBLE ) ; \n - } \n - } \n + updatePagerIndicatorState ( ) ; \n
library \ src \ main \ java \ com \ github \ paolorotolo \ appintro \ util \ LayoutUtil . java \n - if ( Build . VERSION . SDK _ INT > = Build . VERSION _ CODES . JELLY _ BEAN _ MR1 ) { \n - try { \n - ApplicationInfo info = ctx . getPackageManager ( ) . getApplicationInfo ( ctx . getPackageName ( ) , PackageManager . GET _ META _ DATA ) ; \n - return ( info . flags & = ApplicationInfo . FLAG _ SUPPORTS _ RTL ) ! = 0 ; \n - } catch ( PackageManager . NameNotFoundException e ) { \n - return defaultIsRtlBehavior ( ) ; \n - } \n - } \n - \n - return false ; \n + return Build . VERSION . SDK _ INT > = Build . VERSION _ CODES . JELLY _ BEAN _ MR1 \n + & & ctx . getResources ( ) . getConfiguration ( ) . getLayoutDirection ( ) = = View . LAYOUT _ DIRECTION _ RTL ; \n
data - bus \ src \ main \ java \ com \ iluwatar \ databus \ App . java \n + * < p > This example of the pattern implements a Synchronous Data - Bus , meaning that \n + * when data is published to the Data - Bus , the publish method will not return until \n + * all members have received the data and returned . < / p > \n + * < p > The { @ link DataBus } class is a Singleton . < / p > \n + * < p > Members of the Data - Bus must implement the { @ link Member } interface . < / p > \n + * < p > Data to be published via the Data - Bus must implement the { @ link DataType } interface . < / p > \n + * < p > The { @ code data } package contains example { @ link DataType } implementations . < / p > \n + * < p > The { @ code members } package contains example { @ link Member } implementations . < / p > \n + * < p > The { @ link StatusMember } demonstrates using the DataBus to publish a message \n + * to the Data - Bus when it receives a message . < / p > \n
data - bus \ README . md \n - - - - # this is so called ' Yaml Front Matter ' , read up on it here : http : / / jekyllrb . com / docs / frontmatter / \n - layout : pattern # layout must allways be pattern \n - title : Data Bus # the properly formatted title \n - folder : data - bus # the folder name in which this pattern lies \n - permalink : / patterns / data - bus / # the permalink to the pattern , to keep this uniform please stick to / patterns / FOLDER / \n - \n - # both categories and tags are Yaml Lists \n - # you can either just pick one or write a list with ' - ' s \n - # usable categories and tags are listed here : https : / / github . com / iluwatar / java - design - patterns / blob / gh - pages / _ config . yml \n - categories : Architectural # categories of the pattern \n - tags : # tags of the pattern \n + - - - \n + layout : pattern \n + title : Data Bus \n + folder : data - bus \n + permalink : / patterns / data - bus / \n + \n + categories : Architectural \n + tags : \n - Java \n - Difficulty - Intermediate \n - - - \n
data - bus \ README . md \n - categories : creational # categories of the pattern \n + categories : Architectural # categories of the pattern \n - - best \n - - ever \n - - awesome \n + - Java \n + - Difficulty - Intermediate \n - - - \n - Makes your code awesome \n - ! [ alt text ] ( . / etc / best _ pattern . png " Best Pattern Ever " ) \n + Allows send of messages / events between components of an application \n + without them needing to know about each other . They only need to know \n + about the type of the message / event being sent . \n + \n + ! [ data bus pattern uml diagram ] ( . / etc / data - bus . urm . png " Data Bus pattern " ) \n - Use the Best Pattern Ever pattern when \n + Use Data Bus pattern when \n - * you want to be the best \n - * you need to . . . \n + * you want your components to decide themselves which messages / events they want to receive \n + * you want to have many - to - many communication \n + * you want your components to know nothing about each other \n - # # Real world examples \n + # # Related Patterns \n + Data Bus is similar to \n - * [ Nowhere ] ( http : / / no . where . com ) \n + * Mediator pattern with Data Bus Members deciding for themselves if they want to accept any given message \n + * Observer pattern but supporting many - to - many communication \n + * Publish / Subscribe pattern with the Data Bus decoupling the publisher and the subscriber \n
test - base \ Android . bp \n + \n + / / Additional hiddenapi annotations are provided in a separate module . \n + / / TODO ( b / 180295980 ) - investigate whether this can be removed \n + hiddenapi _ additional _ annotations : [ \n + " android . test . base - hiddenapi - annotations " , \n + ] , \n - / / intended for inclusion in android . test . legacy and must not be used \n - / / elsewhere . \n + / / intended for inclusion in android . test . legacy and in \n + / / android . test . base - hiddenapi - annotations to avoid a dependency cycle and must \n + / / not be used elsewhere . \n test - base \ hiddenapi \ Android . bp \n - / / Provided solely to contribute information about which hidden parts of the android . test . base \n - / / library are used by apps . The source files are stubs of the actual files in . . / src which use the \n - / / UnsupportedAppUsage annotation to tag those methods that are accessible via the hiddenapi . \n - / / Relies on the convention that modules with name < x > - hiddenapi provide hiddenapi information for \n - / / module < x > that is on the bootclasspath . \n + / / Provided solely to contribute information about which hidden parts of the android . test . base \n + / / library are used by apps . The source files are stubs of the actual files in . . / src which use the \n + / / UnsupportedAppUsage annotation to tag those methods that are accessible via the hiddenapi . \n - name : " android . test . base - hiddenapi " , \n + name : " android . test . base - hiddenapi - annotations " , \n - " android . test . base " , \n + / / Use this instead of ` android . test . base ` to avoid a dependency cycle \n + / / as ` android . test . base ` depends on this . \n + " android . test . base - minus - junit " , \n + " junit " , \n
tools \ hiddenapi \ generate _ hiddenapi _ lists _ test . py \n - ' C , ' + FLAG _ SYSTEM _ API + ' , ' + FLAG _ SDK , \n - ' D , ' + FLAG _ UNSUPPORTED + ' , ' + FLAG _ TEST _ API , \n + ' C , ' + FLAG _ SDK + ' , ' + FLAG _ SYSTEM _ API , \n + ' D , ' + FLAG _ TEST _ API + ' , ' + FLAG _ UNSUPPORTED , \n - [ ' A , ' + FLAG _ UNSUPPORTED + " , " + FLAG _ SDK , ' B , ' + FLAG _ UNSUPPORTED ] ) \n + [ ' A , ' + FLAG _ SDK + " , " + FLAG _ UNSUPPORTED , ' B , ' + FLAG _ UNSUPPORTED ] ) \n
tools \ hiddenapi \ generate _ hiddenapi _ lists . py \n - filename ( string ) : Path to the file to be writting into . \n + filename ( string ) : Path to the file to be writing into . \n tools \ hiddenapi \ generate _ hiddenapi _ lists _ test . py \n - # Initialize flags so that A and B are put on the whitelist and \n + # Initialize flags so that A and B are put on the allow list and \n - # ( 2 ) A is not selected because it is assigned ' whitelist ' \n + # ( 2 ) A is not selected because it is assigned to the allow list \n
android \ build . gradle \n + \n + / / Multidex is used since dev build types don ' t use minification ( for faster builds ) . The \n + / / release builds do use minificaton and only have a single dex file . If the release builds \n + / / start using 2 + dex files we would need to look for opportunities to fix that for an app \n + / / of this size . Multidex doesn ' t incur the long app startup time when more dex files \n + / / doesn ' t exist in the APK . \n
android \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ service \ SessionAlarmService . java \n - / / this is used to synchronize deletion of notifications on phone and wear \n - / / TODO : fix Wear dismiss integration \n - / / dismissalIntent . putExtra ( KEY _ SESSION _ ID , sessionId ) ; \n - NotificationCompat . Builder notifBuilder = new NotificationCompat . Builder ( this ) \n - . setColor ( getResources ( ) . getColor ( R . color . theme _ primary ) ) \n - . setContentText ( provideFeedbackTicker ) \n + NotificationCompat . Builder notifBuilder = new NotificationCompat . Builder ( this ) ; \n + / / noinspection deprecation Ignore getColor deprecation until minSdk = 16 \n + notifBuilder . setColor ( getResources ( ) . getColor ( R . color . theme _ primary ) ) ; \n + notifBuilder . setContentText ( provideFeedbackTicker ) \n - . setLights ( \n - SessionAlarmService . NOTIFICATION _ ARGB _ COLOR , \n - SessionAlarmService . NOTIFICATION _ LED _ ON _ MS , \n - SessionAlarmService . NOTIFICATION _ LED _ OFF _ MS ) \n - . setDefaults ( Notification . DEFAULT _ SOUND | Notification . DEFAULT _ VIBRATE ) \n + / / Note , this notification doesn ' t warrant forced vibration or notification lights per \n + / / review . \n
android \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ settings \ ConfMessageCardUtils . java \n - CONCERT ( " concert " , " 2016 - 05 - 18T18 : 45 : 00 - 07 : 00 " , " 2016 - 05 - 18T19 : 10 : 00 - 07 : 00 " , " < b > Concert < / b > < br / > Join us in the Amphitheatre - the show is about to begin ! " ) , \n - CONCERT2 ( " concert2 " , " 2016 - 05 - 18T22 : 00 : 00 - 07 : 00 " , " 2016 - 05 - 18T23 : 00 : 00 - 07 : 00 " , " < b > Concert < / b > < br / > We hope you had a great first day at I / O . Get home safely - we look forward to seeing you tomorrow ! " ) , \n + CONCERT ( " concert " , " 2016 - 05 - 18T19 : 15 : 00 - 07 : 00 " , " 2016 - 05 - 18T19 : 45 : 00 - 07 : 00 " , " < b > Concert < / b > < br / > Join us in the Amphitheatre - the show is about to begin ! " ) , \n + CONCERT2 ( " concert2 " , " 2016 - 05 - 18T22 : 30 : 00 - 07 : 00 " , " 2016 - 05 - 18T23 : 00 : 00 - 07 : 00 " , " < b > Concert < / b > < br / > We hope you had a great first day at I / O . Get home safely - we look forward to seeing you tomorrow ! " ) , \n - AFTER _ HOURS6 ( " af6 " , " 2016 - 05 - 19T21 : 45 : 00 - 07 : 00 " , " 2016 - 05 - 19T22 : 30 : 00 - 07 : 00 " , " < b > After Hours < / b > < br / > We hope After Hours blew your mind . We look forward to seeing you tomorrow ! " ) , \n + AFTER _ HOURS6 ( " af6 " , " 2016 - 05 - 19T22 : 30 : 00 - 07 : 00 " , " 2016 - 05 - 19T23 : 00 : 00 - 07 : 00 " , " < b > After Hours < / b > < br / > We hope After Hours blew your mind . We look forward to seeing you tomorrow ! " ) , \n
test \ clojure \ test _ clojure \ try _ catch . clj \n + ( defn make - instance [ ] \n + ( ReflectorTryCatchFixture . ) ) \n + \n - ( is ( thrown - with - msg ? ReflectorTryCatchFixture $ Cookies # " Double " ( fail 1 . 0 ) ) ) ) \n - \n + ( is ( thrown - with - msg ? ReflectorTryCatchFixture $ Cookies # " Double " ( fail 1 . 0 ) ) ) \n + ( is ( thrown - with - msg ? ReflectorTryCatchFixture $ Cookies # " Wrapped " \n + ( . failWithCause ( make - instance ) 1 . 0 ) ) ) ) \n test \ java \ clojure \ test \ ReflectorTryCatchFixture . java \n + public void failWithCause ( Double y ) throws Cookies { \n + throw new Cookies ( " Wrapped " , new Cookies ( " Cause " ) ) ; \n + } \n + \n + public Cookies ( String msg , Throwable cause ) { super ( msg , cause ) ; } \n
src \ jvm \ clojure \ lang \ Reflector . java \n - try \n - { \n - Class c = target . getClass ( ) ; \n - List methods = getMethods ( c , args . length , methodName , false ) ; \n - return invokeMatchingMethod ( methodName , methods , target , args ) ; \n - } \n - catch ( Exception e ) \n - { \n - throw Util . sneakyThrow ( getCauseOrElse ( e ) ) ; \n - } \n + Class c = target . getClass ( ) ; \n + List methods = getMethods ( c , args . length , methodName , false ) ; \n + return invokeMatchingMethod ( methodName , methods , target , args ) ; \n - try \n - { \n - return invokeStaticMethod ( c , methodName , args ) ; \n - } \n - catch ( Exception e ) \n - { \n - throw Util . sneakyThrow ( getCauseOrElse ( e ) ) ; \n - } \n + return invokeStaticMethod ( c , methodName , args ) ; \n
src \ jvm \ clojure \ lang \ Compiler . java \n - gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n - gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n - gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n - gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n - gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n - gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n - gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n - gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n - gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n + gen . visitLineNumber ( line , gen . mark ( ) ) ; \n
src \ main \ java \ io \ vertx \ core \ net \ impl \ KeyStoreHelper . java \n - KeyStore keyStore = KeyStore . getInstance ( " PKCS12 " ) ; \n - keyStore . load ( null , null ) ; \n + final KeyStore keyStore = createEmptyKeyStore ( ) ; \n - KeyStore keyStore = KeyStore . getInstance ( " PKCS12 " ) ; \n - keyStore . load ( null , null ) ; \n + final KeyStore keyStore = createEmptyKeyStore ( ) ; \n - KeyStore keyStore = KeyStore . getInstance ( " PKCS12 " ) ; \n + final KeyStore keyStore = createEmptyKeyStore ( ) ; \n + \n + / * * \n + * Creates a empty key store using the industry standard PCKS12 . \n + * \n + * The format is the default format for keystores for Java > = 9 and available on GraalVM . \n + * \n + * PKCS12 is an extensible , standard , and widely - supported format for storing cryptographic keys . \n + * As of JDK 8 , PKCS12 keystores can store private keys , trusted public key certificates , and \n + * secret keys . \n + * \n + * The " old " default " JKS " ( available since Java 1 . 2 ) can only store private keys and trusted \n + * public - key certificates , and they are based on a proprietary format that is not easily \n + * extensible to new cryptographic algorithms . \n + \n + * @ return keystore instance \n + * \n + * @ throws KeyStoreException if the underlying engine cannot create an instance \n + * / \n + private static KeyStore createEmptyKeyStore ( ) throws KeyStoreException { \n + final KeyStore keyStore = KeyStore . getInstance ( " PKCS12 " ) ; \n + try { \n + keyStore . load ( null , null ) ; \n + } catch ( CertificateException | NoSuchAlgorithmException | IOException e ) { \n + / / these exceptions should never be thrown as there is no initial data \n + / / provided to the initialization of the keystore \n + throw new KeyStoreException ( " Failed to initialize the keystore " , e ) ; \n + } \n + return keyStore ; \n + } \n
src \ main \ java \ io \ vertx \ core \ http \ impl \ HttpUtils . java \n + * Null paths are not normalized as nothing can be said about them . \n + * \n + if ( pathname = = null ) { \n + return null ; \n + } \n + \n - if ( pathname = = null | | pathname . length ( ) = = 0 ) { \n + if ( pathname . length ( ) = = 0 ) { \n - * There are 2 extra transformations that are not part of the spec but kept for backwards compatibility : \n + * There is 1 extra transformation that are not part of the spec but kept for backwards compatibility : \n - * double slash / / will be converted to single slash and the path will always start with slash . \n + * double slash / / will be converted to single slash . \n src \ test \ java \ io \ vertx \ core \ http \ HttpUtilsTest . java \n - import static org . junit . Assert . assertEquals ; \n - import static org . junit . Assert . fail ; \n + import static org . junit . Assert . * ; \n - assertEquals ( " / " , HttpUtils . normalizePath ( null ) ) ; \n + assertNull ( HttpUtils . normalizePath ( null ) ) ; \n
src \ main \ java \ io \ vertx \ core \ Starter . java \n - try ( InputStream is = getClass ( ) . getClassLoader ( ) . getResourceAsStream ( " vertx - version . txt " ) ) { \n + try ( InputStream is = getClass ( ) . getClassLoader ( ) . getResourceAsStream ( " META - INF / vertx / vertx - version . txt " ) ) { \n src \ main \ java \ io \ vertx \ core \ impl \ launcher \ commands \ VersionCommand . java \n - try ( InputStream is = VersionCommand . class . getClassLoader ( ) . getResourceAsStream ( " vertx - version . txt " ) ) { \n + try ( InputStream is = VersionCommand . class . getClassLoader ( ) . getResourceAsStream ( " META - INF / vertx / vertx - version . txt " ) ) { \n rename from src \ main \ resources \ vertx - version . txt \n rename to src \ main \ resources \ META - INF \ vertx \ vertx - version . txt \n src \ test \ java \ io \ vertx \ test \ core \ LauncherTest . java \n - final URL resource = this . getClass ( ) . getClassLoader ( ) . getResource ( " vertx - version . txt " ) ; \n + final URL resource = this . getClass ( ) . getClassLoader ( ) . getResource ( " META - INF / vertx / vertx - version . txt " ) ; \n
src \ main \ java \ io \ vertx \ core \ file \ impl \ FileResolver . java \n + / / also this ensures that if process A deletes cacheDir , it won ' t affect process B \n
src \ main \ java \ io \ vertx \ core \ file \ impl \ FileResolver . java \n - / / the cachedir will be prefixed a unique id to avoid eavesdroping from other processes \n + / / the cacheDir will be suffixed a unique id to avoid eavesdropping from other processes / users \n - / / no - op if cache dir has been set to null \n - if ( this . cacheDir = = null ) { \n - return ; \n + synchronized ( this ) { \n + / / no - op if cache dir has been set to null \n + if ( this . cacheDir = = null ) { \n + return ; \n + } \n - if ( cacheDir = = null | | ! cacheDir . exists ( ) ) { \n - return ; \n - } \n - / / save the state before we force a flip \n - / / disable the cache dir \n + / / save the state before we force a flip \n + / / disable the cache dir \n
src \ main \ java \ io \ vertx \ core \ json \ JsonArray . java \n - * JSON itself has no notion of a temporal types , this extension complies to the RFC - 7493 , so this method assumes \n - * there is a String value and it contains an ISO 8601 encoded date and time format such as " 2017 - 04 - 03T10 : 25 : 41Z " , \n - * which it decodes if found and returns . \n + * JSON itself has no notion of a temporal types , this extension allows ISO 8601 string formatted dates with timezone \n + * always set to zero UTC offset , as denoted by the suffix " Z " to be parsed as a instant value . \n + * { @ code YYYY - MM - DDTHH : mm : ss . sssZ } is the default format used by web browser scripting . This extension complies to \n + * the RFC - 7493 with all the restrictions mentioned before . The method will then decode and return a instant value . \n src \ main \ java \ io \ vertx \ core \ json \ JsonObject . java \n - * JSON itself has no notion of a temporal types , this extension complies to the RFC - 7493 , so this method assumes \n - * there is a String value with the key and it contains an ISO 8601 encoded date and time format \n - * such as " 2017 - 04 - 03T10 : 25 : 41Z " , which it decodes if found and returns . \n + * JSON itself has no notion of a temporal types , this extension allows ISO 8601 string formatted dates with timezone \n + * always set to zero UTC offset , as denoted by the suffix " Z " to be parsed as a instant value . \n + * { @ code YYYY - MM - DDTHH : mm : ss . sssZ } is the default format used by web browser scripting . This extension complies to \n + * the RFC - 7493 with all the restrictions mentioned before . The method will then decode and return a instant value . \n
kotlin - native \ tools \ kotlin - native - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ gradle \ plugin \ konan \ KonanPlugin . kt \n - compile . configure { runTask ? . let { runTask . dependsOn ( it ) } } \n + compile . configure { this @ configure . runTask ? . let { runTask . dependsOn ( it ) } } \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ llvm \ objcexport \ ObjCExportCodeGenerator . kt \n - MethodBridge . ReturnValue . HashCode - > if ( context . is64BitNSInteger ( ) ) " L " else " I " \n + MethodBridge . ReturnValue . HashCode - > if ( context . is64BitNSInteger ( ) ) " Q " else " I " \n
kotlin - native \ backend . native \ tests \ interop \ objc \ smoke . kt \n - val hash = if ( Platform . osFamily = = OsFamily . WATCHOS & & Platform . cpuArchitecture ! = CpuArchitecture . X64 ) { \n + val hash = if ( sizeOf < NSUIntegerVar > ( ) = = 4L ) { \n
src \ main \ java \ spark \ Service . java \n - protected Optional < Integer > webSocketIdleTimeoutMillis = Optional . empty ( ) ; \n + protected Optional < Long > webSocketIdleTimeoutMillis = Optional . empty ( ) ; \n - public synchronized Service webSocketIdleTimeoutMillis ( int timeoutMillis ) { \n + public synchronized Service webSocketIdleTimeoutMillis ( long timeoutMillis ) { \n src \ main \ java \ spark \ embeddedserver \ EmbeddedServer . java \n - Optional < Integer > webSocketIdleTimeoutMillis ) { \n + Optional < Long > webSocketIdleTimeoutMillis ) { \n src \ main \ java \ spark \ embeddedserver \ jetty \ EmbeddedJettyServer . java \n - private Optional < Integer > webSocketIdleTimeoutMillis ; \n + private Optional < Long > webSocketIdleTimeoutMillis ; \n - Optional < Integer > webSocketIdleTimeoutMillis ) { \n + Optional < Long > webSocketIdleTimeoutMillis ) { \n src \ main \ java \ spark \ embeddedserver \ jetty \ websocket \ WebSocketServletContextHandlerFactory . java \n - Optional < Integer > webSocketIdleTimeoutMillis ) { \n + Optional < Long > webSocketIdleTimeoutMillis ) { \n src \ test \ java \ spark \ embeddedserver \ jetty \ websocket \ WebSocketServletContextHandlerFactoryTest . java \n - final Integer timeout = Integer . valueOf ( 1000 ) ; \n + final Long timeout = Long . valueOf ( 1000 ) ; \n
new file \n changeset \ 2 . 9 . 4 - changeset . md \n + \n
changeset \ 2 . 9 . 4 - changeset . md \n - \n + * * Spark 2 . 9 . 4 * * \n + = = = = = = = = = = = = = = = \n + - Update to latest jetty version < a href = " https : / / github . com / perwendel / spark / pull / 1196 " > # 1196 < / a > \n
ReactCommon \ jsi \ BUCK \n - # TODO ( T55502220 ) : Remove when iOS 9 . 0 deprecation is complete everywhere . \n - fbobjc _ target _ sdk _ version = " 9 . 0 " , \n
packages \ rn - tester \ RNTesterPods . xcodeproj \ project . pbxproj \n - IPHONEOS _ DEPLOYMENT _ TARGET = 10 . 0 ; \n + IPHONEOS _ DEPLOYMENT _ TARGET = 11 . 0 ; \n - IPHONEOS _ DEPLOYMENT _ TARGET = 10 . 0 ; \n + IPHONEOS _ DEPLOYMENT _ TARGET = 11 . 0 ; \n - IPHONEOS _ DEPLOYMENT _ TARGET = 10 . 0 ; \n + IPHONEOS _ DEPLOYMENT _ TARGET = 11 . 0 ; \n - IPHONEOS _ DEPLOYMENT _ TARGET = 10 . 0 ; \n + IPHONEOS _ DEPLOYMENT _ TARGET = 11 . 0 ; \n template \ ios \ HelloWorld . xcodeproj \ project . pbxproj \n - IPHONEOS _ DEPLOYMENT _ TARGET = 10 . 0 ; \n + IPHONEOS _ DEPLOYMENT _ TARGET = 11 . 0 ; \n - IPHONEOS _ DEPLOYMENT _ TARGET = 10 . 0 ; \n + IPHONEOS _ DEPLOYMENT _ TARGET = 11 . 0 ; \n - IPHONEOS _ DEPLOYMENT _ TARGET = 10 . 0 ; \n + IPHONEOS _ DEPLOYMENT _ TARGET = 11 . 0 ; \n - IPHONEOS _ DEPLOYMENT _ TARGET = 10 . 0 ; \n + IPHONEOS _ DEPLOYMENT _ TARGET = 11 . 0 ; \n
React \ Fabric \ Surface \ RCTFabricSurface . mm \n - ( void ) resetWithSurfacePresenter : ( RCTSurfacePresenter * ) surfacePresenter \n - _ surfacePresenter = surfacePresenter ; \n + _ surfacePresenter = surfacePresenter ; \n + [ _ surfacePresenter registerSurface : self ] ; \n - ( void ) dealloc \n
MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ charts \ Chart . java \n - mMaxHighlightDistance = Utils . convertDpToPixel ( 100f ) ; \n + mMaxHighlightDistance = Utils . convertDpToPixel ( 500f ) ; \n
MPChartLib \ src \ com \ github \ mikephil \ charting \ charts \ Chart . java \n - * @ param high - the highlight object \n + * @ param high - the highlight object \n + / * * \n + * Sets a custom highligher object for the chart that handles / processes \n + * all highlight touch events performed on the chart - view . \n + * \n + * @ param highlighter \n + * / \n - * @ param fileName e . g . " my _ image " \n - * @ param subFolderPath e . g . " ChartPics " \n + * @ param fileName e . g . " my _ image " \n + * @ param subFolderPath e . g . " ChartPics " \n - * @ param format e . g . Bitmap . CompressFormat . PNG \n - * @ param quality e . g . 50 , min = 0 , max = 100 \n + * @ param format e . g . Bitmap . CompressFormat . PNG \n + * @ param quality e . g . 50 , min = 0 , max = 100 \n - break ; \n + break ; \n - return saveToGallery ( fileName , " " , " MPAndroidChart - Library Save " , Bitmap . CompressFormat . JPEG , quality ) ; \n + return saveToGallery ( fileName , " " , " MPAndroidChart - Library Save " , Bitmap . CompressFormat . JPEG , quality ) ; \n
MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ data \ LineDataSet . java \n + import android . util . Log ; \n - * sets the radius of the drawn circles . \n - * Default radius = 4f \n + * Sets the radius of the drawn circles . \n + * Default radius = 4f , Min = 1f \n - mCircleRadius = Utils . convertDpToPixel ( radius ) ; \n + \n + if ( radius > = 1f ) { \n + mCircleRadius = Utils . convertDpToPixel ( radius ) ; \n + } else { \n + Log . e ( " LineDataSet " , " Circle radius cannot be < 1 " ) ; \n + } \n - * sets the hole radius of the drawn circles . \n - * Default radius = 2f \n + * Sets the hole radius of the drawn circles . \n + * Default radius = 2f , Min = 0 . 5f \n - mCircleHoleRadius = Utils . convertDpToPixel ( holeRadius ) ; \n + \n + if ( holeRadius > = 0 . 5f ) { \n + mCircleHoleRadius = Utils . convertDpToPixel ( holeRadius ) ; \n + } else { \n + Log . e ( " LineDataSet " , " Circle radius cannot be < 0 . 5 " ) ; \n + } \n
spring - boot - project \ spring - boot \ src \ test \ java \ org \ springframework \ boot \ context \ config \ ConfigDataEnvironmentPostProcessorIntegrationTests . java \n + assertThatExceptionOfType ( InactiveConfigDataAccessException . class ) . isThrownBy ( ( ) - > this . application . run ( \n + " - - spring . config . location = classpath : application - include - profiles - in - profile - specific - document . properties " ) ) ; \n + } \n + \n + @ Test \n + void runWhenHasIncludedProfilesWithProfileSpecificFileThrowsException ( ) { \n - . run ( " - - spring . config . location = classpath : application - include - profiles - in - profile - specific . properties " ) ) ; \n + . run ( " - - spring . config . name = application - include - profiles - in - profile - specific - document " ) ) ; \n rename from spring - boot - project \ spring - boot \ src \ test \ resources \ application - include - profiles - in - profile - specific . properties \n rename to spring - boot - project \ spring - boot \ src \ test \ resources \ application - include - profiles - in - profile - specific - document . properties \n new file \n spring - boot - project \ spring - boot \ src \ test \ resources \ application - include - profiles - in - profile - specific - file - test . properties \n + spring . profiles . include = p2 \n new file \n spring - boot - project \ spring - boot \ src \ test \ resources \ application - include - profiles - in - profile - specific - file . properties \n + spring . profiles . active = test \n
spring - boot - project \ spring - boot - autoconfigure \ src \ main \ java \ org \ springframework \ boot \ autoconfigure \ jdbc \ DataSourceTransactionManagerAutoConfiguration . java \n - * Copyright 2012 - 2020 the original author or authors . \n + * Copyright 2012 - 2021 the original author or authors . \n + import org . springframework . core . env . Environment ; \n + import org . springframework . jdbc . datasource . DataSourceTransactionManager ; \n - JdbcTransactionManager transactionManager ( DataSource dataSource , \n + DataSourceTransactionManager transactionManager ( Environment environment , DataSource dataSource , \n - JdbcTransactionManager transactionManager = new JdbcTransactionManager ( dataSource ) ; \n + DataSourceTransactionManager transactionManager = createTransactionManager ( environment , dataSource ) ; \n + private DataSourceTransactionManager createTransactionManager ( Environment environment , DataSource dataSource ) { \n + return environment . getProperty ( " spring . dao . exceptiontranslation . enable " , Boolean . class , Boolean . TRUE ) \n + ? new JdbcTransactionManager ( dataSource ) : new DataSourceTransactionManager ( dataSource ) ; \n + } \n + \n spring - boot - project \ spring - boot - autoconfigure \ src \ test \ java \ org \ springframework \ boot \ autoconfigure \ jdbc \ DataSourceTransactionManagerAutoConfigurationTests . java \n - * Copyright 2012 - 2020 the original author or authors . \n + * Copyright 2012 - 2021 the original author or authors . \n + import org . springframework . jdbc . datasource . DataSourceTransactionManager ; \n + @ Test / / gh - 24321 \n + void transactionManagerWithDaoExceptionTranslationDisabled ( ) { \n + this . contextRunner . withConfiguration ( AutoConfigurations . of ( DataSourceAutoConfiguration . class ) ) \n + . withPropertyValues ( " spring . dao . exceptiontranslation . enable = false " ) \n + . run ( ( context ) - > assertThat ( context . getBean ( TransactionManager . class ) ) \n + . isExactlyInstanceOf ( DataSourceTransactionManager . class ) ) ; \n + } \n + \n + @ Test / / gh - 24321 \n + void transactionManagerWithDaoExceptionTranslationEnabled ( ) { \n + this . contextRunner . withConfiguration ( AutoConfigurations . of ( DataSourceAutoConfiguration . class ) ) \n + . withPropertyValues ( " spring . dao . exceptiontranslation . enable = true " ) \n + . run ( ( context ) - > assertThat ( context . getBean ( TransactionManager . class ) ) \n + . isExactlyInstanceOf ( JdbcTransactionManager . class ) ) ; \n + } \n + \n + @ Test / / gh - 24321 \n + void transactionManagerWithDaoExceptionTranslationDefault ( ) { \n + this . contextRunner . withConfiguration ( AutoConfigurations . of ( DataSourceAutoConfiguration . class ) ) \n + . run ( ( context ) - > assertThat ( context . getBean ( TransactionManager . class ) ) \n + . isExactlyInstanceOf ( JdbcTransactionManager . class ) ) ; \n + } \n + \n
spring - boot - project \ spring - boot - dependencies \ build . gradle \n - library ( " Spring Framework " , " 5 . 3 . 2 " ) { \n + library ( " Spring Framework " , " 5 . 3 . 3 - SNAPSHOT " ) { \n
AndroidAnnotations \ androidannotations \ src \ main \ java \ com \ googlecode \ androidannotations \ processing \ EActivityProcessor . java \n + import com . sun . codemodel . JConditional ; \n - / / start \n + / / start ( ) \n + { \n + / / startForResult ( ) \n + JMethod method = holder . intentBuilderClass . method ( PUBLIC , codeModel . VOID , " startForResult " ) ; \n + JVar requestCode = method . param ( codeModel . INT , " requestCode " ) ; \n + \n + JBlock body = method . body ( ) ; \n + JClass activityClass = holder . classes ( ) . ACTIVITY ; \n + JConditional condition = body . _ if ( contextField . _ instanceof ( activityClass ) ) ; \n + condition . _ then ( ) / / \n + . invoke ( JExpr . cast ( activityClass , contextField ) , " startActivityForResult " ) . arg ( holder . intentField ) . arg ( requestCode ) ; \n + condition . _ else ( ) / / \n + . invoke ( contextField , " startActivity " ) . arg ( holder . intentField ) ; \n + } \n + \n AndroidAnnotations \ functional - test - 1 - 5 \ src \ main \ java \ com \ googlecode \ androidannotations \ test15 \ ActivityWithServices . java \n + \n AndroidAnnotations \ functional - test - 1 - 5 \ src \ main \ java \ com \ googlecode \ androidannotations \ test15 \ ExtraInjectedActivity . java \n - \n + \n + \n + void intentWithExtras ( ) { \n + ExtraInjectedActivity _ . intent ( this ) . arrayExtra ( null ) . start ( ) ; \n + ExtraInjectedActivity _ . intent ( this ) . intExtra ( 42 ) . get ( ) ; \n + ExtraInjectedActivity _ . intent ( this ) . stringExtra ( " hello " ) . startForResult ( 42 ) ; \n + } \n AndroidAnnotations \ functional - test - 1 - 5 \ src \ main \ java \ com \ googlecode \ androidannotations \ test15 \ ViewsInjectedActivity . java \n - startActivityForResult ( ActivityWithServices _ . intent ( this ) . flags ( 0 ) . get ( ) , 0 ) ; \n
AndroidAnnotations \ functional - test - 1 - 5 - tests \ src \ test \ java \ org \ androidannotations \ test15 \ ApplicationInjectedActivityTest . java \n - @ Before \n - public void setup ( ) { \n - new SampleRoboApplication ( ) . onCreate ( ) ; \n - } \n - \n + new SampleRoboApplication ( ) . onCreate ( ) ; \n
README . md \n + if ( LeakCanary . isInAnalyzerProcess ( ) ) { \n + / / LeakCanary performs the analysis in a separate process . No need to do your usual app init in that case . \n + return ; \n + } \n + / / Normal app init code . . . \n
leakcanary - android - core \ src \ main \ java \ leakcanary \ internal \ VisibilityTracker . kt \n + import android . content . BroadcastReceiver \n + import android . content . Context \n + import android . content . Intent \n + import android . content . Intent . ACTION _ SCREEN _ OFF \n + import android . content . Intent . ACTION _ SCREEN _ ON \n + import android . content . IntentFilter \n - ) : \n - Application . ActivityLifecycleCallbacks by noOpDelegate ( ) { \n + ) : Application . ActivityLifecycleCallbacks by noOpDelegate ( ) , BroadcastReceiver ( ) { \n + / * * \n + * Assuming screen on by default . \n + * / \n + private var screenOn : Boolean = true \n + \n + private var lastUpdate : Boolean = false \n + \n - listener . invoke ( true ) \n + updateVisible ( ) \n - listener . invoke ( false ) \n + updateVisible ( ) \n + } \n + } \n + \n + override fun onReceive ( \n + context : Context , \n + intent : Intent \n + ) { \n + screenOn = intent . action ! = ACTION _ SCREEN _ OFF \n + updateVisible ( ) \n + } \n + \n + private fun updateVisible ( ) { \n + val visible = screenOn & & hasVisibleActivities \n + if ( visible ! = lastUpdate ) { \n + lastUpdate = visible \n + listener . invoke ( visible ) \n - registerActivityLifecycleCallbacks ( VisibilityTracker ( listener ) ) \n + val visibilityTracker = VisibilityTracker ( listener ) \n + registerActivityLifecycleCallbacks ( visibilityTracker ) \n + registerReceiver ( visibilityTracker , IntentFilter ( ) . apply { \n + addAction ( ACTION _ SCREEN _ ON ) \n + addAction ( ACTION _ SCREEN _ OFF ) \n + } ) \n
leakcanary - object - watcher - android \ src \ main \ java \ leakcanary \ RootViewWatcher . kt \n + import android . os . Build \n + if ( Build . VERSION . SDK _ INT < 19 ) { \n + return \n + } \n + if ( Build . VERSION . SDK _ INT < 19 ) { \n + return \n + } \n
leakcanary - object - watcher - android \ src \ main \ java \ leakcanary \ ServiceWatcher . kt \n + import java . lang . reflect . InvocationTargetException \n - method . invoke ( activityManagerInstance , * args ) \n + try { \n + if ( args = = null ) { \n + method . invoke ( activityManagerInstance ) \n + } else { \n + method . invoke ( activityManagerInstance , * args ) \n + } \n + } catch ( invocationException : InvocationTargetException ) { \n + throw invocationException . targetException \n + } \n
services \ tests \ servicestests \ src \ com \ android \ server \ pm \ OWNERS \n + \n + per - file * Shortcut * = file : / core / java / android / content / pm / SHORTCUT _ OWNERS \n
new file \n core \ java \ android \ content \ pm \ LAUNCHER _ OWNERS \n + set noparent \n + \n + omakoto @ google . com \n + sunnygoyal @ google . com \n + mett @ google . com \n + jonmiranda @ google . com \n + pinyaoting @ google . com \n new file \n core \ java \ android \ content \ pm \ SHORTCUT _ OWNERS \n + set noparent \n + \n + omakoto @ google . com \n + yamasani @ google . com \n + sunnygoyal @ google . com \n + mett @ google . com \n + pinyaoting @ google . com \n
core \ java \ android \ content \ pm \ OWNERS \n - per - file * Shortcut * = omakoto @ google . com , yamasani @ google . com , sunnygoyal @ google . com , mett @ google . com , pinyaoting @ google . com \n + per - file * Shortcut * = file : / core / java / android / content / pm / SHORTCUT _ OWNERS \n + per - file * Launcher * = file : / core / java / android / content / pm / LAUNCHER _ OWNERS \n core \ tests \ coretests \ src \ android \ content \ OWNERS \n + per - file * Shortcut * = file : / core / java / android / content / pm / SHORTCUT _ OWNERS \n + per - file * Launcher * = file : / core / java / android / content / pm / LAUNCHER _ OWNERS \n
presto - parquet \ src \ main \ java \ com \ facebook \ presto \ parquet \ predicate \ TupleDomainParquetPredicate . java \n - Statistics < ? > columnStatistics = statistics . get ( column ) ; \n + Domain effectivePredicateDomain = effectivePredicateDomains . get ( column ) ; \n + if ( effectivePredicateDomain = = null ) { \n + continue ; \n + } \n + Statistics < ? > columnStatistics = statistics . get ( column ) ; \n - if ( domain . isNone ( ) ) { \n + if ( effectivePredicateDomain . intersect ( domain ) . isNone ( ) ) { \n - Domain effectivePredicateDomain = effectivePredicateDomains . get ( column ) ; \n - if ( effectivePredicateDomain ! = null ) { \n - if ( effectivePredicateDomain . intersect ( domain ) . isNone ( ) ) { \n - return false ; \n - } \n - } \n + Domain effectivePredicateDomain = effectivePredicateDomains . get ( column ) ; \n + if ( effectivePredicateDomain = = null ) { \n + continue ; \n + } \n - if ( domain . isNone ( ) ) { \n + if ( effectivePredicateDomain . intersect ( domain ) . isNone ( ) ) { \n - Domain effectivePredicateDomain = effectivePredicateDomains . get ( column ) ; \n - if ( effectivePredicateDomain ! = null ) { \n - if ( effectivePredicateDomain . intersect ( domain ) . isNone ( ) ) { \n - return false ; \n - } \n - } \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ planPrinter \ TextRenderer . java \n - return " Cost : ? , Output : ? rows ( ? B ) \ n " ; \n + return " " ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ server \ QuerySessionSupplier . java \n + import com . facebook . presto . spi . type . TimeZoneKey ; \n + private final Optional < TimeZoneKey > forcedSessionTimeZone ; \n + requireNonNull ( config , " config is null " ) ; \n + this . forcedSessionTimeZone = requireNonNull ( config . getForcedSessionTimeZone ( ) , " forcedSessionTimeZone is null " ) ; \n - if ( context . getTimeZoneId ( ) ! = null ) { \n + if ( forcedSessionTimeZone . isPresent ( ) ) { \n + sessionBuilder . setTimeZoneKey ( forcedSessionTimeZone . get ( ) ) ; \n + } \n + else if ( context . getTimeZoneId ( ) ! = null ) { \n presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ SqlEnvironmentConfig . java \n + import com . facebook . presto . spi . type . TimeZoneKey ; \n + import io . airlift . configuration . ConfigDescription ; \n + \n + import javax . annotation . Nullable ; \n + import javax . validation . constraints . NotNull ; \n + private Optional < TimeZoneKey > forcedSessionTimeZone = Optional . empty ( ) ; \n + \n + @ NotNull \n + public Optional < String > getPath ( ) \n + { \n + return path ; \n + } \n - public Optional < String > getPath ( ) \n + @ NotNull \n + public Optional < TimeZoneKey > getForcedSessionTimeZone ( ) \n - return path ; \n + return forcedSessionTimeZone ; \n + } \n + \n + @ Config ( " sql . forced - session - time - zone " ) \n + @ ConfigDescription ( " User session time zone overriding value sent by client " ) \n + public SqlEnvironmentConfig setForcedSessionTimeZone ( @ Nullable String timeZoneId ) \n + { \n + this . forcedSessionTimeZone = Optional . ofNullable ( timeZoneId ) \n + . map ( TimeZoneKey : : getTimeZoneKey ) ; \n + return this ; \n presto - main \ src \ test \ java \ com \ facebook \ presto \ sql \ TestSqlEnvironmentConfig . java \n - . setPath ( null ) ) ; \n + . setPath ( null ) \n + . setForcedSessionTimeZone ( null ) ) ; \n + . put ( " sql . forced - session - time - zone " , " UTC " ) \n - . setPath ( " a . b , c . d " ) ; \n + . setPath ( " a . b , c . d " ) \n + . setForcedSessionTimeZone ( " UTC " ) ; \n
unit - of - work \ README . md \n - - - \n - When a business transaction is completed all the these updates are sent as one \n + When a business transaction is completed , all the these updates are sent as one \n
unit - of - work \ pom . xml \n - < version > 1 . 17 . 0 - SNAPSHOT < / version > \n + < version > 1 . 18 . 0 - SNAPSHOT < / version > \n
unit - of - work \ src \ main \ java \ com \ iluwatar \ unitofwork \ IUnitOfWork . java \n + / * * \n + * Any register new operation occurring on UnitOfWork is only going to be performed on commit . \n + * / \n + / * * \n + * Any register modify operation occurring on UnitOfWork is only going to be performed on commit . \n + * / \n + / * * \n + * Any register delete operation occurring on UnitOfWork is only going to be performed on commit . \n + * / \n + / * * * \n + * All UnitOfWork operations batched together executed in commit only . \n + * / \n unit - of - work \ src \ main \ java \ com \ iluwatar \ unitofwork \ StudentRepository . java \n + / * * \n + * All UnitOfWork operations are batched and executed together on commit only . \n + * / \n
tests \ gdx - tests - gwt \ build . gradle \n + configurations . all { \n + / / gwt - dev pulls in apache - jsp ( Tomcat ) , but we don ' t need it and it messes with gretty \n + exclude group : ' org . eclipse . jetty ' , module : ' apache - jsp ' \n + } \n + \n
gradle \ dependencies . gradle \n - libraries . jglfw = [ \n - " com . badlogicgames . jglfw : jglfw : $ { versions . jglwf } " , \n - " com . badlogicgames . jglfw : jglfw - platform : $ { versions . jglwf } : natives - desktop " \n - ] \n - \n - libraries . jnigen = [ \n - " com . github . javaparser : javaparser - core : $ { versions . javaparser } " \n - ] \n - \n
settings . gradle \n - include " : extensions : gdx - box2d : gdx - box2d " \n - include " : extensions : gdx - box2d : gdx - box2d - gwt " \n + include ( " : extensions : gdx - box2d " ) \n + project ( " : extensions : gdx - box2d " ) . name = " gdx - box2d - parent " \n + include " : extensions : gdx - box2d - parent : gdx - box2d " \n + include " : extensions : gdx - box2d - parent : gdx - box2d - gwt " \n - project ( " : extensions : gdx - box2d : gdx - box2d " ) . name = " gdx - box2d - core " \n tests \ gdx - tests - android \ build . gradle \n - implementation project ( " : extensions : gdx - box2d : gdx - box2d - core " ) \n + implementation project ( " : extensions : gdx - box2d - parent : gdx - box2d " ) \n - } \n + } \n tests \ gdx - tests - gwt \ build . gradle \n - compile project ( " : extensions : gdx - box2d : gdx - box2d - gwt " ) \n + compile project ( " : extensions : gdx - box2d - parent : gdx - box2d - gwt " ) \n - sourceSets . main . compileClasspath + = files ( project ( ' : extensions : gdx - box2d : gdx - box2d - gwt ' ) . sourceSets . main . allJava . srcDirs ) \n + sourceSets . main . compileClasspath + = files ( project ( ' : extensions : gdx - box2d - parent : gdx - box2d - gwt ' ) . sourceSets . main . allJava . srcDirs ) \n tests \ gdx - tests \ build . gradle \n - compile project ( " : extensions : gdx - box2d : gdx - box2d - core " ) \n + compile project ( " : extensions : gdx - box2d - parent : gdx - box2d " ) \n
modules \ ingest - geoip \ src \ internalClusterTest \ java \ org \ elasticsearch \ ingest \ geoip \ GeoIpDownloaderIT . java \n + private static final String ENDPOINT = System . getProperty ( " geoip _ endpoint " ) ; \n + \n - String endpoint = System . getProperty ( " geoip _ endpoint " ) ; \n - if ( endpoint ! = null ) { \n - settings . put ( GeoIpDownloader . ENDPOINT _ SETTING . getKey ( ) , endpoint ) ; \n + if ( ENDPOINT ! = null ) { \n + settings . put ( GeoIpDownloader . ENDPOINT _ SETTING . getKey ( ) , ENDPOINT ) ; \n + / / use short wait for local fixture , longer when we hit real service \n + int waitTime = ENDPOINT = = null ? 120 : 10 ; \n - } , 2 , TimeUnit . MINUTES ) ; \n + } , waitTime , TimeUnit . SECONDS ) ; \n modules \ ingest - geoip \ src \ main \ java \ org \ elasticsearch \ ingest \ geoip \ GeoIpDownloader . java \n - byte [ ] data = httpClient . getBytes ( endpoint + " ? key = 11111111 - 1111 - 1111 - 1111 - 111111111111 " ) ; \n + byte [ ] data = httpClient . getBytes ( endpoint + " ? key = 11111111 - 1111 - 1111 - 1111 - 111111111111 & elastic _ geoip _ service _ tos = agree " ) ; \n modules \ ingest - geoip \ src \ test \ java \ org \ elasticsearch \ ingest \ geoip \ GeoIpDownloaderTests . java \n - when ( httpClient . getBytes ( " a . b ? key = 11111111 - 1111 - 1111 - 1111 - 111111111111 " ) ) . thenReturn ( baos . toByteArray ( ) ) ; \n + when ( httpClient . getBytes ( " a . b ? key = 11111111 - 1111 - 1111 - 1111 - 111111111111 & elastic _ geoip _ service _ tos = agree " ) ) \n + . thenReturn ( baos . toByteArray ( ) ) ; \n test \ fixtures \ geoip - fixture \ src \ main \ java \ fixture \ geoip \ GeoIpHttpFixture . java \n - import java . net . URI ; \n + String query = exchange . getRequestURI ( ) . getQuery ( ) ; \n + if ( query . contains ( " elastic _ geoip _ service _ tos = agree " ) = = false ) { \n + exchange . sendResponseHeaders ( 400 , 0 ) ; \n + return ; \n + } \n
modules \ ingest - geoip \ src \ main \ java \ org \ elasticsearch \ ingest \ geoip \ GeoIpTaskParams . java \n - return Version . V _ 8 _ 0 _ 0 ; \n + return Version . V _ 7 _ 13 _ 0 ; \n modules \ ingest - geoip \ src \ main \ java \ org \ elasticsearch \ ingest \ geoip \ GeoIpTaskState . java \n - return Version . V _ 8 _ 0 _ 0 ; \n + return Version . V _ 7 _ 13 _ 0 ; \n
x - pack \ plugin \ monitoring \ src \ test \ java \ org \ elasticsearch \ xpack \ monitoring \ cleaner \ AbstractIndicesCleanerTestCase . java \n + import org . junit . Before ; \n - public void testNothingToDelete ( ) throws Exception { \n + @ Before \n + public void setup ( ) { \n + / / Set max retention time to avoid any accidental cleanups \n + CleanerService cleanerService = internalCluster ( ) . getInstance ( CleanerService . class , internalCluster ( ) . getMasterName ( ) ) ; \n + cleanerService . setGlobalRetention ( TimeValue . MAX _ VALUE ) ; \n + } \n + \n + public void testNothingToDelete ( ) throws Exception { \n - internalCluster ( ) . startNode ( ) ; \n - \n - internalCluster ( ) . startNode ( ) ; \n - \n - internalCluster ( ) . startNode ( ) ; \n - \n - internalCluster ( ) . startNode ( ) ; \n - \n - internalCluster ( ) . startNode ( ) ; \n - \n
build . gradle \n - boolean bwc _ tests _ enabled = false \n - String bwc _ tests _ disabled _ issue = " https : / / github . com / elastic / elasticsearch / pull / 67821 " / * place a PR link here when committing bwc changes * / \n + boolean bwc _ tests _ enabled = true \n + String bwc _ tests _ disabled _ issue = " " / * place a PR link here when committing bwc changes * / \n x - pack \ plugin \ core \ src \ main \ java \ org \ elasticsearch \ xpack \ core \ transform \ transforms \ SourceConfig . java \n - if ( in . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( in . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n - if ( out . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( out . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n
x - pack \ plugin \ transform \ src \ main \ java \ org \ elasticsearch \ xpack \ transform \ transforms \ pivot \ SchemaUtil . java \n - FieldCapabilitiesRequest fieldCapabilitiesRequest = new FieldCapabilitiesRequest ( ) . indices ( index ) \n - . fields ( fields ) \n - . indicesOptions ( IndicesOptions . LENIENT _ EXPAND _ OPEN ) ; \n + FieldCapabilitiesRequest fieldCapabilitiesRequest = \n + new FieldCapabilitiesRequest ( ) \n + . indices ( index ) \n + . fields ( fields ) \n + . runtimeFields ( runtimeMappings ) \n + . indicesOptions ( IndicesOptions . LENIENT _ EXPAND _ OPEN ) ; \n - response - > listener . onResponse ( mergeSourceMappingsWithRuntimeMappings ( extractFieldMappings ( response ) , runtimeMappings ) ) , \n + response - > listener . onResponse ( extractFieldMappings ( response ) ) , \n - / * * \n - * TODO : Remove after { @ link FieldCapabilitiesAction } handles search runtime mappings . \n - * See https : / / github . com / elastic / elasticsearch / issues / 68117 \n - * / \n - private static Map < String , String > mergeSourceMappingsWithRuntimeMappings ( Map < String , String > sourceMappings , \n - Map < String , Object > runtimeMappings ) { \n - Map < String , String > sourceMappingsWithRuntimeFields = new HashMap < > ( sourceMappings ) ; \n - for ( Map . Entry < String , Object > runtimeMappingEntry : runtimeMappings . entrySet ( ) ) { \n - if ( runtimeMappingEntry . getValue ( ) instanceof Map ) { \n - @ SuppressWarnings ( " unchecked " ) \n - Map < String , Object > runtimeMappingValue = ( Map < String , Object > ) runtimeMappingEntry . getValue ( ) ; \n - if ( runtimeMappingValue . containsKey ( " type " ) ) { \n - String fieldName = runtimeMappingEntry . getKey ( ) ; \n - @ SuppressWarnings ( " unchecked " ) \n - String type = ( String ) runtimeMappingValue . get ( " type " ) ; \n - sourceMappingsWithRuntimeFields . put ( fieldName , type ) ; \n - } \n - } \n - } \n - return sourceMappingsWithRuntimeFields ; \n - } \n - \n x - pack \ plugin \ transform \ src \ test \ java \ org \ elasticsearch \ xpack \ transform \ transforms \ pivot \ SchemaUtilTests . java \n + for ( Map . Entry < String , Object > runtimeField : fieldCapsRequest . runtimeFields ( ) . entrySet ( ) ) { \n + String field = runtimeField . getKey ( ) ; \n + String type = ( String ) ( ( Map ) runtimeField . getValue ( ) ) . get ( " type " ) ; \n + responseMap . put ( field , singletonMap ( field , createFieldCapabilities ( field , type ) ) ) ; \n + } \n
x - pack \ plugin \ transform \ qa \ multi - node - tests \ src \ javaRestTest \ java \ org \ elasticsearch \ xpack \ transform \ integration \ continuous \ LatestContinuousIT . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 68394 " ) \n + private static final Map < String , Object > RUNTIME _ MAPPINGS = \n + new HashMap < String , Object > ( ) { { \n + put ( " event - upper - at - search " , new HashMap < String , Object > ( ) { { \n + put ( " type " , " keyword " ) ; \n + put ( " script " , singletonMap ( " source " , " if ( params . _ source . event ! = null ) { emit ( params . _ source . event . toUpperCase ( ) ) } " ) ) ; \n + } } ) ; \n + } } ; \n - Map < String , Object > runtimeMappings = \n - new HashMap < > ( ) { { \n - put ( " event - upper - at - search " , new HashMap < > ( ) { { \n - put ( " type " , " keyword " ) ; \n - put ( " script " , singletonMap ( " source " , " if ( params . _ source . event ! = null ) { emit ( params . _ source . event . toUpperCase ( ) ) } " ) ) ; \n - } } ) ; \n - } } ; \n - . setRuntimeMappings ( runtimeMappings ) \n + . setRuntimeMappings ( RUNTIME _ MAPPINGS ) \n + / / runtime mappings are needed in case " event - upper - at - search " is selected as the event field in test constructor \n + . runtimeMappings ( RUNTIME _ MAPPINGS ) \n
spring - aop \ src \ main \ java \ org \ springframework \ aop \ framework \ ProxyFactoryBean . java \n - if ( this . targetName = = null ) { \n + if ( this . targetName = = null & & logger . isInfoEnabled ( ) ) { \n
spring - aop \ src \ main \ java \ org \ springframework \ aop \ framework \ CglibAopProxy . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - Method key = method ; \n - if ( isStatic & & isFrozen & & this . fixedInterceptorMap . containsKey ( key ) ) { \n + if ( isStatic & & isFrozen & & this . fixedInterceptorMap . containsKey ( method ) ) { \n - int index = this . fixedInterceptorMap . get ( key ) ; \n + int index = this . fixedInterceptorMap . get ( method ) ; \n
spring - context \ src \ main \ java \ org \ springframework \ context \ support \ ResourceBundleMessageSource . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - * Return a ResourceBundle for the given basename and code , \n - * fetching already generated MessageFormats from the cache . \n + * Return a ResourceBundle for the given basename and Locale , \n + * fetching already generated ResourceBundle from the cache . \n - localeMap = new ConcurrentHashMap < > ( ) ; \n - Map < Locale , ResourceBundle > existing = this . cachedResourceBundles . putIfAbsent ( basename , localeMap ) ; \n - if ( existing ! = null ) { \n - localeMap = existing ; \n - } \n + localeMap = this . cachedResourceBundles . computeIfAbsent ( basename , bn - > new ConcurrentHashMap < > ( ) ) ; \n
Libraries \ BUCK \n - name = " react _ native _ codegen _ schema " , \n + # The schema name must have the following format : " codegen _ rn _ modules _ schema _ { native _ module _ spec _ name } " \n + name = " codegen _ rn _ modules _ schema _ FBReactNativeSpec " , \n - labels = [ " codegen _ rule " ] , \n + labels = [ \n + " codegen _ rule " , \n + " react _ native _ schema _ target " , \n + ] , \n - schema _ target = " : react _ native _ codegen _ schema " , \n + schema _ target = " : codegen _ rn _ modules _ schema _ FBReactNativeSpec " , \n - schema _ target = " : react _ native _ codegen _ schema " , \n + schema _ target = " : codegen _ rn _ modules _ schema _ FBReactNativeSpec " , \n
tools \ build _ defs \ oss \ rn _ defs . bzl \n - OBJC _ ARC _ PREPROCESSOR _ FLAGS = [ \n - " - fobjc - arc " , \n - " - fno - objc - arc - exceptions " , \n - " - Qunused - arguments " , \n - ] \n + def get _ objc _ arc _ preprocessor _ flags ( ) : \n + return [ \n + " - fobjc - arc " , \n + " - fno - objc - arc - exceptions " , \n + " - Qunused - arguments " , \n + ] \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ ReactInstanceManager . java \n + if ( ReactFeatureFlags . useTurboModules & & mTMMDelegateBuilder ! = null ) { \n + TurboModuleManagerDelegate tmmDelegate = \n + mTMMDelegateBuilder \n + . setPackages ( mPackages ) \n + . setReactApplicationContext ( reactContext ) \n + . build ( ) ; \n + \n + TurboModuleManager turboModuleManager = \n + new TurboModuleManager ( \n + catalystInstance . getRuntimeExecutor ( ) , \n + tmmDelegate , \n + catalystInstance . getJSCallInvokerHolder ( ) , \n + catalystInstance . getNativeCallInvokerHolder ( ) ) ; \n + \n + catalystInstance . setTurboModuleManager ( turboModuleManager ) ; \n + \n + TurboModuleRegistry registry = ( TurboModuleRegistry ) turboModuleManager ; \n + \n + / / Eagerly initialize TurboModules \n + for ( String moduleName : registry . getEagerInitModuleNames ( ) ) { \n + registry . getModule ( moduleName ) ; \n + } \n + } \n + \n - \n - if ( ReactFeatureFlags . useTurboModules & & mTMMDelegateBuilder ! = null ) { \n - TurboModuleManagerDelegate tmmDelegate = \n - mTMMDelegateBuilder \n - . setPackages ( mPackages ) \n - . setReactApplicationContext ( reactContext ) \n - . build ( ) ; \n - \n - TurboModuleManager turboModuleManager = \n - new TurboModuleManager ( \n - catalystInstance . getRuntimeExecutor ( ) , \n - tmmDelegate , \n - catalystInstance . getJSCallInvokerHolder ( ) , \n - catalystInstance . getNativeCallInvokerHolder ( ) ) ; \n - \n - catalystInstance . setTurboModuleManager ( turboModuleManager ) ; \n - \n - TurboModuleRegistry registry = ( TurboModuleRegistry ) turboModuleManager ; \n - \n - / / Eagerly initialize TurboModules \n - for ( String moduleName : registry . getEagerInitModuleNames ( ) ) { \n - registry . getModule ( moduleName ) ; \n - } \n - } \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ Picasso . java \n + private static final String FILE _ URL _ PREFIX = " file : / / / " ; \n + if ( path . startsWith ( FILE _ URL _ PREFIX ) ) { \n + return load ( new File ( path . substring ( FILE _ URL _ PREFIX . length ( ) ) ) ) ; \n + } \n picasso \ src \ test \ java \ com \ squareup \ picasso \ PicassoTest . java \n + private static final String FILE _ 1 _ URL = " file : / / / " + FILE _ 1 . getPath ( ) ; \n + @ Test public void loadFileUrlIntoImageView ( ) throws Exception { \n + ImageView target = mock ( ImageView . class ) ; \n + \n + Picasso picasso = create ( LOADER _ ANSWER , BITMAP1 _ ANSWER ) ; \n + picasso . load ( FILE _ 1 _ URL ) . into ( target ) ; \n + \n + verifyZeroInteractions ( target ) ; \n + executor . flush ( ) ; \n + verifyZeroInteractions ( loader ) ; \n + verify ( target ) . setImageBitmap ( bitmap1 ) ; \n + } \n + \n + @ Test public void loadFileUrlIntoTarget ( ) throws Exception { \n + Target target = mock ( Target . class ) ; \n + \n + Picasso picasso = create ( LOADER _ ANSWER , BITMAP1 _ ANSWER ) ; \n + picasso . load ( FILE _ 1 _ URL ) . into ( target ) ; \n + \n + verifyZeroInteractions ( target ) ; \n + executor . flush ( ) ; \n + verify ( target ) . onSuccess ( bitmap1 ) ; \n + assertThat ( picasso . targetsToRequests ) . isEmpty ( ) ; \n + } \n + \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ Picasso . java \n + if ( contentResolver = = null ) { \n + throw new IllegalStateException ( \n + " Cannot handle content : / / urls if built without a ContentResolver : " \n + + request . path ) ; \n + } \n - throw new IllegalArgumentException ( " contentResolver may not be null . " ) ; \n + throw new IllegalArgumentException ( " ContentResolver may not be null . " ) ; \n - if ( this . loader ! = null ) { \n - throw new IllegalStateException ( " contentResolver already set . " ) ; \n + if ( this . contentResolver ! = null ) { \n + throw new IllegalStateException ( " ContentResolver already set . " ) ; \n
retrofit - converters \ wire \ src \ main \ java \ retrofit \ converter \ WireConverter . java \n - throw new IllegalArgumentException ( " Expected a proto but was : " + body . mimeType ( ) ) ; \n + throw new ConversionException ( " Expected a proto but was : " + body . mimeType ( ) ) ; \n retrofit - converters \ wire \ src \ test \ java \ retrofit \ converter \ WireConverterTest . java \n - } catch ( IllegalArgumentException e ) { \n + } catch ( ConversionException e ) { \n
realm \ realm - library \ src \ androidTest \ kotlin \ io \ realm \ KotlinSchemaTests . kt \n - import kotlin . reflect . full . memberProperties \n - val objSchema = realm . getSchema ( ) . get ( AllKotlinTypes : : class . simpleName ) ! ! \n + val objSchema = realm . schema . get ( AllKotlinTypes : : class . simpleName ) ! ! \n
realm \ realm - library \ src \ main \ cpp \ CMakeLists . txt \n - set _ target _ properties ( lib _ realm _ core PROPERTIES IMPORTED _ LOCATION $ { core _ lib _ PATH } ) \n + \n + # - latomic is not set by default for mips and armv5 . \n + # See https : / / code . google . com / p / android / issues / detail ? id = 182094 \n + set _ target _ properties ( lib _ realm _ core PROPERTIES IMPORTED _ LOCATION $ { core _ lib _ PATH } \n + IMPORTED _ LINK _ INTERFACE _ LIBRARIES atomic ) \n - set _ target _ properties ( lib _ realm _ sync PROPERTIES IMPORTED _ LOCATION $ { sync _ lib _ PATH } ) \n + set _ target _ properties ( lib _ realm _ sync PROPERTIES IMPORTED _ LOCATION $ { sync _ lib _ PATH } \n + IMPORTED _ LINK _ INTERFACE _ LIBRARIES lib _ realm _ core ) \n - # - latomic is not set by default for mips . See https : / / code . google . com / p / android / issues / detail ? id = 182094 \n + \n - # FIXME : The order matters ! lib _ realm _ sync needs to be in front of lib _ realm _ core ! ! Find out why ! ! \n - target _ link _ libraries ( realm - jni log android atomic lib _ realm _ sync lib _ realm _ core ) \n + target _ link _ libraries ( realm - jni log android lib _ realm _ sync ) \n - target _ link _ libraries ( realm - jni log android atomic lib _ realm _ core ) \n + target _ link _ libraries ( realm - jni log android lib _ realm _ core ) \n version . txt \n - \n - 2 . 4 . 0 - SNAPSHOT \n + 2 . 4 . 0 - SNAPSHOT \n
CHANGELOG . md \n + # # # Internal \n + \n + * Updated Realm Sync to 1 . 0 . 0 - BETA - 7 . 0 . \n + \n dependencies . list \n - REALM _ SYNC _ VERSION = 1 . 0 . 0 - BETA - 6 . 5 \n - REALM _ SYNC _ SHA256 = dad59e910e4a8cab75791bab152e7c9e43712b174e0dce5a1596273976eb4de3 \n + REALM _ SYNC _ VERSION = 1 . 0 . 0 - BETA - 7 . 0 \n + REALM _ SYNC _ SHA256 = 76dcf2052681aa21992489ca9b62172d9cb07f4def5e94011975df67bd552276 \n realm \ realm - library \ src \ main \ cpp \ object - store \n - Subproject commit 814beb5a1e96f0bb72cf78e206b2e710ac79e217 \n + Subproject commit ac2f60726434654cace0bb5e57a92df7555c8f1f \n
presto - tests \ src \ test \ java \ com \ facebook \ presto \ tests \ TestDistributedSpilledQueries . java \n + \n + @ Test ( enabled = false ) \n + @ Override \n + public void testCorrelatedNonAggregationScalarSubqueries ( ) \n + { \n + / / TODO : disable until https : / / github . com / prestodb / presto / issues / 15542 is resolved \n + } \n
presto - tests \ src \ test \ java \ com \ facebook \ presto \ tests \ TestDistributedSpilledQueries . java \n - @ Test ( enabled = false ) \n - public void testJoinPredicatePushdown ( ) \n - { \n - / / TODO : disabled until join spilling is reworked \n - } \n - \n - @ Test ( enabled = false ) \n - public void testLimitWithJoin ( ) \n - { \n - / / TODO : disable until https : / / github . com / prestodb / presto / issues / 13859 is resolved . \n - } \n - \n - @ Test ( enabled = false ) \n - public void testJoinDoubleClauseWithRightOverlap ( ) \n - { \n - / / TODO : disable until https : / / github . com / prestodb / presto / issues / 13859 is resolved . \n - } \n - \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ LocalExecutionPlanner . java \n + / / spill does not work for probe only grouped execution because PartitionedLookupSourceFactory . finishProbe ( ) expects a defined number of probe operators \n + boolean isProbeOnlyGroupedExecution = probeSource . getPipelineExecutionStrategy ( ) = = GROUPED _ EXECUTION & & buildSource . getPipelineExecutionStrategy ( ) ! = GROUPED _ EXECUTION ; \n + \n - spillEnabled & & ! buildOuter & & partitionCount > 1 , \n + spillEnabled & & ! buildOuter & & partitionCount > 1 & & ! isProbeOnlyGroupedExecution , \n
services \ core \ java \ com \ android \ server \ connectivity \ PacManager . java \n - synchronized boolean setCurrentProxyScriptUrl ( ProxyInfo proxy ) { \n + public synchronized boolean setCurrentProxyScriptUrl ( ProxyInfo proxy ) { \n
services \ core \ java \ com \ android \ server \ connectivity \ PacManager . java \n - synchronized boolean setCurrentProxyScriptUrl ( ProxyInfo proxy ) { \n + public synchronized boolean setCurrentProxyScriptUrl ( ProxyInfo proxy ) { \n
core \ api \ module - lib - current . txt \n + public class ConnectivityManager { \n + method @ RequiresPermission ( anyOf = { android . Manifest . permission . MANAGE _ TEST _ NETWORKS , android . Manifest . permission . NETWORK _ STACK } ) public void simulateDataStall ( int , long , @ NonNull android . net . Network , @ NonNull android . os . PersistableBundle ) ; \n + } \n + \n + public final class NetworkCapabilities implements android . os . Parcelable { \n + field public static final int TRANSPORT _ TEST = 7 ; / / 0x7 \n + } \n + \n core \ api \ test - current . txt \n - public class ConnectivityManager { \n - method @ RequiresPermission ( anyOf = { android . Manifest . permission . MANAGE _ TEST _ NETWORKS , android . Manifest . permission . NETWORK _ STACK } ) public void simulateDataStall ( int , long , @ NonNull android . net . Network , @ NonNull android . os . PersistableBundle ) ; \n - } \n - \n - public final class NetworkCapabilities implements android . os . Parcelable { \n - method public int [ ] getCapabilities ( ) ; \n - field public static final int TRANSPORT _ TEST = 7 ; / / 0x7 \n - } \n - \n core \ java \ android \ net \ ConnectivityManager . java \n - import android . annotation . TestApi ; \n + * < p > This method should only be used for tests . \n + * \n - @ TestApi \n + @ SystemApi ( client = SystemApi . Client . MODULE _ LIBRARIES ) \n core \ java \ android \ net \ NetworkCapabilities . java \n - import android . annotation . TestApi ; \n - @ TestApi \n - @ TestApi \n + @ SystemApi ( client = SystemApi . Client . MODULE _ LIBRARIES ) \n
mobile \ src \ main \ java \ com \ example \ android \ uamp \ playback \ PlaybackManager . java \n + mQueueManager . updateMetadata ( ) ; \n + mQueueManager . updateMetadata ( ) ; \n
android \ src \ main \ res \ values \ strings . xml \n - Copyright 2015 Google Inc . All rights reserved . \n + Copyright 2016 Google Inc . All rights reserved . \n - < ! - - Accessibility description for the GPlus icon in the " # io15 " box . - - > \n + < ! - - Accessibility description for the GPlus icon in the " # io16 " box . - - > \n - < ! - - Accessibility description for the Twitter icon in the " # io15 " box . - - > \n + < ! - - Accessibility description for the Twitter icon in the " # io16 " box . - - > \n - < ! - - Accessibility description for the GPlus icon in the " # io15 extended " box . - - > \n + < ! - - Accessibility description for the GPlus icon in the " # io16 extended " box . - - > \n - < ! - - Accessibility description for the Twitter icon in the " # io15 extended " box . - - > \n + < ! - - Accessibility description for the Twitter icon in the " # io16 extended " box . - - > \n - < ! - - Accessibility description for the GPlus icon in the " # io15 request " box . - - > \n + < ! - - Accessibility description for the GPlus icon in the " # io16 request " box . - - > \n - < ! - - Accessibility description for the Twitter icon in the " # io15 extended " box . - - > \n + < ! - - Accessibility description for the Twitter icon in the " # io16 extended " box . - - > \n - < string name = " io15 _ logo _ not _ clickable " > IO16logo not clickable < / string > \n + < string name = " io15 _ logo _ not _ clickable " > IO16 logo not clickable < / string > \n - < ! - - Accessibility description for the IO15 extended logo that is not a link . - - > \n + < ! - - Accessibility description for the IO16 extended logo that is not a link . - - > \n
android \ src \ main \ res \ values - pt \ conduct _ text . xml \n - < string name = " welcome _ conduct _ text " > < b > Sejam excelentes uns com os outros . < / b > \ nQueremos que a I / O seja uma ótima experiência para todos , sem distinção de identidade ou expressão de gênero , orientação sexual , habilidades diferentes , neurodiversidade , aparência física , dimensões corporais , etnia , nacionalidade , idade ou crença religiosa . Trate todos com respeito . Participe reconhecendo que todos merecem estar aqui – e cada um de nós tem o direito de desfrutar dessa experiência sem receio de assédio , discriminação , ou condescendência , explícita ou por meio de agressões leves . \ n \ n < b > Se você vir ou ouvir algo , manifeste - se . < / b > \ nO assédio não será tolerado e você tem autonomia para intervir educadamente se você ou outras pessoas forem desrespeitadas . A pessoa que está causando o incômodo pode não perceber o que está fazendo e os participantes são encorajados a educadamente chamar a sua atenção quanto ao comportamento indevido . \ n \ n < b > Pratique dizer Sim e . < / b > \ nDesenvolvam as ideias uns dos outros . Todos beneficiamos quando criamos em conjunto . < / string > \n + < string name = " welcome _ conduct _ text " > < b > Sejam excelentes uns com os outros . < / b > \ nQueremos que o I / O seja uma ótima experiência para todos , sem distinção de identidade ou expressão de gênero , orientação sexual , habilidades diferentes , neurodiversidade , aparência física , dimensões corporais , etnia , nacionalidade , idade ou crença religiosa . Trate todos com respeito . Participe reconhecendo que todos merecem estar aqui – e cada um de nós tem o direito de desfrutar dessa experiência sem receio de assédio , discriminação , ou condescendência , explícita ou por meio de agressões leves . \ n \ n < b > Se você ver ou ouvir algo , manifeste - se . < / b > \ nO assédio não será tolerado e você tem autonomia para intervir educadamente se você ou outras pessoas forem desrespeitadas . A pessoa que está causando o incômodo pode não perceber o que está fazendo e os participantes são encorajados a educadamente chamar a sua atenção quanto ao comportamento indevido . \ n \ n < b > Pratique dizendo \ " Sim , e . . . \ " para os outros . < / b > \ nDesenvolvam as ideias uns dos outros . Todos beneficiamos quando criamos em conjunto . < / string > \n
buildSrc \ src \ main \ java \ org \ elasticsearch \ gradle \ BwcVersions . java \n - * \n + * < p > \n - * \n + * < p > \n - * \n + * < p > \n - * \n + * < p > \n - * \n + * < p > \n - * Returns info about the unreleased version , or { @ code null } if the version is released . \n - * / \n + * Returns info about the unreleased version , or { @ code null } if the version is released . \n + * / \n - return unmodifiableList ( \n - Stream . concat ( groupByMajor . get ( currentVersion . getMajor ( ) - 1 ) . stream ( ) , groupByMajor . get ( currentVersion . getMajor ( ) ) . stream ( ) ) \n - . collect ( Collectors . toList ( ) ) \n - ) ; \n + var indexCompatibles = Stream . concat ( \n + groupByMajor . get ( currentVersion . getMajor ( ) - 1 ) . stream ( ) , \n + groupByMajor . get ( currentVersion . getMajor ( ) ) . stream ( ) \n + ) . collect ( Collectors . toList ( ) ) ; \n + return unmodifiableList ( filterSupportedVersions ( indexCompatibles ) ) ; \n - \n - return unmodifiableList ( wireCompat ) ; \n + return unmodifiableList ( filterSupportedVersions ( wireCompat ) ) ; \n + } \n + \n + private List < Version > filterSupportedVersions ( List < Version > wireCompat ) { \n + return Architecture . current ( ) = = Architecture . AARCH64 \n + ? wireCompat . stream ( ) . filter ( version - > version . onOrAfter ( " 7 . 12 . 0 " ) ) . collect ( Collectors . toList ( ) ) \n + : wireCompat ; \n
buildSrc \ src \ main \ resources \ minimumGradleVersion \n - 6 . 8 . 1 \n + 6 . 8 . 2 \n gradle \ wrapper \ gradle - wrapper . properties \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 6 . 8 . 1 - all . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 6 . 8 . 2 - all . zip \n - distributionSha256Sum = 3db89524a3981819ff28c3f979236c1274a726e146ced0c8a2020417f9bc0782 \n + distributionSha256Sum = 1433372d903ffba27496f8d5af24265310d2da0d78bf6b4e5138831d4fe066e9 \n
x - pack \ plugin \ ilm \ build . gradle \n - test { \n + tasks . named ( " test " ) . configure { \n x - pack \ plugin \ security \ qa \ operator - privileges - tests \ build . gradle \n - javaRestTest { \n + tasks . named ( " javaRestTest " ) . configure { \n
packages \ Shell \ src \ com \ android \ shell \ BugreportProgressService . java \n + synchronized ( mLock ) { \n + if ( info . bugreportFile . exists ( ) ) { \n + Log . e ( TAG , " Failed to start bugreport generation , the requested bugreport file " \n + + info . bugreportFile + " already exists " ) ; \n + return ; \n + } \n + info . createBugreportFile ( ) ; \n + } \n + " bugreport parcel file descriptor is null . " ) ; \n + info . createScreenshotFile ( mBugreportsDir ) ; \n - createBugreportFile ( bugreportsDir ) ; \n - createScreenshotFile ( bugreportsDir ) ; \n + this . bugreportFile = new File ( bugreportsDir , getFileName ( this , " . zip " ) ) ; \n - void createBugreportFile ( File bugreportsDir ) { \n - bugreportFile = new File ( bugreportsDir , getFileName ( this , " . zip " ) ) ; \n + void createBugreportFile ( ) { \n packages \ Shell \ tests \ src \ com \ android \ shell \ BugreportReceiverTest . java \n + import static org . mockito . Mockito . times ; \n + @ Test \n + public void testBugreportRequestTwice _ oneStartBugreportInvoked ( ) throws Exception { \n + sendBugreportStarted ( ) ; \n + new BugreportRequestedReceiver ( ) . onReceive ( mContext , \n + new Intent ( INTENT _ BUGREPORT _ REQUESTED ) ) ; \n + getInstrumentation ( ) . waitForIdleSync ( ) ; \n + \n + verify ( mMockIDumpstate , times ( 1 ) ) . startBugreport ( anyInt ( ) , any ( ) , any ( ) , any ( ) , \n + anyInt ( ) , any ( ) , anyBoolean ( ) ) ; \n + sendBugreportFinished ( ) ; \n + } \n + \n
packages \ Shell \ src \ com \ android \ shell \ BugreportProgressService . java \n + . setOnlyAlertOnce ( false ) \n + . setOnlyAlertOnce ( true ) \n
packages \ Shell \ src \ com \ android \ shell \ BugreportProgressService . java \n + shareTitle = in . readString ( ) ; \n + lastProgress . set ( in . readInt ( ) ) ; \n + addingDetailsToZip = in . readBoolean ( ) ; \n + addedDetailsToZip = in . readBoolean ( ) ; \n - shareTitle = in . readString ( ) ; \n + dest . writeString ( shareTitle ) ; \n + dest . writeInt ( lastProgress . intValue ( ) ) ; \n + dest . writeBoolean ( addingDetailsToZip ) ; \n + dest . writeBoolean ( addedDetailsToZip ) ; \n - dest . writeString ( shareTitle ) ; \n
src \ clj \ clojure \ datafy . clj \n + ( set ! * warn - on - reflection * true ) \n + \n - ( vary - meta v assoc : : obj x ) \n + ( vary - meta v assoc : : obj x : : class ( - > x class . getName symbol ) ) \n - ( datafy [ x ] ( Throwable - > map x ) ) \n + ( datafy [ x ] \n + ( Throwable - > map x ) ) \n - ( datafy [ r ] ( with - meta [ ( deref r ) ] ( meta r ) ) ) \n + ( datafy [ r ] \n + ( with - meta [ ( deref r ) ] ( meta r ) ) ) \n - ( datafy [ n ] ( with - meta { : publics ( - > n ns - publics sortmap ) \n - : imports ( - > n ns - imports sortmap ) \n - : interns ( - > n ns - interns sortmap ) } \n - ( meta n ) ) ) \n + ( datafy [ n ] \n + ( with - meta { : name ( . getName n ) \n + : publics ( - > n ns - publics sortmap ) \n + : imports ( - > n ns - imports sortmap ) \n + : interns ( - > n ns - interns sortmap ) } \n + ( meta n ) ) ) \n - ( datafy [ c ] ( let [ { : keys [ members ] : as ret } ( refl / reflect c ) ] \n - ( assoc ret : members ( - > > members ( group - by : name ) sortmap ) ) ) ) ) \n + ( datafy [ c ] \n + ( let [ { : keys [ members ] : as ret } ( refl / reflect c ) ] \n + ( assoc ret : name ( - > c . getName symbol ) : members ( - > > members ( group - by : name ) sortmap ) ) ) ) ) \n
src \ clj \ clojure \ core . clj \n - ( monitor - enter lockee # ) \n - ~ @ body \n - ( finally \n - ( monitor - exit lockee # ) ) ) ) ) \n + ( let [ locklocal # lockee # ] \n + ( monitor - enter locklocal # ) \n + ( try \n + ~ @ body \n + ( finally \n + ( monitor - exit locklocal # ) ) ) ) ) ) ) \n
src \ clj \ clojure \ core . clj \n - ( monitor - enter lockee # ) \n - ~ @ body \n - ( finally \n - ( monitor - exit lockee # ) ) ) ) ) \n + ( let [ locklocal # lockee # ] \n + ( monitor - enter locklocal # ) \n + ( try \n + ~ @ body \n + ( finally \n + ( monitor - exit locklocal # ) ) ) ) ) ) ) \n
singleton \ src \ test \ java \ com \ iluwatar \ singleton \ LazyLoadedSingletonThreadSafetyTest . java \n - public void test _ HoleInSingletonCreationIfUsingReflection ( ) throws ClassNotFoundException , NoSuchMethodException , IllegalAccessException , InvocationTargetException , InstantiationException { \n - Field [ ] f = ThreadSafeLazyLoadedIvoryTower . class . getDeclaredFields ( ) ; \n - for ( Field ff : f ) { \n - System . out . println ( ff . getDeclaringClass ( ) ) ; \n - } \n - assertEquals ( " One field only in ThreadSafeLazyLoadedIvoryTower " , 1 , f . length ) ; \n - f [ 0 ] . setAccessible ( true ) ; \n + public void test _ HoleInSingletonCreationIfUsingReflection ( ) throws ClassNotFoundException , NoSuchMethodException , IllegalAccessException , InvocationTargetException , InstantiationException , NoSuchFieldException { \n + Field f = ThreadSafeLazyLoadedIvoryTower . class . getDeclaredField ( " instance " ) ; \n + f . setAccessible ( true ) ; \n - assertNull ( f [ 0 ] . get ( instance ) ) ; \n + assertNull ( f . get ( instance ) ) ; \n - assertNull ( f [ 0 ] . get ( instance ) ) ; \n + assertNull ( f . get ( instance ) ) ; \n
singleton \ src \ test \ java \ com \ iluwatar \ singleton \ LazyLoadedSingletonThreadSafetyTest . java \n - import java . lang . reflect . Constructor ; \n - import java . lang . reflect . Field ; \n - import java . lang . reflect . InvocationTargetException ; \n - import static org . junit . Assert . assertNull ; \n - @ Test \n - @ SuppressWarnings ( " unchecked " ) \n - public void test _ HoleInSingletonCreationIfUsingReflection ( ) throws ClassNotFoundException , NoSuchMethodException , IllegalAccessException , InvocationTargetException , InstantiationException , NoSuchFieldException { \n - Field f = ThreadSafeLazyLoadedIvoryTower . class . getDeclaredField ( " instance " ) ; \n - f . setAccessible ( true ) ; \n - \n - { / / reflectively create an object - the singleton field is null \n - Class lazyIvoryTowerClazz = Class . forName ( " com . iluwatar . singleton . ThreadSafeLazyLoadedIvoryTower " ) ; \n - Constructor < ThreadSafeLazyLoadedIvoryTower > constructor = lazyIvoryTowerClazz . getDeclaredConstructor ( ) ; \n - constructor . setAccessible ( true ) ; \n - ThreadSafeLazyLoadedIvoryTower instance = constructor . newInstance ( ) ; \n - assertNull ( f . get ( instance ) ) ; \n - } \n - \n - / / instantiate the singleton but when we do the below code we are creating a new object where it is set to null still \n - IvoryTower . getInstance ( ) ; \n - \n - { / / reflectively create an object - the singleton field is null as a new object is created \n - Class lazyIvoryTowerClazz = Class . forName ( " com . iluwatar . singleton . ThreadSafeLazyLoadedIvoryTower " ) ; \n - Constructor < ThreadSafeLazyLoadedIvoryTower > constructor = lazyIvoryTowerClazz . getDeclaredConstructor ( ) ; \n - constructor . setAccessible ( true ) ; \n - ThreadSafeLazyLoadedIvoryTower instance = constructor . newInstance ( ) ; \n - assertNull ( f . get ( instance ) ) ; \n - } \n - } \n - \n
lazy - loading \ src \ test \ java \ com \ iluwatar \ lazy \ loading \ HolderThreadSafeTest . java \n - import static org . junit . Assert . assertEquals ; \n - Field [ ] f = HolderThreadSafe . class . getDeclaredFields ( ) ; \n - assertEquals ( " One field only in HolderThreadSafe " , 1 , f . length ) ; \n - f [ 0 ] . setAccessible ( true ) ; \n + Field [ ] ff = HolderThreadSafe . class . getDeclaredFields ( ) ; \n + for ( Field f : ff ) { \n + f . setAccessible ( true ) ; \n + } \n - assertNull ( f [ 0 ] . get ( hts ) ) ; \n + assertNull ( ff [ 0 ] . get ( hts ) ) ; \n - Field [ ] f = HolderThreadSafe . class . getDeclaredFields ( ) ; \n - assertEquals ( " One field only in HolderThreadSafe " , 1 , f . length ) ; \n - f [ 0 ] . setAccessible ( true ) ; \n + Field [ ] ff = HolderThreadSafe . class . getDeclaredFields ( ) ; \n + for ( Field f : ff ) { \n + f . setAccessible ( true ) ; \n + } \n - assertNotNull ( f [ 0 ] . get ( hts ) ) ; \n + assertNotNull ( ff [ 0 ] . get ( hts ) ) ; \n
backends \ gdx - backend - android \ src \ com \ badlogic \ gdx \ backends \ android \ AndroidApplicationBase . java \n - static final int MINIMUM _ SDK = 8 ; \n + static final int MINIMUM _ SDK = 9 ; \n gradle \ dependencies . gradle \n - versions . androidSupport = " + " \n + versions . androidSupport = " 25 . + " \n tests \ gdx - tests - android \ AndroidManifest . xml \n - < uses - sdk android : minSdkVersion = " 9 " android : targetSdkVersion = " 19 " \n - tools : overrideLibrary = " android . support . v4 , android . support . compat , android . support . mediacompat , android . support . coreutils , android . support . coreui , android . support . fragment " / > \n + < uses - sdk android : minSdkVersion = " 9 " android : targetSdkVersion = " 25 " / > \n
extensions \ gdx - controllers \ gdx - controllers - android \ src \ com \ badlogic \ gdx \ controllers \ android \ AndroidControllers . java \n + if ( ! keyEvent . isGamepadButton ( keyCode ) ) { \n + return false ; \n + } \n
extensions \ gdx - controllers \ gdx - controllers - android \ src \ com \ badlogic \ gdx \ controllers \ android \ AndroidControllers . java \n - return ( device . getSources ( ) & InputDevice . SOURCE _ JOYSTICK ) ! = 0 ; \n + return ( ( device . getSources ( ) & InputDevice . SOURCE _ CLASS _ JOYSTICK ) = = InputDevice . SOURCE _ CLASS _ JOYSTICK ) \n + & & ( ( ( device . getSources ( ) & InputDevice . SOURCE _ GAMEPAD ) = = InputDevice . SOURCE _ GAMEPAD ) \n + | | ( device . getKeyboardType ( ) ! = InputDevice . KEYBOARD _ TYPE _ ALPHABETIC ) ) ; \n
stetho \ src \ main \ java \ com \ facebook \ stetho \ inspector \ elements \ ShadowDocument . java \n + } else { \n + mRootElementChanges . remove ( element ) ; \n
stetho \ src \ main \ java \ com \ facebook \ stetho \ inspector \ elements \ Document . java \n - / / Transmit other Document changes to our listener \n + / / Second , remove all elements that have been reparented . Otherwise we get into trouble if we \n + / / transmit an event to insert under the new parent before we ' ve transmitted an event to remove \n + / / it from the old parent . The removal event is ignored because the parent doesn ' t match the \n + / / listener ' s expectations , so we get ghost elements that are stuck and can ' t be exorcised . \n + docUpdate . getChangedElements ( new Accumulator < Object > ( ) { \n + @ Override \n + public void store ( Object element ) { \n + / / If this returns false then it means the element was garbage and has already been removed \n + if ( ! mObjectIdMapper . containsObject ( element ) ) { \n + return ; \n + } \n + \n + final ElementInfo oldElementInfo = mShadowDocument . getElementInfo ( element ) ; \n + if ( oldElementInfo = = null ) { \n + return ; \n + } \n + \n + final ElementInfo newElementInfo = docUpdate . getElementInfo ( element ) ; \n + \n + if ( newElementInfo . parentElement ! = oldElementInfo . parentElement ) { \n + int parentNodeId = mObjectIdMapper . getIdForObject ( oldElementInfo . parentElement ) ; \n + int nodeId = mObjectIdMapper . getIdForObject ( element ) ; \n + mUpdateListeners . onChildNodeRemoved ( parentNodeId , nodeId ) ; \n + } \n + } \n + } ) ; \n + \n + / / Third , transmit all other changes to our listener . This includes inserting reparented \n + / / elements that we removed in the 2nd stage . \n - / / If this returns false then it means the element was garbage , and has already been removed \n + / / If this returns false then it means the element was garbage and has already been removed \n - final ElementInfo newElementInfo = docUpdate . getElementInfo ( element ) ; \n + final ElementInfo newElementInfo = docUpdate . getElementInfo ( element ) ; \n - listenerChildren . add ( childElement ) ; \n + final ElementInfo newChildElementInfo = docUpdate . getElementInfo ( childElement ) ; \n + if ( newChildElementInfo ! = null & & \n + newChildElementInfo . parentElement ! = element ) { \n + / / This element was reparented , so we already told our listener to remove it . \n + } else { \n + listenerChildren . add ( childElement ) ; \n + } \n + \n
stetho \ src \ test \ java \ com \ facebook \ stetho \ json \ ObjectMapperTest . java \n + import static org . junit . Assert . assertTrue ; \n - String expected = " { \ " child1 \ " : { \ " testString \ " : \ " testString \ " } , \ " child2 \ " : { \ " i \ " : 4 } } " ; \n - NestedJsonProperty parsed = mObjectMapper . convertValue ( \n - new JSONObject ( expected ) , \n + / / The ordering of serialization changes depending on Java 7 vs Java 8 . \n + String expected7 = " { \ " child1 \ " : { \ " testString \ " : \ " testString \ " } , \ " child2 \ " : { \ " i \ " : 4 } } " ; \n + String expected8 = " { \ " child2 \ " : { \ " i \ " : 4 } , \ " child1 \ " : { \ " testString \ " : \ " testString \ " } } " ; \n + \n + NestedJsonProperty parsed7 = mObjectMapper . convertValue ( \n + new JSONObject ( expected7 ) , \n + NestedJsonProperty . class ) ; \n + assertEquals ( njp , parsed7 ) ; \n + \n + NestedJsonProperty parsed8 = mObjectMapper . convertValue ( \n + new JSONObject ( expected8 ) , \n - assertEquals ( njp , parsed ) ; \n + assertEquals ( njp , parsed8 ) ; \n - assertEquals ( expected , jsonObject . toString ( ) ) ; \n + \n + assertTrue ( expected7 . equals ( jsonObject . toString ( ) ) | | expected8 . equals ( jsonObject . toString ( ) ) ) ; \n
package . json \n + " devDependencies " : { \n + " react " : " 16 . 13 . 1 " \n + } , \n
packages \ rn - tester \ android \ app \ build . gradle \n - * / / Enable react - native - codegen during build time . \n - * enableCodegen : true , \n + * / / Enable Fabric at build time and runtime . \n + * enableFabric : true , \n - enableCodegen : System . getenv ( ' USE _ CODEGEN ' ) , \n + enableFabric : ( System . getenv ( ' USE _ FABRIC ' ) ? : ' 0 ' ) . toBoolean ( ) , \n + / * * \n + * Build and enable Fabric in RN Tester app . \n + * / \n + def enableFabric = project . ext . react . enableFabric \n + \n - \n + dexOptions { \n + javaMaxHeapSize " 4g " \n + } \n - fabric { \n - / / TODO T71370706 - Create a different dimension to build fabric \n - dimension " vm " \n - } \n + buildConfigField ( " boolean " , " ENABLE _ FABRIC " , " $ enableFabric " ) \n - fabricDebugImplementation { } \n - fabricReleaseImplementation { } \n - fabricDebugImplementation files ( hermesPath + " hermes - debug . aar " ) \n - fabricReleaseImplementation files ( hermesPath + " hermes - release . aar " ) \n + \n + react { \n + enableCodegen = System . getenv ( " USE _ CODEGEN " ) ? : false \n + jsRootDir = file ( " $ rootDir / packages / rn - tester " ) \n + reactNativeRootDir = file ( " $ rootDir " ) \n + useJavaGenerator = System . getenv ( " USE _ CODEGEN _ JAVAPOET " ) ? : false \n + } \n packages \ rn - tester \ android \ app \ src \ main \ java \ com \ facebook \ react \ uiapp \ RNTesterApplication . java \n - import static com . facebook . react . uiapp . BuildConfig . FLAVOR ; \n + import static com . facebook . react . uiapp . BuildConfig . ENABLE _ FABRIC ; \n - static final boolean IS _ FABRIC _ ENABLED = FLAVOR . contains ( " fabric " ) ; \n + static final boolean IS _ FABRIC _ ENABLED = ENABLE _ FABRIC ; \n
Libraries \ Utilities \ ReactNativeTestTools . js \n - const ShallowRenderer = require ( ' react - test - renderer / shallow ' ) ; \n + const ShallowRenderer = require ( ' react - shallow - renderer ' ) ; \n jest \ renderer . js \n - const ShallowRenderer = require ( ' react - test - renderer / shallow ' ) ; \n + \n + const ShallowRenderer = require ( ' react - shallow - renderer ' ) ; \n package . json \n + " react - shallow - renderer " : " 16 . 13 . 1 " , \n yarn . lock \n + react - shallow - renderer @ 16 . 13 . 1 : \n + version " 16 . 13 . 1 " \n + resolved " https : / / registry . yarnpkg . com / react - shallow - renderer / - / react - shallow - renderer - 16 . 13 . 1 . tgz # 4cfd6dc0f05a8d4d261ff7a80e9b88f15491a00a " \n + integrity sha512 - hLmExm5 / ZnjodLgm / 4oxYw4i7fL6LLPhbO9mF / 4tmaZUurtLrp2aSeDHZmRk0SVCHXPz0VaEbb3Dqi5J7odz7Q = = \n + dependencies : \n + object - assign " ^ 4 . 1 . 1 " \n + react - is " ^ 16 . 12 . 0 " \n + \n
animated - base \ build . gradle \n - \n + \n animated - drawable \ build . gradle \n - \n + \n animated - gif - lite \ build . gradle \n - \n + \n imagepipeline - backends \ imagepipeline - okhttp3 \ build . gradle \n - \n imagepipeline - backends \ imagepipeline - volley \ build . gradle \n - \n imagepipeline - native \ build . gradle \n - \n + \n imagepipeline \ build . gradle \n - \n + \n - testImplementation TestDeps . truth \n + testImplementation TestDeps . truth \n memory - types \ nativememory \ build . gradle \n - \n + \n - \n + \n memory - types \ simple \ build . gradle \n - \n + \n samples \ gestures \ build . gradle \n + \n - \n samples \ zoomableapp \ build . gradle \n - implementation SampleDeps . Zoomable . legacyAndroidXSupportCoreUi \n + implementation SampleDeps . Zoomable . legacyAndroidXSupportCoreUi \n tools \ stetho \ build . gradle \n - artifacts . add ( ' archives ' , sourcesJar ) \n + artifacts . add ( ' archives ' , sourcesJar ) \n vito \ litho - slideshow \ build . gradle \n - \n + \n
ReactCommon \ jsi \ jsi \ CMakeLists . txt \n - target _ compile _ options ( jsi PUBLIC $ { jsi _ compile _ flags } ) \n + target _ compile _ options ( jsi PRIVATE $ { jsi _ compile _ flags } ) \n
ReactAndroid \ src \ main \ java \ com \ facebook \ hermes \ reactexecutor \ OnLoad . cpp \n + # include < android / log . h > \n + # include < glog / logging . h > \n + static void hermesFatalHandler ( const std : : string & reason ) { \n + LOG ( ERROR ) < < " Hermes Fatal : " < < reason < < " \ n " ; \n + _ _ android _ log _ assert ( nullptr , " Hermes " , " % s " , reason . c _ str ( ) ) ; \n + } \n + \n + static std : : once _ flag flag ; \n + \n + std : : call _ once ( flag , [ ] ( ) { \n + facebook : : hermes : : HermesRuntime : : setFatalHandler ( hermesFatalHandler ) ; \n + } ) ; \n + std : : call _ once ( flag , [ ] ( ) { \n + facebook : : hermes : : HermesRuntime : : setFatalHandler ( hermesFatalHandler ) ; \n + } ) ; \n
library \ src \ main \ java \ com \ bumptech \ glide \ load \ resource \ gif \ ByteBufferGifDecoder . java \n - this . context = context ; \n + this . context = context . getApplicationContext ( ) ; \n
third _ party \ gif _ decoder \ src \ main \ java \ com \ bumptech \ glide \ gifdecoder \ GifHeader . java \n - / / TODO : this is set both during reading the header and while decoding frames . . . \n third _ party \ gif _ decoder \ src \ main \ java \ com \ bumptech \ glide \ gifdecoder \ StandardGifDecoder . java \n + / / Maximum size is 256 , see GifHeaderParser . readColorTable \n + / / Private color table that can be modified if needed \n + private final int [ ] pct = new int [ 256 ] ; \n - final int savedBgColor = header . bgColor ; \n - \n - if ( currentFrame . lct = = null ) { \n - act = header . gct ; \n - } else { \n - act = currentFrame . lct ; \n - if ( header . bgIndex = = currentFrame . transIndex ) { \n - header . bgColor = 0 ; \n - } \n - } \n - \n - int save = 0 ; \n - if ( currentFrame . transparency ) { \n - save = act [ currentFrame . transIndex ] ; \n - / / Set transparent color if specified . \n - act [ currentFrame . transIndex ] = 0 ; \n - } \n + act = currentFrame . lct ! = null ? currentFrame . lct : header . gct ; \n - / / Transfer pixel data to image . \n - Bitmap result = setPixels ( currentFrame , previousFrame ) ; \n - \n - act [ currentFrame . transIndex ] = save ; \n + / / Prepare local copy of color table ( " pct = act " ) , see # 1068 \n + System . arraycopy ( act , 0 , pct , 0 , act . length ) ; \n + / / Forget about act reference from shared header object , use copied version \n + act = pct ; \n + / / Set transparent color if specified . \n + act [ currentFrame . transIndex ] = 0 ; \n - header . bgColor = savedBgColor ; \n - return result ; \n + / / Transfer pixel data to image . \n + return setPixels ( currentFrame , previousFrame ) ; \n + if ( currentFrame . lct ! = null & & header . bgIndex = = currentFrame . transIndex ) { \n + c = 0 ; \n + } \n
third _ party \ gif _ decoder \ src \ main \ java \ com \ bumptech \ glide \ gifdecoder \ StandardGifDecoder . java \n - Arrays . fill ( dest , c ) ; \n + / / The area used by the graphic must be restored to the background color . \n + int downsampledIH = previousFrame . ih / sampleSize ; \n + int downsampledIY = previousFrame . iy / sampleSize ; \n + int downsampledIW = previousFrame . iw / sampleSize ; \n + int downsampledIX = previousFrame . ix / sampleSize ; \n + int topLeft = downsampledIY * downsampledWidth + downsampledIX ; \n + int bottomLeft = topLeft + downsampledIH * downsampledWidth ; \n + for ( int left = topLeft ; left < bottomLeft ; left + = downsampledWidth ) { \n + int right = left + downsampledIW ; \n + for ( int pointer = left ; pointer < right ; pointer + + ) { \n + dest [ pointer ] = c ; \n + } \n + } \n
okhttp \ src \ main \ java \ com \ squareup \ okhttp \ OkHttpClient . java \n - / * * Configures and creates HTTP connections . * / \n + / * * \n + * Configures and creates HTTP connections . Designed to be treated as a singleton - by \n + * using a single instance you are afforded a shared response cache , thread pool , connection \n + * re - use , etc . \n + * / \n + / * * \n + * This method is thread - safe . \n + * / \n
okhttp \ src \ main \ java \ com \ squareup \ okhttp \ OkHttpClient . java \n - * Configures and creates HTTP connections . Designed to be treated as a singleton - by \n - * using a single instance you are afforded a shared response cache , thread pool , connection \n - * re - use , etc . \n + * Configures and creates HTTP connections . Most applications can use a single \n + * OkHttpClient for all of their HTTP requests - benefiting from a shared \n + * response cache , thread pool , connection re - use , etc . \n
okhttp \ src \ main \ java \ com \ squareup \ okhttp \ OkHttpClient . java \n + * \n + * Instances of OkHttpClient are intended to be fully configured before they ' re \n + * shared - once shared they should be treated as immutable and can safely be used \n + * to concurrently open new connections . If required , threads can call \n + * { @ link # clone ( ) } to make a shallow copy of the OkHttpClient that can be \n + * safely modified with further configuration changes . \n - / * * \n - * This method is thread - safe . \n - * / \n
new file \n src \ test \ java \ spark \ ExceptionMapperTest . java \n + package spark ; \n + \n + import org . junit . Test ; \n + import org . powermock . reflect . Whitebox ; \n + import static org . junit . Assert . assertEquals ; \n + \n + public class ExceptionMapperTest { \n + \n + \n + @ Test \n + public void testGetInstance _ whenDefaultInstanceIsNull ( ) { \n + ExceptionMapper exceptionMapper = null ; \n + Whitebox . setInternalState ( ExceptionMapper . class , " defaultInstance " , exceptionMapper ) ; \n + exceptionMapper = ExceptionMapper . getInstance ( ) ; \n + assertEquals ( " Should be equals because ExceptionMapper is a singleton " , Whitebox . getInternalState ( ExceptionMapper . class , " defaultInstance " ) , exceptionMapper ) ; \n + } \n + \n + @ Test \n + public void testGetInstance _ whenDefaultInstanceIsNotNull ( ) { \n + ExceptionMapper . getInstance ( ) ; \n + ExceptionMapper exceptionMapper = ExceptionMapper . getInstance ( ) ; \n + assertEquals ( " Should be equals because ExceptionMapper is a singleton " , Whitebox . getInternalState ( ExceptionMapper . class , " defaultInstance " ) , exceptionMapper ) ; \n + } \n + } \n
src \ test \ java \ spark \ staticfiles \ StaticFilesTest . java \n + / / given \n + \n + / / then \n + / / given \n + \n + / / then \n + / / given \n + \n + / / then \n
new file \n src \ test \ java \ spark \ SparkInstanceTest . java \n + package spark ; \n + \n + import static org . mockito . Matchers . any ; \n + import static org . mockito . Mockito . mock ; \n + import static org . mockito . Mockito . verify ; \n + import static org . mockito . Mockito . when ; \n + \n + import java . util . Map ; \n + import java . util . Optional ; \n + import java . util . concurrent . CountDownLatch ; \n + \n + import org . junit . Test ; \n + import org . junit . runner . RunWith ; \n + import org . powermock . api . mockito . PowerMockito ; \n + import org . powermock . core . classloader . annotations . PrepareForTest ; \n + import org . powermock . modules . junit4 . PowerMockRunner ; \n + \n + import spark . ssl . SslStores ; \n + import spark . webserver . SparkServerFactory ; \n + \n + @ RunWith ( PowerMockRunner . class ) \n + @ PrepareForTest ( SparkServerFactory . class ) \n + public class SparkInstanceTest { \n + \n + @ Test \n + public void testInit ( ) { \n + / / given \n + SparkInstance sparkInstance = new SparkInstance ( ) ; \n + PowerMockito . mockStatic ( SparkServerFactory . class ) ; \n + SparkServer serverMock = mock ( SparkServer . class ) ; \n + \n + / / when \n + when ( SparkServerFactory . create ( any ( boolean . class ) ) ) . thenReturn ( serverMock ) ; \n + \n + / / then \n + sparkInstance . init ( ) ; \n + verify ( serverMock ) . ignite ( any ( String . class ) , any ( int . class ) , any ( SslStores . class ) , any ( CountDownLatch . class ) , \n + any ( int . class ) , any ( int . class ) , any ( int . class ) , any ( Map . class ) , any ( Optional . class ) ) ; \n + } \n + } \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ HiveUtil . java \n - / / ORC uses a custom InputFormat but is always splittable \n - if ( inputFormat . getClass ( ) . getSimpleName ( ) . equals ( " OrcInputFormat " ) ) { \n + if ( inputFormat . getClass ( ) . getSimpleName ( ) . equals ( " OrcInputFormat " ) | | \n + inputFormat . getClass ( ) . getSimpleName ( ) . equals ( " RCFileInputFormat " ) ) { \n - / / use reflection to get isSplittable method on FileInputFormat \n + / / use reflection to get isSplittable method on inputFormat \n
pom . xml \n - < version > 1 . 4 . 5 - 4 < / version > \n + < version > 1 . 3 . 5 - 4 < / version > \n
presto - cache \ src \ main \ java \ com \ facebook \ presto \ cache \ CachingFileSystem . java \n + @ Override \n + public Configuration getConf ( ) \n + { \n + return dataTier . getConf ( ) ; \n + } \n + \n
AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ api \ BackgroundExecutor . java \n - future = directExecute ( task , task . delay ) ; \n + future = directExecute ( task , task . remainingDelay ) ; \n - private int delay ; \n + private int remainingDelay ; \n - this . delay = delay ; \n + remainingDelay = delay ; \n - if ( next . delay ! = 0 ) { \n - / * compute remaining delay * / \n - next . delay = Math . max ( 0 , ( int ) ( targetTimeMillis - System . currentTimeMillis ( ) ) ) ; \n + if ( next . remainingDelay ! = 0 ) { \n + / * the delay may not have elapsed yet * / \n + next . remainingDelay = Math . max ( 0 , ( int ) ( targetTimeMillis - System . currentTimeMillis ( ) ) ) ; \n
AndroidAnnotations \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ Background . java \n - String id ( ) default " " ; / * used for task cancellation * / \n + / * * \n + * Identifier for task cancellation . \n + * \n + * To cancel all tasks having a specified background id : \n + * \n + * < pre > \n + * boolean mayInterruptIfRunning = true ; \n + * BackgroundExecutor . cancelAll ( & quot ; my _ background _ id & quot ; , mayInterruptIfRunning ) ; \n + * < / pre > \n + * * / \n + String id ( ) default " " ; \n - int delay ( ) default 0 ; / * in milliseconds * / \n + / * * Minimum delay , in milliseconds , before the background task is executed . * / \n + int delay ( ) default 0 ; \n + / * * \n + * Serial execution group . \n + * \n + * All background tasks having the same < code > serial < / code > will be executed \n + * sequentially . \n + * * / \n
AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ api \ BackgroundExecutor . java \n + import java . util . concurrent . atomic . AtomicBoolean ; \n - tasks . remove ( i ) ; \n + if ( ! task . managed . getAndSet ( true ) ) { \n + / * \n + * the task has been submitted to the executor , but its \n + * execution has not started yet , so that its run ( ) \n + * method will never call postExecute ( ) \n + * / \n + task . postExecute ( ) ; \n + } \n + } else { \n + / * this task has not been submitted to the executor * / \n + tasks . remove ( i ) ; \n + / * \n + * A task can be cancelled after it has been submitted to the executor \n + * but before its run ( ) method is called . In that case , run ( ) will never \n + * be called , hence neither will postExecute ( ) : the tasks with the same \n + * serial identifier ( if any ) will never be submitted . \n + * \n + * Therefore , cancelAll ( ) * must * call postExecute ( ) if run ( ) is not \n + * started . \n + * \n + * This flag guarantees that either cancelAll ( ) or run ( ) manages this \n + * task post execution , but not both . \n + * / \n + private AtomicBoolean managed = new AtomicBoolean ( ) ; \n + \n + if ( managed . getAndSet ( true ) ) { \n + / * cancelled and postExecute ( ) already called * / \n + return ; \n + } \n + \n
compiler \ ir \ backend . common \ src \ org \ jetbrains \ kotlin \ backend \ common \ extensions \ IrPluginContext . kt \n + import org . jetbrains . kotlin . ir . util . IrMessageLogger \n + / * * \n + * Returns a logger instance to post diagnostic messages from plugin \n + * \n + * @ param pluginId the unique plugin ID to make it easy to distinguish in log \n + * @ return the logger associated with specified ID \n + * / \n + fun createDiagnosticReporter ( pluginId : String ) : IrMessageLogger \n + \n compiler \ ir \ backend . common \ src \ org \ jetbrains \ kotlin \ backend \ common \ extensions \ IrPluginContextImpl . kt \n + import org . jetbrains . kotlin . ir . util . IrMessageLogger \n + private val diagnosticReporter : IrMessageLogger , \n + override fun createDiagnosticReporter ( pluginId : String ) : IrMessageLogger { \n + return object : IrMessageLogger { \n + override fun report ( \n + severity : IrMessageLogger . Severity , \n + message : String , \n + location : IrMessageLogger . Location ? \n + ) { \n + diagnosticReporter . report ( severity , " [ Plugin $ pluginId ] $ message " , location ) \n + } \n + } \n + } \n + \n compiler \ ir \ backend . jvm \ src \ org \ jetbrains \ kotlin \ backend \ jvm \ JvmIrCodegenFactory . kt \n - import org . jetbrains . kotlin . ir . backend . jvm . serialization . EmptyLoggingContext \n compiler \ ir \ serialization . js \ src \ org \ jetbrains \ kotlin \ ir \ backend \ js \ klib . kt \n - import org . jetbrains . kotlin . backend . common . LoggingContext \n - linker = irLinker \n + linker = irLinker , \n + messageLogger \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ PsiToIr . kt \n + import org . jetbrains . kotlin . name . Name \n + override fun resolveBySignatureInModule ( signature : IdSignature , kind : IrDeserializer . TopLevelSymbolKind , moduleName : Name ) : IrSymbol { \n + error ( " Should not be called " ) \n + } \n
compiler \ ir \ serialization . common \ src \ org \ jetbrains \ kotlin \ backend \ common \ serialization \ KotlinIrLinker . kt \n - return moduleDeserializer . deserializeIrSymbol ( signature , topLevelKindToSymbolKind ( kind ) ) \n + return moduleDeserializer . deserializeIrSymbol ( signature , topLevelKindToSymbolKind ( kind ) ) . also { \n + deserializeAllReachableTopLevels ( ) \n + } \n
idea \ idea - frontend - fir \ src \ org \ jetbrains \ kotlin \ idea \ frontend \ api \ fir \ components \ KtFirReferenceShortener . kt \n + private sealed class ElementToShorten \n + private class ShortenType ( val element : KtUserType , val nameToImport : FqName ? = null ) : ElementToShorten ( ) \n + private class ShortenQualifier ( val element : KtDotQualifiedExpression , val nameToImport : FqName ? = null ) : ElementToShorten ( ) \n + \n - addTypeToShorten ( typeElement ) \n + addElementToShorten ( ShortenType ( typeElement ) ) \n - addTypeToShorten ( mostTopLevelTypeElement , mostTopLevelClassId . asSingleFqName ( ) ) \n + addElementToShorten ( ShortenType ( mostTopLevelTypeElement , mostTopLevelClassId . asSingleFqName ( ) ) ) \n - addTypeToShorten ( deepestTypeWithQualifier ) \n + addElementToShorten ( ShortenType ( deepestTypeWithQualifier ) ) \n - private fun addTypeToShorten ( mostTopLevelTypeElement : KtUserType , classFqName : FqName ? = null ) { \n - namesToImport . addIfNotNull ( classFqName ) \n - typesToShorten . add ( mostTopLevelTypeElement ) \n - } \n - \n - addElementToShorten ( qualifier ) \n + addElementToShorten ( ShortenQualifier ( qualifier ) ) \n - addElementToShorten ( mostTopLevelQualifier , mostTopLevelClassId . asSingleFqName ( ) ) \n + addElementToShorten ( ShortenQualifier ( mostTopLevelQualifier , mostTopLevelClassId . asSingleFqName ( ) ) ) \n - addElementToShorten ( qualifiedProperty ) \n + addElementToShorten ( ShortenQualifier ( qualifiedProperty ) ) \n - addElementToShorten ( qualifiedCallExpression , additionalImport ) \n + addElementToShorten ( ShortenQualifier ( qualifiedCallExpression , additionalImport ) ) \n - addElementToShorten ( qualifiedCallExpression ) \n + addElementToShorten ( ShortenQualifier ( qualifiedCallExpression ) ) \n - addElementToShorten ( deepestQualifier ) \n + addElementToShorten ( ShortenQualifier ( deepestQualifier ) ) \n - private fun addElementToShorten ( element : KtDotQualifiedExpression , nameToImport : FqName ? = null ) { \n - namesToImport . addIfNotNull ( nameToImport ) \n - qualifiersToShorten . add ( element ) \n + private fun addElementToShorten ( element : ElementToShorten ) { \n + when ( element ) { \n + is ShortenType - > { \n + namesToImport . addIfNotNull ( element . nameToImport ) \n + typesToShorten . add ( element . element ) \n + } \n + is ShortenQualifier - > { \n + namesToImport . addIfNotNull ( element . nameToImport ) \n + qualifiersToShorten . add ( element . element ) \n + } \n + } \n
idea \ idea - frontend - fir \ src \ org \ jetbrains \ kotlin \ idea \ frontend \ api \ fir \ components \ KtFirReferenceShortener . kt \n + import com . intellij . psi . util . parentsOfType \n - import org . jetbrains . kotlin . idea . fir . low . level . api . api . getOrBuildFirOfType \n - resolveFileToBodyResolve ( file ) \n - val firFile = file . getOrBuildFirOfType < FirFile > ( firResolveState ) \n + val declarationToVisit = file . findSmallestDeclarationContainingSelection ( selection ) \n + ? : file . withDeclarationsResolvedToBodyResolve ( ) \n + \n + val firDeclaration = declarationToVisit . getOrBuildFir ( firResolveState ) \n - firFile . acceptChildren ( collector ) \n + firDeclaration . accept ( collector ) \n - private fun resolveFileToBodyResolve ( file : KtFile ) { \n - for ( declaration in file . declarations ) { \n + private fun KtFile . withDeclarationsResolvedToBodyResolve ( ) : KtFile { \n + for ( declaration in declarations ) { \n + \n + return this \n + private fun KtFile . findSmallestDeclarationContainingSelection ( selection : TextRange ) : KtDeclaration ? = \n + findElementAt ( selection . startOffset ) \n + ? . parentsOfType < KtDeclaration > ( withSelf = true ) \n + ? . firstOrNull { selection in it . textRange } \n + \n
idea \ idea - frontend - fir \ src \ org \ jetbrains \ kotlin \ idea \ frontend \ api \ fir \ components \ KtFirReferenceShortener . kt \n - import org . jetbrains . kotlin . fir . resolve . firSymbolProvider \n + import org . jetbrains . kotlin . fir . resolve . symbolProvider \n - val packageOrClass = resolveToPackageOrClass ( firSession . firSymbolProvider , fqNameToImport ) ? : return null \n + val packageOrClass = resolveToPackageOrClass ( firSession . symbolProvider , fqNameToImport ) ? : return null \n
ReactAndroid \ src \ main \ java \ com \ facebook \ BUCK \n + autoglob = False , \n ReactAndroid \ src \ main \ java \ com \ facebook \ hermes \ reactexecutor \ BUCK \n + autoglob = False , \n ReactAndroid \ src \ main \ libraries \ fresco \ fresco - react - native \ BUCK \n + autoglob = False , \n ReactAndroid \ src \ main \ third - party \ java \ robolectric \ 4 . 4 \ BUCK \n + autoglob = False , \n ReactAndroid \ src \ test \ java \ com \ facebook \ react \ bridge \ BUCK \n + autoglob = False , \n ReactCommon \ libraries \ fbcore \ src \ test \ java \ com \ facebook \ powermock \ BUCK \n + autoglob = False , \n + autoglob = False , \n ReactCommon \ react \ nativemodule \ samples \ BUCK \n + autoglob = False , \n
packages \ react - native - codegen \ DEFS . bzl \n - rn _ android _ library ( name = " generated _ components _ java - { } " . format ( name ) ) \n + rn _ android _ library ( name = " generated _ components _ java - { } " . format ( name ) , autoglob = False ) \n
ReactAndroid \ src \ test \ java \ com \ facebook \ react \ bridge \ BUCK \n - autoglob = False , \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ metadata \ BuiltInTypeAndFunctionNamespaceManager . java \n - / / Manually register UNKNOWN type without a verifyTypeClass call since it is a special type that can not be used by functions \n - this . types . put ( UNKNOWN . getTypeSignature ( ) , UNKNOWN ) ; \n - \n + addType ( UNKNOWN ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ util \ CompilerUtils . java \n - String className = baseName \n + String className = baseName . length ( ) > 100 ? baseName . substring ( 0 , 100 ) : baseName \n + " _ " + suffix . orElseGet ( ( ) - > Instant . now ( ) . atZone ( UTC ) . format ( TIMESTAMP _ FORMAT ) ) \n + " _ " + CLASS _ ID . incrementAndGet ( ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ operator \ aggregation \ AggregationUtils . java \n - sb . append ( CaseFormat . LOWER _ CAMEL . to ( CaseFormat . UPPER _ CAMEL , outputType . toString ( ) ) ) ; \n + sb . append ( CaseFormat . LOWER _ CAMEL . to ( CaseFormat . UPPER _ CAMEL , getAbbreviatedTypeName ( outputType ) ) ) ; \n - sb . append ( CaseFormat . LOWER _ CAMEL . to ( CaseFormat . UPPER _ CAMEL , inputType . toString ( ) ) ) ; \n + sb . append ( CaseFormat . LOWER _ CAMEL . to ( CaseFormat . UPPER _ CAMEL , getAbbreviatedTypeName ( inputType ) ) ) ; \n + private static String getAbbreviatedTypeName ( TypeSignature type ) \n + { \n + String typeName = type . toString ( ) ; \n + if ( typeName . length ( ) > 10 ) { \n + return typeName . substring ( 0 , 10 ) ; \n + } \n + return typeName ; \n + } \n + \n
x - pack \ plugin \ core \ src \ main \ java \ org \ elasticsearch \ xpack \ core \ XPackSettings . java \n + private static final boolean IS _ DARWIN _ AARCH64 ; \n + static { \n + final String name = System . getProperty ( " os . name " ) ; \n + final String arch = System . getProperty ( " os . arch " ) ; \n + IS _ DARWIN _ AARCH64 = " aarch64 " . equals ( arch ) & & name . startsWith ( " Mac OS X " ) ; \n + } \n - public static final Setting < Boolean > MACHINE _ LEARNING _ ENABLED = Setting . boolSetting ( " xpack . ml . enabled " , true , \n - Setting . Property . NodeScope ) ; \n + public static final Setting < Boolean > MACHINE _ LEARNING _ ENABLED = Setting . boolSetting ( \n + " xpack . ml . enabled " , \n + IS _ DARWIN _ AARCH64 = = false , \n + value - > { \n + if ( value & & IS _ DARWIN _ AARCH64 ) { \n + throw new IllegalArgumentException ( " [ xpack . ml . enabled ] can not be set to [ true ] on [ Mac OS X / aarch64 ] " ) ; \n + } \n + } , \n + Setting . Property . NodeScope ) ; \n
buildSrc \ src \ main \ java \ org \ elasticsearch \ gradle \ internal \ precommit \ ForbiddenPatternsTask . java \n - . exclude ( " * * / * . png " ) ; \n + . exclude ( " * * / * . png " ) \n + / / vim swap file - included here to stop the build falling over if you happen to have a file open : - | \n + . exclude ( " * * / . * . swp " ) ; \n
server \ src \ main \ java \ org \ elasticsearch \ action \ admin \ indices \ create \ CreateIndexRequest . java \n - if ( in . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( in . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n - if ( out . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( out . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n server \ src \ main \ java \ org \ elasticsearch \ action \ admin \ indices \ settings \ put \ UpdateSettingsRequest . java \n - if ( in . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( in . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n - if ( out . getVersion ( ) . onOrAfter ( Version . V _ 8 _ 0 _ 0 ) ) { \n + if ( out . getVersion ( ) . onOrAfter ( Version . V _ 7 _ 12 _ 0 ) ) { \n
CONTRIBUTING . md \n - * There is an implicit rule that negative boolean expressions should use \n - the form ` foo = = false ` instead of ` ! foo ` for better readability of the \n - code . While this isn ' t strictly enforced , if might get called out in PR \n - reviews as something to change . \n + * Negative boolean expressions must use the form ` foo = = false ` instead of \n + ` ! foo ` for better readability of the code . This is enforced via \n + Checkstyle . Conversely , you should not write e . g . ` if ( foo = = true ) ` , but \n + just ` if ( foo ) ` . \n
. ci \ bwcVersions \n - " 7 . 10 . 2 " \n - " 7 . 10 . 3 " \n - " 7 . 11 . 0 " \n + - " 7 . 11 . 1 " \n - " 7 . 12 . 0 " \n - " 8 . 0 . 0 " \n server \ src \ main \ java \ org \ elasticsearch \ Version . java \n + public static final Version V _ 7 _ 11 _ 1 = new Version ( 7110199 , org . apache . lucene . util . Version . LUCENE _ 8 _ 7 _ 0 ) ; \n
. ci \ bwcVersions \n - " 7 . 10 . 0 " \n - " 7 . 10 . 1 " \n - " 7 . 10 . 2 " \n - - " 7 . 10 . 3 " \n - " 7 . 11 . 0 " \n - " 7 . 11 . 1 " \n - " 7 . 12 . 0 " \n server \ src \ main \ java \ org \ elasticsearch \ Version . java \n - public static final Version V _ 7 _ 10 _ 3 = new Version ( 7100399 , org . apache . lucene . util . Version . LUCENE _ 8 _ 7 _ 0 ) ; \n
build . gradle \n - mavenBom " io . rsocket : rsocket - bom : 1 . 0 . 0 - RC7 " \n + mavenBom " io . rsocket : rsocket - bom : 1 . 0 . 0 " \n spring - messaging \ src \ main \ java \ org \ springframework \ messaging \ rsocket \ MetadataEncoder . java \n - import io . rsocket . metadata . CompositeMetadataFlyweight ; \n - import io . rsocket . metadata . TaggingMetadataFlyweight ; \n + @ SuppressWarnings ( " deprecation " ) \n - CompositeMetadataFlyweight . encodeAndAddMetadata ( composite , this . allocator , \n + io . rsocket . metadata . CompositeMetadataFlyweight . encodeAndAddMetadata ( composite , this . allocator , \n - CompositeMetadataFlyweight . encodeAndAddMetadata ( \n + io . rsocket . metadata . CompositeMetadataFlyweight . encodeAndAddMetadata ( \n + @ SuppressWarnings ( " deprecation " ) \n - return TaggingMetadataFlyweight . createRoutingMetadata ( \n + return io . rsocket . metadata . TaggingMetadataFlyweight . createRoutingMetadata ( \n spring - messaging \ src \ main \ java \ org \ springframework \ messaging \ rsocket \ annotation \ support \ MessagingRSocket . java \n - import io . rsocket . AbstractRSocket ; \n - class MessagingRSocket extends AbstractRSocket { \n + class MessagingRSocket implements RSocket { \n
build . gradle \n - mavenBom " io . rsocket : rsocket - bom : 1 . 0 . 0 - RC7 " \n + mavenBom " io . rsocket : rsocket - bom : 1 . 0 . 0 " \n spring - messaging \ src \ main \ java \ org \ springframework \ messaging \ rsocket \ MetadataEncoder . java \n - import io . rsocket . metadata . CompositeMetadataFlyweight ; \n - import io . rsocket . metadata . TaggingMetadataFlyweight ; \n + @ SuppressWarnings ( " deprecation " ) \n - CompositeMetadataFlyweight . encodeAndAddMetadata ( composite , this . allocator , \n + io . rsocket . metadata . CompositeMetadataFlyweight . encodeAndAddMetadata ( composite , this . allocator , \n - CompositeMetadataFlyweight . encodeAndAddMetadata ( \n + io . rsocket . metadata . CompositeMetadataFlyweight . encodeAndAddMetadata ( \n + @ SuppressWarnings ( " deprecation " ) \n - return TaggingMetadataFlyweight . createRoutingMetadata ( \n + return io . rsocket . metadata . TaggingMetadataFlyweight . createRoutingMetadata ( \n spring - messaging \ src \ main \ java \ org \ springframework \ messaging \ rsocket \ annotation \ support \ MessagingRSocket . java \n - import io . rsocket . AbstractRSocket ; \n - class MessagingRSocket extends AbstractRSocket { \n + class MessagingRSocket implements RSocket { \n
spring - web \ src \ main \ java \ org \ springframework \ web \ method \ annotation \ ExceptionHandlerMethodResolver . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - method = resolveMethodByExceptionType ( cause . getClass ( ) ) ; \n + method = resolveMethodByThrowable ( cause ) ; \n spring - web \ src \ test \ java \ org \ springframework \ web \ method \ annotation \ ExceptionHandlerMethodResolverTests . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + @ Test \n + public void resolveMethodExceptionCause ( ) { \n + ExceptionHandlerMethodResolver resolver = new ExceptionHandlerMethodResolver ( ExceptionController . class ) ; \n + \n + SocketException bindException = new BindException ( ) ; \n + bindException . initCause ( new FileNotFoundException ( ) ) ; \n + \n + Exception exception = new Exception ( new Exception ( new Exception ( bindException ) ) ) ; \n + \n + assertThat ( resolver . resolveMethod ( exception ) . getName ( ) ) . isEqualTo ( " handleSocketException " ) ; \n + } \n + \n
spring - web \ src \ main \ java \ org \ springframework \ web \ util \ UriBuilder . java \n - * Copyright 2002 - 2020 the original author or authors . \n + * Copyright 2002 - 2021 the original author or authors . \n - * < p > The given value is appended as - is without any checks for slashes other \n - * than to clean up duplicates . For example : \n + * < p > The given value is appended as - is to previous { @ link # path ( String ) path } \n + * values without inserting any additional slashes . For example : \n - * < p > By contrast { @ link # pathSegment ( String . . . ) } builds the path from \n - * individual path segments and in that case slashes are inserted transparently . \n - * In some cases you may use a combination of both { @ code pathSegment } and \n - * { @ code path } . For example : \n + * < p > By contrast { @ link # pathSegment ( String . . . ) pathSegment } does insert \n + * slashes between individual path segments . For example : \n - * \n - * < p > If a URI variable value contains slashes , whether those are encoded or \n - * not depends on the configured encoding mode . See \n - * { @ link UriComponentsBuilder # encode ( ) } , or if using \n - * { @ code UriComponentsBuilder } via { @ link DefaultUriBuilderFactory } \n - * ( e . g . { @ code WebClient } or { @ code RestTemplate } ) see its \n - * { @ link DefaultUriBuilderFactory # setEncodingMode encodingMode } property . \n + * < p > The resulting full path is normalized to eliminate duplicate slashes . \n + * < p > < strong > Note : < / strong > When inserting a URI variable value that \n + * contains slashes in a { @ link # path ( String ) path } , whether those are \n + * encoded depends on the configured encoding mode . For more details , see \n + * { @ link UriComponentsBuilder # encode ( ) } , or otherwise if building URIs \n + * indirectly via { @ code WebClient } or { @ code RestTemplate } , see its \n + * { @ link DefaultUriBuilderFactory # setEncodingMode encodingMode } . \n - * Override the existing path . \n + * Override the current path . \n - * \n - * \n - * \n + * < p > Empty path segments are ignored and therefore duplicate slashes do not \n + * appear in the resulting full path . \n
src \ docs \ asciidoc \ web \ webflux . adoc \n - for the body . \n + for the body . This allows a variety of async responses with ` ResponseEntity ` as follows : \n + \n + * ` ResponseEntity < Mono < T > > ` or ` ResponseEntity < Flux < T > > ` make the response status and \n + headers known immediately while the body is provided asynchronously at a later point . \n + Use ` Mono ` if the body consists of 0 . . 1 values or ` Flux ` if it can produce multiple values . \n + * ` Mono < ResponseEntity < T > > ` provides all three - - response status , headers , and body , \n + asynchronously at a later point . This allows the response status and headers to vary \n + depending on the outcome of asynchronous request handling . \n + * ` Mono < ResponseEntity < Mono < T > > > ` or ` Mono < ResponseEntity < Flux < T > > > ` are yet another \n + possible , albeit less common alternative . They provides the response status and headers \n + asynchronously first and then the response body , also asynchronously at a second point later . \n src \ docs \ asciidoc \ web \ webmvc . adoc \n - types for the body . \n + types for the body . This allows the following types of async responses : \n + \n + * ` ResponseEntity < Mono < T > > ` or ` ResponseEntity < Flux < T > > ` make the response status and \n + headers known immediately while the body is provided asynchronously at a later point . \n + Use ` Mono ` if the body consists of 0 . . 1 values or ` Flux ` if it can produce multiple values . \n + * ` Mono < ResponseEntity < T > > ` provides all three - - response status , headers , and body , \n + asynchronously at a later point . This allows the response status and headers to vary \n + depending on the outcome of asynchronous request handling . \n
spring - web \ src \ main \ java \ org \ springframework \ http \ codec \ multipart \ FilePart . java \n - * as " . . " and others that can be used maliciously . \n + * as " . . " and others that can be used maliciously . It is recommended to not \n + * use this filename directly . Preferably generate a unique one and save \n + * this one one somewhere for reference , if necessary . \n spring - web \ src \ main \ java \ org \ springframework \ web \ multipart \ MultipartFile . java \n - * as " . . " and others that can be used maliciously . \n + * as " . . " and others that can be used maliciously . It is recommended to not \n + * use this filename directly . Preferably generate a unique one and save \n + * this one one somewhere for reference , if necessary . \n src \ docs \ asciidoc \ web \ webflux . adoc \n - possible , albeit less common alternative . They provides the response status and headers \n - asynchronously first and then the response body , also asynchronously at a second point later . \n + possible , albeit less common alternative . They provide the response status and headers \n + asynchronously first and then the response body , also asynchronously , second . \n
keystore \ java \ android \ security \ IKeyChainService . aidl \n - void updateCredentialManagementAppPolicy ( in AppUriAuthenticationPolicy policy ) ; \n
core \ java \ android \ app \ AppOpsManager . java \n + / * * \n + * Manage credentials in the system KeyChain . \n + * \n + * @ hide \n + * / \n + public static final int OP _ MANAGE _ CREDENTIALS = AppProtoEnums . APP _ OP _ MANAGE _ CREDENTIALS ; \n + \n - public static final int _ NUM _ OP = 104 ; \n + public static final int _ NUM _ OP = 105 ; \n + / * * \n + * Manage credentials in the system KeyChain . \n + * \n + * @ hide \n + * / \n + public static final String OPSTR _ MANAGE _ CREDENTIALS = " android : manage _ credentials " ; \n + \n + OP _ MANAGE _ CREDENTIALS , / / MANAGE _ CREDENTIALS \n + OPSTR _ MANAGE _ CREDENTIALS , \n + " MANAGE _ CREDENTIALS " , \n + null , / / no permission for OP _ MANAGE _ CREDENTIALS \n + null , / / MANAGE _ CREDENTIALS \n + null , / / MANAGE _ CREDENTIALS \n + AppOpsManager . MODE _ DEFAULT , / / MANAGE _ CREDENTIALS \n + false , / / MANAGE _ CREDENTIALS \n
new file \n core \ tests \ coretests \ src \ com \ android \ internal \ widget \ OWNERS \n + # LockSettings related \n + per - file * LockPattern * = file : / services / core / java / com / android / server / locksettings / OWNERS \n + per - file * Lockscreen * = file : / services / core / java / com / android / server / locksettings / OWNERS \n
Libraries \ ReactNative \ AppRegistry . js \n + appKey , \n Libraries \ ReactNative \ renderApplication . js \n + debugName ? : string , \n - const renderable = ( \n + let renderable = ( \n + if ( _ _ DEV _ _ & & debugName ) { \n + const RootComponentWithMeaningfulName = ( { children } ) = > children ; \n + RootComponentWithMeaningfulName . displayName = ` $ { debugName } ( RootComponent ) ` ; \n + renderable = ( \n + < RootComponentWithMeaningfulName > \n + { renderable } \n + < / RootComponentWithMeaningfulName > \n + ) ; \n + } \n + \n
Libraries \ AppState \ AppState . js \n - class MissingNativeAppStateShim extends EventEmitter { \n + class MissingNativeAppStateShim extends EventEmitter < $ FlowFixMe > { \n - addListener ( ) { \n + addListener ( ) : any { \n Libraries \ Components \ AccessibilityInfo \ AccessibilityInfo . ios . js \n + / / $ FlowFixMe [ incompatible - call ] \n + / / $ FlowFixMe [ incompatible - call ] \n Libraries \ Interaction \ InteractionManager . js \n - const _ emitter = new EventEmitter ( ) ; \n + const _ emitter = new EventEmitter < $ FlowFixMe > ( ) ; \n Libraries \ Utilities \ Appearance . js \n - const eventEmitter = new EventEmitter ( ) ; \n + const eventEmitter = new EventEmitter < $ FlowFixMe > ( ) ; \n Libraries \ Utilities \ Dimensions . js \n - const eventEmitter = new EventEmitter ( ) ; \n + const eventEmitter = new EventEmitter < $ FlowFixMe > ( ) ; \n
Libraries \ AppState \ AppState . js \n - class AppState extends NativeEventEmitter { \n + class AppState extends NativeEventEmitter < $ FlowFixMe > { \n Libraries \ Components \ Keyboard \ Keyboard . js \n - const KeyboardEventEmitter : NativeEventEmitter = new NativeEventEmitter ( \n + const KeyboardEventEmitter : NativeEventEmitter < $ FlowFixMe > = new NativeEventEmitter ( \n Libraries \ Components \ StatusBar \ StatusBarIOS . js \n - class StatusBarIOS extends NativeEventEmitter { } \n + class StatusBarIOS extends NativeEventEmitter < $ FlowFixMe > { } \n Libraries \ EventEmitter \ NativeEventEmitter . js \n - export default class NativeEventEmitter extends EventEmitter { \n + export default class NativeEventEmitter < \n + _ GenericArgumentPlaceholder , \n + > extends EventEmitter { \n Libraries \ Linking \ Linking . js \n - class Linking extends NativeEventEmitter { \n + class Linking extends NativeEventEmitter < $ FlowFixMe > { \n Libraries \ Modal \ Modal . js \n - ? new NativeEventEmitter ( NativeModalManager ) \n + ? new NativeEventEmitter < $ FlowFixMe > ( NativeModalManager ) \n Libraries \ Network \ RCTNetworking . android . js \n - class RCTNetworking extends NativeEventEmitter { \n + class RCTNetworking extends NativeEventEmitter < $ FlowFixMe > { \n Libraries \ Network \ RCTNetworking . ios . js \n - class RCTNetworking extends NativeEventEmitter { \n + class RCTNetworking extends NativeEventEmitter < $ FlowFixMe > { \n Libraries \ PushNotificationIOS \ PushNotificationIOS . js \n - const PushNotificationEmitter = new NativeEventEmitter ( \n + const PushNotificationEmitter = new NativeEventEmitter < $ FlowFixMe > ( \n Libraries \ Utilities \ Appearance . js \n - const nativeEventEmitter = new NativeEventEmitter ( NativeAppearance ) ; \n + const nativeEventEmitter = new NativeEventEmitter < $ FlowFixMe > ( \n + NativeAppearance , \n + ) ; \n Libraries \ Utilities \ DevSettings . js \n - class DevSettings extends NativeEventEmitter implements IDevSettings { \n + class DevSettings extends NativeEventEmitter < $ FlowFixMe > \n + implements IDevSettings { \n Libraries \ WebSocket \ WebSocket . js \n - _ eventEmitter : NativeEventEmitter ; \n + _ eventEmitter : NativeEventEmitter < $ FlowFixMe > ; \n
dropwizard - logging \ src \ test \ java \ io \ dropwizard \ logging \ TcpServer . java \n - \n - import java . net . SocketException ; \n + import static org . junit . jupiter . api . Assertions . fail ; \n - } catch ( SocketException e ) { \n - break ; \n - e . printStackTrace ( ) ; \n + fail ( " Error setting up logging server " , e ) ; \n - ServerSocket getServerSocket ( ) { \n - return serverSocket ; \n - } \n - \n - e . printStackTrace ( ) ; \n + fail ( " Error reading logs " , e ) ; \n dropwizard - logging \ src \ test \ java \ io \ dropwizard \ logging \ TcpSocketAppenderFactoryTest . java \n - private TcpServer tcpServer = new TcpServer ( createServerSocket ( ) ) ; \n - private ObjectMapper objectMapper = Jackson . newObjectMapper ( ) ; \n - private YamlConfigurationFactory < DefaultLoggingFactory > yamlConfigurationFactory = new YamlConfigurationFactory < > ( \n + private final TcpServer tcpServer = new TcpServer ( createServerSocket ( ) ) ; \n + private final ObjectMapper objectMapper = Jackson . newObjectMapper ( ) ; \n + private final YamlConfigurationFactory < DefaultLoggingFactory > yamlConfigurationFactory = new YamlConfigurationFactory < > ( \n dropwizard - logging \ src \ test \ java \ io \ dropwizard \ logging \ UdpSocketAppenderFactoryTest . java \n - import java . net . SocketException ; \n + import static org . junit . jupiter . api . Assertions . fail ; \n - private int messagesCount = 100 ; \n - private CountDownLatch countDownLatch = new CountDownLatch ( messagesCount ) ; \n + private final int messagesCount = 100 ; \n + private final CountDownLatch countDownLatch = new CountDownLatch ( messagesCount ) ; \n - } catch ( SocketException e ) { \n - break ; \n - e . printStackTrace ( ) ; \n + fail ( " Error reading logs " , e ) ; \n
dropwizard - core \ src \ test \ java \ io \ dropwizard \ server \ DefaultServerFactoryTest . java \n - void defaultsDetailedJsonProcessingExceptionToFalse ( ) throws Exception { \n + void defaultsDetailedJsonProcessingExceptionToFalse ( ) { \n - . hasOnlyOneElementSatisfying ( x - > \n - assertThat ( ( ( ExceptionMapperBinder ) x ) . isShowDetails ( ) ) . isFalse ( ) ) ; \n + . map ( x - > ( ExceptionMapperBinder ) x ) \n + . singleElement ( ) \n + . satisfies ( x - > assertThat ( x . isShowDetails ( ) ) . isFalse ( ) ) ; \n - void doesNotDefaultDetailedJsonProcessingExceptionToFalse ( ) throws Exception { \n + void doesNotDefaultDetailedJsonProcessingExceptionToFalse ( ) { \n - . hasOnlyOneElementSatisfying ( x - > \n - assertThat ( ( ( ExceptionMapperBinder ) x ) . isShowDetails ( ) ) . isTrue ( ) ) ; \n + . map ( x - > ( ExceptionMapperBinder ) x ) \n + . singleElement ( ) \n + . satisfies ( x - > assertThat ( x . isShowDetails ( ) ) . isTrue ( ) ) ; \n
dropwizard - core \ src \ main \ java \ io \ dropwizard \ server \ AbstractServerFactory . java \n - . collect ( Collectors . joining ( String . format ( " % n " ) ) ) ; \n + . collect ( Collectors . joining ( System . lineSeparator ( ) ) ) ; \n
x - pack \ plugin \ async - search \ qa \ rest \ build . gradle \n - name ' test - deprecated - query ' \n + name ' x - pack - test - deprecated - query ' \n
qa \ evil - tests \ src \ test \ java \ org \ elasticsearch \ bootstrap \ PolicyUtilTests . java \n + / / TODO : move this back to module test permissions , see https : / / github . com / elastic / elasticsearch / issues / 69464 \n + " java . io . FilePermission / foo / bar read " , \n + \n - " java . io . FilePermission / foo / bar read " , \n server \ src \ main \ java \ org \ elasticsearch \ bootstrap \ PolicyUtil . java \n + / / TODO : remove read permission , see https : / / github . com / elastic / elasticsearch / issues / 69464 \n + createFilePermission ( " < < ALL FILES > > " , " read " ) , \n + \n
deleted file \n x - pack \ plugin \ rollup \ src \ main \ plugin - metadata \ plugin - security . policy \n
core \ tests \ overlaytests \ device \ Android . bp \n - certificate : " platform " , \n - static _ libs : [ \n - " androidx . test . rules " , \n - " testng " , \n - ] , \n + static _ libs : [ " androidx . test . rules " ] , \n core \ tests \ overlaytests \ device \ AndroidManifest . xml \n - < uses - permission android : name = " android . permission . CHANGE _ OVERLAY _ PACKAGES " / > \n - \n core \ tests \ overlaytests \ device \ AndroidTest . xml \n - < target _ preparer class = " com . android . compatibility . common . tradefed . targetprep . FilePusher " > \n - < option name = " cleanup " value = " true " / > \n - < option name = " remount - system " value = " true " / > \n - < option name = " push " value = " OverlayDeviceTests . apk - > / system / app / OverlayDeviceTests . apk " / > \n - < / target _ preparer > \n - \n - < ! - - Reboot to have the test APK scanned by PM and reboot after to remove the test APK . - - > \n - < target _ preparer class = " com . android . tradefed . targetprep . RebootTargetPreparer " > \n - < option name = " pre - reboot " value = " true " / > \n - < option name = " post - reboot " value = " true " / > \n - < / target _ preparer > \n - \n + < option name = " test - file - name " value = " OverlayDeviceTests . apk " / > \n core \ tests \ overlaytests \ device \ test - apps \ AppOverlayOne \ Android . bp \n - certificate : " platform " , \n + \n core \ tests \ overlaytests \ device \ test - apps \ AppOverlayTwo \ Android . bp \n - certificate : " platform " , \n + \n
deleted file \n core \ tests \ overlaytests \ device \ TEST _ MAPPING \n - { \n - " presubmit " : [ \n - { \n - " name " : " OverlayDeviceTests " \n - } \n - ] \n - } \n
services \ core \ java \ com \ android \ server \ om \ OverlayManagerService . java \n - import android . os . HandlerThread ; \n + import com . android . server . IoThread ; \n + import java . util . concurrent . atomic . AtomicBoolean ; \n + private final AtomicBoolean mPersistSettingsScheduled = new AtomicBoolean ( false ) ; \n + \n - HandlerThread packageReceiverThread = new HandlerThread ( TAG ) ; \n - packageReceiverThread . start ( ) ; \n - \n - packageFilter , null , packageReceiverThread . getThreadHandler ( ) ) ; \n + packageFilter , null , null ) ; \n - persistSettings ( ) ; \n + schedulePersistSettings ( ) ; \n - persistSettings ( ) ; \n + schedulePersistSettings ( ) ; \n - private void persistSettings ( ) { \n - if ( DEBUG ) { \n - Slog . d ( TAG , " Writing overlay settings " ) ; \n + private void schedulePersistSettings ( ) { \n + if ( mPersistSettingsScheduled . getAndSet ( true ) ) { \n + return ; \n - synchronized ( mLock ) { \n - FileOutputStream stream = null ; \n - try { \n - stream = mSettingsFile . startWrite ( ) ; \n - mSettings . persist ( stream ) ; \n - mSettingsFile . finishWrite ( stream ) ; \n - } catch ( IOException | XmlPullParserException e ) { \n - mSettingsFile . failWrite ( stream ) ; \n - Slog . e ( TAG , " failed to persist overlay state " , e ) ; \n + IoThread . getHandler ( ) . post ( ( ) - > { \n + mPersistSettingsScheduled . set ( false ) ; \n + if ( DEBUG ) { \n + Slog . d ( TAG , " Writing overlay settings " ) ; \n - } \n + synchronized ( mLock ) { \n + FileOutputStream stream = null ; \n + try { \n + stream = mSettingsFile . startWrite ( ) ; \n + mSettings . persist ( stream ) ; \n + mSettingsFile . finishWrite ( stream ) ; \n + } catch ( IOException | XmlPullParserException e ) { \n + mSettingsFile . failWrite ( stream ) ; \n + Slog . e ( TAG , " failed to persist overlay state " , e ) ; \n + } \n + } \n + } ) ; \n
extensions \ gdx - tools \ src \ com \ badlogic \ gdx \ tools \ flame \ FlameMain . java \n - String atlasFilename ; \n + TextureAtlas textureAtlas ; \n - public void setAtlas ( TextureAtlas atlas , String atlasFilename ) { \n - this . atlasFilename = atlasFilename ; \n - / / currentAtlas = atlas ; \n + public void setAtlas ( TextureAtlas atlas ) { \n + this . textureAtlas = atlas ; \n - public String getAtlasFilename ( ) { \n - return atlasFilename ; \n - } \n + public String getAtlasFilename ( ) { \n + if ( textureAtlas = = null ) { \n + return null ; \n + } \n + return assetManager . getAssetFileName ( textureAtlas ) ; \n + } \n extensions \ gdx - tools \ src \ com \ badlogic \ gdx \ tools \ flame \ RegionInfluencerPanel . java \n - value . add ( atlasName , ( TextureRegion [ ] ) regions . toArray ( TextureRegion . class ) ) ; \n + value . setAtlasName ( atlasName ) ; \n + value . add ( ( TextureRegion [ ] ) regions . toArray ( TextureRegion . class ) ) ; \n extensions \ gdx - tools \ src \ com \ badlogic \ gdx \ tools \ flame \ TextureLoaderPanel . java \n - editor . setAtlas ( atlas , file . getAbsolutePath ( ) ) ; \n + editor . setAtlas ( atlas ) ; \n
gdx \ src \ com \ badlogic \ gdx \ graphics \ g3d \ particles \ influencers \ RegionInfluencer . java \n + setAtlasName ( null ) ; \n - String atlasName = null ; \n - add ( atlasName , regions ) ; \n + add ( regions ) ; \n - \n - public void add ( String atlasName , TextureRegion . . . regions ) { \n + public void setAtlasName ( String atlasName ) { \n + } \n + public void add ( TextureRegion . . . regions ) { \n + atlasName = null ; \n - \n + private final static String ASSET _ DATA = " atlasAssetData " ; \n - SaveData data = resources . getSaveData ( " atlasAssetData " ) ; \n + SaveData data = resources . getSaveData ( ASSET _ DATA ) ; \n - SaveData data = resources . getSaveData ( " atlasAssetData " ) ; \n + SaveData data = resources . getSaveData ( ASSET _ DATA ) ; \n - data = resources . createSaveData ( " atlasAssetData " ) ; \n + data = resources . createSaveData ( ASSET _ DATA ) ; \n
gdx \ src \ com \ badlogic \ gdx \ graphics \ g3d \ particles \ influencers \ RegionInfluencer . java \n + super . load ( manager , resources ) ; \n - super . load ( manager , resources ) ; \n + super . save ( manager , resources ) ; \n - super . save ( manager , resources ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ operator \ aggregation \ GenericAccumulatorFactory . java \n + rawInputs . set ( i , null ) ; \n + \n + / / We only call evaluateIntermediate when it is time to spill . We never call evaluate intermediate twice for the same groupId . \n + / / This means we can null our reference to the groupId ' s corresponding blockBuilder to reduce memory usage \n + blockBuilders . set ( groupId , null ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ TaskThresholdMemoryRevokingScheduler . java \n - config . getMaxRevocableMemoryPerTask ( ) ) ; \n + requireNonNull ( config . getMaxRevocableMemoryPerTask ( ) , " maxRevocableMemoryPerTask cannot be null " ) . toBytes ( ) ) ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ analyzer \ FeaturesConfig . java \n + import static io . airlift . units . DataSize . Unit . MEGABYTE ; \n - private long maxRevocableMemoryPerTask = 500000L ; \n + private DataSize maxRevocableMemoryPerTask = new DataSize ( 500 , MEGABYTE ) ; \n - public long getMaxRevocableMemoryPerTask ( ) \n + public DataSize getMaxRevocableMemoryPerTask ( ) \n - public FeaturesConfig setMaxRevocableMemoryPerTask ( long maxRevocableMemoryPerTask ) \n + public FeaturesConfig setMaxRevocableMemoryPerTask ( DataSize maxRevocableMemoryPerTask ) \n presto - main \ src \ test \ java \ com \ facebook \ presto \ sql \ analyzer \ TestFeaturesConfig . java \n - . setMaxRevocableMemoryPerTask ( 500000L ) \n + . setMaxRevocableMemoryPerTask ( new DataSize ( 500 , MEGABYTE ) ) \n - . put ( " experimental . spiller . max - revocable - task - memory " , " 100000 " ) \n + . put ( " experimental . spiller . max - revocable - task - memory " , " 1GB " ) \n - . setMaxRevocableMemoryPerTask ( 100000L ) \n + . setMaxRevocableMemoryPerTask ( new DataSize ( 1 , GIGABYTE ) ) \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ server \ PluginManager . java \n + import com . google . common . collect . ImmutableSet ; \n + private final ImmutableSet < String > disabledConnectors ; \n + this . disabledConnectors = requireNonNull ( config . getDisabledConnectors ( ) , " disabledConnectors is null " ) ; \n + if ( disabledConnectors . contains ( connectorFactory . getName ( ) ) ) { \n + log . info ( " Skipping disabled connector % s " , connectorFactory . getName ( ) ) ; \n + continue ; \n + } \n presto - main \ src \ main \ java \ com \ facebook \ presto \ server \ PluginManagerConfig . java \n + import com . facebook . airlift . configuration . ConfigDescription ; \n + import com . google . common . collect . ImmutableSet ; \n + private ImmutableSet < String > disabledConnectors = ImmutableSet . of ( ) ; \n + \n + @ NotNull \n + public ImmutableSet < String > getDisabledConnectors ( ) \n + { \n + return this . disabledConnectors ; \n + } \n + \n + @ Config ( " plugin . disabled - connectors " ) \n + @ ConfigDescription ( " Disabled connectors are not registered by PluginManager " ) \n + public PluginManagerConfig setDisabledConnectors ( String disabledConnectors ) \n + { \n + this . disabledConnectors = ImmutableSet . copyOf ( Splitter . on ( ' , ' ) . omitEmptyStrings ( ) . trimResults ( ) . split ( disabledConnectors ) ) ; \n + return this ; \n + } \n presto - main \ src \ test \ java \ com \ facebook \ presto \ server \ TestPluginManagerConfig . java \n + . setDisabledConnectors ( " " ) \n + . put ( " plugin . disabled - connectors " , " scuba , prism " ) \n + . setDisabledConnectors ( " scuba , prism " ) \n
spring - core \ src \ test \ java \ org \ springframework \ core \ convert \ converter \ DefaultConversionServiceTests . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - import org . springframework . core . testfixture . EnabledForTestGroups ; \n - import org . springframework . util . StopWatch ; \n - import static org . springframework . core . testfixture . TestGroup . PERFORMANCE ; \n - @ Test \n - @ EnabledForTestGroups ( PERFORMANCE ) \n - void testPerformance1 ( ) { \n - StopWatch watch = new StopWatch ( " integer - > string conversionPerformance " ) ; \n - watch . start ( " convert 4 , 000 , 000 with conversion service " ) ; \n - for ( int i = 0 ; i < 4000000 ; i + + ) { \n - conversionService . convert ( 3 , String . class ) ; \n - } \n - watch . stop ( ) ; \n - watch . start ( " convert 4 , 000 , 000 manually " ) ; \n - for ( int i = 0 ; i < 4000000 ; i + + ) { \n - Integer . valueOf ( 3 ) . toString ( ) ; \n - } \n - watch . stop ( ) ; \n - / / System . out . println ( watch . prettyPrint ( ) ) ; \n - } \n - \n
gradle \ custom - java - home . gradle \n - def javacExecutable = customJavaHome + " / bin / javac " \n - def javaExecutable = customJavaHome + " / bin / java " \n - if ( OperatingSystem . current ( ) . isWindows ( ) ) { \n - javacExecutable + = " . exe " \n - javaExecutable + = " . exe " \n - } \n - \n + def customJavaHomeDir = new File ( customJavaHome ) \n - logger . info ( " Java compiler for " + it . name + " task in " + project . name + " : " + javacExecutable ) \n - doFirst { \n - / / Avoid compiler warnings for non - existing path entries \n - classpath = classpath . filter { it . exists ( ) } \n - } \n - options . fork = true \n - options . forkOptions . executable = javacExecutable \n - / / Ignore warnings about missing classpath elements - - for example , those picked up \n - / / via Class - Path entries in MANIFEST . MF files in artifacts like xalan - 2 . 7 . 2 . jar . \n - options . compilerArgs - = " - Xlint : path " \n + logger . info ( " Java home for " + it . name + " task in " + project . name + " : " + customJavaHomeDir ) \n + options . forkOptions . javaHome = customJavaHomeDir \n + inputs . property ( " customJavaHome " , customJavaHome ) \n - inputs . property ( " customJavaHome " , customJavaHome ) \n - logger . info ( " Java compiler for " + it . name + " task in " + project . name + " : " + javacExecutable ) \n - options . fork = true \n - options . forkOptions . executable = javacExecutable \n + logger . info ( " Java home for " + it . name + " task in " + project . name + " : " + customJavaHomeDir ) \n + options . forkOptions . executable = customJavaHomeDir \n + inputs . property ( " customJavaHome " , customJavaHome ) \n - inputs . property ( " customJavaHome " , customJavaHome ) \n - kotlinOptions . jdkHome = customJavaHome \n + kotlinOptions . jdkHome = customJavaHomeDir \n + def javaExecutable = customJavaHome + " / bin / java " \n + if ( OperatingSystem . current ( ) . isWindows ( ) ) { \n + javaExecutable + = " . exe " \n + } \n
gradle \ custom - java - home . gradle \n - options . forkOptions . executable = customJavaHomeDir \n + options . forkOptions . javaHome = customJavaHomeDir \n
gradle \ ide . gradle \n - / / Ensure that test fixture dependencies are handled properly in Gradle 6 . 7 . \n - / / Bug fixed in Gradle 6 . 8 : https : / / github . com / gradle / gradle / issues / 14932 \n - eclipse . classpath . file . whenMerged { \n - entries . findAll { it instanceof ProjectDependency } . each { \n - it . entryAttributes . remove ( ' without _ test _ code ' ) \n - } \n - } \n - \n gradle \ wrapper \ gradle - wrapper . properties \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 6 . 7 . 1 - bin . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 6 . 8 - bin . zip \n
build . gradle \n - id " me . champeau . gradle . jmh " version " 0 . 5 . 0 " apply false \n + id " me . champeau . gradle . jmh " version " 0 . 5 . 2 " apply false \n
build . gradle \n + id " com . github . johnrengelman . shadow " version " 6 . 1 . 0 " apply false \n spring - core \ spring - core . gradle \n - plugins { \n - id " com . github . johnrengelman . shadow " version " 5 . 2 . 0 " \n - } \n - \n - / / cglib itself depends on asm and is therefore further transformed by the JarJar task to \n + / / cglib itself depends on asm and is therefore further transformed by the ShadowJar task to \n
library \ src \ main \ java \ com \ bumptech \ glide \ Glide . java \n - if ( ! result . mkdirs ( ) & & ( ! result . exists ( ) | | ! result . isDirectory ( ) ) ) { \n - / / File wasn ' t able to create a directory , or the result exists but not a directory \n - return null ; \n + if ( result . isDirectory ( ) | | result . mkdirs ( ) ) { \n + return result ; \n - return result ; \n + / / File wasn ' t able to create a directory , or the result exists but not a directory \n + return null ; \n library \ src \ main \ java \ com \ bumptech \ glide \ load \ engine \ cache \ DiskLruCacheFactory . java \n - if ( ! cacheDir . mkdirs ( ) & & ( ! cacheDir . exists ( ) | | ! cacheDir . isDirectory ( ) ) ) { \n - return null ; \n + if ( cacheDir . isDirectory ( ) | | cacheDir . mkdirs ( ) ) { \n + return DiskLruCacheWrapper . create ( cacheDir , diskCacheSize ) ; \n - return DiskLruCacheWrapper . create ( cacheDir , diskCacheSize ) ; \n + return null ; \n third _ party \ disklrucache \ src \ main \ java \ com \ bumptech \ glide \ disklrucache \ DiskLruCache . java \n - if ( ! directory . exists ( ) ) { \n - directory . mkdirs ( ) ; \n - } \n + directory . mkdirs ( ) ; \n
README . md \n - implementation ' com . github . bumptech . glide : glide : 4 . 11 . 0 ' \n - annotationProcessor ' com . github . bumptech . glide : compiler : 4 . 11 . 0 ' \n + implementation ' com . github . bumptech . glide : glide : 4 . 12 . 0 ' \n + annotationProcessor ' com . github . bumptech . glide : compiler : 4 . 12 . 0 ' \n - < version > 4 . 11 . 0 < / version > \n + < version > 4 . 12 . 0 < / version > \n - < version > 4 . 11 . 0 < / version > \n + < version > 4 . 12 . 0 < / version > \n gradle . properties \n - VERSION _ NAME = 4 . 12 . 0 - SNAPSHOT \n + VERSION _ NAME = 4 . 12 . 0 \n
library \ test \ src \ test \ java \ com \ bumptech \ glide \ load \ resource \ bitmap \ DrawableTransformationTest . java \n + import androidx . test . core . app . ApplicationProvider ; \n - import org . robolectric . RuntimeEnvironment ; \n - context = RuntimeEnvironment . application ; \n + context = ApplicationProvider . getApplicationContext ( ) ; \n
library \ src \ com \ bumptech \ glide \ resize \ ImageManager . java \n - private final Bitmap . CompressFormat bitmapCompressFormat ; \n + @ Deprecated \n + \n + * < p > \n + * Note - this call will now be ignored , ARGB _ 8888 bitmaps will be saved as PNGs , and all other formats \n + * will be saved as jpegs . \n + * < / p > \n + * \n + @ Deprecated \n + * < Note > \n + * This will only apply to bitmaps saved to the disk cache as JPEGs ( bitmaps with the RGB _ 565 config ) \n + * < / Note > \n + * \n - bitmapCompressFormat = builder . bitmapCompressFormat ; \n library \ src \ com \ bumptech \ glide \ resize \ load \ ImageResizer . java \n + @ Deprecated \n + @ Deprecated \n
library \ src \ com \ bumptech \ glide \ Glide . java \n - import java . lang . ref . WeakReference ; \n - private final WeakHashMap < ImageView , WeakReference < ImageViewTarget > > imageViewToTarget = \n - new WeakHashMap < ImageView , WeakReference < ImageViewTarget > > ( ) ; \n - final WeakReference < ImageViewTarget > ref = imageViewToTarget . get ( imageView ) ; \n - return ref ! = null ? ref . get ( ) : null ; \n + Object tag = imageView . getTag ( ) ; \n + final ImageViewTarget result ; \n + if ( tag ! = null & & tag instanceof ImageViewTarget ) { \n + result = ( ImageViewTarget ) tag ; \n + } else { \n + result = null ; \n + } \n + return result ; \n - imageViewToTarget . put ( imageView , new WeakReference < ImageViewTarget > ( result ) ) ; \n + imageView . setTag ( result ) ; \n library \ src \ com \ bumptech \ glide \ presenter \ target \ ImageViewTarget . java \n + private ImagePresenter imagePresenter ; \n - imageView . setTag ( imagePresenter ) ; \n + this . imagePresenter = imagePresenter ; \n - Object tag = imageView . getTag ( ) ; \n - ImagePresenter result = null ; \n - if ( tag instanceof ImagePresenter ) { \n - result = ( ImagePresenter ) tag ; \n - } \n - return result ; \n + return imagePresenter ; \n library \ tests \ src \ com \ bumptech \ glide \ GlideTest . java \n + import com . bumptech . glide . presenter . target . ImageViewTarget ; \n - return ( ImagePresenter ) imageView . getTag ( ) ; \n + return ( ( ImageViewTarget ) imageView . getTag ( ) ) . getImagePresenter ( ) ; \n
library \ src \ com \ bumptech \ glide \ presenter \ ImagePresenter . java \n + private boolean isErrorSet = false ; \n + \n + isErrorSet = false ; \n - if ( ! isImageSet ) { \n + if ( ! isImageSet & & ! isErrorSet ) { \n + isErrorSet = false ; \n + isErrorSet = true ; \n library \ tests \ src \ com \ bumptech \ glide \ ImagePresenterTest . java \n + import android . graphics . drawable . Drawable ; \n + import com . bumptech . glide . loader . image . ImageLoader ; \n + import com . bumptech . glide . loader . image . ImageManagerLoader ; \n + import com . bumptech . glide . loader . model . ModelLoader ; \n + import com . bumptech . glide . loader . stream . StreamLoader ; \n + import com . bumptech . glide . resize . load . Transformation ; \n + \n + public void testErrorPlaceholderIsSetOnException ( ) { \n + Drawable errorDrawable = new ColorDrawable ( Color . RED ) ; \n + ImagePresenter < Object > imagePresenter = new ImagePresenter . Builder < Object > ( ) \n + . setImageView ( imageView ) \n + . setModelLoader ( new ModelLoader < Object > ( ) { \n + @ Override \n + public StreamLoader getStreamLoader ( Object model , int width , int height ) { \n + return new StreamLoader ( ) { \n + @ Override \n + public void loadStream ( StreamReadyCallback cb ) { \n + } \n + \n + @ Override \n + public void cancel ( ) { \n + } \n + } ; \n + } \n + \n + @ Override \n + public String getId ( Object model ) { \n + return model . toString ( ) ; \n + } \n + } ) \n + . setImageLoader ( new ImageLoader ( ) { \n + @ Override \n + public Object fetchImage ( String id , StreamLoader streamLoader , Transformation transformation , int width , int height , ImageReadyCallback cb ) { \n + cb . onException ( new Exception ( " Test " ) ) ; \n + return null ; \n + } \n + \n + @ Override \n + public void clear ( ) { } \n + } ) \n + . setErrorDrawable ( errorDrawable ) \n + . build ( ) ; \n + \n + assertNull ( imageView . getDrawable ( ) ) ; \n + imagePresenter . setModel ( new Object ( ) ) ; \n + assertEquals ( errorDrawable , imageView . getDrawable ( ) ) ; \n + } \n
src \ main \ java \ io \ vertx \ core \ net \ impl \ VertxSniHandler . java \n - import io . netty . handler . ssl . SslContext ; \n - import io . netty . handler . ssl . SslHandler ; \n - import io . netty . util . ReferenceCountUtil ; \n - import javax . net . ssl . SSLEngine ; \n - \n - \n - @ Override \n - protected void replaceHandler ( ChannelHandlerContext ctx , String hostname , SslContext sslContext ) throws Exception { \n - SslHandler sslHandler = null ; \n - try { \n - SSLEngine engine = helper . createEngine ( sslContext ) ; \n - sslHandler = new SslHandler ( engine ) ; \n - ctx . pipeline ( ) . replace ( this , " ssl " , sslHandler ) ; \n - Future < Channel > fut = sslHandler . handshakeFuture ( ) ; \n - fut . addListener ( future - > { \n - if ( future . isSuccess ( ) ) { \n - Attribute < String > val = ctx . channel ( ) . attr ( SERVER _ NAME _ ATTR ) ; \n - val . set ( hostname ) ; \n - handshakeFuture . setSuccess ( ctx . channel ( ) ) ; \n - } else { \n - handshakeFuture . setFailure ( future . cause ( ) ) ; \n - } \n - } ) ; \n - sslHandler = null ; \n - } finally { \n - / / Since the SslHandler was not inserted into the pipeline the ownership of the SSLEngine was not \n - / / transferred to the SslHandler . \n - / / See https : / / github . com / netty / netty / issues / 5678 \n - if ( sslHandler ! = null ) { \n - ReferenceCountUtil . safeRelease ( sslHandler . engine ( ) ) ; \n - } \n - } \n - } \n
src \ main \ java \ io \ vertx \ core \ shareddata \ impl \ LocalMapImpl . java \n - checkType ( output ) ; \n + \n + / / if output is null then user want to remove a given key . See : https : / / github . com / vert - x3 / issues / issues / 313 \n + if ( output ! = null ) { \n + checkType ( output ) ; \n + } \n + \n - checkType ( output ) ; \n + \n + / / if output is null then user want to remove a given key . See : https : / / github . com / vert - x3 / issues / issues / 313 \n + if ( output ! = null ) { \n + checkType ( output ) ; \n + } \n + \n - checkType ( output ) ; \n + \n + / / if output is null then user want to remove a given key . See : https : / / github . com / vert - x3 / issues / issues / 313 \n + if ( output ! = null ) { \n + checkType ( output ) ; \n + } \n + \n - checkType ( output ) ; \n + \n + / / if output is null then user want to remove a given key . See : https : / / github . com / vert - x3 / issues / issues / 313 \n + if ( output ! = null ) { \n + checkType ( output ) ; \n + } \n + \n
src \ test \ java \ io \ vertx \ test \ core \ LocalSharedDataTest . java \n + @ Test \n + public void deleteElementOnComputeFunctionReturningNull ( ) { \n + LocalMap < String , String > map = sharedData . getLocalMap ( " foo " ) ; \n + \n + / / put an initial value \n + map . put ( " hello " , " world " ) ; \n + \n + / / retuning null we should remove the entry \n + map . computeIfPresent ( " hello " , ( key , oldValue ) - > null ) ; \n + assertNull ( map . get ( " hello " ) ) ; \n + \n + / / Same for LocalMap # compute and LocalMap # compute \n + map . compute ( " hello " , ( key , oldValue ) - > null ) ; \n + assertNull ( map . get ( " hello " ) ) ; \n + \n + / / put a value one more time \n + map . put ( " hello " , " world " ) ; \n + map . merge ( " hello " , " world ! ! ! ! ! ! " , ( key , oldValue ) - > null ) ; \n + assertNull ( map . get ( " hello " ) ) ; \n + \n + map . computeIfAbsent ( " hello " , key - > null ) ; \n + assertNull ( map . get ( " hello " ) ) ; \n + } \n + \n
ReactCommon \ react \ renderer \ core \ BatchedEventQueue . cpp \n - EventQueue : : onEnqueue ( ) ; \n - \n ReactCommon \ react \ renderer \ core \ EventQueue . cpp \n - void EventQueue : : onEnqueue ( ) const { \n - / / Default implementation does nothing . \n - } \n - \n ReactCommon \ react \ renderer \ core \ EventQueue . h \n - virtual void onEnqueue ( ) const ; \n + virtual void onEnqueue ( ) const = 0 ; \n ReactCommon \ react \ renderer \ core \ UnbatchedEventQueue . cpp \n - EventQueue : : onEnqueue ( ) ; \n - \n
React \ Fabric \ Mounting \ ComponentViews \ Image \ RCTImageComponentView . mm \n - _ imageView . contentMode = ( UIViewContentMode ) RCTResizeModeFromImageResizeMode ( defaultProps - > resizeMode ) ; \n + _ imageView . contentMode = RCTContentModeFromImageResizeMode ( defaultProps - > resizeMode ) ; \n - if ( newImageProps . resizeMode = = ImageResizeMode : : Repeat ) { \n - / / Repeat resize mode is handled by the UIImage . Use scale to fill \n - / / so the repeated image fills the UIImageView . \n - _ imageView . contentMode = UIViewContentModeScaleToFill ; \n - } else { \n - _ imageView . contentMode = ( UIViewContentMode ) RCTResizeModeFromImageResizeMode ( newImageProps . resizeMode ) ; \n - } \n + _ imageView . contentMode = RCTContentModeFromImageResizeMode ( newImageProps . resizeMode ) ; \n ReactCommon \ react \ renderer \ imagemanager \ platform \ ios \ RCTImagePrimitivesConversions . h \n - inline static RCTResizeMode RCTResizeModeFromImageResizeMode ( ImageResizeMode imageResizeMode ) \n + inline static UIViewContentMode RCTContentModeFromImageResizeMode ( ImageResizeMode imageResizeMode ) \n - return RCTResizeModeCover ; \n + return UIViewContentModeScaleAspectFill ; \n - return RCTResizeModeContain ; \n + return UIViewContentModeScaleAspectFit ; \n - return RCTResizeModeStretch ; \n + return UIViewContentModeScaleToFill ; \n - return RCTResizeModeCenter ; \n + return UIViewContentModeCenter ; \n - return RCTResizeModeRepeat ; \n + / / Repeat resize mode is handled by the UIImage . Use scale to fill \n + / / so the repeated image fills the UIImageView . \n + return UIViewContentModeScaleToFill ; \n
Libraries \ Components \ ScrollView \ ScrollViewStickyHeader . js \n - / / eslint - disable - next - line dot - notation \n - this . _ ref & & this . _ ref . _ internalInstanceHandle ? . stateNode ? . canonical \n + / / An internal transform mangles variables with leading " _ " as private . \n + / / eslint - disable - next - line dot - notation \n + ( this . _ ref & & this . _ ref [ ' _ internalInstanceHandle ' ] ? . stateNode ? . canonical ) \n
core \ api \ system - current . txt \n + method @ NonNull @ RequiresPermission ( android . Manifest . permission . READ _ PRIVILEGED _ PHONE _ STATE ) public java . util . List < android . telephony . RadioAccessSpecifier > getSystemSelectionChannels ( ) ; \n telephony \ java \ android \ telephony \ TelephonyManager . java \n + / * * \n + * Get which bands the modem ' s background scan is acting on , specified by \n + * { @ link # setSystemSelectionChannels } . \n + * \n + * < p > Requires Permission : \n + * { @ link android . Manifest . permission # READ _ PRIVILEGED _ PHONE _ STATE READ _ PRIVILEGED _ PHONE _ STATE } \n + * or that the calling app has carrier privileges ( see { @ link # hasCarrierPrivileges } ) . \n + * \n + * @ return a list of { @ link RadioAccessSpecifier } , or an empty list if no bands are specified . \n + * @ throws IllegalStateException if the Telephony process is not currently available . \n + * \n + * @ hide \n + * / \n + @ SystemApi \n + @ RequiresPermission ( Manifest . permission . READ _ PRIVILEGED _ PHONE _ STATE ) \n + public @ NonNull List < RadioAccessSpecifier > getSystemSelectionChannels ( ) { \n + try { \n + ITelephony service = getITelephony ( ) ; \n + if ( service ! = null ) { \n + return service . getSystemSelectionChannels ( getSubId ( ) ) ; \n + } else { \n + throw new IllegalStateException ( " telephony service is null . " ) ; \n + } \n + } catch ( RemoteException ex ) { \n + if ( ! isSystemProcess ( ) ) { \n + ex . rethrowAsRuntimeException ( ) ; \n + } \n + } \n + return new ArrayList < > ( ) ; \n + } \n + \n telephony \ java \ com \ android \ internal \ telephony \ ITelephony . aidl \n + List < RadioAccessSpecifier > getSystemSelectionChannels ( int subId ) ; \n + \n telephony \ java \ com \ android \ internal \ telephony \ RILConstants . java \n + int RIL _ REQUEST _ GET _ SYSTEM _ SELECTION _ CHANNELS = 219 ; \n
core \ java \ android \ net \ ConnectivityManager . java \n - * Set sign in error notification to visible or in visible \n + * Set sign in error notification to visible or invisible \n - * { @ hide } \n + * @ hide \n services \ core \ java \ com \ android \ server \ connectivity \ NetworkNotificationManager . java \n - Intent intent = new Intent ( action ) ; \n + / / For legacy purposes , action is sent as the action + the phone ID from DcTracker . \n + / / Split the string here and send the phone ID as an extra instead . \n + String [ ] splitAction = action . split ( " : " ) ; \n + Intent intent = new Intent ( splitAction [ 0 ] ) ; \n + try { \n + intent . putExtra ( " provision . phone . id " , Integer . parseInt ( splitAction [ 1 ] ) ) ; \n + } catch ( NumberFormatException ignored ) { } \n
telephony \ java \ android \ telephony \ CarrierConfigManager . java \n + / * * \n + * The combined channel bandwidth threshold ( non - inclusive ) in KHz required to display the \n + * LTE + data icon . It is 20000 by default , meaning the LTE + icon will be shown if the device is \n + * using carrier aggregation and the combined channel bandwidth is strictly greater than 20 MHz . \n + * @ hide \n + * / \n + public static final String KEY _ LTE _ PLUS _ THRESHOLD _ BANDWIDTH _ KHZ _ INT = \n + " lte _ plus _ threshold _ bandwidth _ khz _ int " ; \n + \n + sDefaults . putInt ( KEY _ LTE _ PLUS _ THRESHOLD _ BANDWIDTH _ KHZ _ INT , 20000 ) ; \n
spring - boot - project \ spring - boot - tools \ spring - boot - buildpack - platform \ src \ test \ java \ org \ springframework \ boot \ buildpack \ platform \ build \ DirectoryBuildpackTests . java \n - import org . junit . jupiter . api . condition . EnabledOnOs ; \n
spring - boot - project \ spring - boot - tools \ spring - boot - maven - plugin \ src \ docs \ asciidoc \ packaging - oci - image . adoc \n - < buildpacks > \n - < buildpack > file : / / / path / to / example - buildpack . tgz < / buildpack > \n - < buildpack > urn : cnb : builder : paketo - buildpacks / java < / buildpack > \n + < image > \n + < buildpacks > \n + < buildpack > file : / / / path / to / example - buildpack . tgz < / buildpack > \n + < buildpack > urn : cnb : builder : paketo - buildpacks / java < / buildpack > \n + < / buildpacks > \n - An OCI image : \n + An OCI image containing a https : / / buildpacks . io / docs / buildpack - author - guide / package - a - buildpack / [ packaged buildpack ] : \n
spring - boot - project \ spring - boot \ src \ main \ java \ org \ springframework \ boot \ env \ ConfigTreePropertySource . java \n + import java . nio . file . FileVisitOption ; \n - Files . find ( sourceDirectory , MAX _ DEPTH , PropertyFile : : isPropertyFile ) . forEach ( ( path ) - > { \n - String name = getName ( sourceDirectory . relativize ( path ) ) ; \n - if ( StringUtils . hasText ( name ) ) { \n - if ( options . contains ( Option . USE _ LOWERCASE _ NAMES ) ) { \n - name = name . toLowerCase ( ) ; \n - } \n - propertyFiles . put ( name , new PropertyFile ( path , options ) ) ; \n - } \n - } ) ; \n + Files . find ( sourceDirectory , MAX _ DEPTH , PropertyFile : : isPropertyFile , FileVisitOption . FOLLOW _ LINKS ) \n + . forEach ( ( path ) - > { \n + String name = getName ( sourceDirectory . relativize ( path ) ) ; \n + if ( StringUtils . hasText ( name ) ) { \n + if ( options . contains ( Option . USE _ LOWERCASE _ NAMES ) ) { \n + name = name . toLowerCase ( ) ; \n + } \n + propertyFiles . put ( name , new PropertyFile ( path , options ) ) ; \n + } \n + } ) ; \n spring - boot - project \ spring - boot \ src \ test \ java \ org \ springframework \ boot \ env \ ConfigTreePropertySourceTests . java \n + @ Test \n + void getPropertyNamesFromNestedWithSymlinkInPathReturnsPropertyNames ( ) throws Exception { \n + addNested ( ) ; \n + Path symlinkTempDir = Files . createSymbolicLink ( this . directory . resolveSibling ( " symlinkTempDir " ) , this . directory ) ; \n + ConfigTreePropertySource propertySource = new ConfigTreePropertySource ( " test " , symlinkTempDir ) ; \n + Files . delete ( symlinkTempDir ) ; \n + assertThat ( propertySource . getPropertyNames ( ) ) . containsExactly ( " c " , " fa . a " , " fa . b " , " fb . a " , " fb . fa . a " ) ; \n + } \n + \n
buffer \ src \ main \ java \ io \ netty \ buffer \ ByteBufUtil . java \n - THREAD _ LOCAL _ BUFFER _ SIZE = SystemPropertyUtil . getInt ( " io . netty . threadLocalDirectBufferSize " , 64 * 1024 ) ; \n + THREAD _ LOCAL _ BUFFER _ SIZE = SystemPropertyUtil . getInt ( " io . netty . threadLocalDirectBufferSize " , 0 ) ; \n
common \ src \ main \ java \ io \ netty \ util \ concurrent \ DefaultPromise . java \n - import io . netty . util . Signal ; \n - private static final Signal SUCCESS = Signal . valueOf ( DefaultPromise . class , " SUCCESS " ) ; \n - private static final Signal UNCANCELLABLE = Signal . valueOf ( DefaultPromise . class , " UNCANCELLABLE " ) ; \n + private static final Object SUCCESS = new Object ( ) ; \n + private static final Object UNCANCELLABLE = new Object ( ) ; \n common \ src \ test \ java \ io \ netty \ util \ concurrent \ DefaultPromiseTest . java \n + import io . netty . util . Signal ; \n + @ Test \n + public void signalUncancellableCompletionValue ( ) { \n + final Promise < Signal > promise = new DefaultPromise < Signal > ( ImmediateEventExecutor . INSTANCE ) ; \n + promise . setSuccess ( Signal . valueOf ( DefaultPromise . class , " UNCANCELLABLE " ) ) ; \n + assertTrue ( promise . isDone ( ) ) ; \n + assertTrue ( promise . isSuccess ( ) ) ; \n + } \n + \n + @ Test \n + public void signalSuccessCompletionValue ( ) { \n + final Promise < Signal > promise = new DefaultPromise < Signal > ( ImmediateEventExecutor . INSTANCE ) ; \n + promise . setSuccess ( Signal . valueOf ( DefaultPromise . class , " SUCCESS " ) ) ; \n + assertTrue ( promise . isDone ( ) ) ; \n + assertTrue ( promise . isSuccess ( ) ) ; \n + } \n + \n
common \ src \ main \ java \ io \ netty \ util \ AsciiString . java \n - final int len = offset + start + length - subCount ; \n + final int len = offset + length - subCount ; \n - for ( int i = offset + start + length - subCount ; i > = end ; - - i ) { \n + for ( int i = offset + length - subCount ; i > = end ; - - i ) { \n common \ src \ test \ java \ io \ netty \ util \ AsciiStringCharacterTest . java \n - import org . junit . Assert ; \n - Assert . assertEquals ( string , ascii . toString ( ) ) ; \n + assertEquals ( string , ascii . toString ( ) ) ; \n + assertEquals ( 3 , new AsciiString ( " 012345 " ) . indexOf ( " 345 " , 3 ) ) ; \n + assertEquals ( 3 , new AsciiString ( " 012345 " ) . indexOf ( " 345 " , 0 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . indexOf ( " 345 " , 4 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . indexOf ( " abc " , 3 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . indexOf ( " abc " , 0 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . indexOf ( " abcdefghi " , 0 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . indexOf ( " abcdefghi " , 4 ) ) ; \n + assertEquals ( 3 , new AsciiString ( " 012345 " ) . lastIndexOf ( " 345 " , 3 ) ) ; \n + assertEquals ( 3 , new AsciiString ( " 012345 " ) . lastIndexOf ( " 345 " , 0 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . lastIndexOf ( " 345 " , 4 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . lastIndexOf ( " abc " , 3 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . lastIndexOf ( " abc " , 0 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . lastIndexOf ( " abcdefghi " , 0 ) ) ; \n + assertEquals ( - 1 , new AsciiString ( " 012345 " ) . lastIndexOf ( " abcdefghi " , 4 ) ) ; \n
codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ DefaultHttp2ConnectionEncoder . java \n - frameWriter . writeSettingsAck ( ctx , aggregator ) ; \n + frameWriter . writeSettingsAck ( ctx , aggregator . newPromise ( ) ) ; \n
codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ Http2ConnectionHandler . java \n - / / if closeListener ! = null this means we have already initiated graceful closure . doGracefulShutdown will apply \n - / / the gracefulShutdownTimeoutMillis on each invocation , however we only care to apply the timeout on the \n - / / start of graceful shutdown . \n - if ( errorCode = = NO _ ERROR . code ( ) & & closeListener = = null ) { \n - doGracefulShutdown ( ctx , future , null ) ; \n - } \n codec - http2 \ src \ test \ java \ io \ netty \ handler \ codec \ http2 \ Http2FrameCodecTest . java \n - assertEquals ( State . CLOSED , stream . state ( ) ) ; \n - assertFalse ( channel . isActive ( ) ) ; \n + assertEquals ( State . OPEN , stream . state ( ) ) ; \n + assertTrue ( channel . isActive ( ) ) ; \n - assertEquals ( State . CLOSED , stream . state ( ) ) ; \n - assertFalse ( channel . isActive ( ) ) ; \n + assertEquals ( State . OPEN , stream . state ( ) ) ; \n + assertTrue ( channel . isActive ( ) ) ; \n
buffer \ src \ main \ java \ io \ netty \ buffer \ PoolChunk . java \n - private void removeAvailRun ( long handle ) { \n + private void removeAvailRun ( Long handle ) { \n - private void removeAvailRun ( PriorityQueue < Long > queue , long handle ) { \n + private void removeAvailRun ( PriorityQueue < Long > queue , Long handle ) { \n - long handle = queue . poll ( ) ; \n + Long handle = queue . poll ( ) ; \n - assert ! isUsed ( handle ) ; \n + assert handle ! = null & & ! isUsed ( handle ) ; \n
deleted file \n zxing . appspot . com \ src \ main \ webapp \ WEB - INF \ appengine - web . xml \n - < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > \n - < ! - - \n - Copyright ( C ) 2008 ZXing authors \n - \n - Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n - you may not use this file except in compliance with the License . \n - You may obtain a copy of the License at \n - \n - http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n - \n - Unless required by applicable law or agreed to in writing , software \n - distributed under the License is distributed on an " AS IS " BASIS , \n - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n - See the License for the specific language governing permissions and \n - limitations under the License . \n - - - > \n - < appengine - web - app xmlns = " http : / / appengine . google . com / ns / 1 . 0 " > \n - < application > zxing - hrd < / application > \n - < version > 13 < / version > \n - < / appengine - web - app > \n zxing . appspot . com \ src \ main \ webapp \ app . yaml \n - application : zxing - hrd \n - version : 13 \n
zxingorg \ src \ main \ java \ com \ google \ zxing \ web \ DoSFilter . java \n - @ WebFilter ( " / w / decode " ) \n + @ WebFilter ( { " / w / decode " , " / w / chart " } ) \n - private static final int MAX _ ACCESSES _ PER _ IP _ PER _ TIME = 10 ; \n + private static final int MAX _ ACCESSES _ PER _ IP _ PER _ TIME = 100 ; \n
zxingorg \ src \ main \ java \ com \ google \ zxing \ web \ DecodeServlet . java \n + BufferedImage image = null ; \n - BufferedImage image = ImageReader . readDataURIImage ( imageURI ) ; \n - processImage ( image , request , response ) ; \n + image = ImageReader . readDataURIImage ( imageURI ) ; \n + if ( image = = null ) { \n + errorResponse ( request , response , " badimage " ) ; \n + return ; \n + } \n + try { \n + processImage ( image , request , response ) ; \n + } finally { \n + image . flush ( ) ; \n + } \n - if ( image . getHeight ( ) < = 1 | | image . getWidth ( ) < = 1 | | \n - image . getHeight ( ) * image . getWidth ( ) > MAX _ PIXELS ) { \n - log . info ( " Dimensions out of bounds : " + image . getWidth ( ) + ' x ' + image . getHeight ( ) ) ; \n - errorResponse ( request , response , " badimage " ) ; \n - return ; \n + try { \n + int height = image . getHeight ( ) ; \n + int width = image . getWidth ( ) ; \n + if ( height < = 1 | | width < = 1 | | height * width > MAX _ PIXELS ) { \n + log . info ( " Dimensions out of bounds : " + width + ' x ' + height ) ; \n + errorResponse ( request , response , " badimage " ) ; \n + return ; \n + } \n + \n + processImage ( image , request , response ) ; \n + } finally { \n + image . flush ( ) ; \n - \n - processImage ( image , request , response ) ; \n zxingorg \ src \ main \ webapp \ . ebextensions \ server . xml \n - < Executor name = " tomcatThreadPool " namePrefix = " catalina - exec - " maxThreads = " 10 " minSpareThreads = " 2 " / > \n + < Executor name = " tomcatThreadPool " namePrefix = " catalina - exec - " maxThreads = " 4 " minSpareThreads = " 1 " / > \n - server = " Apache " compression = " 4096 " \n + server = " Apache " compression = " 8192 " \n - server = " Apache " compression = " 4096 " \n + server = " Apache " compression = " 8192 " \n
core \ pom . xml \n - < version > 3 . 4 . 1 - SNAPSHOT < / version > \n + < version > 3 . 4 . 1 < / version > \n - < version > 3 . 4 . 1 - SNAPSHOT < / version > \n + < version > 3 . 4 . 1 < / version > \n javase \ pom . xml \n - < version > 3 . 4 . 1 - SNAPSHOT < / version > \n + < version > 3 . 4 . 1 < / version > \n - < version > 3 . 4 . 1 - SNAPSHOT < / version > \n + < version > 3 . 4 . 1 < / version > \n pom . xml \n - < version > 3 . 4 . 1 - SNAPSHOT < / version > \n + < version > 3 . 4 . 1 < / version > \n - < zxing . version > 3 . 4 . 1 - SNAPSHOT < / zxing . version > \n + < zxing . version > 3 . 4 . 1 < / zxing . version > \n - < tag > HEAD < / tag > \n + < tag > zxing - 3 . 4 . 1 < / tag > \n zxing . appspot . com \ pom . xml \n - < version > 3 . 4 . 1 - SNAPSHOT < / version > \n + < version > 3 . 4 . 1 < / version > \n - < version > 3 . 4 . 1 - SNAPSHOT < / version > \n + < version > 3 . 4 . 1 < / version > \n zxingorg \ pom . xml \n - < version > 3 . 4 . 1 - SNAPSHOT < / version > \n + < version > 3 . 4 . 1 < / version > \n - < version > 3 . 4 . 1 - SNAPSHOT < / version > \n + < version > 3 . 4 . 1 < / version > \n
core \ pom . xml \n - < version > 3 . 4 . 1 < / version > \n + < version > 3 . 4 . 2 - SNAPSHOT < / version > \n - < version > 3 . 4 . 1 < / version > \n + < version > 3 . 4 . 2 - SNAPSHOT < / version > \n javase \ pom . xml \n - < version > 3 . 4 . 1 < / version > \n + < version > 3 . 4 . 2 - SNAPSHOT < / version > \n - < version > 3 . 4 . 1 < / version > \n + < version > 3 . 4 . 2 - SNAPSHOT < / version > \n pom . xml \n - < version > 3 . 4 . 1 < / version > \n + < version > 3 . 4 . 2 - SNAPSHOT < / version > \n - < zxing . version > 3 . 4 . 1 < / zxing . version > \n + < zxing . version > 3 . 4 . 2 - SNAPSHOT < / zxing . version > \n - < tag > zxing - 3 . 4 . 1 < / tag > \n + < tag > HEAD < / tag > \n zxing . appspot . com \ pom . xml \n - < version > 3 . 4 . 1 < / version > \n + < version > 3 . 4 . 2 - SNAPSHOT < / version > \n - < version > 3 . 4 . 1 < / version > \n + < version > 3 . 4 . 2 - SNAPSHOT < / version > \n zxingorg \ pom . xml \n - < version > 3 . 4 . 1 < / version > \n + < version > 3 . 4 . 2 - SNAPSHOT < / version > \n - < version > 3 . 4 . 1 < / version > \n + < version > 3 . 4 . 2 - SNAPSHOT < / version > \n
core \ src \ main \ java \ com \ google \ zxing \ maxicode \ MaxiCodeReader . java \n - int ix = left + ( x * width + width / 2 + ( y & 0x01 ) * width / 2 ) / MATRIX _ WIDTH ; \n + / / srowen : I don ' t quite understand why the formula below is necessary , but it \n + / / can walk off the image if left + width = the right boundary . So cap it . \n + int ix = left + Math . min ( \n + ( x * width + width / 2 + ( y & 0x01 ) * width / 2 ) / MATRIX _ WIDTH , \n + width ) ; \n
realm \ realm - annotations - processor \ src \ main \ java \ io \ realm \ processor \ RealmProxyClassGenerator . java \n + / * * \n + * Currently , the hash value emitted from this could suddenly change as an object ' s index might \n + * alternate due to Realm Java using { @ code Table # moveLastOver ( ) } . Hash codes should therefore not \n + * be considered stable , i . e . don ' t save them in a HashSet or use them as a key in a HashMap . \n + * / \n realm \ realm - library \ src \ main \ java \ io \ realm \ DynamicRealmObject . java \n + / * * \n + * Returns a hash code value for the { @ link DynamicRealmObject } object . \n + * < p > \n + * By the general contract of { @ link Object # hashCode ( ) } , any two objects for which { @ link # equals } \n + * returns { @ code true } must return the same hash code value . \n + * < p > \n + * Note that a { @ link RealmObject } is a live object , and it might be updated by changes from \n + * other threads . This means that a hash code value of the object is not stable , and the value \n + * should be neither used as a key in HashMap nor saved in HashSet . \n + * \n + * @ return a hash code value for the object . \n + * @ see # equals \n + * / \n
realm \ realm - library \ src \ main \ java \ io \ realm \ RealmObject . java \n + * < p > Note that this can be used to check the validity of certain conditions such as being null \n + * when observed . \n + * < pre > \n + * { @ code \n + * realm . where ( BannerRealm . class ) . equalTo ( " type " , type ) . findFirstAsync ( ) . asObservable ( ) \n + * . filter ( result . isLoaded ( ) & & result . isValid ( ) ) \n + * . first ( ) \n + * } \n + * < / pre > \n + * \n + * @ see < a href = " https : / / github . com / realm / realm - java / tree / master / examples / rxJavaExample " > Examples using Realm with RxJava < / a > \n
realm \ realm - library \ src \ main \ java \ io \ realm \ RealmObject . java \n + * < p > Note that when the { @ link Realm } is accessed from threads other than where it was created , \n + * { @ link IllegalStateException } will be thrown . Care should be taken when using different schedulers \n + * with { @ code subscribeOn ( ) } and { @ code observeOn ( ) } . Consider using { @ code Realm . where ( ) . find * Async ( ) } \n + * instead . \n + * \n realm \ realm - library \ src \ main \ java \ io \ realm \ RealmResults . java \n + * < p > Note that when the { @ link Realm } is accessed from threads other than where it was created , \n + * { @ link IllegalStateException } will be thrown . Care should be taken when using different schedulers \n + * with { @ code subscribeOn ( ) } and { @ code observeOn ( ) } . Consider using { @ code Realm . where ( ) . find * Async ( ) } \n + * instead . \n + * \n
kotlin - native \ backend . native \ tests \ build . gradle \n - disabled = ( project . testTarget = = ' wasm32 ' ) / / No interop for wasm yet . \n + disabled = ( project . target . name ! = project . hostName ) \n
kotlin - native \ Interop \ StubGenerator \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ native \ interop \ gen \ jvm \ main . kt \n + import org . jetbrains . kotlin . library . resolver . TopologicalLibraryOrder \n - ) . getFullList ( ) \n + ) . getFullList ( TopologicalLibraryOrder ) \n kotlin - native \ platformLibs \ src \ platform \ android \ builtin . def \n + depends = posix \n kotlin - native \ platformLibs \ src \ platform \ linux \ builtin . def \n + depends = posix \n kotlin - native \ platformLibs \ src \ platform \ mingw \ builtin . def \n + depends = posix \n
kotlin - native \ backend . native \ tests \ interop \ incomplete _ types \ library . cpp \n + # include < string > \n - const char * name ; \n + std : : string name ; \n - struct S s = { \n + S s = { \n + / / Note that copy here is intentional : we use it as a workaround \n + / / for short lifetime of copy of the passed Kotlin string . \n - return s - > name ; \n + return s - > name . c _ str ( ) ; \n kotlin - native \ backend . native \ tests \ interop \ incomplete _ types \ main . kt \n - assertEquals ( " yo " , getContent ( s . ptr ) ? . toKString ( ) ) \n + val ptr = getContent ( s . ptr ) \n + assertEquals ( " yo " , ptr ? . toKString ( ) ) \n
kotlin - native \ backend . native \ tests \ build . gradle \n - it . getByTarget ( target . name ) . doFirst { \n - UtilsKt . buildStaticLibrary ( \n - project , \n - [ file ( " $ projectDir / interop / kt43502 / kt43502 . c " ) ] , \n - file ( " $ libDir / kt43502 . a " ) , \n - file ( " $ libDir / kt43502 . objs " ) , \n - ) \n + it . getByTarget ( target . name ) . configure { \n + doFirst { \n + UtilsKt . buildStaticLibrary ( \n + project , \n + [ file ( " $ projectDir / interop / kt43502 / kt43502 . c " ) ] , \n + file ( " $ libDir / kt43502 . a " ) , \n + file ( " $ libDir / kt43502 . objs " ) , \n + ) \n + } \n
kotlin - native \ konan \ konan . properties \n - linker . mingw _ x64 - linux _ arm32 _ hfp = $ targetToolchain . mingw _ x64 - linux _ arm32 _ hfp / bin / ld \n + linker . mingw _ x64 - linux _ arm32 _ hfp = $ targetToolchain . mingw _ x64 - linux _ arm32 _ hfp / bin / ld . gold \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ Linker . kt \n - import org . jetbrains . kotlin . konan . target . CompilerOutputKind \n - import org . jetbrains . kotlin . konan . target . Family \n - import org . jetbrains . kotlin . konan . target . LinkerOutputKind \n - import org . jetbrains . kotlin . konan . target . supportsMimallocAllocator \n + import org . jetbrains . kotlin . konan . target . * \n - kotlin . native . cacheKind = none \n + kotlin . native . cacheKind . $ { target . presetName } = none \n
library \ src \ com \ nostra13 \ universalimageloader \ cache \ disc \ impl \ BaseDiscCache . java \n + private static final String TEMP _ IMAGE _ POSTFIX = " . tmp " ; \n + \n + File tmpFile = new File ( imageFile . getAbsolutePath ( ) + TEMP _ IMAGE _ POSTFIX ) ; \n - OutputStream os = new BufferedOutputStream ( new FileOutputStream ( imageFile ) , bufferSize ) ; \n + OutputStream os = new BufferedOutputStream ( new FileOutputStream ( tmpFile ) , bufferSize ) ; \n + if ( loaded & & ! tmpFile . renameTo ( imageFile ) ) { \n + loaded = false ; \n + } \n - imageFile . delete ( ) ; \n + tmpFile . delete ( ) ; \n - OutputStream os = new BufferedOutputStream ( new FileOutputStream ( imageFile ) , bufferSize ) ; \n - boolean savedSuccessfully ; \n + File tmpFile = new File ( imageFile . getAbsolutePath ( ) + TEMP _ IMAGE _ POSTFIX ) ; \n + OutputStream os = new BufferedOutputStream ( new FileOutputStream ( tmpFile ) , bufferSize ) ; \n + boolean savedSuccessfully = false ; \n + if ( savedSuccessfully & & ! tmpFile . renameTo ( imageFile ) ) { \n + savedSuccessfully = false ; \n + } \n + if ( ! savedSuccessfully ) { \n + tmpFile . delete ( ) ; \n + } \n
library \ src \ com \ nostra13 \ universalimageloader \ core \ ImageLoaderEngine . java \n - private ExecutorService taskDistributor ; \n + private Executor taskDistributor ; \n + void fireCallback ( Runnable r ) { \n + taskDistributor . execute ( r ) ; \n + } \n + \n library \ src \ com \ nostra13 \ universalimageloader \ core \ LoadAndDisplayImageTask . java \n - runTask ( displayBitmapTask , options . isSyncLoading ( ) , handler ) ; \n + runTask ( displayBitmapTask , options . isSyncLoading ( ) , handler , engine ) ; \n - runTask ( r , false , handler ) ; \n + runTask ( r , false , handler , engine ) ; \n - runTask ( r , false , handler ) ; \n + runTask ( r , false , handler , engine ) ; \n - runTask ( r , false , handler ) ; \n + runTask ( r , false , handler , engine ) ; \n - static void runTask ( Runnable r , boolean sync , Handler handler ) { \n + static void runTask ( Runnable r , boolean sync , Handler handler , ImageLoaderEngine engine ) { \n - new Thread ( r ) . start ( ) ; \n + engine . fireCallback ( r ) ; \n library \ src \ com \ nostra13 \ universalimageloader \ core \ ProcessAndDisplayImageTask . java \n - LoadAndDisplayImageTask . runTask ( displayBitmapTask , imageLoadingInfo . options . isSyncLoading ( ) , handler ) ; \n + LoadAndDisplayImageTask . runTask ( displayBitmapTask , imageLoadingInfo . options . isSyncLoading ( ) , handler , engine ) ; \n
pom . xml \n - < version > 3 . 8 . 0 < / version > \n + < version > 3 . 8 . 1 < / version > \n
. travis . yml \n - platform - tools \n - extra - android - m2repository \n - extra - google - m2repository \n - - build - tools - 23 . 0 . 2 \n + - build - tools - 23 . 0 . 3 \n - android - 23 \n demo \ build . gradle \n - buildToolsVersion " 23 . 0 . 2 " \n + buildToolsVersion " 23 . 0 . 3 " \n library \ build . gradle \n - buildToolsVersion " 23 . 0 . 2 " \n + buildToolsVersion " 23 . 0 . 3 " \n
demo \ build . gradle \n - compile ' com . android . support : support - v4 : 23 . 1 . 1 ' \n - compile ' com . android . support : appcompat - v7 : 23 . 1 . 1 ' \n + compile ' com . android . support : support - v4 : 23 . 4 . 0 ' \n + compile ' com . android . support : appcompat - v7 : 23 . 4 . 0 ' \n library \ build . gradle \n - compile ' com . android . support : support - v4 : 23 . 1 . 1 ' \n - compile ' com . android . support : support - annotations : 23 . 1 . 1 ' \n - compile ' com . android . support : recyclerview - v7 : 23 . 1 . 1 ' \n + compile ' com . android . support : support - v4 : 23 . 4 . 0 ' \n + compile ' com . android . support : support - annotations : 23 . 4 . 0 ' \n + compile ' com . android . support : recyclerview - v7 : 23 . 4 . 0 ' \n
README . md \n - - - - - - - - \n + android { \n + . . . \n + / / Butterknife requires Java 8 . \n + compileOptions { \n + sourceCompatibility JavaVersion . VERSION _ 1 _ 8 \n + targetCompatibility JavaVersion . VERSION _ 1 _ 8 \n + } \n + } \n + \n
services \ core \ java \ com \ android \ server \ ConnectivityService . java \n - import android . util . LocalLog ; \n + import com . android . modules . utils . LocalLog ; \n
services \ core \ java \ com \ android \ server \ ConnectivityService . java \n - InetAddress . parseNumericAddress ( ipAddress ) , \n + InetAddresses . parseNumericAddress ( ipAddress ) , \n services \ core \ java \ com \ android \ server \ TestNetworkService . java \n + import com . android . net . module . util . NetworkStackConstants ; \n - lp . addRoute ( new RouteInfo ( new IpPrefix ( Inet4Address . ANY , 0 ) , null , iface ) ) ; \n + lp . addRoute ( new RouteInfo ( new IpPrefix ( \n + NetworkStackConstants . IPV4 _ ADDR _ ANY , 0 ) , null , iface ) ) ; \n - lp . addRoute ( new RouteInfo ( new IpPrefix ( Inet6Address . ANY , 0 ) , null , iface ) ) ; \n + lp . addRoute ( new RouteInfo ( new IpPrefix ( \n + NetworkStackConstants . IPV6 _ ADDR _ ANY , 0 ) , null , iface ) ) ; \n services \ core \ java \ com \ android \ server \ connectivity \ DnsManager . java \n + import android . net . InetAddresses ; \n - InetAddress . parseNumericAddress ( ipAddress ) ) ) ; \n + InetAddresses . parseNumericAddress ( ipAddress ) ) ) ; \n services \ core \ java \ com \ android \ server \ connectivity \ Nat464Xlat . java \n + import com . android . net . module . util . NetworkStackConstants ; \n - import java . net . Inet4Address ; \n - new LinkAddress ( Inet4Address . ANY , 0 ) , \n + new LinkAddress ( NetworkStackConstants . IPV4 _ ADDR _ ANY , 0 ) , \n services \ core \ java \ com \ android \ server \ connectivity \ Vpn . java \n + import android . net . InetAddresses ; \n + import com . android . net . module . util . NetworkStackConstants ; \n - return InetAddress . parseNumericAddress ( endpoint ) ; \n + return InetAddresses . parseNumericAddress ( endpoint ) ; \n - InetAddress address = InetAddress . parseNumericAddress ( dnsServer ) ; \n + InetAddress address = InetAddresses . parseNumericAddress ( dnsServer ) ; \n - lp . addRoute ( new RouteInfo ( new IpPrefix ( Inet4Address . ANY , 0 ) , RTN _ UNREACHABLE ) ) ; \n + lp . addRoute ( new RouteInfo ( new IpPrefix ( \n + NetworkStackConstants . IPV4 _ ADDR _ ANY , 0 ) , RTN _ UNREACHABLE ) ) ; \n - lp . addRoute ( new RouteInfo ( new IpPrefix ( Inet6Address . ANY , 0 ) , RTN _ UNREACHABLE ) ) ; \n + lp . addRoute ( new RouteInfo ( new IpPrefix ( \n + NetworkStackConstants . IPV6 _ ADDR _ ANY , 0 ) , RTN _ UNREACHABLE ) ) ; \n
services \ core \ java \ com \ android \ server \ ConnectivityService . java \n + import android . util . LocalLog ; \n - import com . android . modules . utils . LocalLog ; \n
compiler \ ir \ backend . js \ src \ org \ jetbrains \ kotlin \ ir \ backend \ js \ transformers \ irToJs \ jsAstUtils . kt \n - JsInvocation ( \n - JsNameRef ( " apply " , JsNameRef ( symbolName , receiverRef ) ) , \n - listOf ( \n - receiverRef , \n - argumentsAsSingleArray \n + if ( argumentsAsSingleArray is JsArrayLiteral ) { \n + JsInvocation ( \n + JsNameRef ( symbolName , receiverRef ) , \n + argumentsAsSingleArray . expressions \n - ) \n + } else { \n + JsInvocation ( \n + JsNameRef ( " apply " , JsNameRef ( symbolName , receiverRef ) ) , \n + listOf ( \n + receiverRef , \n + argumentsAsSingleArray \n + ) \n + ) \n + } \n
compiler \ ir \ backend . js \ src \ org \ jetbrains \ kotlin \ ir \ backend \ js \ transformers \ irToJs \ jsAstUtils . kt \n - val receiverName = JsName ( " \ $ externalVarargReceiverTmp " ) \n - val receiverRef = receiverName . makeRef ( ) \n - JsBlock ( \n - JsVars ( JsVars . JsVar ( receiverName , jsDispatchReceiver ) ) , \n - JsReturn ( \n - if ( argumentsAsSingleArray is JsArrayLiteral ) { \n + if ( argumentsAsSingleArray is JsArrayLiteral ) { \n + JsBlock ( \n + JsReturn ( \n - JsNameRef ( symbolName , receiverRef ) , \n + JsNameRef ( symbolName , jsDispatchReceiver ) , \n - } else { \n + ) \n + ) \n + } else { \n + val receiverName = JsName ( " \ $ externalVarargReceiverTmp " ) \n + val receiverRef = receiverName . makeRef ( ) \n + JsBlock ( \n + JsVars ( JsVars . JsVar ( receiverName , jsDispatchReceiver ) ) , \n + JsReturn ( \n - } \n + ) \n - ) , \n + } , \n
compiler \ ir \ backend . js \ src \ org \ jetbrains \ kotlin \ ir \ backend \ js \ transformers \ irToJs \ jsAstUtils . kt \n - / / TODO : Do not create IIFE when receiver expression is simple or has no side effects \n - / / TODO : Do not create IIFE at all ? ( Currently there is no reliable way to create temporary variable in current scope ) \n - val iifeFun = JsFunction ( \n - emptyScope , \n - if ( argumentsAsSingleArray is JsArrayLiteral ) { \n - JsBlock ( \n - JsReturn ( \n - JsInvocation ( \n - JsNameRef ( symbolName , jsDispatchReceiver ) , \n - argumentsAsSingleArray . expressions \n - ) \n - ) \n - ) \n - } else { \n - val receiverName = JsName ( " \ $ externalVarargReceiverTmp " ) \n - val receiverRef = receiverName . makeRef ( ) \n + if ( argumentsAsSingleArray is JsArrayLiteral ) { \n + JsInvocation ( \n + JsNameRef ( symbolName , jsDispatchReceiver ) , \n + argumentsAsSingleArray . expressions \n + ) \n + } else { \n + / / TODO : Do not create IIFE at all ? ( Currently there is no reliable way to create temporary variable in current scope ) \n + val receiverName = JsName ( " \ $ externalVarargReceiverTmp " ) \n + val receiverRef = receiverName . makeRef ( ) \n + \n + val iifeFun = JsFunction ( \n + emptyScope , \n - ) \n - } , \n - " VarargIIFE " \n - ) \n - \n - val iifeFunHasContext = ( jsDispatchReceiver as ? JsNameRef ) ? . qualifier is JsThisRef \n - if ( iifeFunHasContext ) { \n - JsInvocation ( \n - / / Create scope for temporary variable holding dispatch receiver \n - / / It is used both during method reference and passing ` this ` value to ` apply ` function . \n - JsNameRef ( \n - " call " , \n - iifeFun \n - JsThisRef ( ) \n + " VarargIIFE " \n - } else { \n - JsInvocation ( iifeFun ) \n + \n + val iifeFunHasContext = ( jsDispatchReceiver as ? JsNameRef ) ? . qualifier is JsThisRef \n + if ( iifeFunHasContext ) { \n + JsInvocation ( \n + / / Create scope for temporary variable holding dispatch receiver \n + / / It is used both during method reference and passing ` this ` value to ` apply ` function . \n + JsNameRef ( \n + " call " , \n + iifeFun \n + ) , \n + JsThisRef ( ) \n + ) \n + } else { \n + JsInvocation ( iifeFun ) \n + } \n
lib \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ schedule \ ScheduleSingleDayFragment . java \n - mLoadingSwitcher . setDisplayedChild ( 1 ) ; \n + / / If mLoadingSwitcher is null , the null check kicks in and the screen displays a progress \n + / / bar , which isn ' t great ; without the null check , we would get an NPE , which is much worse . \n + / / Picking the less bad option . \n + if ( mLoadingSwitcher ! = null ) { \n + mLoadingSwitcher . setDisplayedChild ( 1 ) ; \n + } \n
android \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ welcome \ WelcomeFragment . java \n + import com . google . samples . apps . iosched . myschedule . MyScheduleActivity ; \n - Intent intent = new Intent ( mActivity , ExploreIOActivity . class ) ; \n + Intent intent = new Intent ( mActivity , MyScheduleActivity . class ) ; \n
gradle . properties \n - appVersionCode = 511 \n - appVersionName = 5 . 1 . 1 \n + appVersionCode = 512 \n + appVersionName = 5 . 1 . 2 \n
README . md \n - # JUnit 4 \n + # JUnit 4 ! [ Latest Build Status ] ( https : / / junit . ci . cloudbees . com / job / JUnit / badge / icon ) \n
README . md \n - ! [ Built on DEV @ cloud ] ( http : / / www . cloudbees . com / sites / default / files / Button - Built - on - CB - 1 . png ) \n + [ ! [ Built on DEV @ cloud ] ( http : / / www . cloudbees . com / sites / default / files / Button - Built - on - CB - 1 . png ) ] ( http : / / www . cloudbees . com / foss / foss - dev . cb ) \n
README . md \n - # JUnit 4 ! [ Latest Build Status ] ( https : / / junit . ci . cloudbees . com / job / JUnit / badge / icon ) \n + # JUnit 4 \n + [ ! [ Latest Build Status ] ( https : / / junit . ci . cloudbees . com / job / JUnit / badge / icon ) ] ( https : / / junit . ci . cloudbees . com / ) \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ gen \ JoinFilterFunctionCompiler . java \n - return leftBlocksSize = = that . leftBlocksSize & & \n + return Objects . equals ( sqlFunctionProperties , that . sqlFunctionProperties ) & & \n + leftBlocksSize = = that . leftBlocksSize & & \n - return Objects . hash ( leftBlocksSize , filter ) ; \n + return Objects . hash ( sqlFunctionProperties , leftBlocksSize , filter ) ; \n + . add ( " sqlFunctionProperties " , sqlFunctionProperties ) \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ operator \ FileFragmentResultCacheManager . java \n + import org . weakref . jmx . Managed ; \n + fragmentCacheStats . incrementCacheEntries ( ) ; \n + @ Managed \n + public void invalidateAllCache ( ) \n + { \n + cache . invalidateAll ( ) ; \n + } \n + \n + fragmentCacheStats . incrementCacheRemoval ( ) ; \n + fragmentCacheStats . decrementCacheEntries ( ) ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ operator \ FragmentCacheStats . java \n + private final AtomicLong cacheRemoval = new AtomicLong ( ) ; \n + private final AtomicLong cacheEntries = new AtomicLong ( ) ; \n + public void incrementCacheRemoval ( ) \n + { \n + cacheRemoval . getAndIncrement ( ) ; \n + } \n + \n + public void incrementCacheEntries ( ) \n + { \n + cacheEntries . getAndIncrement ( ) ; \n + } \n + \n + public void decrementCacheEntries ( ) \n + { \n + cacheEntries . getAndDecrement ( ) ; \n + } \n + \n + \n + @ Managed \n + public long getCacheRemoval ( ) \n + { \n + return cacheRemoval . get ( ) ; \n + } \n + \n + @ Managed \n + public long getCacheEntries ( ) \n + { \n + return cacheEntries . get ( ) ; \n + } \n presto - main \ src \ test \ java \ com \ facebook \ presto \ operator \ TestFileFragmentResultCacheManager . java \n - FragmentResultCacheManager cacheManager = fileFragmentResultCacheManager ( stats ) ; \n + FileFragmentResultCacheManager cacheManager = fileFragmentResultCacheManager ( stats ) ; \n + assertEquals ( stats . getCacheEntries ( ) , 0 ) ; \n + assertEquals ( stats . getCacheEntries ( ) , 1 ) ; \n + assertEquals ( stats . getCacheEntries ( ) , 2 ) ; \n + assertEquals ( stats . getCacheEntries ( ) , 2 ) ; \n + assertEquals ( stats . getCacheEntries ( ) , 2 ) ; \n + \n + / / Test cache invalidation \n + cacheManager . invalidateAllCache ( ) ; \n + assertEquals ( stats . getCacheMiss ( ) , 3 ) ; \n + assertEquals ( stats . getCacheHit ( ) , 2 ) ; \n + assertEquals ( stats . getCacheEntries ( ) , 0 ) ; \n + assertEquals ( stats . getCacheRemoval ( ) , 2 ) ; \n - private FragmentResultCacheManager fileFragmentResultCacheManager ( FragmentCacheStats fragmentCacheStats ) \n + private FileFragmentResultCacheManager fileFragmentResultCacheManager ( FragmentCacheStats fragmentCacheStats ) \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ HiveSplitSource . java \n - int estimatedOutstandingSplitsPerBucket , \n + int estimatedOutstandingSplitsPerBucket , \n
services \ tests \ servicestests \ src \ com \ android \ server \ hdmi \ HdmiCecMessageValidatorTest . java \n + import android . os . test . TestLooper ; \n + private TestLooper mTestLooper = new TestLooper ( ) ; \n + mHdmiControlService . setIoLooper ( mTestLooper . getLooper ( ) ) ; \n
services \ core \ java \ com \ android \ server \ hdmi \ HdmiCecMessageValidator . java \n + addValidationInfo ( \n + Constants . MESSAGE _ SET _ TIMER _ PROGRAM _ TITLE , new AsciiValidator ( 1 , 14 ) , DEST _ DIRECT ) ; \n services \ tests \ servicestests \ src \ com \ android \ server \ hdmi \ HdmiCecMessageValidatorTest . java \n + @ Test \n + public void isValid _ setTimerProgramTitle ( ) { \n + assertMessageValidity ( " 40 : 67 : 47 : 61 : 6D : 65 : 20 : 6F : 66 : 20 : 54 : 68 : 72 : 6F : 6E : 65 : 73 " ) . isEqualTo ( OK ) ; \n + assertMessageValidity ( " 40 : 67 : 4A " ) . isEqualTo ( OK ) ; \n + \n + assertMessageValidity ( " 4F : 67 : 47 : 4F : 54 " ) . isEqualTo ( ERROR _ DESTINATION ) ; \n + assertMessageValidity ( " F4 : 67 : 47 : 4F : 54 " ) . isEqualTo ( ERROR _ SOURCE ) ; \n + assertMessageValidity ( " 40 : 67 " ) . isEqualTo ( ERROR _ PARAMETER _ SHORT ) ; \n + assertMessageValidity ( " 40 : 67 : 47 : 9A : 54 " ) . isEqualTo ( ERROR _ PARAMETER ) ; \n + } \n + \n
services \ core \ java \ com \ android \ server \ hdmi \ HdmiCecMessageValidator . java \n + addValidationInfo ( \n + Constants . MESSAGE _ TIMER _ CLEARED _ STATUS , \n + new TimerClearedStatusValidator ( ) , \n + DEST _ DIRECT ) ; \n + \n + / * * \n + * Check if the given timer cleared status parameter is valid . A valid parameter should lie \n + * within the range description defined in CEC 1 . 4 Specification : Operand Descriptions \n + * ( Section 17 ) \n + * / \n + private class TimerClearedStatusValidator implements ParameterValidator { \n + @ Override \n + public int isValid ( byte [ ] params ) { \n + if ( params . length < 1 ) { \n + return ERROR _ PARAMETER _ SHORT ; \n + } \n + return toErrorCode ( isWithinRange ( params [ 0 ] , 0x00 , 0x02 ) | | ( params [ 0 ] & 0xFF ) = = 0x80 ) ; \n + } \n + } \n services \ tests \ servicestests \ src \ com \ android \ server \ hdmi \ HdmiCecMessageValidatorTest . java \n + @ Test \n + public void isValid _ timerClearedStatus ( ) { \n + assertMessageValidity ( " 40 : 43 : 01 : 7E " ) . isEqualTo ( OK ) ; \n + assertMessageValidity ( " 40 : 43 : 80 " ) . isEqualTo ( OK ) ; \n + \n + assertMessageValidity ( " 4F : 43 : 01 " ) . isEqualTo ( ERROR _ DESTINATION ) ; \n + assertMessageValidity ( " F0 : 43 : 80 " ) . isEqualTo ( ERROR _ SOURCE ) ; \n + assertMessageValidity ( " 40 : 43 " ) . isEqualTo ( ERROR _ PARAMETER _ SHORT ) ; \n + assertMessageValidity ( " 40 : 43 : 03 " ) . isEqualTo ( ERROR _ PARAMETER ) ; \n + } \n + \n
core \ api \ current . txt \n + field public static final String KEY _ CALL _ COMPOSER _ PICTURE _ SERVER _ URL _ STRING = " call _ composer _ picture _ server _ url _ string " ; \n + field public static final String KEY _ SUPPORTS _ CALL _ COMPOSER _ BOOL = " supports _ call _ composer _ bool " ; \n telephony \ java \ android \ telephony \ CarrierConfigManager . java \n + / * * \n + * Indicates if the carrier supports call composer . \n + * / \n + public static final String KEY _ SUPPORTS _ CALL _ COMPOSER _ BOOL = " supports _ call _ composer _ bool " ; \n + \n + / * * \n + * Indicates the carrier server url that serves the call composer picture . \n + * / \n + public static final String KEY _ CALL _ COMPOSER _ PICTURE _ SERVER _ URL _ STRING = \n + " call _ composer _ picture _ server _ url _ string " ; \n + \n + sDefaults . putBoolean ( KEY _ SUPPORTS _ CALL _ COMPOSER _ BOOL , false ) ; \n + sDefaults . putString ( KEY _ CALL _ COMPOSER _ PICTURE _ SERVER _ URL _ STRING , " " ) ; \n
telephony \ java \ android \ telephony \ ims \ RcsContactPresenceTuple . java \n + / * * The service id of the Call Composer * / \n + public static final String SERVICE _ ID _ CALL _ COMPOSER = \n + " org . 3gpp . urn : urn - 7 : 3gppservice . ims . icsi . gsma . callcomposer " ; \n + \n
core \ api \ current . txt \n + field public static final int CALL _ COMPOSER _ STATUS _ ON _ NO _ PICTURES = 2 ; / / 0x2 \n telephony \ java \ android \ telephony \ TelephonyManager . java \n + / * * \n + * Call composer status indicating that sending / receiving pictures is disabled . \n + * All other attachments are still enabled in this state . \n + * / \n + public static final int CALL _ COMPOSER _ STATUS _ ON _ NO _ PICTURES = 2 ; \n + \n + CALL _ COMPOSER _ STATUS _ ON _ NO _ PICTURES , \n - * it must be a value of either { @ link # CALL _ COMPOSER _ STATUS _ ON } \n - * or { @ link # CALL _ COMPOSER _ STATUS _ OFF } . \n + * it must be any of { @ link # CALL _ COMPOSER _ STATUS _ ON } \n + * { @ link # CALL _ COMPOSER _ STATUS _ OFF } , \n + * or { @ link # CALL _ COMPOSER _ STATUS _ ON _ NO _ PICTURES } \n - if ( status ! = CALL _ COMPOSER _ STATUS _ ON & & status ! = CALL _ COMPOSER _ STATUS _ OFF ) { \n + if ( status > CALL _ COMPOSER _ STATUS _ ON _ NO _ PICTURES \n + | | status < CALL _ COMPOSER _ STATUS _ OFF ) { \n - * @ return the user - set status for enriched calling with call composer either \n - * { @ link # CALL _ COMPOSER _ STATUS _ ON } or { @ link # CALL _ COMPOSER _ STATUS _ OFF } . \n + * @ return the user - set status for enriched calling with call composer , any of \n + * { @ link # CALL _ COMPOSER _ STATUS _ ON } , { @ link # CALL _ COMPOSER _ STATUS _ OFF } , or \n + * { @ link # CALL _ COMPOSER _ STATUS _ ON _ NO _ PICTURES } . \n
compiler \ fir \ checkers \ src \ org \ jetbrains \ kotlin \ fir \ analysis \ collectors \ AbstractDiagnosticCollector . kt \n + import org . jetbrains . kotlin . fir . types . FirResolvedTypeRef \n + override fun visitResolvedTypeRef ( resolvedTypeRef : FirResolvedTypeRef , data : Nothing ? ) { \n + super . visitResolvedTypeRef ( resolvedTypeRef , data ) \n + resolvedTypeRef . delegatedTypeRef ? . accept ( this , data ) \n + } \n + \n compiler \ fir \ resolve \ src \ org \ jetbrains \ kotlin \ fir \ resolve \ transformers \ FirTypeResolveTransformer . kt \n - return typeResolverTransformer . transformTypeRef ( typeRef , towerScope ) \n + return typeRef . transform ( typeResolverTransformer , towerScope ) \n compiler \ fir \ tree \ gen \ org \ jetbrains \ kotlin \ fir \ types \ impl \ FirResolvedTypeRefImpl . kt \n - delegatedTypeRef ? . accept ( visitor , data ) \n - delegatedTypeRef = delegatedTypeRef ? . transformSingle ( transformer , data ) \n compiler \ fir \ tree \ tree - generator \ src \ org \ jetbrains \ kotlin \ fir \ tree \ generator \ ImplementationConfigurator . kt \n + default ( " delegatedTypeRef " ) { \n + needAcceptAndTransform = false \n + } \n
core \ compiler . common \ src \ org \ jetbrains \ kotlin \ types \ AbstractTypeChecker . kt \n - \n + / * * \n + * Context that defines how type - checker operates , stores type - checker state , \n + * created by [ TypeCheckerProviderContext . newBaseTypeCheckerContext ] in most cases \n + * \n + * Stateful and shouldn ' t be reused \n + * \n + * Once some type - checker operation is performed using a [ TypeCheckerProviderContext ] , for example a [ AbstractTypeChecker . isSubtypeOf ] , \n + * new instance of particular [ AbstractTypeCheckerContext ] should be created , with properly specified type system context \n + * / \n core \ compiler . common \ src \ org \ jetbrains \ kotlin \ types \ model \ TypeSystemContext . kt \n + / * * \n + * Context that allow type - impl agnostic access to common types \n + * / \n + / * * \n + * Context that allow construction of types \n + * / \n - \n + / * * \n + * Factory , that constructs [ AbstractTypeCheckerContext ] , which defines type - checker behaviour \n + * Implementation is recommended to be [ TypeSystemContext ] \n + * / \n + / * * \n + * Extended type system context , which defines set of operations specific to common super - type calculation \n + * / \n + / * * \n + * Extended type system context , which defines set of type operations specific for type inference \n + * / \n - \n + / * * \n + * Defines common kotlin type operations with types for abstract types \n + * / \n
build . gradle . kts \n + val useJvmFir by extra ( project . kotlinBuildProperties . useFir ) \n + \n + if ( useJvmFir ) { \n + freeCompilerArgs + = " - Xuse - fir " \n + } \n
README . md \n - [ ! [ Travis build status ] ( https : / / img . shields . io / travis / libgdx / libgdx / master . svg ? label = Travis % 20CI ) ] ( https : / / travis - ci . org / libgdx / libgdx ) \n + [ ! [ GitHub Actions build status ] ( https : / / img . shields . io / github / workflow / status / libgdx / libgdx / Java % 20CI % 20with % 20Gradle / master ? label = GitHub % 20Actions ) ] ( https : / / github . com / libgdx / libgdx / actions ? query = workflow % 3A % 22Java + CI + with + Gradle % 22 ) \n
README . md \n - \n + ! [ Sonatype Nexus ( Releases ) ] ( https : / / img . shields . io / nexus / r / com . badlogicgames . gdx / gdx ? nexusVersion = 2 & server = https % 3A % 2F % 2Foss . sonatype . org % 2F ) \n + ! [ Sonatype Nexus ( Snapshots ) ] ( https : / / img . shields . io / nexus / s / com . badlogicgames . gdx / gdx ? server = https % 3A % 2F % 2Foss . sonatype . org ) \n + \n
backends \ gdx - backends - gwt \ src \ com \ badlogic \ gdx \ backends \ gwt \ GwtGraphics . java \n - public void setTitle ( String title ) { \n - } \n + public native void setTitle ( String title ) / * - { \n + $ wnd . document . title = title ; \n + } - * / ; \n
gradle . properties \n - VERSION _ NAME = 1 . 4 . 0 \n + VERSION _ NAME = 1 . 5 . 0 - SNAPSHOT \n
library \ src \ androidTest \ java \ com \ github \ ksoichiro \ android \ observablescrollview \ test \ TouchInterceptionScrollViewActivityTest . java \n + import android . os . Build ; \n - new TouchInterceptionFrameLayout ( activity , null , 0 , 0 ) ; \n + if ( Build . VERSION _ CODES . LOLLIPOP < = Build . VERSION . SDK _ INT ) { \n + new TouchInterceptionFrameLayout ( activity , null , 0 , 0 ) ; \n + } \n
README . md \n + * [ { Soft } Skills ] ( https : / / play . google . com / store / apps / details ? id = com . fanaticdevs . androider ) by Fanatic Devs \n
gradle . properties \n - version = 2 . 3 . 9 . BUILD - SNAPSHOT \n + version = 2 . 3 . 10 . BUILD - SNAPSHOT \n
gradle . properties \n - version = 2 . 4 . 3 - SNAPSHOT \n + version = 2 . 4 . 4 - SNAPSHOT \n
gradle . properties \n - version = 5 . 3 . 3 - SNAPSHOT \n + version = 5 . 3 . 4 - SNAPSHOT \n
src \ test \ java \ org \ junit \ internal \ runners \ statements \ FailOnTimeoutTest . java \n - run ( failAfter50Ms ( new InfiniteLoop ( ) ) ) ) ; \n + run ( failAfter50Ms ( new RunForASecond ( ) ) ) ) ; \n - run ( failAfter50Ms ( new InfiniteLoop ( ) ) ) ) ; \n + run ( failAfter50Ms ( new RunForASecond ( ) ) ) ) ; \n - statement . delegate = new InfiniteLoop ( ) ; \n + statement . delegate = new RunForASecond ( ) ; \n - statement . delegate = new InfiniteLoop ( ) ; \n + statement . delegate = new RunForASecond ( ) ; \n - run ( failAfter50Ms ( new InfiniteLoop ( ) ) ) ) ; \n + run ( failAfter50Ms ( new RunForASecond ( ) ) ) ) ; \n - InfiniteLoop infiniteLoop = new InfiniteLoop ( ) ; \n + RunForASecond runForASecond = new RunForASecond ( ) ; \n - run ( failAfter50Ms ( infiniteLoop ) ) ) ; \n + run ( failAfter50Ms ( runForASecond ) ) ) ; \n - infiniteLoop . stillExecuting . set ( false ) ; \n + runForASecond . stillExecuting . set ( false ) ; \n - infiniteLoop . stillExecuting . get ( ) ) ; \n + runForASecond . stillExecuting . get ( ) ) ; \n - private static final class InfiniteLoop extends Statement { \n + private static final class RunForASecond extends Statement { \n - while ( true ) { \n + long timeout = currentTimeMillis ( ) + 1000L ; \n + while ( currentTimeMillis ( ) < timeout ) { \n
src \ test \ java \ org \ junit \ internal \ runners \ statements \ FailOnTimeoutTest . java \n - public void throwsTestTimedOutException ( ) { \n - assertThrows ( \n - TestTimedOutException . class , \n - run ( failAfter50Ms ( new RunForASecond ( ) ) ) ) ; \n - } \n - \n - @ Test \n - public void throwExceptionWithNiceMessageOnTimeout ( ) { \n + public void throwsTestTimedOutExceptionWithMeaningfulMessage ( ) { \n - Exception . class , \n + TestTimedOutException . class , \n
src \ test \ java \ org \ junit \ internal \ runners \ statements \ FailOnTimeoutTest . java \n + import static java . lang . Thread . interrupted ; \n + import java . util . concurrent . CountDownLatch ; \n - / / RunForASecond can be interrupted because it uses Thread . sleep which \n - / / can be interrupted . \n + / / RunForASecond can be interrupted because it checks the Thread ' s \n + / / interrupted flag . \n - sleep ( 20 ) ; / / time to interrupt the thread \n - runForASecond . stillExecuting . set ( false ) ; \n - sleep ( 20 ) ; / / time to increment the count \n - assertFalse ( \n - " Thread has not been stopped . " , \n - runForASecond . stillExecuting . get ( ) ) ; \n + / / Thread is explicitly stopped if it finishes faster than its \n + / / pre - defined execution time of one second . \n + boolean stopped = runForASecond . finished . await ( 50 , MILLISECONDS ) ; \n + assertTrue ( " Thread has not been stopped . " , stopped ) ; \n - Statement delegate ; \n + volatile Statement delegate ; \n - final AtomicBoolean stillExecuting = new AtomicBoolean ( ) ; \n + final CountDownLatch finished = new CountDownLatch ( 1 ) ; \n - while ( currentTimeMillis ( ) < timeout ) { \n - sleep ( 10 ) ; / / sleep in order to enable interrupting thread \n - stillExecuting . set ( true ) ; \n + while ( ! interrupted ( ) & & currentTimeMillis ( ) < timeout ) { \n + finished . countDown ( ) ; \n
src \ main \ asciidoc \ java \ http . adoc \n + To address this latter issue Vert . x allows you to tune the ' compression level ' parameter that is native of the gzip / deflate compression algorithms . \n + \n + Compression level allows to configure gizp / deflate algorithms in terms of the compression ratio of the resulting data and the computational cost of the compress / decompress operation . \n + \n + The compression level is an integer value ranged from ' 1 ' to ' 9 ' , where ' 1 ' means lower compression ratio but fastest algorithm and ' 9 ' means maximum compression ratio available but a slower algorithm . \n + \n + Using compression levels higher that 1 - 2 usually allows to save just some bytes in size - the gain is not linear , and depends on the specific data to be compressed \n + - but it comports a non - trascurable cost in term of CPU cycles required to the server while generating the compressed response data \n + ( Note that at moment Vert . x doesn ' t support any form caching of compressed response data , even for static files , so the compression is done on - the - fly \n + at every request body generation ) and in the same way it affects client ( s ) while decoding ( inflating ) received responses , operation that becomes more CPU - intensive \n + the more the level increases . \n + \n + By default - if compression is enabled via ` link : . . / . . / apidocs / io / vertx / core / http / HttpServerOptions . html # setCompressionSupported - boolean - [ setCompressionSupported ] ` - Vert . x will use ' 1 ' as compression level , \n + but the parameter can be configured to address any case with ` link : . . / . . / apidocs / io / vertx / core / http / HttpServerOptions . html # setCompressionLevel - int - [ setCompressionLevel ] ` . \n + \n
src \ main \ java \ io \ vertx \ core \ http \ HttpServerOptions . java \n - * Default gzip / deflate compression level = 1 , fastest algorithm \n + * Default gzip / deflate compression level = 6 ( Netty legacy ) \n - public static final int DEFAULT _ COMPRESSION _ LEVEL = 1 ; \n + public static final int DEFAULT _ COMPRESSION _ LEVEL = 6 ; \n - * default value is : 1 \n + * default value is : 6 ( Netty legacy ) \n src \ main \ java \ io \ vertx \ core \ http \ impl \ VertxHttp2ConnectionHandlerBuilder . java \n - * default value is : 1 \n + * default value is : 6 ( Netty legacy ) \n src \ main \ java \ io \ vertx \ core \ http \ package - info . java \n - * By default - if compression is enabled via { @ link io . vertx . core . http . HttpServerOptions # setCompressionSupported } - Vert . x will use ' 1 ' as compression level , \n + * By default - if compression is enabled via { @ link io . vertx . core . http . HttpServerOptions # setCompressionSupported } - Vert . x will use ' 6 ' as compression level , \n
src \ main \ asciidoc \ dataobjects . adoc \n - default value is : 1 \n + default value is : 6 ( Netty legacy ) \n src \ main \ asciidoc \ java \ http . adoc \n - By default - if compression is enabled via ` link : . . / . . / apidocs / io / vertx / core / http / HttpServerOptions . html # setCompressionSupported - boolean - [ setCompressionSupported ] ` - Vert . x will use ' 1 ' as compression level , \n + By default - if compression is enabled via ` link : . . / . . / apidocs / io / vertx / core / http / HttpServerOptions . html # setCompressionSupported - boolean - [ setCompressionSupported ] ` - Vert . x will use ' 6 ' as compression level , \n
handler \ src \ main \ java \ io \ netty \ handler \ ssl \ SslHandler . java \n - logger . debug ( " { } HANDSHAKEN : { } " , ctx . channel ( ) , engine . getSession ( ) . getCipherSuite ( ) ) ; \n + SSLSession session = engine . getSession ( ) ; \n + logger . debug ( \n + " { } HANDSHAKEN : protocol : { } cipher suite : { } " , \n + ctx . channel ( ) , \n + session . getProtocol ( ) , \n + session . getCipherSuite ( ) ) ; \n
codec - http \ src \ main \ java \ io \ netty \ handler \ codec \ http \ websocketx \ WebSocketClientHandshaker . java \n + path = path = = null | | path . isEmpty ( ) ? " / " : path ; \n - if ( query ! = null & & ! query . isEmpty ( ) ) { \n - path = path + ' ? ' + query ; \n - } \n - \n - return path = = null | | path . isEmpty ( ) ? " / " : path ; \n + return query ! = null & & ! query . isEmpty ( ) ? path + ' ? ' + query : path ; \n codec - http \ src \ test \ java \ io \ netty \ handler \ codec \ http \ websocketx \ WebSocketClientHandshakerTest . java \n + @ Test \n + public void testUpgradeUrlWithoutPath ( ) { \n + URI uri = URI . create ( " ws : / / localhost : 9999 " ) ; \n + WebSocketClientHandshaker handshaker = newHandshaker ( uri ) ; \n + FullHttpRequest request = handshaker . newHandshakeRequest ( ) ; \n + try { \n + assertEquals ( " / " , request . uri ( ) ) ; \n + } finally { \n + request . release ( ) ; \n + } \n + } \n + \n + @ Test \n + public void testUpgradeUrlWithoutPathWithQuery ( ) { \n + URI uri = URI . create ( " ws : / / localhost : 9999 ? a = b % 20c " ) ; \n + WebSocketClientHandshaker handshaker = newHandshaker ( uri ) ; \n + FullHttpRequest request = handshaker . newHandshakeRequest ( ) ; \n + try { \n + assertEquals ( " / ? a = b % 20c " , request . uri ( ) ) ; \n + } finally { \n + request . release ( ) ; \n + } \n + } \n + \n
pom . xml \n - < version > 3 . 0 . 0 < / version > \n + < version > 3 . 1 . 0 < / version > \n
spring - boot - project \ spring - boot - dependencies \ build . gradle \n - library ( " Infinispan " , " 11 . 0 . 4 . Final " ) { \n + library ( " Infinispan " , " 11 . 0 . 5 . Final " ) { \n
spring - boot - project \ spring - boot - dependencies \ build . gradle \n - library ( " jOOQ " , " 3 . 14 . 1 " ) { \n + library ( " jOOQ " , " 3 . 14 . 3 " ) { \n
spring - boot - project \ spring - boot - dependencies \ build . gradle \n - library ( " Netty " , " 4 . 1 . 53 . Final " ) { \n + library ( " Netty " , " 4 . 1 . 54 . Final " ) { \n
spring - boot - project \ spring - boot - dependencies \ pom . xml \n - < thymeleaf . version > 3 . 0 . 11 . RELEASE < / thymeleaf . version > \n + < thymeleaf . version > 3 . 0 . 12 . RELEASE < / thymeleaf . version > \n
spring - boot - project \ spring - boot - dependencies \ pom . xml \n - < reactor - bom . version > Dysprosium - SR15 < / reactor - bom . version > \n + < reactor - bom . version > Dysprosium - SR16 < / reactor - bom . version > \n
spring - boot - project \ spring - boot - dependencies \ build . gradle \n - library ( " Reactor Bom " , " Dysprosium - SR15 " ) { \n + library ( " Reactor Bom " , " Dysprosium - SR16 " ) { \n
pom . xml \n - < version > 2 . 3 . 2 < / version > \n + < version > 2 . 5 < / version > \n
pom . xml \n - < version > 1 . 4 < / version > \n + < version > 1 . 5 < / version > \n
src \ site \ markdown \ cookbook . md \n - # JUnit Cookbook \n + title : JUnit Cookbook \n + author : Kent Beck \n + Erich Gamma \n - Kent Beck , Erich Gamma \n - \n - * * * \n - * * * \n + * * * \n
ion \ src \ com \ koushikdutta \ ion \ IonRequestBuilder . java \n - if ( ! ( emitter instanceof DataTrackingEmitter ) ) { \n + if ( ! ( this . emitter instanceof DataTrackingEmitter ) ) { \n
ion \ src \ com \ koushikdutta \ ion \ LoadBitmap . java \n - ByteBuffer bb = result . getAll ( ) ; \n + ByteBuffer bb = null ; \n + bb = result . getAll ( ) ; \n + \n - ByteBufferList . reclaim ( bb ) ; \n + if ( bb ! = null ) \n + ByteBufferList . reclaim ( bb ) ; \n
README . md \n + * [ Plume ] ( https : / / play . google . com / store / apps / details ? id = com . levelup . touiteur ) \n
okhttp - protocols \ src \ main \ java \ com \ squareup \ okhttp \ internal \ spdy \ Spdy3 . java \n - if ( ( numberOfPairs * 2 ) < 0 ) { \n + if ( numberOfPairs < 0 ) { \n + if ( numberOfPairs > 1024 ) { \n + Logger . getLogger ( getClass ( ) . getName ( ) ) . warning ( " numberOfPairs > 1024 : " + numberOfPairs ) ; \n + throw ioException ( " numberOfPairs > 1024 " ) ; \n + } \n - } catch ( OutOfMemoryError e ) { \n - throw new IOException ( e . getMessage ( ) ) ; \n
library \ src \ uk \ co \ senab \ photoview \ PhotoViewAttacher . java \n - private ViewTreeObserver mViewTreeObserver ; \n - mViewTreeObserver = imageView . getViewTreeObserver ( ) ; \n - mViewTreeObserver . addOnGlobalLayoutListener ( this ) ; \n + imageView . getViewTreeObserver ( ) . addOnGlobalLayoutListener ( this ) ; \n - if ( null ! = mImageView ) { \n - mImageView . get ( ) . getViewTreeObserver ( ) . removeGlobalOnLayoutListener ( this ) ; \n - } \n - mViewTreeObserver = null ; \n + ViewTreeObserver viewTreeObserver = ( mImageView = = null | | mImageView . get ( ) = = null ) ? null \n + : mImageView . get ( ) . getViewTreeObserver ( ) ; \n + if ( null ! = viewTreeObserver & & viewTreeObserver . isAlive ( ) ) { \n + viewTreeObserver . removeGlobalOnLayoutListener ( this ) ; \n + } \n + viewTreeObserver = null ; \n - mBaseMatrix . postTranslate ( ( viewWidth - drawableWidth ) / 2F , ( viewHeight - drawableHeight ) / 2F ) ; \n + mBaseMatrix . postTranslate ( ( viewWidth - drawableWidth ) / 2F , \n + ( viewHeight - drawableHeight ) / 2F ) ; \n
library \ src \ uk \ co \ senab \ photoview \ PhotoViewAttacher . java \n - private ViewTreeObserver mViewTreeObserver ; \n - mViewTreeObserver = imageView . getViewTreeObserver ( ) ; \n - mViewTreeObserver . addOnGlobalLayoutListener ( this ) ; \n + imageView . getViewTreeObserver ( ) . addOnGlobalLayoutListener ( this ) ; \n - if ( null ! = mViewTreeObserver & & mViewTreeObserver . isAlive ( ) ) { \n - mViewTreeObserver . removeGlobalOnLayoutListener ( this ) ; \n + ViewTreeObserver viewTreeObserver = ( mImageView = = null | | mImageView . get ( ) = = null ) ? null : mImageView . get ( ) . getViewTreeObserver ( ) ; \n + if ( null ! = viewTreeObserver & & viewTreeObserver . isAlive ( ) ) { \n + viewTreeObserver . removeGlobalOnLayoutListener ( this ) ; \n - mViewTreeObserver = null ; \n + viewTreeObserver = null ; \n
src \ clj \ clojure \ pprint \ pretty _ writer . clj \n - ( p - write - char this x ) ) ) ) \n + ( p - write - char this x ) ) ) \n + ( [ x off len ] \n + ( . write this ( subs ( str x ) off ( + off len ) ) ) ) ) \n test \ clojure \ test _ clojure \ pprint \ test _ pretty . clj \n + ( deftest test - pprint - calendar \n + ( let [ calendar ( doto ( java . util . GregorianCalendar . 2014 3 29 14 0 0 ) \n + ( . setTimeZone ( java . util . TimeZone / getTimeZone " GMT " ) ) ) \n + calendar - str ( with - out - str ( pprint calendar ) ) ] \n + ( is ( = calendar - str " # inst \ " 2014 - 04 - 29T14 : 00 : 00 . 000 + 00 : 00 \ " \ n " ) \n + " calendar object pretty prints " ) ) ) \n + \n
src \ jvm \ clojure \ lang \ PersistentList . java \n + public String toString ( ) { \n + return " ( ) " ; \n + } \n + \n test \ clojure \ test _ clojure \ string . clj \n + \n + ( deftest empty - collections \n + ( is ( = " ( ) " ( str ( ) ) ) ) \n + ( is ( = " { } " ( str { } ) ) ) \n + ( is ( = " [ ] " ( str [ ] ) ) ) ) \n
src \ clj \ clojure \ core _ deftype . clj \n - : load - ns - if true , importing the record class will cause the \n - namespace in which the record was defined to be loaded . \n + : load - ns - if true , importing the type class will cause the \n + namespace in which the type was defined to be loaded . \n
core \ jni \ android _ os _ HwBlob . cpp \n - return env - > NewObject ( clazz . get ( ) , constructID , size ) ; \n + / / Cases : \n + / / - this originates from another process ( something so large should not fit \n + / / in the binder buffer , and it should be rejected by the binder driver ) \n + / / - if this is used in process , this code makes too many heap copies ( in \n + / / order to retrofit HIDL ' s scatter - gather format to java types ) to \n + / / justify passing such a large amount of data over this path . So the \n + / / alternative ( updating the constructor and other code to accept other \n + / / types , should also probably not be taken in this case ) . \n + CHECK _ LE ( size , std : : numeric _ limits < jint > : : max ( ) ) ; \n + \n + return env - > NewObject ( clazz . get ( ) , constructID , static _ cast < jint > ( size ) ) ; \n
core \ java \ android \ os \ ServiceManager . java \n + / * * \n + * Get service debug info . \n + * @ return an array of information for each service ( like listServices , but with PIDs ) \n + * @ hide \n + * / \n + public static ServiceDebugInfo [ ] getServiceDebugInfo ( ) { \n + try { \n + return getIServiceManager ( ) . getServiceDebugInfo ( ) ; \n + } catch ( RemoteException e ) { \n + Log . e ( TAG , " error in getServiceDebugInfo " , e ) ; \n + return null ; \n + } \n + } \n + \n core \ java \ android \ os \ ServiceManagerNative . java \n + public ServiceDebugInfo [ ] getServiceDebugInfo ( ) throws RemoteException { \n + return mServiceManager . getServiceDebugInfo ( ) ; \n + } \n + \n services \ core \ java \ com \ android \ server \ Watchdog . java \n + import android . os . ServiceDebugInfo ; \n + public static final String [ ] AIDL _ INTERFACE _ PREFIXES _ OF _ INTEREST = new String [ ] { \n + " android . hardware . light . ILights / " , \n + " android . hardware . power . stats . IPowerStats / " , \n + } ; \n + \n - private static ArrayList < Integer > getInterestingHalPids ( ) { \n + private static void addInterestingHidlPids ( HashSet < Integer > pids ) { \n - HashSet < Integer > pids = new HashSet < > ( ) ; \n - return new ArrayList < Integer > ( pids ) ; \n - return new ArrayList < Integer > ( ) ; \n + Log . w ( TAG , e ) ; \n + } \n + } \n + \n + private static void addInterestingAidlPids ( HashSet < Integer > pids ) { \n + ServiceDebugInfo [ ] infos = ServiceManager . getServiceDebugInfo ( ) ; \n + if ( infos = = null ) return ; \n + \n + for ( ServiceDebugInfo info : infos ) { \n + for ( String prefix : AIDL _ INTERFACE _ PREFIXES _ OF _ INTEREST ) { \n + if ( info . name . startsWith ( prefix ) ) { \n + pids . add ( info . debugPid ) ; \n + } \n + } \n - ArrayList < Integer > pids = getInterestingHalPids ( ) ; \n + HashSet < Integer > pids = new HashSet < > ( ) ; \n + addInterestingAidlPids ( pids ) ; \n + addInterestingHidlPids ( pids ) ; \n - pids . ensureCapacity ( pids . size ( ) + nativePids . length ) ; \n - return pids ; \n + return new ArrayList < Integer > ( pids ) ; \n
telephony \ java \ android \ telephony \ NetworkRegistrationInfo . java \n + p . recycle ( ) ; \n
src \ main \ java \ net \ starlark \ java \ eval \ Eval . java \n - comp . isDict ( ) ? null : StarlarkList . of ( fr . thread . mutability ( ) ) ; \n + comp . isDict ( ) ? null : StarlarkList . newList ( fr . thread . mutability ( ) ) ; \n src \ main \ java \ net \ starlark \ java \ eval \ MethodLibrary . java \n - StarlarkList < Tuple > result = StarlarkList . of ( thread . mutability ( ) ) ; \n + StarlarkList < Tuple > result = StarlarkList . newList ( thread . mutability ( ) ) ; \n src \ main \ java \ net \ starlark \ java \ eval \ StarlarkList . java \n + if ( elems . length = = 0 ) { \n + return newList ( mutability ) ; \n + } \n + \n src \ main \ java \ net \ starlark \ java \ eval \ StringModule . java \n - StarlarkList < String > res = StarlarkList . of ( thread . mutability ( ) ) ; \n + StarlarkList < String > res = StarlarkList . newList ( thread . mutability ( ) ) ; \n - StarlarkList < String > result = StarlarkList . of ( thread . mutability ( ) ) ; \n + StarlarkList < String > result = StarlarkList . newList ( thread . mutability ( ) ) ; \n
src \ main \ java \ net \ starlark \ java \ eval \ Dict . java \n - Object value = get ( key ) ; \n + Starlark . checkMutable ( this ) ; \n + Object value = contents . remove ( key ) ; \n - removeEntry ( key ) ; \n + \n + Starlark . checkHashable ( key ) ; \n + \n src \ test \ java \ net \ starlark \ java \ eval \ ScriptTest . java \n + @ StarlarkMethod ( \n + name = " freeze " , \n + documented = false , \n + parameters = { @ Param ( name = " x " ) } ) \n + public void freeze ( Object x ) throws EvalException { \n + if ( x instanceof Mutability . Freezable ) { \n + ( ( Mutability . Freezable ) x ) . unsafeShallowFreeze ( ) ; \n + } else { \n + throw Starlark . errorf ( " % s value is not freezable " , Starlark . type ( x ) ) ; \n + } \n + } \n + \n - try ( Mutability mu = Mutability . create ( " test " ) ) { \n + try ( Mutability mu = Mutability . createAllowingShallowFreeze ( " test " ) ) { \n src \ test \ java \ net \ starlark \ java \ eval \ testdata \ dict . star \n - - - \n - - - \n + d = { } \n + freeze ( d ) \n + d . pop ( " nonexistent " , " default " ) # # # trying to mutate a frozen dict value \n + - - - \n + { } . pop ( [ ] , 1 ) # # # unhashable type : ' list ' \n + - - - \n
src \ test \ java \ net \ starlark \ java \ eval \ EvaluationTest . java \n - / / TODO ( adonovan ) : add more tests of load . \n + @ Test \n + public void testLoadsBindLocally ( ) throws Exception { \n + Module a = Module . create ( ) ; \n + Starlark . execFile ( \n + ParserInput . fromString ( " x = 1 " , " a . bzl " ) , \n + FileOptions . DEFAULT , \n + a , \n + new StarlarkThread ( Mutability . create ( ) , StarlarkSemantics . DEFAULT ) ) ; \n + \n + StarlarkThread bThread = new StarlarkThread ( Mutability . create ( ) , StarlarkSemantics . DEFAULT ) ; \n + bThread . setLoader ( \n + module - > { \n + assertThat ( module ) . isEqualTo ( " a . bzl " ) ; \n + return a ; \n + } ) ; \n + Module b = Module . create ( ) ; \n + Starlark . execFile ( \n + ParserInput . fromString ( " load ( ' a . bzl ' , ' x ' ) " , " b . bzl " ) , FileOptions . DEFAULT , b , bThread ) ; \n + \n + StarlarkThread cThread = new StarlarkThread ( Mutability . create ( ) , StarlarkSemantics . DEFAULT ) ; \n + cThread . setLoader ( \n + module - > { \n + assertThat ( module ) . isEqualTo ( " b . bzl " ) ; \n + return b ; \n + } ) ; \n + EvalException ex = \n + assertThrows ( \n + EvalException . class , \n + ( ) - > \n + Starlark . execFile ( \n + ParserInput . fromString ( " load ( ' b . bzl ' , ' x ' ) " , " c . bzl " ) , \n + FileOptions . DEFAULT , \n + Module . create ( ) , \n + cThread ) ) ; \n + assertThat ( ex ) . hasMessageThat ( ) . contains ( " file ' b . bzl ' does not contain symbol ' x ' " ) ; \n + } \n
src \ clj \ clojure \ core . clj \n + ( defn requiring - resolve \n + " Resolves namespace - qualified sym per ' resolve ' . If initial resolve \n + fails , attempts to require sym ' s namespace and retries . " \n + { : added " 1 . 10 " } \n + [ sym ] \n + ( if ( qualified - symbol ? sym ) \n + ( or ( resolve sym ) \n + ( do ( - > sym namespace symbol require ) \n + ( resolve sym ) ) ) \n + ( throw ( IllegalArgumentException . ( str " Not a qualified symbol : " sym ) ) ) ) ) \n + \n src \ clj \ clojure \ datafy . clj \n - ( : require [ clojure . core . protocols : as p ] \n - [ clojure . reflect : as refl ] ) ) \n + ( : require [ clojure . core . protocols : as p ] ) ) \n - ( let [ { : keys [ members ] : as ret } ( refl / reflect c ) ] \n - ( assoc ret : name ( - > c . getName symbol ) : members ( - > > members ( group - by : name ) sortmap ) ) ) ) ) \n + ( let [ { : keys [ members ] : as ret } ( ( requiring - resolve ' clojure . reflect / reflect ) c ) ] \n + ( assoc ret : name ( - > c . getName symbol ) : members ( - > > members ( group - by : name ) sortmap ) ) ) ) ) \n
pom . xml \n - < version > 1 . 11 . 0 - master - SNAPSHOT < / version > \n + < version > 1 . 10 . 2 - master - SNAPSHOT < / version > \n - < version > 0 . 2 . 176 < / version > \n + < version > 0 . 2 . 187 < / version > \n
src \ clj \ clojure \ core . clj \n - ( let [ locklocal # lockee # ] \n - ( monitor - enter locklocal # ) \n - ( try \n - ~ @ body \n - ( finally \n - ( monitor - exit locklocal # ) ) ) ) ) ) ) \n + ( monitor - enter lockee # ) \n + ~ @ body \n + ( finally \n + ( monitor - exit lockee # ) ) ) ) ) \n
src \ script \ run _ tests . clj \n + ( System / setProperty " clojure . test . generative . msec " " 60000 " ) \n
src \ jvm \ clojure \ lang \ EdnReader . java \n - static Pattern symbolPat = Pattern . compile ( " [ : ] ? + ( [ \ \ D & & [ ^ / ] ] . * / ) ? ( [ \ \ D & & [ ^ / ] ] [ ^ / ] * ) " ) ; \n + static Pattern symbolPat = Pattern . compile ( " [ : ] ? ( [ \ \ D & & [ ^ / ] ] . * / ) ? ( [ \ \ D & & [ ^ / ] ] [ ^ / ] * ) " ) ; \n src \ jvm \ clojure \ lang \ LispReader . java \n - static Pattern symbolPat = Pattern . compile ( " [ : ] ? + ( [ \ \ D & & [ ^ / ] ] . * / ) ? ( / | [ \ \ D & & [ ^ / ] ] [ ^ / ] * ) " ) ; \n + static Pattern symbolPat = Pattern . compile ( " [ : ] ? ( [ \ \ D & & [ ^ / ] ] . * / ) ? ( / | [ \ \ D & & [ ^ / ] ] [ ^ / ] * ) " ) ; \n test \ clojure \ test _ clojure \ control . clj \n - ( is ( = : one ( case 1N 1 : one : else ) ) ) ) \n + ( is ( = : 1 ( case 1N 1 : 1 : else ) ) ) ) \n - ( are [ result input ] ( = result ( case input 97 : got97 : else ) ) \n + ( are [ result input ] ( = result ( case input 97 : 97 : else ) ) \n - : got97 ( int \ a ) ) \n + : 97 ( int \ a ) ) \n test \ clojure \ test _ clojure \ reader . clj \n - Exception # " Invalid token : : : does . not / exist " " : : does . not / exist " \n - Exception # " Invalid token : : 5 " " : 5 " ) ) \n - \n + Exception # " Invalid token : : : does . not / exist " " : : does . not / exist " ) ) \n
src \ jvm \ clojure \ lang \ LockingTransaction . java \n - Object ret ; \n - if ( t = = null ) { \n - transaction . set ( t = new LockingTransaction ( ) ) ; \n - try { \n - ret = t . run ( fn ) ; \n - } finally { \n - transaction . remove ( ) ; \n - } \n - } else { \n - if ( t . info ! = null ) { \n - ret = fn . call ( ) ; \n - } else { \n - ret = t . run ( fn ) ; \n - } \n - } \n - \n - return ret ; \n + if ( t = = null ) \n + transaction . set ( t = new LockingTransaction ( ) ) ; \n + \n + if ( t . info ! = null ) \n + return fn . call ( ) ; \n + \n + return t . run ( fn ) ; \n src \ jvm \ clojure \ lang \ Var . java \n - Frame f = dvals . get ( ) ; \n - if ( f . prev = = null ) \n - throw new IllegalStateException ( " Pop without matching push " ) ; \n - f = f . prev ; \n - if ( f . prev = = null ) { \n - dvals . remove ( ) ; \n - } else { \n - dvals . set ( f ) ; \n - } \n + Frame f = dvals . get ( ) ; \n + if ( f . prev = = null ) \n + throw new IllegalStateException ( " Pop without matching push " ) ; \n + dvals . set ( f . prev ) ; \n
pom . xml \n + < profile > \n + < id > sonatype - oss - release < / id > \n + < ! - - This profile is enabled automatically by the Sonatype \n + oss - parent POM when invoking the Maven Release Plugin - - > \n + < build > \n + < plugins > \n + < plugin > \n + < groupId > org . apache . maven . plugins < / groupId > \n + < artifactId > maven - deploy - plugin < / artifactId > \n + < version > 2 . 7 < / version > \n + < configuration > \n + < skip > true < / skip > \n + < / configuration > \n + < / plugin > \n + < plugin > \n + < groupId > org . sonatype . plugins < / groupId > \n + < artifactId > nexus - staging - maven - plugin < / artifactId > \n + < version > 1 . 4 . 4 < / version > \n + < executions > \n + < execution > \n + < id > default - deploy < / id > \n + < phase > deploy < / phase > \n + < ! - - By default , this is the phase deploy goal will bind to - - > \n + < goals > \n + < goal > deploy < / goal > \n + < / goals > \n + < / execution > \n + < / executions > \n + < configuration > \n + < ! - - The Base URL of Nexus instance where we want to stage - - > \n + < nexusUrl > https : / / oss . sonatype . org / < / nexusUrl > \n + < ! - - The server " id " element from settings to use authentication from - - > \n + < serverId > sonatype - nexus - staging < / serverId > \n + < / configuration > \n + < / plugin > \n + < / plugins > \n + < / build > \n + < / profile > \n
src \ clj \ clojure \ walk . clj \n + ( instance ? clojure . lang . IRecord form ) \n + ( outer ( reduce ( fn [ r x ] ( conj r ( inner x ) ) ) form form ) ) \n test \ clojure \ test _ clojure \ clojure _ walk . clj \n + ( defrecord Foo [ a b c ] ) \n + \n - ( sorted - map - by > 1 10 , 2 20 , 3 30 ) ] ] \n + ( sorted - map - by > 1 10 , 2 20 , 3 30 ) \n + ( - > Foo 1 2 3 ) \n + ( map - > Foo { : a 1 : b 2 : c 3 : extra 4 } ) ] ] \n
src \ clj \ clojure \ stacktrace . clj \n - " Prints the class and message of a Throwable . " \n + " Prints the class and message of a Throwable . Prints the ex - data map \n + if present . " \n - ( printf " % s : % s " ( . getName ( class tr ) ) ( . getMessage tr ) ) ) \n + ( printf " % s : % s " ( . getName ( class tr ) ) ( . getMessage tr ) ) \n + ( when - let [ info ( ex - data tr ) ] \n + ( newline ) \n + ( pr info ) ) ) \n
LICENSE . md \n - Copyright ( c ) 2014 - 2020 Ilkka Seppälä \n + Copyright ( c ) 2014 - 2021 Ilkka Seppälä \n
. gitignore \n + # # # # # # # # # # # # # # # # # # Eclipse # # # # # # # # # # # # # # # # # # # # # # \n + tmp / \n + * . tmp \n + * . bak \n + * ~ . nib \n + local . properties \n + . loadpath \n + . recommenders \n - # # # Package Files # # # \n + # # # # # # # Java annotation processor ( APT ) # # # # # # # # \n + . factorypath \n + \n + # # # # # # # # # # # # # # # # Package Files # # # # # # # # # # # # # # # # # # \n - . idea \n - * . iml \n - # # # Checkstyle # # # \n + # # # # # # # # # # # # # # # # # # Checkstyle # # # # # # # # # # # # # # # # # # # \n + \n + # # # # # # # # # # # # # # # # # # # # # STS # # # # # # # # # # # # # # # # # # # # # # # \n + . apt _ generated \n + . springBeans \n + . sts4 - cache \n + \n + # # # # # # # # # # # # # # # # # IntelliJ IDEA # # # # # # # # # # # # # # # # # \n + . idea \n + * . iws \n + * . iml \n + * . ipr \n + \n + # # # # # # # # # # # # # # # # # # # NetBeans # # # # # # # # # # # # # # # # # # # # \n + / nbproject / private / \n + / nbbuild / \n + / dist / \n + / nbdist / \n + / . nb - gradle / \n + build / \n + ! * * / src / main / * * / build / \n + ! * * / src / test / * * / build / \n + \n + # # # # # # # # # # # # # # # # # # # # VS Code # # # # # # # # # # # # # # # # # # # # \n + . vscode / \n
pom . xml \n + < sonar - maven - plugin . version > 3 . 8 . 0 . 2131 < / sonar - maven - plugin . version > \n - < version > 3 . 7 . 0 . 1746 < / version > \n + < version > $ { sonar - maven - plugin . version } < / version > \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ util \ FastutilSetHelper . java \n - / / FastutilHashSet is not intended be used for indeterminate values lookup \n - verify ( result ! = null , " result is null " ) ; \n presto - tests \ src \ main \ java \ com \ facebook \ presto \ tests \ AbstractTestQueries . java \n + @ Test \n + public void testInComplexTypes ( ) \n + { \n + / / test cases to trigger the SET _ CONTAINS path of InCodeGenerator . java with complex types \n + StringBuilder query = new StringBuilder ( " select * from ( values ( ' a ' ) , ( null ) ) as t ( name ) where ROW ( ' 1 ' , name ) IN ( " ) ; \n + for ( int i = 2 ; i < 32 ; i + + ) { \n + query . append ( String . format ( " ROW ( ' 1 ' , ' % s ' ) , " , i ) ) ; \n + } \n + query . append ( " ROW ( ' 1 ' , name ) , ROW ( ' 2 ' , name ) , ROW ( ' 3 ' , name ) ) " ) ; \n + assertQuerySucceeds ( query . toString ( ) ) ; \n + \n + query = new StringBuilder ( " select ROW ( null _ value ) IN ( " ) ; \n + for ( int i = 0 ; i < 32 ; i + + ) { \n + query . append ( String . format ( " ROW ( % s ) , " , i ) ) ; \n + } \n + query . append ( " ROW ( 32 ) ) " ) ; \n + query . append ( " FROM ( values ( null ) ) as t ( null _ value ) " ) ; \n + assertQuery ( query . toString ( ) , " SELECT NULL " ) ; \n + } \n + \n
presto - docs \ src \ main \ sphinx \ sql \ analyze . rst \n - - - - - - - - - - - \n + Currently column statistics are only collected for primitive types . \n presto - hive - metastore \ src \ main \ java \ com \ facebook \ presto \ hive \ metastore \ thrift \ ThriftHiveMetastore . java \n + import static org . apache . hadoop . hive . serde2 . objectinspector . ObjectInspector . Category . PRIMITIVE ; \n + . filter ( entry - > table . getColumn ( entry . getKey ( ) ) . get ( ) . getType ( ) . getTypeInfo ( ) . getCategory ( ) = = PRIMITIVE ) \n presto - product - tests \ src \ main \ java \ com \ facebook \ presto \ tests \ hive \ TestHiveTableStatistics . java \n + @ Test \n + public void testAnalyzeForTableWithNonPrimitiveTypes ( ) \n + { \n + String tableName = " test _ analyze _ table _ complex _ types " ; \n + String showStatsTable = " SHOW STATS FOR " + tableName ; \n + \n + query ( " DROP TABLE IF EXISTS " + tableName ) ; \n + query ( " CREATE TABLE " + tableName + " ( c _ row row ( c1 int , c2 int ) , c _ char char , c _ int int ) " ) ; \n + query ( " INSERT INTO " + tableName + " VALUES ( row ( 1 , 2 ) , ' a ' , 3 ) " ) ; \n + \n + assertThat ( query ( " ANALYZE " + tableName ) ) . containsExactly ( row ( 1 ) ) ; \n + assertThat ( query ( showStatsTable ) ) . containsOnly ( \n + row ( " c _ row " , null , null , null , null , null , null ) , \n + row ( " c _ char " , 1 . 0 , 1 . 0 , 0 . 0 , null , null , null ) , \n + row ( " c _ int " , null , 1 . 0 , 0 . 0 , null , " 3 " , " 3 " ) , \n + row ( null , null , null , null , 1 . 0 , null , null ) ) ; \n + } \n + \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ orc \ OrcSelectivePageSourceFactory . java \n - systemMemoryUsage . newOrcAggregatedMemoryContext ( ) , \n + systemMemoryUsage , \n
compiler \ ir \ backend . js \ build . gradle . kts \n + compile ( project ( " : compiler : ir . tree . impl " ) ) \n compiler \ ir \ backend . js \ src \ org \ jetbrains \ kotlin \ ir \ backend \ js \ JsIrBackendContext . kt \n + import org . jetbrains . kotlin . ir . declarations . impl . IrFactoryImpl \n - import org . jetbrains . kotlin . ir . declarations . persistent . PersistentIrFactory \n + override val irFactory : IrFactory = IrFactoryImpl \n - override val irFactory : IrFactory = PersistentIrFactory \n - \n compiler \ ir \ backend . js \ src \ org \ jetbrains \ kotlin \ ir \ backend \ js \ compiler . kt \n + import org . jetbrains . kotlin . ir . declarations . impl . IrFactoryImpl \n + val irFactory = if ( dceDriven ) PersistentIrFactory else IrFactoryImpl \n + \n - loadIr ( project , mainModule , analyzer , configuration , allDependencies , friendDependencies , PersistentIrFactory ) \n + loadIr ( project , mainModule , analyzer , configuration , allDependencies , friendDependencies , irFactory ) \n + irFactory = irFactory \n
compiler \ ir \ backend . js \ src \ org \ jetbrains \ kotlin \ ir \ backend \ js \ lower \ ExportedDefaultParameterStub . kt \n - private fun IrBuilderWithScope . createDefaultResolutionExpression ( value : IrValueParameter ) : IrExpression ? { \n - return value . defaultValue ? . let { defaultValue - > \n + private fun IrBuilderWithScope . createDefaultResolutionExpression ( \n + fromParameter : IrValueParameter , \n + toParameter : IrValueParameter , \n + ) : IrExpression ? { \n + return fromParameter . defaultValue ? . let { defaultValue - > \n - value . type , \n + toParameter . type , \n - irGet ( value ) , \n + irGet ( toParameter ) , \n - irGet ( value ) \n + irGet ( toParameter ) \n - irBuilder . createDefaultResolutionExpression ( valueParameter ) ? . let { initializer - > \n + irBuilder . createDefaultResolutionExpression ( valueParameter , valueParameter ) ? . let { initializer - > \n - val value = createDefaultResolutionExpression ( irValueParameter ) ? : irGet ( irValueParameter ) \n + val exportedParameter = exportedDefaultStubFun . valueParameters [ index ] \n + val value = createDefaultResolutionExpression ( irValueParameter , exportedParameter ) ? : irGet ( exportedParameter ) \n
libraries \ stdlib \ js \ src \ org . w3c \ org . w3c . dom . kt \n - fun createEvent ( param _ interface : String ) : Event \n + fun createEvent ( ` interface ` : String ) : Event \n - public inline fun ElementCreationOptions ( param _ is : String ? = undefined ) : ElementCreationOptions { \n + public inline fun ElementCreationOptions ( ` is ` : String ? = undefined ) : ElementCreationOptions { \n - o [ " is " ] = param _ is \n + o [ " is " ] = ` is ` \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ BuiltInFictitiousFunctionIrClassFactory . kt \n - class FunctionalInterface ( val irClass : IrClass , val arity : Int ) \n + class FunctionalInterface ( val irClass : IrClass , val descriptor : FunctionClassDescriptor , val arity : Int ) \n - val builtFunctionNClasses get ( ) = builtClassesMap . values . mapNotNull { \n - with ( it . descriptor as FunctionClassDescriptor ) { \n + val builtFunctionNClasses get ( ) = builtClassesMap . entries . mapNotNull { ( descriptor , irClass ) - > \n + with ( descriptor ) { \n - FunctionalInterface ( it , arity ) \n + FunctionalInterface ( irClass , descriptor , arity ) \n kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ llvm \ objcexport \ ObjCExportCodeGenerator . kt \n + import org . jetbrains . kotlin . incremental . components . NoLookupLocation \n - methods = listOf ( " equals " , " hashCode " , " toString " ) . map { name - > \n - symbols . any . owner . simpleFunctions ( ) . single { it . name = = Name . identifier ( name ) } \n - } . map { \n - val baseMethod = createObjCMethodSpecBaseMethod ( mapper , namer , it . symbol , it . descriptor ) \n + methods = listOf ( " equals " , " hashCode " , " toString " ) . map { nameString - > \n + val name = Name . identifier ( nameString ) \n + \n + val irFunction = symbols . any . owner . simpleFunctions ( ) . single { it . name = = name } \n + \n + val descriptor = context . builtIns . any . unsubstitutedMemberScope \n + . getContributedFunctions ( name , NoLookupLocation . FROM _ BACKEND ) . single ( ) \n + \n + val baseMethod = createObjCMethodSpecBaseMethod ( mapper , namer , irFunction . symbol , descriptor ) \n - . filter { it . irClass . descriptor . isMappedFunctionClass ( ) } \n + . filter { it . descriptor . isMappedFunctionClass ( ) } \n - } ? : error ( " no implementation for $ { method . descriptor } \ nin $ { irClass . descriptor } " ) \n + } ? : error ( " no implementation for $ { method . render ( ) } \ nin $ { irClass . fqNameWhenAvailable } " ) \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ llvm \ objcexport \ ObjCExportCodeGenerator . kt \n - private fun generateTypeAdapters ( spec : ObjCExportCodeSpec ? ) { \n - val objCTypeAdapters = mutableListOf < ObjCTypeAdapter > ( ) \n + private fun generateTypeAdaptersForKotlinTypes ( spec : ObjCExportCodeSpec ? ) : List < ObjCTypeAdapter > { \n + val types = spec ? . types . orEmpty ( ) + objCClassForAny \n - objCTypeAdapters + = createTypeAdapter ( objCClassForAny , superClass = null ) \n + val allReverseAdapters = createReverseAdapters ( types ) \n + \n + return types . map { \n + val reverseAdapters = allReverseAdapters . getValue ( it ) \n + when ( it ) { \n + objCClassForAny - > { \n + createTypeAdapter ( it , superClass = null , reverseAdapters ) \n + } \n - spec ? . types ? . forEach { \n - objCTypeAdapters + = when ( it ) { \n - createTypeAdapter ( it , superClass ) \n + createTypeAdapter ( it , superClass , reverseAdapters ) \n - is ObjCProtocolForKotlinInterface - > createTypeAdapter ( it , superClass = null ) \n + is ObjCProtocolForKotlinInterface - > createTypeAdapter ( it , superClass = null , reverseAdapters ) \n + } \n + \n + private fun generateTypeAdapters ( spec : ObjCExportCodeSpec ? ) { \n + val objCTypeAdapters = mutableListOf < ObjCTypeAdapter > ( ) \n + \n + objCTypeAdapters + = generateTypeAdaptersForKotlinTypes ( spec ) \n - superClass : ObjCClassForKotlinClass ? \n + superClass : ObjCClassForKotlinClass ? , \n + reverseAdapters : List < ObjCExportCodeGenerator . KotlinToObjCMethodAdapter > \n - val reverseAdapters = mutableListOf < ObjCExportCodeGenerator . KotlinToObjCMethodAdapter > ( ) \n + val additionalReverseAdapters = mutableListOf < ObjCExportCodeGenerator . KotlinToObjCMethodAdapter > ( ) \n - reverseAdapters + = nonOverridableAdapter ( it . baseMethod . selector , hasSelectorAmbiguity = false ) \n + additionalReverseAdapters + = nonOverridableAdapter ( it . baseMethod . selector , hasSelectorAmbiguity = false ) \n - reverseAdapters + = createReverseAdapters ( type ) \n - \n - reverseAdapters \n + reverseAdapters + additionalReverseAdapters \n + private fun ObjCExportCodeGenerator . createReverseAdapters ( \n + types : List < ObjCTypeForKotlinType > \n + ) : Map < ObjCTypeForKotlinType , List < ObjCExportCodeGenerator . KotlinToObjCMethodAdapter > > { \n + return types . associateWith { createReverseAdapters ( it ) } \n + } \n + \n
kotlin - native \ backend . native \ tests \ objcexport \ expectedLazy . h \n + ( KtKotlinArray < KtEmptyEnum * > * ) values _ _ attribute _ _ ( ( swift _ name ( " values ( ) " ) ) ) ; \n + _ _ attribute _ _ ( ( swift _ name ( " FunInterface " ) ) ) \n + @ protocol KtFunInterface \n + @ required \n + - ( int32 _ t ) run _ _ attribute _ _ ( ( swift _ name ( " run ( ) " ) ) ) ; \n + @ end ; \n + \n + _ _ attribute _ _ ( ( objc _ subclassing _ restricted ) ) \n + _ _ attribute _ _ ( ( swift _ name ( " FunInterfacesKt " ) ) ) \n + @ interface KtFunInterfacesKt : KtBase \n + + ( id < KtFunInterface > ) getObject _ _ attribute _ _ ( ( swift _ name ( " getObject ( ) " ) ) ) ; \n + + ( id < KtFunInterface > ) getLambda _ _ attribute _ _ ( ( swift _ name ( " getLambda ( ) " ) ) ) ; \n + @ end ; \n + \n - ( instancetype ) init _ _ attribute _ _ ( ( swift _ name ( " init ( ) " ) ) ) _ _ attribute _ _ ( ( objc _ designated _ initializer ) ) ; \n new file \n kotlin - native \ backend . native \ tests \ objcexport \ funInterfaces . kt \n + package funinterfaces \n + \n + fun interface FunInterface { \n + fun run ( ) : Int \n + } \n + \n + fun getObject ( ) : FunInterface { \n + return object : FunInterface { \n + override fun run ( ) = 1 \n + } \n + } \n + \n + fun getLambda ( ) : FunInterface { \n + return FunInterface { 2 } \n + } \n new file \n kotlin - native \ backend . native \ tests \ objcexport \ funInterfaces . swift \n + import Kt \n + \n + / / Based on https : / / youtrack . jetbrains . com / issue / KT - 44799 . \n + private func testSAMConversion ( ) throws { \n + try assertEquals ( actual : FunInterfacesKt . getObject ( ) . run ( ) , expected : 1 ) \n + try assertEquals ( actual : FunInterfacesKt . getLambda ( ) . run ( ) , expected : 2 ) \n + } \n + \n + class FunInterfacesTests : SimpleTestProvider { \n + override init ( ) { \n + super . init ( ) \n + \n + test ( " TestSAMConversion " , testSAMConversion ) \n + } \n + } \n
kotlin - native \ Interop \ StubGenerator \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ native \ interop \ gen \ jvm \ main . kt \n + import org . jetbrains . kotlin . util . suffixIfNot \n + \n + val nopack = cinteropArguments . nopack \n + val outputPath = cinteropArguments . output . let { \n + val suffix = CompilerOutputKind . LIBRARY . suffix ( tool . target ) \n + if ( nopack ) it . removeSuffixIfPresent ( suffix ) else it . suffixIfNot ( suffix ) \n + } \n + \n - outputPath = cinteropArguments . output , \n + outputPath = outputPath , \n - nopack = cinteropArguments . nopack , \n + nopack = nopack , \n
kotlin - native \ gradle . properties \n - konanVersion = 1 . 5 . 0 \n + konanVersion = 1 . 5 . 20 \n
kotlin - native \ backend . native \ compiler \ ir \ backend . native \ src \ org \ jetbrains \ kotlin \ backend \ konan \ CAdapterGenerator . kt \n - import org . jetbrains . kotlin . ir . util . isEnumClass \n - import org . jetbrains . kotlin . ir . util . isEnumEntry \n + import org . jetbrains . kotlin . utils . addIfNotNull \n - val clazz = TypeUtils . getClassDescriptor ( type ) \n - if ( clazz = = null ) { \n - context . reportCompilationWarning ( " cannot get class for $ type " ) \n - } else { \n - set + = clazz \n - } \n + set . addIfNotNull ( TypeUtils . getClassDescriptor ( type ) ) \n - override fun visitScriptDescriptor ( descriptor : ScriptDescriptor , ignored : Void ? ) : Boolean { \n - context . reportCompilationWarning ( " visitScriptDescriptor ( ) is ignored " ) \n - return true \n - } \n + override fun visitScriptDescriptor ( descriptor : ScriptDescriptor , ignored : Void ? ) = true \n - override fun visitVariableDescriptor ( descriptor : VariableDescriptor , ignored : Void ? ) : Boolean { \n - context . reportCompilationWarning ( " visitVariableDescriptor ( ) is ignored for now " ) \n - return true \n - } \n + override fun visitVariableDescriptor ( descriptor : VariableDescriptor , ignored : Void ? ) = true \n - override fun visitTypeParameterDescriptor ( descriptor : TypeParameterDescriptor , ignored : Void ? ) : Boolean { \n - context . reportCompilationWarning ( " visitTypeParameterDescriptor ( ) is ignored for now " ) \n - return true \n - } \n + override fun visitTypeParameterDescriptor ( descriptor : TypeParameterDescriptor , ignored : Void ? ) = true \n - override fun visitTypeAliasDescriptor ( descriptor : TypeAliasDescriptor , ignored : Void ? ) : Boolean { \n - context . reportCompilationWarning ( " visitTypeAliasDescriptor ( ) is ignored for now " ) \n - return true \n - } \n + override fun visitTypeAliasDescriptor ( descriptor : TypeAliasDescriptor , ignored : Void ? ) = true \n
build . gradle \n - id ' org . jetbrains . kotlin . jvm ' version ' 1 . 3 . 71 ' apply false \n + id ' org . jetbrains . kotlin . jvm ' version ' 1 . 3 . 72 ' apply false \n - mavenBom " org . jetbrains . kotlin : kotlin - bom : 1 . 3 . 71 " \n + mavenBom " org . jetbrains . kotlin : kotlin - bom : 1 . 3 . 72 " \n
spring - core \ src \ main \ java \ org \ springframework \ core \ KotlinDetector . java \n - * Copyright 2002 - 2018 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - import org . apache . commons . logging . Log ; \n - import org . apache . commons . logging . LogFactory ; \n - \n - private static final Log logger = LogFactory . getLog ( KotlinDetector . class ) ; \n - \n - if ( kotlinMetadata ! = null & & ! kotlinReflectPresent ) { \n - logger . info ( " Kotlin reflection implementation not found at runtime , related features won ' t be available . " ) ; \n - } \n
spring - messaging \ src \ test \ kotlin \ org \ springframework \ messaging \ rsocket \ RSocketRequesterExtensionsTests . kt \n - import org . mockito . ArgumentMatchers . anyInt \n - every { builder . connectTcp ( host , anyInt ( ) ) } returns Mono . just ( requester ) \n + every { builder . connectTcp ( host , any ( ) ) } returns Mono . just ( requester ) \n
gradle \ docs . gradle \n - into " spring - framework - reference " \n + into " reference / html " \n - into " spring - framework - reference / pdf " \n + into " reference / pdf " \n
build . gradle \n - id ' org . jetbrains . kotlin . jvm ' version ' 1 . 4 . 21 ' apply false \n + id ' org . jetbrains . kotlin . jvm ' version ' 1 . 4 . 30 ' apply false \n - id " org . jetbrains . kotlin . plugin . serialization " version " 1 . 4 . 21 " apply false \n + id " org . jetbrains . kotlin . plugin . serialization " version " 1 . 4 . 30 " apply false \n - mavenBom " org . jetbrains . kotlin : kotlin - bom : 1 . 4 . 21 " \n + mavenBom " org . jetbrains . kotlin : kotlin - bom : 1 . 4 . 30 " \n
spring - jdbc \ src \ main \ kotlin \ org \ springframework \ jdbc \ core \ JdbcOperationsExtensions . kt \n - * Copyright 2002 - 2020 the original author or authors \n + * Copyright 2002 - 2021 the original author or authors \n + @ Suppress ( " DEPRECATION " ) \n + / / TODO Replace by the vararg variant in Spring Framework 6 \n - queryForObject ( sql , T : : class . java , args ) as T \n + queryForObject ( sql , args , T : : class . java ) as T \n + @ Suppress ( " DEPRECATION " ) \n + / / TODO Replace by the vararg variant in Spring Framework 6 \n - queryForList ( sql , T : : class . java , args ) \n + queryForList ( sql , args , T : : class . java ) \n + \n spring - jdbc \ src \ test \ kotlin \ org \ springframework \ jdbc \ core \ JdbcOperationsExtensionsTests . kt \n - * Copyright 2002 - 2020 the original author or authors \n + * Copyright 2002 - 2021 the original author or authors \n + @ Suppress ( " DEPRECATION " ) \n - val args = arrayOf ( 3 ) \n - every { template . queryForObject ( sql , any < Class < Int > > ( ) , args ) } returns 2 \n + val args = arrayOf ( 3 , 4 ) \n + every { template . queryForObject ( sql , args , any < Class < Int > > ( ) ) } returns 2 \n - verify { template . queryForObject ( sql , any < Class < Int > > ( ) , args ) } \n + verify { template . queryForObject ( sql , args , any < Class < Int > > ( ) ) } \n + @ Suppress ( " DEPRECATION " ) \n - val args = arrayOf ( 3 ) \n - every { template . queryForList ( sql , any < Class < Int > > ( ) , args ) } returns list \n + val args = arrayOf ( 3 , 4 ) \n + every { template . queryForList ( sql , args , any < Class < Int > > ( ) ) } returns list \n - verify { template . queryForList ( sql , any < Class < Int > > ( ) , args ) } \n + verify { template . queryForList ( sql , args , any < Class < Int > > ( ) ) } \n
build . gradle \n - androidGradlePluginVersion = " 3 . 0 . 1 " \n + androidGradlePluginVersion = " 3 . 1 . 3 " \n flexbox \ src \ main \ java \ com \ google \ android \ flexbox \ FlexboxLayoutManager . java \n + import android . support . annotation . NonNull ; \n - public void onItemsAdded ( RecyclerView recyclerView , int positionStart , int itemCount ) { \n + public void onItemsAdded ( @ NonNull RecyclerView recyclerView , int positionStart , int itemCount ) { \n - public void onItemsUpdated ( RecyclerView recyclerView , int positionStart , int itemCount , \n + public void onItemsUpdated ( @ NonNull RecyclerView recyclerView , int positionStart , int itemCount , \n - public void onItemsUpdated ( RecyclerView recyclerView , int positionStart , int itemCount ) { \n + public void onItemsUpdated ( @ NonNull RecyclerView recyclerView , int positionStart , int itemCount ) { \n - public void onItemsRemoved ( RecyclerView recyclerView , int positionStart , int itemCount ) { \n + public void onItemsRemoved ( @ NonNull RecyclerView recyclerView , int positionStart , int itemCount ) { \n - public void onItemsMoved ( RecyclerView recyclerView , int from , int to , int itemCount ) { \n + public void onItemsMoved ( @ NonNull RecyclerView recyclerView , int from , int to , int itemCount ) { \n - int firstVisiblePosition = findFirstVisibleItemPosition ( ) ; \n - if ( firstVisiblePosition < = positionStart & & positionStart < = lastVisiblePosition ) { \n - return ; \n - } \n gradle \ wrapper \ gradle - wrapper . properties \n - # Mon Nov 27 14 : 52 : 10 JST 2017 \n + # Thu Jul 19 22 : 58 : 08 JST 2018 \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 4 . 3 . 1 - all . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 4 . 4 - all . zip \n
README . md \n + * * Note that starting from 1 . 1 . 0 version , the library is expected to use with AndroidX . Please migrate to [ AndroidX ] ( https : / / developer . android . com / jetpack / androidx / migrate ) if you use 1 . 1 . 0 or above . * * \n + \n + * * Please use the versions 1 . 0 . 0 if you haven ' t migrated to AndroidX . * * \n + \n + \n
CONTRIBUTING . md \n - 1 . Use the Project scheme in the Android Studio ( It should be already saved as ` . idea / codeStyleSettings . xml ` and applied as the Project schema ) \n + 1 . From Android Studio or IntelliJ IDEA , navigate to " Preferences " - > " Editor " - > " Code Style " \n + 1 . Select " Import Scheme " by clicking the gear icon next to the Scheme pull down \n + 1 . Choose < root directory of flexbox - layout > / tool / codeStyleSettings . xml \n + 1 . Create a new scheme by typing a scheme name in the " To " edit box or apply to the current scheme . \n rename from . idea \ codeStyleSettings . xml \n rename to tool \ codeStyleSettings . xml \n
flexbox \ src \ androidTest \ java \ com \ google \ android \ flexbox \ FlexboxHelperTest . kt \n + import androidx . core . widget . CompoundButtonCompat \n - val drawableMinWidth = view1 . buttonDrawable ! ! . minimumWidth \n + val drawableMinWidth = CompoundButtonCompat . getButtonDrawable ( view1 ) ! ! . minimumWidth \n
buildSrc \ src \ main \ java \ Libs . kt \n - const val DAGGER _ ANDROID = " com . google . dagger : dagger - android : " \n + const val DAGGER _ ANDROID = " com . google . dagger : dagger - android " \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ sessiondetail \ SessionFeedbackFragment . kt \n - viewModel . userSession . observe ( viewLifecycleOwner , Observer { userSession - > \n + viewModel . userSession . observe ( this , Observer { userSession - > \n
x - pack \ plugin \ core \ src \ main \ java \ org \ elasticsearch \ xpack \ core \ security \ authz \ privilege \ ClusterPrivilegeResolver . java \n - private static final Set < String > MANAGE _ ROLLUP _ PATTERN = Set . of ( " cluster : admin / xpack / rollup / * " , " cluster : monitor / xpack / rollup / * " , \n - " indices : admin / xpack / rollup " ) ; \n + private static final Set < String > MANAGE _ ROLLUP _ PATTERN = Set . of ( " cluster : admin / xpack / rollup / * " , " cluster : monitor / xpack / rollup / * " ) ; \n
x - pack \ plugin \ rollup \ src \ test \ java \ org \ elasticsearch \ xpack \ rollup \ v2 \ RollupActionSingleNodeTests . java \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 69506 " ) \n
x - pack \ plugin \ ilm \ src \ main \ java \ org \ elasticsearch \ xpack \ ilm \ IndexLifecycleService . java \n - private final ILMHistoryStore ilmHistoryStore ; \n - this . ilmHistoryStore = ilmHistoryStore ; \n
server \ src \ main \ java \ org \ elasticsearch \ repositories \ blobstore \ FileRestoreContext . java \n + import static org . elasticsearch . index . IndexModule . INDEX _ STORE _ TYPE _ SETTING ; \n - / / read the snapshot data persisted \n - Lucene . pruneUnreferencedFiles ( restoredSegmentsFile . name ( ) , store . directory ( ) ) ; \n + final String indexStoreType = INDEX _ STORE _ TYPE _ SETTING . get ( store . indexSettings ( ) . getSettings ( ) ) ; \n + if ( " snapshot " . equals ( indexStoreType ) = = false ) { \n + Lucene . pruneUnreferencedFiles ( restoredSegmentsFile . name ( ) , store . directory ( ) ) ; \n + } \n - throw new IndexShardRestoreFailedException ( shardId , " Failed to fetch index version after copying it over " , e ) ; \n + throw new IndexShardRestoreFailedException ( shardId , " Failed to remove files not referenced in segment file [ " \n + + restoredSegmentsFile . name ( ) + " ] after restore " , e ) ; \n
x - pack \ plugin \ searchable - snapshots \ src \ main \ java \ org \ elasticsearch \ xpack \ searchablesnapshots \ cache \ CacheService . java \n - assert success : " shard eviction should be successful : " + shardEviction ; \n
x - pack \ plugin \ searchable - snapshots \ src \ test \ java \ org \ elasticsearch \ xpack \ searchablesnapshots \ cache \ CacheServiceTests . java \n - assumeFalse ( " https : / / github . com / elastic / elasticsearch / issues / 65543 " , Constants . WINDOWS ) ; \n - ( dir , expectedNumberOfFSyncs ) - > assertThat ( fileSystemProvider . getNumberOfFSyncs ( dir ) , equalTo ( expectedNumberOfFSyncs ) ) \n + ( dir , expectedNumberOfFSyncs ) - > assertThat ( \n + fileSystemProvider . getNumberOfFSyncs ( dir ) , \n + Constants . WINDOWS ? nullValue ( ) : equalTo ( expectedNumberOfFSyncs ) \n + ) \n
dubbo - config \ dubbo - config - spring \ src \ main \ java \ org \ apache \ dubbo \ config \ spring \ schema \ DubboBeanDefinitionParser . java \n + private static final String ONRETURN = " onreturn " ; \n + private static final String ONTHROW = " onthrow " ; \n + private static final String ONINVOKE = " oninvoke " ; \n + private static final String METHOD = " Method " ; \n - } else if ( " onreturn " . equals ( property ) ) { \n + } else if ( ONRETURN . equals ( property ) | | ONTHROW . equals ( property ) | | ONINVOKE . equals ( property ) ) { \n - String returnRef = value . substring ( 0 , index ) ; \n - String returnMethod = value . substring ( index + 1 ) ; \n - reference = new RuntimeBeanReference ( returnRef ) ; \n - beanDefinition . getPropertyValues ( ) . addPropertyValue ( " onreturnMethod " , returnMethod ) ; \n - } else if ( " onthrow " . equals ( property ) ) { \n - int index = value . lastIndexOf ( " . " ) ; \n - String throwRef = value . substring ( 0 , index ) ; \n - String throwMethod = value . substring ( index + 1 ) ; \n - reference = new RuntimeBeanReference ( throwRef ) ; \n - beanDefinition . getPropertyValues ( ) . addPropertyValue ( " onthrowMethod " , throwMethod ) ; \n - } else if ( " oninvoke " . equals ( property ) ) { \n - int index = value . lastIndexOf ( " . " ) ; \n - String invokeRef = value . substring ( 0 , index ) ; \n - String invokeRefMethod = value . substring ( index + 1 ) ; \n - reference = new RuntimeBeanReference ( invokeRef ) ; \n - beanDefinition . getPropertyValues ( ) . addPropertyValue ( " oninvokeMethod " , invokeRefMethod ) ; \n + String ref = value . substring ( 0 , index ) ; \n + String method = value . substring ( index + 1 ) ; \n + reference = new RuntimeBeanReference ( ref ) ; \n + beanDefinition . getPropertyValues ( ) . addPropertyValue ( property + METHOD , method ) ; \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ common \ extension \ support \ ActivateComparator . java \n - if ( clazz . getInterfaces ( ) . length < = 0 ) { \n + if ( clazz . getInterfaces ( ) . length = = 0 ) { \n
dubbo - cluster \ src \ main \ java \ org \ apache \ dubbo \ rpc \ cluster \ support \ AvailableCluster . java \n - import org . apache . dubbo . rpc . Invocation ; \n - import org . apache . dubbo . rpc . Result ; \n - import org . apache . dubbo . rpc . cluster . LoadBalance ; \n - \n - import java . util . List ; \n - \n - return new AbstractClusterInvoker < T > ( directory ) { \n - @ Override \n - public Result doInvoke ( Invocation invocation , List < Invoker < T > > invokers , LoadBalance loadbalance ) throws RpcException { \n - for ( Invoker < T > invoker : invokers ) { \n - if ( invoker . isAvailable ( ) ) { \n - return invoker . invoke ( invocation ) ; \n - } \n - } \n - throw new RpcException ( " No provider available in " + invokers ) ; \n - } \n - } ; \n - \n + return new AvailableClusterInvoker < > ( directory ) ; \n
src \ clj \ clojure \ core \ reducers . clj \n - ( : refer - clojure : exclude [ reduce map filter remove take take - while drop flatten ] ) \n + ( : refer - clojure : exclude [ reduce map mapcat filter remove take take - while drop flatten ] ) \n + ( defcurried mapcat \n + " Applies f to every value in the reduction of coll , concatenating the result \n + colls of ( f val ) . Foldable . " \n + { : added " 1 . 5 " } \n + [ f coll ] \n + ( folder coll \n + ( fn [ f1 ] \n + ( rfn [ f1 k ] \n + ( [ ret k v ] \n + ( reduce f1 ret ( f k v ) ) ) ) ) ) ) \n + \n
src \ script \ run _ tests . clj \n + clojure . test - clojure . reducers \n new file \n test \ clojure \ test _ clojure \ reducers . clj \n + ; Copyright ( c ) Rich Hickey . All rights reserved . \n + ; The use and distribution terms for this software are covered by the \n + ; Eclipse Public License 1 . 0 ( http : / / opensource . org / licenses / eclipse - 1 . 0 . php ) \n + ; which can be found in the file epl - v10 . html at the root of this distribution . \n + ; By using this software in any fashion , you are agreeing to be bound by \n + ; the terms of this license . \n + ; You must not remove this notice , or any other , from this software . \n + \n + ; ; Author : Tassilo Horn \n + \n + ( ns clojure . test - clojure . reducers \n + ( : require [ clojure . core . reducers : as r ] ) \n + ( : use clojure . test ) ) \n + \n + ( defmacro defequivtest \n + ; ; f is the core fn , r is the reducers equivalent , rt is the reducible - > \n + ; ; coll transformer \n + [ name [ f r rt ] fns ] \n + ` ( deftest ~ name \n + ( let [ c # ( range - 100 1000 ) ] \n + ( doseq [ fn # ~ fns ] \n + ( is ( = ( ~ f fn # c # ) \n + ( ~ rt ( ~ r fn # c # ) ) ) ) ) ) ) ) \n + \n + ( defequivtest test - map \n + [ map r / map # ( into [ ] % ) ] \n + [ inc dec # ( Math / sqrt ( Math / abs % ) ) ] ) \n + \n + ( defequivtest test - mapcat \n + [ mapcat r / mapcat # ( into [ ] % ) ] \n + [ ( fn [ x ] [ x ] ) \n + ( fn [ x ] [ x ( inc x ) ] ) \n + ( fn [ x ] [ x ( inc x ) x ] ) ] ) \n + \n + ( defequivtest test - reduce \n + [ reduce r / reduce identity ] \n + [ + ' * ' ] ) \n + \n + ( defequivtest test - filter \n + [ filter r / filter # ( into [ ] % ) ] \n + [ even ? odd ? # ( < 200 % ) identity ] ) \n
src \ clj \ clojure \ core _ deftype . clj \n + ( defn ^ : private throw - on - varargs \n + " Throws an exception if arglist contains a varargs declaration . \n + Protocol / interface method impls defined with deftype , defrecord , and reify \n + don ' t support varags . " \n + [ arglist ] \n + ( when ( some # ( = ' & % ) arglist ) \n + ( throw ( IllegalArgumentException . \n + " No varargs support for definterface and defprotocol method sigs ; \n + ditto for method impls defined with deftype , defrecord , and reify . " ) ) ) ) \n + \n + ( defn ^ : private throw - on - varargs - or - destr \n + " Throws an exception if arglist contains a varargs declaration or a \n + destructuring form . \n + Protocol / interface method signatures shouldn ' t use varargs / destructuring . " \n + [ arglist ] \n + ( when ( some # ( or ( = ' & % ) ( coll ? % ) ) arglist ) \n + ( throw ( IllegalArgumentException . \n + " No varargs nor destructuring support for definterface and defprotocol method sigs . " ) ) ) ) \n + \n + ( throw - on - varargs - or - destr args ) \n + ( throw - on - varargs params ) \n + ( doseq [ arglist arglists ] \n + ( throw - on - varargs - or - destr arglist ) ) \n
library \ src \ com \ slidingmenu \ lib \ SlidingMenu . java \n - if ( b ) { \n + boolean isTablet = getResources ( ) . getBoolean ( R . bool . isTablet ) ; \n + if ( b & & ! isTablet ) { \n
example \ project . properties \n - target = android - 14 \n + target = Google Inc . : Google APIs : 16 \n library \ project . properties \n - target = Google Inc . : Google APIs : 10 \n + target = Google Inc . : Google APIs : 16 \n
example \ project . properties \n - target = android - 14 \n + target = Google Inc . : Google APIs : 16 \n library \ project . properties \n - target = Google Inc . : Google APIs : 10 \n + target = Google Inc . : Google APIs : 16 \n
compiler \ src \ main \ java \ dagger \ internal \ codegen \ InjectProcessor . java \n - import javax . lang . model . element . ElementKind ; \n - constructor = findNoArgsConstructor ( type ) ; \n + constructor = CodeGen . getNoArgsConstructor ( type ) ; \n + if ( constructor ! = null & & ! CodeGen . isCallableConstructor ( constructor ) ) { \n + constructor = null ; \n + } \n - / * * \n - * Returns the no args constructor for { @ code typeElement } , or null if no such \n - * constructor exists . \n - * / \n - private ExecutableElement findNoArgsConstructor ( TypeElement typeElement ) { \n - for ( Element element : typeElement . getEnclosedElements ( ) ) { \n - if ( element . getKind ( ) ! = ElementKind . CONSTRUCTOR ) { \n - continue ; \n - } \n - ExecutableElement constructor = ( ExecutableElement ) element ; \n - if ( constructor . getParameters ( ) . isEmpty ( ) ) { \n - if ( constructor . getModifiers ( ) . contains ( Modifier . PRIVATE ) ) { \n - return null ; \n - } else { \n - return constructor ; \n - } \n - } \n - } \n - return null ; \n - } \n
new file \n compiler \ src \ it \ include - non - module \ invoker . properties \n + invoker . buildResult = failure \n
compiler \ src \ main \ java \ dagger \ internal \ codegen \ AtInjectBinding . java \n + import java . util . Collections ; \n - for ( Binding < ? > binding : bindings ) { \n - get . add ( binding ) ; \n - } \n + Collections . addAll ( get , bindings ) ; \n compiler \ src \ main \ java \ dagger \ internal \ codegen \ FullGraphProcessor . java \n + import java . util . Collections ; \n - for ( Binding < ? > binding : parameters ) { \n - get . add ( binding ) ; \n - } \n + Collections . addAll ( get , parameters ) ; \n compiler \ src \ main \ java \ dagger \ internal \ codegen \ InjectProcessor . java \n - return interfaces . toArray ( new String [ 0 ] ) ; \n + return interfaces . toArray ( new String [ interfaces . size ( ) ] ) ; \n compiler \ src \ main \ java \ dagger \ internal \ codegen \ JavaWriter . java \n - StringBuffer sb = new StringBuffer ( ) ; \n + StringBuilder sb = new StringBuilder ( ) ; \n compiler \ src \ main \ java \ dagger \ internal \ codegen \ ProvidesProcessor . java \n - if ( parameter . getSimpleName ( ) . equals ( " module " ) ) { \n + if ( parameter . getSimpleName ( ) . contentEquals ( " module " ) ) { \n core \ src \ main \ java \ dagger \ internal \ SetBinding . java \n + @ SuppressWarnings ( " unchecked " ) \n
extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ data \ extensions . xml \n - < version > 1 . 2 . 0 < / version > \n + < version > 1 . 2 . 1 < / version > \n
extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ data \ extensions . xml \n - < version > 1 . 3 . 0 < / version > \n + < version > 1 . 4 . 0 < / version > \n
extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ data \ extensions . xml \n - < ios - moe > < / ios - moe > \n + < ios - moe > \n + < dependency > de . tomgrill . gdxfacebook : gdx - facebook - ios - moe < / dependency > \n + < / ios - moe > \n
src \ main \ java \ io \ vertx \ core \ http \ RequestOptions . java \n + setFollowRedirects ( other . followRedirects ) ; \n
src \ main \ java \ io \ vertx \ core \ impl \ VertxImpl . java \n - * Copyright ( c ) 2011 - 2019 Contributors to the Eclipse Foundation \n + * Copyright ( c ) 2011 - 2021 Contributors to the Eclipse Foundation \n - synchronized ( VertxImpl . this ) { \n - if ( refCount > 0 ) { \n - refCount = 0 ; \n - super . close ( ) ; \n - } \n - } \n - } \n - \n - void release ( ) { \n src \ main \ java \ io \ vertx \ core \ impl \ WorkerExecutorImpl . java \n - * Copyright ( c ) 2011 - 2019 Contributors to the Eclipse Foundation \n + * Copyright ( c ) 2011 - 2021 Contributors to the Eclipse Foundation \n - pool . release ( ) ; \n + pool . close ( ) ; \n src \ test \ java \ io \ vertx \ core \ NamedWorkerPoolTest . java \n - * Copyright ( c ) 2011 - 2019 Contributors to the Eclipse Foundation \n + * Copyright ( c ) 2011 - 2021 Contributors to the Eclipse Foundation \n + \n + @ Test \n + public void testReuseWorkerPoolNameAfterVerticleIsUndeployed ( ) throws Exception { \n + CountDownLatch deployLatch1 = new CountDownLatch ( 1 ) ; \n + AtomicReference < String > ref = new AtomicReference < > ( ) ; \n + vertx . deployVerticle ( new AbstractVerticle ( ) { \n + @ Override \n + public void start ( Promise < Void > startPromise ) { \n + vertx . executeBlocking ( Promise : : complete , startPromise ) ; \n + } \n + } , new DeploymentOptions ( ) . setWorkerPoolName ( " foo " ) , onSuccess ( id - > { \n + ref . set ( id ) ; \n + deployLatch1 . countDown ( ) ; \n + } ) ) ; \n + awaitLatch ( deployLatch1 ) ; \n + \n + CountDownLatch unDeployLatch = new CountDownLatch ( 1 ) ; \n + vertx . undeploy ( ref . get ( ) , onSuccess ( v - > unDeployLatch . countDown ( ) ) ) ; \n + awaitLatch ( unDeployLatch ) ; \n + \n + CountDownLatch deployLatch2 = new CountDownLatch ( 1 ) ; \n + vertx . deployVerticle ( new AbstractVerticle ( ) { \n + @ Override \n + public void start ( Promise < Void > startPromise ) { \n + vertx . executeBlocking ( Promise : : complete , startPromise ) ; \n + } \n + } , new DeploymentOptions ( ) . setWorkerPoolName ( " foo " ) , onSuccess ( id - > { \n + deployLatch2 . countDown ( ) ; \n + } ) ) ; \n + awaitLatch ( deployLatch2 ) ; \n + } \n
src \ main \ java \ io \ vertx \ core \ http \ impl \ Http1xServerRequest . java \n - decoder = new HttpPostRequestDecoder ( new NettyFileUploadDataFactory ( conn . getContext ( ) , this , ( ) - > uploadHandler ) , request ) ; \n + decoder = new HttpPostRequestDecoder ( new NettyFileUploadDataFactory ( context , this , ( ) - > uploadHandler ) , request ) ; \n src \ test \ java \ io \ vertx \ core \ http \ HttpServerFileUploadTest . java \n + import io . vertx . core . Context ; \n + Context requestContext = vertx . getOrCreateContext ( ) ; \n - assertNotNull ( Vertx . currentContext ( ) ) ; \n + Context uploadContext = Vertx . currentContext ( ) ; \n + assertNotNull ( uploadContext ) ; \n + assertSame ( requestContext , uploadContext ) ; \n
tls \ pom . xml \n - < version > 1 . 14 . 0 - SNAPSHOT < / version > \n + < version > 1 . 15 . 0 - SNAPSHOT < / version > \n
tls \ src \ main \ java \ com \ iluwatar \ tls \ App . java \n - / / no action here \n + System . out . println ( " Abnormal end of program . Program throws exception : " ) ; \n
tls \ src \ main \ java \ com \ iluwatar \ tls \ App . java \n - System . out . println ( " Abnormal end of program . Program throws exception : " ) ; \n + System . out . println ( " Abnormal end of program . Program throws exception : " + e ) ; \n
services \ core \ java \ com \ android \ server \ locksettings \ ResumeOnRebootServiceProvider . java \n + mBinder = null ; \n
services \ core \ java \ com \ android \ server \ locksettings \ LockSettingsShellCommand . java \n + pw . println ( " " ) ; \n + " provider . " ) ; \n
core \ java \ android \ os \ RecoverySystem . java \n + import android . app . KeyguardManager ; \n - * and ready to apply the OTA . This API is expected to handle requests from multiple clients \n - * simultaneously , e . g . from ota and mainline . \n + * and ready to apply the OTA . < p > \n - * < p > The behavior of multi - client Resume on Reboot works as follows \n + * < p > If the device doesn ' t setup a lock screen , i . e . by checking \n + * { @ link KeyguardManager # isKeyguardSecure ( ) } , this API call will fail and throw an exception . \n + * Callers are expected to use { @ link PowerManager # reboot ( String ) } directly without going \n + * through the RoR flow . < p > \n + * \n + * < p > This API is expected to handle requests from multiple clients simultaneously , e . g . \n + * from ota and mainline . The behavior of multi - client Resume on Reboot works as follows \n + \n + KeyguardManager keyguardManager = context . getSystemService ( KeyguardManager . class ) ; \n + if ( keyguardManager = = null | | ! keyguardManager . isDeviceSecure ( ) ) { \n + throw new IOException ( " Failed to request LSKF because the device doesn ' t have a " \n + + " lock screen . " ) ; \n + } \n + \n
src \ main \ java \ org \ junit \ runners \ Parameterized . java \n - List < Runner > runners = new ArrayList < Runner > ( ) ; \n + List < Runner > children = new ArrayList < Runner > ( ) ; \n - runners . add ( createRunner ( namePattern , i + + , parametersOfSingleTest ) ) ; \n + children . add ( createRunner ( namePattern , i + + , parametersOfSingleTest ) ) ; \n - return runners ; \n + return children ; \n src \ main \ java \ org \ junit \ runners \ ParentRunner . java \n - List < TestRule > result = new ArrayList < TestRule > ( fTestClass . getAnnotatedMethodValues ( null , ClassRule . class , TestRule . class ) ) ; \n - \n + List < TestRule > result = fTestClass . getAnnotatedMethodValues ( null , ClassRule . class , TestRule . class ) ; \n + result = new ArrayList < TestRule > ( result ) ; \n - \n src \ main \ java \ org \ junit \ runners \ model \ TestClass . java \n - Object fieldValue = each . invokeExplosively ( test , new Object [ ] { } ) ; \n + Object fieldValue = each . invokeExplosively ( test ) ; \n
pom . xml \n + < testSource > $ { jdkVersion } < / testSource > \n + < testTarget > $ { jdkVersion } < / testTarget > \n
pom . xml \n + < profile > \n + < id > fast - tests < / id > \n + < build > \n + < plugins > \n + < plugin > \n + < artifactId > maven - surefire - plugin < / artifactId > \n + < configuration > \n + < parallel > classes < / parallel > \n + < threadCountClasses > 2 < / threadCountClasses > \n + < / configuration > \n + < dependencies > \n + < dependency > \n + < groupId > org . apache . maven . surefire < / groupId > \n + < artifactId > surefire - junit47 < / artifactId > \n + < version > 2 . 17 < / version > \n + < / dependency > \n + < / dependencies > \n + < / plugin > \n + < / plugins > \n + < / build > \n + < / profile > \n
tools \ setup . sh \n + # Copyright 2019 Google LLC \n + # \n + # Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + # you may not use this file except in compliance with the License . \n + # You may obtain a copy of the License at \n + # \n + # https : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + # \n + # Unless required by applicable law or agreed to in writing , software \n + # distributed under the License is distributed on an " AS IS " BASIS , \n + # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + # See the License for the specific language governing permissions and \n + # limitations under the License . \n + \n
. travis . yml \n - rm - f $ HOME / . gradle / caches / modules - 2 / modules - 2 . lock \n - - yes | sdkmanager " platforms ; android - 28 " \n + - yes | sdkmanager " platforms ; android - 29 " \n - yes | sdkmanager " build - tools ; 29 . 0 . 2 " \n
core \ java \ android \ app \ Activity . java \n - * The < a href = " https : / / github . com / googlesamples / android - RuntimePermissions " > \n - * RuntimePermissions < / a > sample app demonstrates how to use this method to \n + * The < a href = " https : / / github . com / android / permissions - samples " > \n + * RuntimePermissions < / a > sample apps demonstrate how to use this method to \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ server \ protocol \ Query . java \n - Optional < QueryResults > cachedResult = getCachedResult ( token , uriInfo ) ; \n + String requestedPath = uriInfo . getAbsolutePath ( ) . getPath ( ) ; \n + Optional < QueryResults > cachedResult = getCachedResult ( token , requestedPath ) ; \n - private synchronized Optional < QueryResults > getCachedResult ( long token , UriInfo uriInfo ) \n + private synchronized Optional < QueryResults > getCachedResult ( long token , String requestedPath ) \n - String requestedPath = uriInfo . getAbsolutePath ( ) . getPath ( ) ; \n - Optional < QueryResults > cachedResult = getCachedResult ( token , uriInfo ) ; \n + String requestedPath = uriInfo . getAbsolutePath ( ) . getPath ( ) ; \n + Optional < QueryResults > cachedResult = getCachedResult ( token , requestedPath ) ; \n - cacheLastResults ( queryResults ) ; \n + cacheLastResults ( queryResults , requestedPath ) ; \n - private synchronized void cacheLastResults ( QueryResults queryResults ) \n + private synchronized void cacheLastResults ( QueryResults queryResults , String requestedPath ) \n - / / cache the last results \n - if ( lastResult ! = null & & lastResult . getNextUri ( ) ! = null ) { \n - lastResultPath = lastResult . getNextUri ( ) . getPath ( ) ; \n - } \n - else { \n - lastResultPath = null ; \n - } \n + lastResultPath = requestedPath ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ dispatcher \ DispatchManager . java \n + import com . facebook . presto . execution . QueryManagerStats ; \n - import com . facebook . presto . execution . SqlQueryManagerStats ; \n - private final SqlQueryManagerStats stats = new SqlQueryManagerStats ( ) ; \n + private final QueryManagerStats stats = new QueryManagerStats ( ) ; \n - public SqlQueryManagerStats getStats ( ) \n + public QueryManagerStats getStats ( ) \n presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ QueryManager . java \n - SqlQueryManagerStats getStats ( ) ; \n + QueryManagerStats getStats ( ) ; \n rename from presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ SqlQueryManagerStats . java \n rename to presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ QueryManagerStats . java \n - public class SqlQueryManagerStats \n + public class QueryManagerStats \n presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ SqlQueryManager . java \n - private final SqlQueryManagerStats stats = new SqlQueryManagerStats ( ) ; \n + private final QueryManagerStats stats = new QueryManagerStats ( ) ; \n - public SqlQueryManagerStats getStats ( ) \n + public QueryManagerStats getStats ( ) \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ dispatcher \ QueuedStatementResource . java \n - private final ScheduledExecutorService queryPurger = newSingleThreadScheduledExecutor ( threadsNamed ( " query - purger " ) ) ; \n + private final ScheduledExecutorService queryPurger = newSingleThreadScheduledExecutor ( threadsNamed ( " dispatch - query - purger " ) ) ; \n presto - main \ src \ main \ java \ com \ facebook \ presto \ server \ protocol \ ExecutingStatementResource . java \n + import com . facebook . airlift . log . Logger ; \n + import javax . annotation . PreDestroy ; \n + import static com . facebook . airlift . concurrent . Threads . threadsNamed ; \n + import static java . util . concurrent . Executors . newSingleThreadScheduledExecutor ; \n + import static java . util . concurrent . TimeUnit . MILLISECONDS ; \n + private static final Logger log = Logger . get ( ExecutingStatementResource . class ) ; \n + private final ScheduledExecutorService queryPurger = newSingleThreadScheduledExecutor ( threadsNamed ( " execution - query - purger " ) ) ; \n + \n + queryPurger . scheduleWithFixedDelay ( \n + ( ) - > { \n + try { \n + for ( Entry < QueryId , Query > entry : queries . entrySet ( ) ) { \n + / / forget about this query if the query manager is no longer tracking it \n + try { \n + queryManager . getQueryState ( entry . getKey ( ) ) ; \n + } \n + catch ( NoSuchElementException e ) { \n + / / query is no longer registered \n + queries . remove ( entry . getKey ( ) ) ; \n + } \n + } \n + } \n + catch ( Throwable e ) { \n + log . warn ( e , " Error removing old queries " ) ; \n + } \n + } , \n + 200 , \n + 200 , \n + MILLISECONDS ) ; \n + } \n + \n + @ PreDestroy \n + public void stop ( ) \n + { \n + queryPurger . shutdownNow ( ) ; \n
presto - docs \ src \ main \ sphinx \ release . rst \n + release / release - 0 . 234 . 3 \n new file \n presto - docs \ src \ main \ sphinx \ release \ release - 0 . 234 . 3 . rst \n + = = = = = = = = = = = = = = = \n + Release 0 . 234 . 3 \n + = = = = = = = = = = = = = = = \n + \n + General Changes \n + _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n + * Fix an issue where queries may potentially queue indefinitely . \n + * Fix a performance regression in JDK versions 13 and below by disabling memory allocation tracking by default . \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ dispatcher \ FailedDispatchQuery . java \n - @ Override \n - public int getRunningTaskCount ( ) \n - { \n - return 0 ; \n - } \n - \n presto - main \ src \ main \ java \ com \ facebook \ presto \ dispatcher \ LocalDispatchQuery . java \n - @ Override \n - public int getRunningTaskCount ( ) \n - { \n - return stateMachine . getCurrentRunningTaskCount ( ) ; \n - } \n - \n presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ QueryExecution . java \n + int getRunningTaskCount ( ) ; \n + \n presto - main \ src \ main \ java \ com \ facebook \ presto \ execution \ QueryTracker . java \n - if ( query . isDone ( ) ) { \n + if ( query . isDone ( ) | | ! ( query instanceof QueryExecution ) ) { \n - int runningTaskCount = query . getRunningTaskCount ( ) ; \n + int runningTaskCount = ( ( QueryExecution ) query ) . getRunningTaskCount ( ) ; \n - int getRunningTaskCount ( ) ; \n - \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ SystemSessionProperties . java \n + public static final String TARGET _ RESULT _ SIZE = " target _ result _ size " ; \n - false ) ) ; \n + false ) , \n + new PropertyMetadata < > ( \n + TARGET _ RESULT _ SIZE , \n + " Target result size for results being streamed from coordinator " , \n + VARCHAR , \n + DataSize . class , \n + null , \n + false , \n + value - > value ! = null ? DataSize . valueOf ( ( String ) value ) : null , \n + value - > value ! = null ? value . toString ( ) : null ) ) ; \n + \n + public static Optional < DataSize > getTargetResultSize ( Session session ) \n + { \n + return Optional . ofNullable ( session . getSystemProperty ( TARGET _ RESULT _ SIZE , DataSize . class ) ) ; \n + } \n presto - main \ src \ main \ java \ com \ facebook \ presto \ server \ protocol \ Query . java \n + import javax . ws . rs . core . UriBuilder ; \n + import static com . facebook . presto . SystemSessionProperties . getTargetResultSize ; \n - return uriInfo . getBaseUriBuilder ( ) \n + UriBuilder uri = uriInfo . getBaseUriBuilder ( ) \n - . queryParam ( " slug " , slug ) \n - . build ( ) ; \n + . queryParam ( " slug " , this . slug ) ; \n + Optional < DataSize > targetResultSize = getTargetResultSize ( session ) ; \n + if ( targetResultSize . isPresent ( ) ) { \n + uri = uri . queryParam ( " targetResultSize " , targetResultSize . get ( ) ) ; \n + } \n + return uri . build ( ) ; \n
server \ src \ main \ java \ org \ elasticsearch \ cluster \ metadata \ MetadataIndexTemplateService . java \n + import java . util . TreeMap ; \n - Map < String , List < String > > overlappingTemplates = new HashMap < > ( ) ; \n + Map < String , List < String > > overlappingTemplates = new TreeMap < > ( ) ; \n
modules \ transport - netty4 \ src \ javaRestTest \ java \ org \ elasticsearch \ rest \ Netty4HeadBodyIsEmptyIT . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 66820 " ) \n - " [ ilm - history , . triggered _ watches , . watch - history - 14 , . slm - history , synthetics , metrics , . deprecation - indexing - template , " + \n - " . watches , logs ] with patterns ( ilm - history = > [ ilm - history - 5 * ] , . triggered _ watches = > [ . triggered _ watches * ] , " + \n - " . watch - history - 14 = > [ . watcher - history - 14 * ] , . slm - history = > [ . slm - history - 5 * ] , synthetics = > [ synthetics - * - * ] " + \n - " , metrics = > [ metrics - * - * ] , . deprecation - indexing - template = > [ . logs - deprecation - elasticsearch ] , " + \n - " . watches = > [ . watches * ] , logs = > [ logs - * - * ] ) ; this template [ template ] may be ignored in favor " + \n - " of a composable template at index creation time " ) ) ; \n - } \n + " [ . deprecation - indexing - template , . slm - history , . triggered _ watches , . watch - history - 14 , . watches , ilm - history , logs , " + \n + " metrics , synthetics ] with patterns ( . deprecation - indexing - template = > [ . logs - deprecation - elasticsearch ] , " + \n + " . slm - history = > [ . slm - history - 5 * ] , . triggered _ watches = > [ . triggered _ watches * ] , " + \n + " . watch - history - 14 = > [ . watcher - history - 14 * ] , . watches = > [ . watches * ] , ilm - history = > [ ilm - history - 5 * ] , " + \n + " logs = > [ logs - * - * ] , metrics = > [ metrics - * - * ] , synthetics = > [ synthetics - * - * ] " + \n + " ) ; this template [ template ] may be ignored in favor of a composable template at index creation time " ) ) ; \n + } \n
x - pack \ plugin \ security \ src \ main \ java \ org \ elasticsearch \ xpack \ security \ authc \ TokenService . java \n + logger . debug ( " Found superseding document : index = [ { } ] id = [ { } ] primTerm = [ { } ] seqNo = [ { } ] " , \n + response . getIndex ( ) , response . getId ( ) , response . getPrimaryTerm ( ) , response . getSeqNo ( ) ) ; \n - onFailure . accept ( new IllegalStateException ( " token document is missing and must be present " ) ) ; \n + / / This shouldn ' t happen ( if we have a valid ` UserToken ` object , then should mean that we loaded it from the \n + / / index in a prior operation ( e . g . # getUserTokenFromId ) , however this error can happen if either : \n + / / 1 . The document was deleted just after we read it \n + / / 2 . This Get used a different replica to the previous one , and they were out of sync . \n + logger . warn ( \n + " Could not find token document ( index = [ { } ] id = [ { } ] ) in order to validate user token [ { } ] for [ { } ] " , \n + response . getIndex ( ) , \n + response . getId ( ) , \n + userToken . getId ( ) , \n + userToken . getAuthentication ( ) . getUser ( ) . principal ( ) ) ; \n + onFailure . accept ( traceLog ( " validate token " , userToken . getId ( ) , \n + new IllegalStateException ( " token document is missing and must be present " ) ) ) ; \n x - pack \ plugin \ security \ src \ main \ java \ org \ elasticsearch \ xpack \ security \ authc \ UserToken . java \n - * Get the authentication \n + * Get the authentication ( will not be null ) \n
Libraries \ Inspector \ Inspector . js \n - node . measure ( ( x , y , width , height , left , top ) = > { \n + / / Shape of ` node ` is different in Fabric . \n + const component = node . canonical ? ? node ; \n + \n + component . measure ( ( x , y , width , height , left , top ) = > { \n
Libraries \ LogBox \ UI \ LogBoxInspectorStackFrames . js \n - const [ collapsed , setCollapsed ] = React . useState ( true ) ; \n + const [ collapsed , setCollapsed ] = React . useState ( ( ) = > { \n + / / Only collapse frames initially if some frames are not collapsed . \n + return props . log . getAvailableStack ( ) . some ( ( { collapse } ) = > ! collapse ) ; \n + } ) ; \n
Libraries \ Components \ Keyboard \ Keyboard . js \n - import type EmitterSubscription from ' . . / . . / vendor / emitter / _ EmitterSubscription ' ; \n + import { type EventSubscription } from ' . . / . . / vendor / emitter / EventEmitter ' ; \n - class Keyboard extends NativeEventEmitter < KeyboardEventDefinitions > { \n - constructor ( ) { \n - super ( NativeKeyboardObserver ) ; \n - } \n + class Keyboard { \n + _ emitter : NativeEventEmitter < KeyboardEventDefinitions > = new NativeEventEmitter ( \n + NativeKeyboardObserver , \n + ) ; \n - context : $ FlowFixMe , \n - ) : EmitterSubscription < KeyboardEventDefinitions , K > { \n - return super . addListener ( eventType , listener ) ; \n - } \n - \n - / * * \n - * Removes a specific listener . \n - * \n - * @ param { string } eventName The ` nativeEvent ` is the string that identifies the event you ' re listening for . \n - * @ param { function } callback function to be called when the event fires . \n - * / \n - removeListener < K : $ Keys < KeyboardEventDefinitions > > ( \n - eventType : K , \n - listener : ( . . . $ ElementType < KeyboardEventDefinitions , K > ) = > mixed , \n - ) : void { \n - super . removeListener ( eventType , listener ) ; \n + context ? : mixed , \n + ) : EventSubscription { \n + return this . _ emitter . addListener ( eventType , listener ) ; \n - super . removeAllListeners ( eventType ) ; \n + this . _ emitter . removeAllListeners ( eventType ) ; \n Libraries \ Components \ Keyboard \ _ _ tests _ _ \ Keyboard - test . js \n - const NativeModules = require ( ' . . / . . / . . / BatchedBridge / NativeModules ' ) ; \n - import NativeEventEmitter from ' . . / . . / . . / EventEmitter / NativeEventEmitter ' ; \n - \n - it ( ' exposes KeyboardEventEmitter methods ' , ( ) = > { \n - const KeyboardObserver = NativeModules . KeyboardObserver ; \n - const KeyboardEventEmitter = new NativeEventEmitter ( KeyboardObserver ) ; \n - \n - / / $ FlowFixMe \n - expect ( Keyboard . _ subscriber ) . toBe ( KeyboardEventEmitter . _ subscriber ) ; \n - / / $ FlowFixMe Cannot access private property \n - expect ( Keyboard . _ nativeModule ) . toBe ( KeyboardEventEmitter . _ nativeModule ) ; \n - } ) ; \n - \n
core \ java \ android \ app \ backup \ OWNERS \n - alsutton @ google . com \n - anniemeng @ google . com \n - brufino @ google . com \n - bryanmawhinney @ google . com \n - ctate @ google . com \n - jorlow @ google . com \n - nathch @ google . com \n - rthakohov @ google . com \n + # Bug component : 656484 \n + \n + include platform / frameworks / base / services / backup : / OWNERS \n packages \ SettingsProvider \ src \ android \ provider \ settings \ OWNERS \n - # Please reach out to Android B & R when making Settings backup changes \n - alsutton @ google . com \n - nathch @ google . com \n - rthakohov @ google . com \n + # Bug component : 656484 \n + \n + include platform / frameworks / base / services / backup : / OWNERS \n packages \ SettingsProvider \ test \ src \ android \ provider \ OWNERS \n - per - file * = * \n + # Bug component : 656484 \n + \n + include platform / frameworks / base / services / backup : / OWNERS \n - # Please reach out to the Android B & R team for settings backup changes \n - per - file SettingsBackupTest . java = alsutton @ google . com , nathch @ google . com , rthakohov @ google . com \n services \ backup \ OWNERS \n - alsutton @ google . com \n
core \ java \ android \ app \ backup \ OWNERS \n - include platform / frameworks / base / services / backup : / OWNERS \n + include platform / frameworks / base : / services / backup / OWNERS \n packages \ SettingsProvider \ src \ android \ provider \ settings \ OWNERS \n - include platform / frameworks / base / services / backup : / OWNERS \n + include platform / frameworks / base : / services / backup / OWNERS \n packages \ SettingsProvider \ test \ src \ android \ provider \ OWNERS \n - include platform / frameworks / base / services / backup : / OWNERS \n + include platform / frameworks / base : / services / backup / OWNERS \n
services \ backup \ OWNERS \n + millmore @ google . com \n
core \ proto \ OWNERS \n + per - file package _ item _ info . proto = toddke @ google . com \n
new file \n services \ core \ java \ android \ content \ pm \ OWNERS \n + include / core / java / android / content / pm / OWNERS \n
new file \n apct - tests \ perftests \ core \ src \ android \ app \ OWNERS \n + per - file Overlay * = file : / core / java / android / app / RESOURCES _ OWNERS \n + per - file Resources * = file : / core / java / android / app / RESOURCES _ OWNERS \n core \ java \ android \ app \ OWNERS \n - per - file ResourcesManager . java = rtmitchell @ google . com , toddke @ google . com \n + per - file ResourcesManager . java = file : RESOURCES _ OWNERS \n new file \n core \ java \ android \ app \ RESOURCES _ OWNERS \n + rtmitchell @ google . com \n + toddke @ google . com \n
extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ resources \ gradle \ wrapper \ gradle - wrapper . properties \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 5 . 4 . 1 - bin . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 5 . 4 - bin . zip \n
extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ resources \ desktop \ build . gradle \n - configurations . runtimeClasspath . collect { it . isDirectory ( ) ? it : zipTree ( it ) } \n + configurations . compileClasspath . collect { it . isDirectory ( ) ? it : zipTree ( it ) } \n extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ resources \ gradle \ wrapper \ gradle - wrapper . properties \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 5 . 4 - bin . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 5 . 4 . 1 - bin . zip \n
extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ resources \ core \ build . gradle \n - sourceCompatibility = 1 . 6 \n + sourceCompatibility = 1 . 7 \n extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ resources \ desktop \ build . gradle \n - sourceCompatibility = 1 . 6 \n + sourceCompatibility = 1 . 7 \n extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ resources \ html \ build . gradle \n - sourceCompatibility = 1 . 6 \n + sourceCompatibility = 1 . 7 \n
gdx \ src \ com \ badlogic \ gdx \ utils \ IntFloatMap . java \n - float value = map . valueTable [ nextIndex ] ; \n + float value = nextIndex = = INDEX _ ZERO ? map . zeroValue : map . valueTable [ nextIndex ] ; \n gdx \ src \ com \ badlogic \ gdx \ utils \ IntIntMap . java \n - int value = map . valueTable [ nextIndex ] ; \n + int value = nextIndex = = INDEX _ ZERO ? map . zeroValue : map . valueTable [ nextIndex ] ; \n
extensions \ gdx - tools \ src \ com \ badlogic \ gdx \ tools \ hiero \ Hiero . java \n - else if ( freeTypeRadio . isSelected ( ) ) \n - unicodeFont . setRenderType ( RenderType . FreeType ) ; \n - else \n + else if ( freeTypeRadio . isSelected ( ) ) { \n + try { \n + unicodeFont . setRenderType ( RenderType . FreeType ) ; \n + } catch ( GdxRuntimeException ex ) { \n + unicodeFont . setRenderType ( RenderType . Java ) ; \n + javaRadio . doClick ( ) ; \n + } \n + } else \n - try { \n - updateFont ( ) ; \n - } catch ( GdxRuntimeException ex ) { \n - prefs . remove ( " system . font " ) ; \n - fontList . setSelectedValue ( " Arial " , true ) ; \n - sampleTextPane . setText ( " Selected font does not have the necessary ' x ' character ; falling back to Arial . \ n " + sampleTextPane . getText ( ) ) ; \n - } \n - freeTypeRadio . setSelected ( true ) ; \n + javaRadio . setSelected ( true ) ; \n
gdx \ src \ com \ badlogic \ gdx \ math \ MathUtils . java \n - return ( long ) ( random . nextDouble ( ) * range ) ; \n + / / Uses the lower - bounded overload defined below , which is simpler and doesn ' t lose much optimization . \n + return random ( 0L , range ) ; \n - return start + ( long ) ( random . nextDouble ( ) * ( end - start ) ) ; \n + final long rand = random . nextLong ( ) ; \n + / / In order to get the range to go from start to end , instead of overflowing after end and going \n + / / back around to start , start must be less than end . \n + if ( end < start ) { \n + long t = end ; \n + end = start ; \n + start = t ; \n + } \n + long bound = end - start + 1L ; / / inclusive on end \n + / / Credit to https : / / oroboro . com / large - random - in - range / for the following technique \n + / / It ' s a 128 - bit - product where only the upper 64 of 128 bits are used . \n + final long randLow = rand & 0xFFFFFFFFL ; \n + final long boundLow = bound & 0xFFFFFFFFL ; \n + final long randHigh = ( rand > > > 32 ) ; \n + final long boundHigh = ( bound > > > 32 ) ; \n + return start + ( randHigh * boundLow > > > 32 ) + ( randLow * boundHigh > > > 32 ) + randHigh * boundHigh ; \n gdx \ test \ com \ badlogic \ gdx \ math \ MathUtilsTest . java \n + \n + @ Test \n + public void testRandomLong ( ) { \n + long r ; \n + for ( int i = 0 ; i < 512 ; i + + ) { \n + assertTrue ( ( r = MathUtils . random ( 1L , 5L ) ) > = 1L & & r < = 5L ) ; \n + assertTrue ( ( r = MathUtils . random ( 6L , 1L ) ) > = 1L & & r < = 6L ) ; \n + assertTrue ( ( r = MathUtils . random ( - 1L , - 7L ) ) < = - 1L & & r > = - 7L ) ; \n + assertTrue ( ( r = MathUtils . random ( - 8L , - 1L ) ) < = - 1L & & r > = - 8L ) ; \n + } \n + } \n
backends \ gdx - backend - moe \ src \ com \ badlogic \ gdx \ backends \ iosmoe \ IOSGraphics . java \n + import com . badlogic . gdx . backends . iosmoe . custom . HWMachine ; \n - / / String machineString = HWMachine . getMachineString ( ) ; \n - IOSDevice device = null ; / / IOSDevice . getDevice ( machineString ) ; \n - / / if ( device = = null ) \n - / / app . error ( tag , " Machine ID : " + machineString + " not found , please report to LibGDX " ) ; \n + String machineString = HWMachine . getMachineString ( ) ; \n + IOSDevice device = IOSDevice . getDevice ( machineString ) ; \n + if ( device = = null ) \n + app . error ( tag , " Machine ID : " + machineString + " not found , please report to LibGDX " ) ; \n backends \ gdx - backend - moe \ src \ com \ badlogic \ gdx \ backends \ iosmoe \ custom \ HWMachine . java \n + import org . moe . natj . c . StructObject ; \n + import org . moe . natj . general . ptr . NUIntPtr ; \n - public static native int sysctlbyname ( @ UncertainArgument ( " Options : java . string , c . const - byte - ptr Fallback : java . string " ) String name , \n - VoidPtr oldp , IntPtr oldlenp , VoidPtr newp , int newlen ) ; \n + public static native int sysctlbyname ( BytePtr name , VoidPtr oldp , \n + NUIntPtr oldlenp , VoidPtr newp , long newlen ) ; \n - IntPtr sizePtr = PtrFactory . newIntPtr ( BufferUtils . newIntBuffer ( 1 ) ) ; \n - sysctlbyname ( name , null , sizePtr , null , 0 ) ; \n - BytePtr machine = PtrFactory . newBytePtr ( sizePtr . get ( ) , true , true ) ; \n - sysctlbyname ( name , machine , sizePtr , null , 0 ) ; \n - return machine . toUTF8String ( ) ; \n + BytePtr namePtr = PtrFactory . newByteArray ( name . getBytes ( ) ) ; \n + NUIntPtr sizePtr = PtrFactory . newNUIntReference ( ) ; \n + sysctlbyname ( namePtr , null , sizePtr , null , 0 ) ; \n + long longsize = sizePtr . get ( ) ; \n + BytePtr machinePtr = PtrFactory . newByteReference ( ) ; \n + machinePtr . setValue ( ( byte ) longsize ) ; \n + sysctlbyname ( namePtr , machinePtr , sizePtr , null , 0 ) ; \n + return machinePtr . toUTF8String ( ) ; \n
backends \ gdx - backend - robovm \ build - objectal . sh \n - xcodebuild - project $ XCODEPROJ - arch arm64 - sdk iphoneos CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / arm64 OTHER _ CFLAGS = " - fembed - bitcode - miphoneos - version - min = 6 . 0 " \n + xcodebuild - project $ XCODEPROJ - arch arm64 - sdk iphoneos CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / arm64 OTHER _ CFLAGS = " - fembed - bitcode - target arm64 - apple - ios9 . 0 . 0 " \n - xcodebuild - project $ XCODEPROJ - arch x86 _ 64 - sdk iphonesimulator CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / x86 _ 64 OTHER _ CFLAGS = " - miphoneos - version - min = 6 . 0 " \n - xcodebuild - project $ XCODEPROJ - arch arm64 - sdk appletvos CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / tvos - arm64 OTHER _ CFLAGS = " - fembed - bitcode - mtvos - version - min = 9 . 0 " \n - xcodebuild - project $ XCODEPROJ - arch x86 _ 64 - sdk appletvsimulator CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / tvos - x86 _ 64 OTHER _ CFLAGS = " - mtvos - version - min = 9 . 0 " \n + xcodebuild - project $ XCODEPROJ - arch x86 _ 64 - sdk iphonesimulator CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / x86 _ 64 OTHER _ CFLAGS = " - target x86 _ 64 - apple - ios9 . 0 . 0 " \n + xcodebuild - project $ XCODEPROJ - arch arm64 - sdk appletvos CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / tvos - arm64 OTHER _ CFLAGS = " - fembed - bitcode - target arm64 - apple - tvos9 . 0 . 0 " \n + xcodebuild - project $ XCODEPROJ - arch x86 _ 64 - sdk appletvsimulator CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / tvos - x86 _ 64 OTHER _ CFLAGS = " - target x86 _ 64 - apple - tvos9 . 0 . 0 " \n
backends \ gdx - backend - robovm \ build - objectal . sh \n - xcodebuild - project $ XCODEPROJ - arch armv7 - sdk iphoneos CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / armv7 OTHER _ CFLAGS = " - fembed - bitcode - miphoneos - version - min = 6 . 0 " \n + # xcodebuild - project $ XCODEPROJ - arch armv7 - sdk iphoneos CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / armv7 OTHER _ CFLAGS = " - fembed - bitcode - miphoneos - version - min = 6 . 0 " \n - xcodebuild - project $ XCODEPROJ - arch i386 - sdk iphonesimulator CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / i386 OTHER _ CFLAGS = " - miphoneos - version - min = 6 . 0 " \n + # xcodebuild - project $ XCODEPROJ - arch i386 - sdk iphonesimulator CONFIGURATION _ BUILD _ DIR = $ BUILD _ DIR / i386 OTHER _ CFLAGS = " - miphoneos - version - min = 6 . 0 " \n
MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ utils \ FSize . java \n + pool . setReplenishPercentage ( 0 . 5f ) ; \n MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ utils \ MPPointF . java \n + pool . setReplenishPercentage ( 0 . 5f ) ; \n MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ utils \ PointD . java \n + pool . setReplenishPercentage ( 0 . 5f ) ; \n
MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ renderer \ XAxisRenderer . java \n - import android . graphics . PointF ; \n + FSize . recycleInstance ( labelSize ) ; \n + MPPointF . recycleInstance ( pointF ) ; \n
MPChartLib \ src \ main \ java \ com \ github \ mikephil \ charting \ renderer \ LineChartRenderer . java \n - circleBitmap = Bitmap . createBitmap ( ( int ) circleRadius * 2 , ( int ) circleRadius * 2 , conf ) ; \n + circleBitmap = Bitmap . createBitmap ( ( int ) ( circleRadius * 2 . 1 ) , ( int ) ( circleRadius * 2 . 1 ) , conf ) ; \n - mCirclePathBuffer . addCircle ( circleRadius , circleRadius , \n + mCirclePathBuffer . addCircle ( \n + circleRadius , \n + circleRadius , \n - mCirclePathBuffer . addCircle ( circleHoleRadius , circleHoleRadius , \n + mCirclePathBuffer . addCircle ( \n + circleRadius , \n + circleRadius , \n - canvas . drawCircle ( circleRadius , circleRadius , \n + canvas . drawCircle ( \n + circleRadius , \n + circleRadius , \n - canvas . drawCircle ( circleRadius , circleRadius , \n + canvas . drawCircle ( \n + circleRadius , \n + circleRadius , \n
build . gradle \n - versionName = ' 6 . 0 . 0 ' / / X . Y . Z ; X = Major , Y = minor , Z = Patch level \n - versionCodeBase = 60000 / / XYZZM ; M = Module ( wear , tv , mobile ) \n + versionName = ' 6 . 0 . 1 ' / / X . Y . Z ; X = Major , Y = minor , Z = Patch level \n + versionCodeBase = 60010 / / XYZZM ; M = Module ( wear , tv , mobile ) \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ widget \ BottomSheetBehavior . kt \n + writeBoolean ( isDraggable ) \n
README . md \n - < img align = " center " src = " schedule . png " alt = " Schedule screenshot " > \n + < img align = " center " src = " schedule . png " alt = " Schedule screenshot " height = " 640 " width = " 360 " > \n
Libraries \ ReactNative \ FabricUIManager . js \n + appendChild : ( parentNode : Node , child : Node ) = > Node , \n + appendChildToSet : ( childSet : NodeSet , child : Node ) = > void , \n + completeRoot : ( rootTag : number , childSet : NodeSet ) = > void , \n - + setNativeProps : ( node : Node , nativeProps : NodeProps ) = > void , \n + measure : ( node : Node , callback : MeasureOnSuccessCallback ) = > void , \n + measureInWindow : ( \n
ReactCommon \ react \ renderer \ components \ view \ YogaLayoutableShadowNode . cpp \n - static void applyLayoutConstraints ( \n - YGStyle & yogaStyle , \n - LayoutConstraints const & layoutConstraints ) { \n - yogaStyle . minDimensions ( ) [ YGDimensionWidth ] = \n - yogaStyleValueFromFloat ( layoutConstraints . minimumSize . width ) ; \n - yogaStyle . minDimensions ( ) [ YGDimensionHeight ] = \n - yogaStyleValueFromFloat ( layoutConstraints . minimumSize . height ) ; \n - \n - yogaStyle . maxDimensions ( ) [ YGDimensionWidth ] = \n - yogaStyleValueFromFloat ( layoutConstraints . maximumSize . width ) ; \n - yogaStyle . maxDimensions ( ) [ YGDimensionHeight ] = \n - yogaStyleValueFromFloat ( layoutConstraints . maximumSize . height ) ; \n - \n - yogaStyle . direction ( ) = \n - yogaDirectionFromLayoutDirection ( layoutConstraints . layoutDirection ) ; \n - } \n - \n - applyLayoutConstraints ( yogaNode _ . getStyle ( ) , layoutConstraints ) ; \n + auto & yogaStyle = yogaNode _ . getStyle ( ) ; \n + \n + auto direction = \n + yogaDirectionFromLayoutDirection ( layoutConstraints . layoutDirection ) ; \n + \n + / / We enforce maximum size here by applying corresponding styles because \n + / / ` YGNodeCalculateLayout ` does not support specifying maximum size explicitly \n + / / via parameters . \n + yogaStyle . minDimensions ( ) [ YGDimensionWidth ] = \n + yogaStyleValueFromFloat ( layoutConstraints . minimumSize . width ) ; \n + yogaStyle . minDimensions ( ) [ YGDimensionHeight ] = \n + yogaStyleValueFromFloat ( layoutConstraints . minimumSize . height ) ; \n + \n + auto availableWidth = std : : isinf ( layoutConstraints . maximumSize . width ) \n + ? YGUndefined \n + : yogaFloatFromFloat ( layoutConstraints . maximumSize . width ) ; \n + auto availableHeight = std : : isinf ( layoutConstraints . maximumSize . height ) \n + ? YGUndefined \n + : yogaFloatFromFloat ( layoutConstraints . maximumSize . height ) ; \n - & yogaNode _ , YGUndefined , YGUndefined , YGDirectionInherit ) ; \n + & yogaNode _ , availableWidth , availableHeight , direction ) ; \n
ReactCommon \ react \ renderer \ components \ legacyviewmanagerinterop \ LegacyViewManagerInteropViewProps . cpp \n - static folly : : dynamic recursiveMerge ( \n - folly : : dynamic const & lhs , \n - folly : : dynamic const & rhs ) { \n - auto copy = lhs ; \n - copy . merge _ patch ( rhs ) ; \n - return copy ; \n + static folly : : dynamic mergeRawProps ( \n + folly : : dynamic const & source , \n + folly : : dynamic const & patch ) { \n + auto result = source ; \n + \n + if ( ! result . isObject ( ) ) { \n + result = folly : : dynamic : : object ( ) ; \n + } \n + \n + if ( ! patch . isObject ( ) ) { \n + return result ; \n + } \n + \n + / / Note , here we have to preserve sub - prop objects with ` null ` value as \n + / / an indication for the legacy mounting layer that it needs to clean them up . \n + for ( auto const & pair : patch . items ( ) ) { \n + result [ pair . first ] = pair . second ; \n + } \n + \n + return result ; \n - recursiveMerge ( sourceProps . otherProps , ( folly : : dynamic ) rawProps ) ) { } \n + mergeRawProps ( sourceProps . otherProps , ( folly : : dynamic ) rawProps ) ) { } \n
x - pack \ plugin \ transform \ qa \ multi - node - tests \ src \ javaRestTest \ java \ org \ elasticsearch \ xpack \ transform \ integration \ continuous \ HistogramGroupByIT . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 67887 " ) \n
x - pack \ plugin \ transform \ qa \ multi - node - tests \ src \ javaRestTest \ java \ org \ elasticsearch \ xpack \ transform \ integration \ continuous \ HistogramGroupByIT . java \n + import org . apache . lucene . util . LuceneTestCase . AwaitsFix ; \n + @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 67887 " ) \n
x - pack \ plugin \ ml \ qa \ native - multi - node - tests \ src \ javaRestTest \ java \ org \ elasticsearch \ xpack \ ml \ integration \ RegressionIT . java \n + @ Before \n + public void setupLogging ( ) { \n + client ( ) . admin ( ) . cluster ( ) \n + . prepareUpdateSettings ( ) \n + . setTransientSettings ( Settings . builder ( ) \n + . put ( " logger . org . elasticsearch . xpack . ml . process . logging . CppLogMessageHandler " , " DEBUG " ) ) \n + . get ( ) ; \n + } \n + client ( ) . admin ( ) . cluster ( ) \n + . prepareUpdateSettings ( ) \n + . setTransientSettings ( Settings . builder ( ) \n + . putNull ( " logger . org . elasticsearch . xpack . ml . process . logging . CppLogMessageHandler " ) ) \n + . get ( ) ; \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 60340 " ) \n
kotlin - native \ performance \ build . gradle \n - set ( k as String , v ) \n + def key = k as String \n + set ( key , project . findProperty ( key ) ? : v ) \n - proj . logger . info ( " $ { proj . name } < < < [ $ k ] = $ v > > > " ) \n - proj . ext . set ( k as String , v ) \n + def key = k as String \n + def value = project . findProperty ( key ) ? : v \n + proj . logger . info ( " $ { proj . name } < < < [ $ key ] = $ value > > > " ) \n + proj . ext . set ( key , value ) \n kotlin - native \ performance \ buildSrc \ build . gradle . kts \n - println ( " $ { project . name } < < < [ $ k ] = $ v > > > " ) \n - extra [ k as String ] = v \n + val key = k as String \n + val value = project . findProperty ( key ) ? : v \n + project . logger . info ( " $ { project . name } < < < [ $ key ] = $ value > > > " ) \n + extra [ key ] = value \n kotlin - native \ tools \ benchmarksAnalyzer \ build . gradle \n - project . logger . info ( " $ { project . name } $ k : $ v " ) \n - set ( k as String , v ) \n + def key = k as String \n + def value = project . findProperty ( key ) ? : v \n + project . logger . info ( " $ { project . name } $ key : $ value " ) \n + set ( key , value ) \n kotlin - native \ tools \ benchmarksAnalyzer \ buildSrc \ build . gradle . kts \n - extra [ k as String ] = v \n + val key = k as String \n + val value = project . findProperty ( key ) ? : v \n + extra [ key ] = value \n
buildSrc \ build . gradle . kts \n - maven ( " https : / / kotlin . bintray . com / kotlin - dev " ) \n
libraries \ tools \ kotlin - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ gradle \ targets \ native \ NativeCompilerDownloader . kt \n + / * * \n + * Once we ' ve decide to make K / N version like K one ( with droppable maintenance 0 ) , but this breaks old publications , \n + * when did merging kotlin with kotlin / native after 1 . 5 . 0 release . \n + * older 1 . 5 . 20 ? \n + * / \n + private fun CompilerVersion . toStringPre1 _ 5 _ 20 ( showMeta : Boolean , showBuild : Boolean ) = buildString { \n + if ( major > 1 \n + | | minor > 5 \n + | | maintenance > 20 \n + ) \n + return toString ( showMeta , showBuild ) \n + append ( major ) \n + append ( ' . ' ) \n + append ( minor ) \n + if ( maintenance ! = 0 ) { \n + append ( ' . ' ) \n + append ( maintenance ) \n + } \n + if ( milestone ! = - 1 ) { \n + append ( " - M " ) \n + append ( milestone ) \n + } \n + if ( showMeta ) { \n + append ( ' - ' ) \n + append ( meta . metaString ) \n + } \n + if ( showBuild & & build ! = - 1 ) { \n + append ( ' - ' ) \n + append ( build ) \n + } \n + } \n + \n + val versionStringRepresentation = compilerVersion . toStringPre1 _ 5 _ 20 ( \n + compilerVersion . meta ! = MetaVersion . RELEASE , \n + compilerVersion . meta ! = MetaVersion . RELEASE \n + ) \n + \n + \n - get ( ) = " $ dependencyName - $ compilerVersion " \n + get ( ) = " $ dependencyName - $ versionStringRepresentation " \n - append ( " $ compilerVersion / " ) \n + append ( " $ versionStringRepresentation / " ) \n - " version " to compilerVersion . toString ( ) , \n + " version " to versionStringRepresentation , \n
build . gradle \n - buildTools : " 25 . 0 . 2 " , \n + buildTools : " 25 . 0 . 3 " , \n
build . gradle \n - buildTools : " 25 . 0 . 3 " , \n + buildTools : " 25 . 0 . 2 " , \n
. travis . yml \n - tools \n - - build - tools - 25 . 0 . 3 \n + - build - tools - 25 . 0 . 2 \n - android - 25 \n
presto - common \ src \ main \ java \ com \ facebook \ presto \ common \ SubfieldTokenizer . java \n - return c = = ' : ' | | c = = ' $ ' | | c = = ' - ' | | c = = ' / ' | | isUnquotedSubscriptCharacter ( c ) ; \n + return c = = ' : ' | | c = = ' $ ' | | c = = ' - ' | | c = = ' / ' | | c = = ' @ ' | | c = = ' | ' | | isUnquotedSubscriptCharacter ( c ) ; \n presto - common \ src \ test \ java \ com \ facebook \ presto \ common \ TestSubfieldTokenizer . java \n + assertPath ( new Subfield ( " @ basis " , ImmutableList . of ( ) ) ) ; \n + assertPath ( new Subfield ( " @ basis | city _ id " , ImmutableList . of ( ) ) ) ; \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ parquet \ ParquetPageSourceFactory . java \n + import org . apache . hadoop . security . AccessControlException ; \n + import static com . facebook . presto . spi . StandardErrorCode . PERMISSION _ DENIED ; \n + if ( e instanceof AccessControlException ) { \n + throw new PrestoException ( PERMISSION _ DENIED , e . getMessage ( ) , e ) ; \n + } \n presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ util \ HiveFileIterator . java \n + import org . apache . hadoop . security . AccessControlException ; \n + import static com . facebook . presto . spi . StandardErrorCode . PERMISSION _ DENIED ; \n + if ( exception instanceof AccessControlException ) { \n + throw new PrestoException ( PERMISSION _ DENIED , exception . getMessage ( ) , exception ) ; \n + } \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ iterative \ rule \ PushDownDereferences . java \n - RowExpression base = dereference . getArguments ( ) . get ( 0 ) ; \n - return ( base instanceof VariableReferenceExpression ) | | ( base instanceof SpecialFormExpression & & ( ( SpecialFormExpression ) base ) . getForm ( ) = = DEREFERENCE ) ; \n + RowExpression expression = dereference ; \n + while ( true ) { \n + if ( expression instanceof VariableReferenceExpression ) { \n + return true ; \n + } \n + if ( ! ( expression instanceof SpecialFormExpression ) | | ( ( SpecialFormExpression ) expression ) . getForm ( ) ! = DEREFERENCE ) { \n + return false ; \n + } \n + expression = ( ( SpecialFormExpression ) expression ) . getArguments ( ) . get ( 0 ) ; \n + } \n
src \ test \ resources \ tls \ ssl . txt \n - # PEM signed by root CA client - server ( not sure this is useful ) \n + # PEM signed by root CA client - server ( to verify CA signed client cases ) \n + 3 ) Create certificate bundle and import it to keystore \n + \n + cat client - cert - root - ca . pem root - ca / ca - cert . pem > client - cert - root - ca - chain . pem \n + openssl pkcs12 - export - name test - store - in client - cert - root - ca - chain . pem - inkey client - key . pem - out client - keystore - root - ca . p12 - password pass : wibble \n + keytool - importkeystore - destkeystore client - keystore - root - ca . jks - srckeystore client - keystore - root - ca . p12 - srcstorepass wibble - srcstoretype pkcs12 - alias test - store - keypass wibble - storepass wibble \n + \n + \n + # PEM signed by other CA client - server ( to verify unknown client cases ) \n + \n + 1 ) Generate a Certificate Signing Request for the client cert \n + \n + keytool - certreq - alias test - store - file client - csr . pem - keystore client - keystore . jks - keypass wibble - storepass wibble \n + \n + 2 ) Sign the client cert with the intermediate CA and convert it to the X . 509 format \n + \n + openssl ca - config openssl . cnf - batch - name CA _ int - keyfile other - ca / ca - key . pem - passin pass : wibble - cert other - ca / ca - cert . pem - in client - csr . pem | openssl x509 - out client - cert - other - ca . pem - outform PEM \n + \n + 3 ) Create certificate bundle and import it to keystore \n + \n + cat client - cert - other - ca . pem other - ca / ca - cert . pem > client - cert - other - ca - chain . pem \n + openssl pkcs12 - export - name test - store - in client - cert - other - ca - chain . pem - inkey client - key . pem - out client - keystore - other - ca . p12 - password pass : wibble \n + keytool - importkeystore - destkeystore client - keystore - other - ca . jks - srckeystore client - keystore - other - ca . p12 - srcstorepass wibble - srcstoretype pkcs12 - alias test - store - keypass wibble - storepass wibble \n
src \ test \ resources \ tls \ openssl . cnf \n + [ cacert _ ext ] \n + basicConstraints = CA : TRUE \n + \n src \ test \ resources \ tls \ ssl . txt \n - openssl ca - config openssl . cnf - batch - name CA _ root - keyfile root - ca / ca - key . pem - passin pass : wibble - cert root - ca / ca - cert . pem - in int - ca / ca - csr . pem | openssl x509 - out int - ca / ca - cert - root - ca . pem - outform PEM \n + openssl ca - config openssl . cnf - batch - name CA _ root - extensions cacert _ ext - keyfile root - ca / ca - key . pem - passin pass : wibble - cert root - ca / ca - cert . pem - in int - ca / ca - csr . pem | openssl x509 - out int - ca / ca - cert - root - ca . pem - outform PEM \n
src \ test \ resources \ tls \ openssl . cnf \n - default _ days = 365 \n + default _ days = 3650 \n - default _ crl _ days = 365 \n + default _ crl _ days = 3650 \n - default _ days = 365 \n + default _ days = 3650 \n - default _ crl _ days = 365 \n + default _ crl _ days = 3650 \n - default _ days = 365 \n + default _ days = 3650 \n - default _ crl _ days = 365 \n + default _ crl _ days = 3650 \n
presto - spark - launcher \ src \ main \ java \ com \ facebook \ presto \ spark \ launcher \ PrestoSparkRunner . java \n - asList ( " org . apache . spark . " , " com . facebook . presto . spark . classloader _ interface . " , " scala . " ) ) ; \n + asList ( " org . apache . spark . " , " com . facebook . presto . spark . classloader _ interface . " , " scala . " , " com . facebook . di . security . token _ service . " ) ) ; \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ HiveLocationService . java \n - HdfsContext context = new HdfsContext ( session , schemaName , tableName ) ; \n - Path targetPath = getTableDefaultLocation ( context , metastore , hdfsEnvironment , schemaName , tableName ) ; \n + Path targetPath = getTableDefaultLocation ( session , metastore , hdfsEnvironment , schemaName , tableName ) ; \n + HdfsContext context = new HdfsContext ( session , schemaName , tableName , targetPath . toString ( ) , true ) ; \n - HdfsContext context = new HdfsContext ( session , table . getDatabaseName ( ) , table . getTableName ( ) ) ; \n - Path targetPath = new Path ( table . getStorage ( ) . getLocation ( ) ) ; \n + String tablePath = table . getStorage ( ) . getLocation ( ) ; \n + HdfsContext context = new HdfsContext ( session , table . getDatabaseName ( ) , table . getTableName ( ) , tablePath , false ) ; \n + Path targetPath = new Path ( tablePath ) ; \n - HdfsContext context = new HdfsContext ( session , schemaName , tableName ) ; \n - Path targetPath = getTableDefaultLocation ( context , metastore , hdfsEnvironment , schemaName , tableName ) ; \n + Path targetPath = getTableDefaultLocation ( session , metastore , hdfsEnvironment , schemaName , tableName ) ; \n + HdfsContext context = new HdfsContext ( session , schemaName , tableName , targetPath . toString ( ) , false ) ; \n presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ HiveWriteUtils . java \n - public static Path getTableDefaultLocation ( HdfsContext context , SemiTransactionalHiveMetastore metastore , HdfsEnvironment hdfsEnvironment , String schemaName , String tableName ) \n + public static Path getTableDefaultLocation ( ConnectorSession session , SemiTransactionalHiveMetastore metastore , HdfsEnvironment hdfsEnvironment , String schemaName , String tableName ) \n + HdfsContext context = new HdfsContext ( session , schemaName , tableName , location . get ( ) , true ) ; \n
presto - hive - metastore \ src \ main \ java \ com \ facebook \ presto \ hive \ metastore \ SemiTransactionalHiveMetastore . java \n + String tablePath , \n + boolean isNewTable , \n - HdfsContext context = new HdfsContext ( session , databaseName , tableName ) ; \n + HdfsContext context = new HdfsContext ( session , databaseName , tableName , tablePath , isNewTable ) ; \n + HdfsContext context = action . getContext ( ) ; \n - committer . prepareAlterPartition ( action . getContext ( ) , action . getData ( ) ) ; \n + committer . prepareAlterPartition ( context , action . getData ( ) ) ; \n - committer . prepareAddPartition ( action . getContext ( ) , action . getData ( ) ) ; \n + committer . prepareAddPartition ( context , action . getData ( ) ) ; \n - committer . prepareInsertExistingPartition ( action . getContext ( ) , action . getData ( ) ) ; \n + committer . prepareInsertExistingPartition ( context , action . getData ( ) ) ; \n presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ HiveMetadata . java \n + table . getStorage ( ) . getLocation ( ) , \n + true , \n - metastore . addPartition ( session , handle . getSchemaName ( ) , handle . getTableName ( ) , partition , partitionUpdate . getWritePath ( ) , partitionStatistics ) ; \n + metastore . addPartition ( \n + session , \n + handle . getSchemaName ( ) , \n + handle . getTableName ( ) , \n + table . get ( ) . getStorage ( ) . getLocation ( ) , \n + false , \n + partition , \n + partitionUpdate . getWritePath ( ) , \n + partitionStatistics ) ; \n presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ SyncPartitionMetadataProcedure . java \n + table . getStorage ( ) . getLocation ( ) , \n + false , \n presto - hive \ src \ test \ java \ com \ facebook \ presto \ hive \ TestingSemiTransactionalHiveMetastore . java \n - public synchronized void addPartition ( ConnectorSession session , String databaseName , String tableName , Partition partition , Path currentLocation , PartitionStatistics statistics ) \n + public synchronized void addPartition ( ConnectorSession session , String databaseName , String tableName , String tablePath , boolean isNewTable , Partition partition , Path currentLocation , PartitionStatistics statistics ) \n
core \ java \ android \ content \ res \ ResourcesImpl . java \n - return Locale . adjustLanguageCode ( language ) + remainder ; \n + / / No need to convert to lower cases because the language in the return value of \n + / / Locale . toLanguageTag has been lower - cased . \n + final String adjustedLanguage ; \n + switch ( language ) { \n + case " id " : \n + adjustedLanguage = " in " ; \n + break ; \n + case " yi " : \n + adjustedLanguage = " ji " ; \n + break ; \n + case " he " : \n + adjustedLanguage = " iw " ; \n + break ; \n + default : \n + adjustedLanguage = language ; \n + break ; \n + } \n + return adjustedLanguage + remainder ; \n
core \ api \ current . txt \n - field public static final java . util . regex . Pattern IP _ ADDRESS ; \n + field @ Deprecated public static final java . util . regex . Pattern IP _ ADDRESS ; \n core \ java \ android \ util \ Patterns . java \n + " [ 0 - 9 ] | [ 0 - 1 ] [ 0 - 9 ] { 2 } | [ 1 - 9 ] [ 0 - 9 ] | [ 1 - 9 ] | 0 ) \ \ . ( 25 [ 0 - 5 ] | 2 [ 0 - 4 ] [ 0 - 9 ] | [ 0 - 1 ] " \n + " [ 0 - 9 ] { 2 } | [ 1 - 9 ] [ 0 - 9 ] | [ 1 - 9 ] | 0 ) \ \ . ( 25 [ 0 - 5 ] | 2 [ 0 - 4 ] [ 0 - 9 ] | [ 0 - 1 ] [ 0 - 9 ] { 2 } " \n + " | [ 1 - 9 ] [ 0 - 9 ] | [ 0 - 9 ] ) ) " ; \n + \n + / * * \n + * Kept for backward compatibility reasons . It does not match IPv6 addresses . \n + * \n + * @ deprecated Please use { @ link android . net . InetAddresses # isNumericAddress ( String ) } instead . \n + * / \n + @ Deprecated \n
core \ tests \ coretests \ src \ android \ text \ format \ DateIntervalFormatTest . java \n - assertEquals ( " lun . , 19 de ene . – jue . , 22 de ene . de 2009 " , \n + assertEquals ( " lun , 19 de ene . – jue , 22 de ene . de 2009 " , \n - assertEquals ( " lun . , 19 de ene . – mié . , 22 de abr . de 2009 " , \n + assertEquals ( " lun , 19 de ene . – mié , 22 de abr . de 2009 " , \n - assertEquals ( " 19–22 ene . 2009 " , formatDateRange ( es _ ES , tz , fixedTime , fixedTime + 3 * DAY , \n + assertEquals ( " 19–22 ene 2009 " , formatDateRange ( es _ ES , tz , fixedTime , fixedTime + 3 * DAY , \n - assertEquals ( " lun . , 19 ene . – jue . , 22 ene . 2009 " , \n + assertEquals ( " lun , 19 ene – jue , 22 ene 2009 " , \n - assertEquals ( " 19 ene . – 22 abr . 2009 " , \n + assertEquals ( " 19 ene – 22 abr 2009 " , \n - assertEquals ( " lun . , 19 ene . – mié . , 22 abr . 2009 " , \n + assertEquals ( " lun , 19 ene – mié , 22 abr 2009 " , \n - assertEquals ( " 19 ene . 2009 – 9 feb . 2012 " , \n + assertEquals ( " 19 ene 2009 – 9 feb 2012 " , \n - assertEquals ( " ene . 2009 – feb . 2012 " , \n + assertEquals ( " ene 2009 – feb 2012 " , \n core \ tests \ coretests \ src \ android \ text \ format \ FormatterTest . java \n - assertEquals ( " 1 мин . " , Formatter . formatShortElapsedTimeRoundingUpToMinutes ( \n + assertEquals ( " 1 мин " , Formatter . formatShortElapsedTimeRoundingUpToMinutes ( \n core \ tests \ coretests \ src \ android \ text \ format \ RelativeDateTimeFormatterTest . java \n - assertEquals ( " D à T " , icuFormatter . combineDateAndTime ( " D " , " T " ) ) ; \n + assertEquals ( " D , T " , icuFormatter . combineDateAndTime ( " D " , " T " ) ) ; \n - assertEquals ( " D ' x ' à T { 0 } " , icuFormatter . combineDateAndTime ( " D ' x ' " , " T { 0 } " ) ) ; \n + assertEquals ( " D ' x ' , T { 0 } " , icuFormatter . combineDateAndTime ( " D ' x ' " , " T { 0 } " ) ) ; \n
compiler \ fir \ fir2ir \ tests - gen \ org \ jetbrains \ kotlin \ test \ runners \ codegen \ FirBlackBoxCodegenTestGenerated . java \n + @ Test \n + @ TestMetadata ( " substituteIntersectionTypeInsideCapType . kt " ) \n + public void testSubstituteIntersectionTypeInsideCapType ( ) throws Exception { \n + runTest ( " compiler / testData / codegen / box / inference / substituteIntersectionTypeInsideCapType . kt " ) ; \n + } \n + \n compiler \ resolution \ src \ org \ jetbrains \ kotlin \ resolve \ calls \ inference \ components \ NewTypeSubstitutor . kt \n - if ( innerType is StubType | | substitutedInnerType is StubType ) { \n + if ( innerType is StubType | | substitutedInnerType is StubType | | innerType . constructor is IntersectionTypeConstructor ) { \n new file \n compiler \ testData \ codegen \ box \ inference \ substituteIntersectionTypeInsideCapType . kt \n + / / TARGET _ BACKEND : JVM \n + / / TARGET _ BACKEND : JVM _ IR \n + \n + class X < T : Number > ( val y : Any , val x : T ) \n + \n + fun box ( ) : String { \n + val num : Long = - 10 \n + val num2 : Int = 20 \n + val obj = if ( true ) \n + X ( Any ( ) , if ( true ) num else num2 ) \n + else \n + X ( Any ( ) , - 25 ) \n + val f = obj . y \n + return " OK " \n + } \n compiler \ tests - common - new \ tests - gen \ org \ jetbrains \ kotlin \ test \ runners \ codegen \ BlackBoxCodegenTestGenerated . java \n + @ Test \n + @ TestMetadata ( " substituteIntersectionTypeInsideCapType . kt " ) \n + public void testSubstituteIntersectionTypeInsideCapType ( ) throws Exception { \n + runTest ( " compiler / testData / codegen / box / inference / substituteIntersectionTypeInsideCapType . kt " ) ; \n + } \n + \n compiler \ tests - common - new \ tests - gen \ org \ jetbrains \ kotlin \ test \ runners \ codegen \ IrBlackBoxCodegenTestGenerated . java \n + @ Test \n + @ TestMetadata ( " substituteIntersectionTypeInsideCapType . kt " ) \n + public void testSubstituteIntersectionTypeInsideCapType ( ) throws Exception { \n + runTest ( " compiler / testData / codegen / box / inference / substituteIntersectionTypeInsideCapType . kt " ) ; \n + } \n + \n compiler \ tests - gen \ org \ jetbrains \ kotlin \ codegen \ LightAnalysisModeTestGenerated . java \n + @ TestMetadata ( " substituteIntersectionTypeInsideCapType . kt " ) \n + public void testSubstituteIntersectionTypeInsideCapType ( ) throws Exception { \n + runTest ( " compiler / testData / codegen / box / inference / substituteIntersectionTypeInsideCapType . kt " ) ; \n + } \n + \n
compiler \ resolution . common \ src \ org \ jetbrains \ kotlin \ resolve \ calls \ inference \ components \ VariableFixationFinder . kt \n - variableHasLowerProperConstraint ( variable ) - > TypeVariableFixationReadiness . READY _ FOR _ FIXATION _ LOWER \n + variableHasLowerNonNothingProperConstraint ( variable ) - > TypeVariableFixationReadiness . READY _ FOR _ FIXATION _ LOWER \n - private fun Context . variableHasLowerProperConstraint ( variable : TypeConstructorMarker ) : Boolean = \n - notFixedTypeVariables [ variable ] ? . constraints ? . let { constraints - > \n - constraints . any { \n - it . kind . isLower ( ) & & isProperArgumentConstraint ( it ) \n - } \n - } ? : false \n + private fun Context . variableHasLowerNonNothingProperConstraint ( variable : TypeConstructorMarker ) : Boolean { \n + val constraints = notFixedTypeVariables [ variable ] ? . constraints ? : return false \n + \n + return constraints . any { \n + it . kind . isLower ( ) & & isProperArgumentConstraint ( it ) & & ! it . type . typeConstructor ( ) . isNothingConstructor ( ) \n + } \n + } \n compiler \ testData \ diagnostics \ tests \ inference \ lambdaParameterTypeInElvis . kt \n - val expected2 : Some = < ! IMPLICIT _ NOTHING _ TYPE _ ARGUMENT _ IN _ RETURN _ POSITION ! > elvis < ! > ( derived . doWithPredicate { it . < ! UNRESOLVED _ REFERENCE ! > method < ! > ( ) } , TODO ( ) ) \n + val expected2 : Some = elvis ( derived . doWithPredicate { it . method ( ) } , TODO ( ) ) \n
compiler \ frontend \ src \ org \ jetbrains \ kotlin \ resolve \ calls \ tower \ ResolvedAtomCompleter . kt \n - \n - / / Mainly this is needed for builder - like inference , when we have type ` SomeType < K , V > . ( ) - > Unit ` and now we want to update those K , V \n - val receiver = functionDescriptor . extensionReceiverParameter \n - if ( receiver ! = null ) { \n - require ( receiver is ReceiverParameterDescriptorImpl ) { \n - " Extension receiver for anonymous function ( $ receiver ) should be ReceiverParameterDescriptorImpl " \n - } \n - \n - val valueType = receiver . value . type . unwrap ( ) \n - val newValueType = resultSubstitutor . safeSubstitute ( valueType ) \n - \n - if ( valueType ! = = newValueType ) { \n - val newReceiverValue = receiver . value . replaceType ( newValueType ) \n - functionDescriptor . setExtensionReceiverParameter ( \n - ReceiverParameterDescriptorImpl ( receiver . containingDeclaration , newReceiverValue , receiver . annotations ) \n - ) \n - } \n - } \n
README . md \n - If you want to test recent bugfixes or features that have not been packaged in an official release yet , you can use a * * - SNAPSHOT * * release of the current development version of Realm via Gradle , available on [ OJO ] ( http : / / oss . jfrog . org / oss - snapshot - local / io / realm / realm - android / ) \n + If you want to test recent bugfixes or features that have not been packaged in an official release yet , you can use a * * - SNAPSHOT * * release of the current development version of Realm via Gradle , available on [ Jfrog OSS ] ( http : / / oss . jfrog . org / oss - snapshot - local / io / realm / realm - gradle - plugin / ) \n
CHANGELOG . md \n + * Upgraded to OkHttp 3 . 9 . 0 . \n + * Upgraded to RxJava 2 . 1 . 4 . \n realm \ realm - library \ build . gradle \n - compileOnly ' io . reactivex . rxjava2 : rxjava : 2 . 1 . 1 ' \n + compileOnly ' io . reactivex . rxjava2 : rxjava : 2 . 1 . 4 ' \n - objectServerImplementation ' com . squareup . okhttp3 : okhttp : 3 . 7 . 0 ' \n + objectServerImplementation ' com . squareup . okhttp3 : okhttp : 3 . 9 . 0 ' \n - androidTestImplementation ' io . reactivex . rxjava2 : rxjava : 2 . 1 . 1 ' \n + androidTestImplementation ' io . reactivex . rxjava2 : rxjava : 2 . 1 . 4 ' \n
examples \ build . gradle \n - classpath ' com . android . tools . build : gradle : 3 . 0 . 0 ' \n + classpath ' com . android . tools . build : gradle : 3 . 1 . 0 - alpha01 ' \n gradle - plugin \ build . gradle \n - provided ' com . android . tools . build : gradle : 3 . 0 . 0 ' \n + provided ' com . android . tools . build : gradle : 3 . 1 . 0 - alpha01 ' \n gradle - plugin \ src \ test \ groovy \ io \ realm \ gradle \ PluginTest . groovy \n - classpath ' com . android . tools . build : gradle : 2 . 2 . 0 ' \n + classpath ' com . android . tools . build : gradle : 3 . 1 . 0 - alpha01 ' \n - classpath ' com . android . tools . build : gradle : 2 . 2 . 0 ' \n + classpath ' com . android . tools . build : gradle : 3 . 1 . 0 - alpha01 ' \n library - benchmarks \ build . gradle \n - classpath ' com . android . tools . build : gradle : 3 . 0 . 0 ' \n + classpath ' com . android . tools . build : gradle : 3 . 1 . 0 - alpha01 ' \n realm - transformer \ build . gradle \n - provided ' com . android . tools . build : gradle : 3 . 0 . 0 ' \n + provided ' com . android . tools . build : gradle : 3 . 1 . 0 - alpha01 ' \n realm \ build . gradle \n - classpath ' com . android . tools . build : gradle : 3 . 0 . 0 ' \n + classpath ' com . android . tools . build : gradle : 3 . 1 . 0 - alpha01 ' \n
idea \ idea - analysis \ src \ org \ jetbrains \ kotlin \ idea \ caches \ project \ IdeaModuleInfos . kt \n - override fun hashCode ( ) : Int = 43 * library . hashCode ( ) \n + private val lazyHashCode : Int by lazy { \n + 43 * library . hashCode ( ) \n + } \n + \n + override fun hashCode ( ) : Int = lazyHashCode \n
idea \ idea - gradle \ src \ org \ jetbrains \ kotlin \ idea \ scripting \ gradle \ importing \ KotlinDslScriptModelProcessor . kt \n - scriptModels . map { ( file , model ) - > \n + scriptModels . mapNotNull { ( file , model ) - > \n - / / TODO : NPE \n - val virtualFile = VfsUtil . findFile ( file . toPath ( ) , true ) ! ! \n + val virtualFile = VfsUtil . findFile ( file . toPath ( ) , true ) ? : return @ mapNotNull null \n + val gradleScriptInputsStamp = getGradleScriptInputsStamp ( project , virtualFile ) ? : return @ mapNotNull null \n - getGradleScriptInputsStamp ( project , virtualFile ) ! ! , / / TODO : NPE \n + gradleScriptInputsStamp , \n
idea \ idea - analysis \ src \ org \ jetbrains \ kotlin \ idea \ KotlinIconProvider . kt \n + import org . jetbrains . kotlin . psi . psiUtil . hasActualModifier \n - override fun KtDeclaration . isMatchingExpected ( ) = hasMatchingExpected ( ) \n + override fun KtDeclaration . isMatchingExpected ( ) = hasActualModifier ( ) & & hasMatchingExpected ( ) \n
buildSrc \ src \ main \ kotlin \ pluginMarkers . kt \n + \n + fun Project . isSonatypePublish ( ) : Boolean = \n + hasProperty ( " isSonatypePublish " ) & & property ( " isSonatypePublish " ) as Boolean \n + \n - ) . configureRepository ( ) \n + ) . apply { \n + configureRepository ( ) \n + configure { \n + onlyIf { ! isSonatypePublish ( ) } \n + } \n + } \n
new file \n prepare \ kotlin - compiler - internal - test - framework \ build . gradle . kts \n + plugins { \n + java \n + } \n + \n + val embedded by configurations \n + \n + dependencies { \n + embedded ( projectTests ( " : compiler : tests - common " ) ) { isTransitive = false } \n + } \n + \n + publish ( ) \n + \n + runtimeJar ( ) \n + sourcesJar ( ) \n + javadocJar ( ) \n settings . gradle \n + " : prepare : kotlin - compiler - internal - test - framework " , \n
build . gradle . kts \n - outputs . doNotCacheIf ( " https : / / youtrack . jetbrains . com / issue / KTI - 112 " ) { ! isTestDistributionEnabled ( ) } \n + outputs . doNotCacheIf ( " https : / / youtrack . jetbrains . com / issue / KTI - 112 " ) { true } \n
presto - hive - metastore \ src \ main \ java \ com \ facebook \ presto \ hive \ metastore \ SemiTransactionalHiveMetastore . java \n - String tableName = declaredIntentionToWrite . getSchemaTableName ( ) . getTableName ( ) ; \n - / / table path is set to _ presto _ temporary _ table _ $ { uuid } / $ { uuid } / for temporary table \n - Path tablePath = declaredIntentionToWrite . getStagingPathRoot ( ) . getParent ( ) ; \n - checkState ( tablePath . getName ( ) . equalsIgnoreCase ( tableName ) ) ; \n - deleteRecursivelyIfExists ( declaredIntentionToWrite . getContext ( ) , hdfsEnvironment , tablePath ) ; \n + deleteRecursivelyIfExists ( declaredIntentionToWrite . getContext ( ) , hdfsEnvironment , declaredIntentionToWrite . getStagingPathRoot ( ) ) ; \n
presto - hive \ src \ main \ java \ com \ facebook \ presto \ hive \ HiveLocationService . java \n - Path targetPath = new Path ( getTableDefaultLocation ( context , metastore , hdfsEnvironment , schemaName , tableName ) , randomUUID ( ) . toString ( ) . replaceAll ( " - " , " _ " ) ) ; \n + Path targetPath = getTableDefaultLocation ( context , metastore , hdfsEnvironment , schemaName , tableName ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ transaction \ InMemoryTransactionManager . java \n - throw new PrestoException ( MULTI _ CATALOG _ WRITE _ CONFLICT , " Multi - catalog writes not supported in a single transaction . Already wrote to catalog " + writtenConnectorId . get ( ) ) ; \n + throw new PrestoException ( \n + MULTI _ CATALOG _ WRITE _ CONFLICT , \n + format ( \n + " Multi - catalog writes not supported in a single transaction . Attempt write to catalog % s , but already wrote to catalog % s " , \n + connectorId , \n + writtenConnectorId . get ( ) ) ) ; \n
android \ guava - testlib \ test \ com \ google \ common \ testing \ AbstractPackageSanityTestsTest . java \n - public void testFindClassesToTeset _ ignoreUnderscores ( ) { \n + public void testFindClassesToTest _ ignoreUnderscores ( ) { \n guava - testlib \ test \ com \ google \ common \ testing \ AbstractPackageSanityTestsTest . java \n - public void testFindClassesToTeset _ ignoreUnderscores ( ) { \n + public void testFindClassesToTest _ ignoreUnderscores ( ) { \n
android \ guava - tests \ test \ com \ google \ common \ util \ concurrent \ AbstractServiceTest . java \n - final AtomicInteger stopppingCount = new AtomicInteger ( ) ; \n + final AtomicInteger stoppingCount = new AtomicInteger ( ) ; \n - stopppingCount . incrementAndGet ( ) ; \n + stoppingCount . incrementAndGet ( ) ; \n - assertEquals ( 1 , stopppingCount . get ( ) ) ; \n + assertEquals ( 1 , stoppingCount . get ( ) ) ; \n - assertEquals ( 1 , stopppingCount . get ( ) ) ; \n + assertEquals ( 1 , stoppingCount . get ( ) ) ; \n guava - tests \ test \ com \ google \ common \ util \ concurrent \ AbstractServiceTest . java \n - final AtomicInteger stopppingCount = new AtomicInteger ( ) ; \n + final AtomicInteger stoppingCount = new AtomicInteger ( ) ; \n - stopppingCount . incrementAndGet ( ) ; \n + stoppingCount . incrementAndGet ( ) ; \n - assertEquals ( 1 , stopppingCount . get ( ) ) ; \n + assertEquals ( 1 , stoppingCount . get ( ) ) ; \n - assertEquals ( 1 , stopppingCount . get ( ) ) ; \n + assertEquals ( 1 , stoppingCount . get ( ) ) ; \n
android \ pom . xml \n - < animal . sniffer . version > 1 . 17 < / animal . sniffer . version > \n + < animal . sniffer . version > 1 . 18 < / animal . sniffer . version > \n pom . xml \n - < animal . sniffer . version > 1 . 17 < / animal . sniffer . version > \n + < animal . sniffer . version > 1 . 18 < / animal . sniffer . version > \n
AndroidAnnotations \ androidannotations - rest - spring \ rest - spring \ src \ main \ java \ org \ androidannotations \ rest \ spring \ helper \ RestSpringValidatorHelper . java \n + import org . androidannotations . rest . spring . annotations . Patch ; \n - private static final List < Class < ? extends Annotation > > REST _ ANNOTATION _ CLASSES = Arrays . asList ( Get . class , Head . class , Options . class , Post . class , Put . class , Delete . class ) ; \n + private static final List < Class < ? extends Annotation > > REST _ ANNOTATION _ CLASSES = Arrays . asList ( Get . class , Head . class , Options . class , Post . class , Put . class , Patch . class , Delete . class ) ; \n
AndroidAnnotations \ androidannotations - rest - spring \ rest - spring \ src \ main \ java \ org \ androidannotations \ rest \ spring \ helper \ RestSpringValidatorHelper . java \n - if ( environment ( ) . getProcessingEnvironment ( ) . getElementUtils ( ) . getTypeElement ( RestSpringClasses . PARAMETERIZED _ TYPE _ REFERENCE ) ! = null ) { \n + if ( environment ( ) . getProcessingEnvironment ( ) . getElementUtils ( ) . getTypeElement ( RestSpringClasses . PARAMETERIZED _ TYPE _ REFERENCE ) = = null ) { \n new file \n AndroidAnnotations \ androidannotations - rest - spring \ rest - spring \ src \ test \ java \ org \ androidannotations \ rest \ spring \ ClientWithPatch . java \n + / * * \n + * Copyright ( C ) 2010 - 2015 eBusiness Information , Excilys Group \n + * \n + * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; you may not \n + * use this file except in compliance with the License . You may obtain a copy of \n + * the License at \n + * \n + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + * \n + * Unless required by applicable law or agreed To in writing , software \n + * distributed under the License is distributed on an " AS IS " BASIS , WITHOUT \n + * WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . See the \n + * License for the specific language governing permissions and limitations under \n + * the License . \n + * / \n + package org . androidannotations . rest . spring ; \n + \n + \n + import org . androidannotations . rest . spring . annotations . Patch ; \n + import org . androidannotations . rest . spring . annotations . Rest ; \n + import org . springframework . http . converter . StringHttpMessageConverter ; \n + \n + @ Rest ( converters = StringHttpMessageConverter . class ) \n + public interface ClientWithPatch { \n + \n + @ Patch ( " / " ) \n + void patchMethod ( String entity ) ; \n + } \n AndroidAnnotations \ androidannotations - rest - spring \ rest - spring \ src \ test \ java \ org \ androidannotations \ rest \ spring \ RestTest . java \n + \n + @ Test \n + public void patchWithoutSpring2DoesNotCompile ( ) throws IOException { \n + CompileResult result = compileFiles ( ClientWithPatch . class ) ; \n + \n + assertCompilationErrorOn ( ClientWithPatch . class , " @ Patch ( \ " / \ " ) " , result ) ; \n + assertCompilationErrorCount ( 1 , result ) ; \n + } \n
AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ api \ ViewServer . java \n + View rootView ; \n - mWindows . remove ( view . getRootView ( ) ) ; \n + rootView = view . getRootView ( ) ; \n + mWindows . remove ( rootView ) ; \n + mFocusLock . writeLock ( ) . lock ( ) ; \n + try { \n + if ( mFocusedWindow = = rootView ) { \n + mFocusedWindow = null ; \n + } \n + } finally { \n + mFocusLock . writeLock ( ) . unlock ( ) ; \n + } \n - private static class UncloseableOuputStream extends OutputStream { \n + private static class UncloseableOutputStream extends OutputStream { \n - UncloseableOuputStream ( OutputStream stream ) { \n + UncloseableOutputStream ( OutputStream stream ) { \n - dispatch . invoke ( null , window , command , parameters , new UncloseableOuputStream ( client . getOutputStream ( ) ) ) ; \n + dispatch . invoke ( null , window , command , parameters , new UncloseableOutputStream ( client . getOutputStream ( ) ) ) ; \n
dubbo - rpc \ dubbo - rpc - dubbo \ src \ test \ java \ org \ apache \ dubbo \ rpc \ protocol \ dubbo \ DubboInvokerAvilableTest . java \n + @ Test \n dubbo - rpc \ dubbo - rpc - dubbo \ src \ test \ java \ org \ apache \ dubbo \ rpc \ protocol \ dubbo \ decode \ DubboTelnetDecodeTest . java \n + import org . junit . jupiter . api . Disabled ; \n - / / @ Test \n + @ Disabled \n + @ Test \n
dubbo - metadata \ dubbo - metadata - report - failover \ src \ main \ java \ org \ apache \ dubbo \ metadata \ store \ failover \ FailoverMetadataReport . java \n - StringBuffer buffer = new StringBuffer ( ) ; \n + StringBuilder buffer = new StringBuilder ( ) ; \n dubbo - plugin \ dubbo - qos \ src \ main \ java \ org \ apache \ dubbo \ qos \ legacy \ LogTelnetHandler . java \n - StringBuffer buf = new StringBuffer ( ) ; \n + StringBuilder buf = new StringBuilder ( ) ; \n dubbo - remoting \ dubbo - remoting - api \ src \ main \ java \ org \ apache \ dubbo \ remoting \ telnet \ support \ TelnetUtils . java \n - StringBuffer rowbuf = new StringBuffer ( ) ; \n + StringBuilder rowbuf = new StringBuilder ( ) ; \n - rowbuf = new StringBuffer ( ) ; \n + rowbuf = new StringBuilder ( ) ; \n dubbo - remoting \ dubbo - remoting - api \ src \ main \ java \ org \ apache \ dubbo \ remoting \ telnet \ support \ command \ LogTelnetHandler . java \n - StringBuffer buf = new StringBuffer ( ) ; \n + StringBuilder buf = new StringBuilder ( ) ; \n dubbo - rpc \ dubbo - rpc - dubbo \ src \ test \ java \ org \ apache \ dubbo \ rpc \ protocol \ dubbo \ DubboProtocolTest . java \n - StringBuffer buf = new StringBuffer ( ) ; \n + StringBuilder buf = new StringBuilder ( ) ; \n - StringBuffer buf = new StringBuffer ( ) ; \n + StringBuilder buf = new StringBuilder ( ) ; \n dubbo - rpc \ dubbo - rpc - webservice \ src \ test \ java \ org \ apache \ dubbo \ rpc \ protocol \ webservice \ WebserviceProtocolTest . java \n - StringBuffer buf = new StringBuffer ( ) ; \n + StringBuilder buf = new StringBuilder ( ) ; \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ common \ Parameters . java \n + if ( this = = o ) { \n + return true ; \n + } \n dubbo - filter \ dubbo - filter - cache \ src \ main \ java \ org \ apache \ dubbo \ cache \ support \ expiring \ ExpiringMap . java \n + if ( this = = obj ) { \n + return true ; \n + } \n + if ( this = = obj ) { \n + return true ; \n + } \n
dubbo - dependencies - bom \ pom . xml \n - < fastjson _ version > 1 . 2 . 58 < / fastjson _ version > \n + < fastjson _ version > 1 . 2 . 60 < / fastjson _ version > \n
. travis . yml \n + - openjdk11 \n - oraclejdk11 \n + - openjdk8 \n - oraclejdk8 \n
README . md \n + * [ Dubbo Awesome ] ( https : / / github . com / apache / dubbo - awesome ) - Dubbo ' s slides and video links in Meetup \n
libraries \ tools \ kotlin - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ gradle \ internal \ kapt \ KaptWithoutKotlincTask . kt \n - providers . systemProperty ( propertyName ) . forUseAtConfigurationTime ( ) . orNull \n + providers . gradleProperty ( propertyName ) . forUseAtConfigurationTime ( ) . orNull \n
libraries \ tools \ kotlin - gradle - plugin \ src \ main \ kotlin \ org \ jetbrains \ kotlin \ gradle \ plugin \ KotlinProperties . kt \n - import org . jetbrains . kotlin . gradle . tasks . CacheBuilder \n + private val useFallbackCompilerSearchPropName = " kotlin . useFallbackCompilerSearch " \n + \n + @ Deprecated ( " Unsupported and will be removed in next major releases " ) \n - get ( ) = booleanProperty ( " kotlin . useFallbackCompilerSearch " ) \n + get ( ) { \n + if ( property ( useFallbackCompilerSearchPropName ) ! = null ) { \n + SingleWarningPerBuild . show ( \n + project , \n + " Project property ' $ useFallbackCompilerSearchPropName ' is deprecated . " \n + ) \n + } \n + return booleanProperty ( useFallbackCompilerSearchPropName ) \n + } \n
libraries \ tools \ kotlin - gradle - plugin - integration - tests \ src \ test \ kotlin \ org \ jetbrains \ kotlin \ gradle \ VariantAwareDependenciesIT . kt \n - val printedLine = output . lines ( ) . single { " # # # " in it } . substringAfter ( " # # # " ) \n + val printedLine = output . lines ( ) . single { " # # # [ " in it } . substringAfter ( " # # # " ) \n
pom . xml \n - < version > 1 . 2 . 0 - SNAPSHOT < / version > \n + < version > 1 . 2 . 0 < / version > \n + < ! - - \n - \n + - - > \n + \n
pom . xml \n - < version > 1 . 1 . 42 - SNAPSHOT < / version > \n + < version > 1 . 1 . 42 < / version > \n
pom . xml \n - < version > 1 . 2 . 7 < / version > \n + < version > 1 . 2 . 8 - SNAPSHOT < / version > \n src \ main \ java \ com \ alibaba \ fastjson \ JSON . java \n - public final static String VERSION = " 1 . 2 . 7 " ; \n + public final static String VERSION = " 1 . 2 . 8 " ; \n
Android . bp \n + " : ike - srcs " , \n + " android . net . ipsec . ike . stubs . module _ lib " , \n + " android . net . ipsec . ike . impl " , \n StubLibraries . bp \n + " android . net . ipsec . ike . stubs " , \n + " android . net . ipsec . ike . stubs . system " , \n + " android . net . ipsec . ike . stubs . system " , \n api \ Android . bp \n + " : android . net . ipsec . ike { . public . api . txt } " , \n + " : android . net . ipsec . ike { . public . stubs . source } " , \n + " : android . net . ipsec . ike { . public . removed - api . txt } " , \n + " : android . net . ipsec . ike { . system . api . txt } " , \n + " : android . net . ipsec . ike { . system . removed - api . txt } " , \n + " : android . net . ipsec . ike { . module - lib . api . txt } " , \n + " : android . net . ipsec . ike { . module - lib . removed - api . txt } " , \n services \ core \ Android . bp \n - " android . net . ipsec . ike . stubs . module _ lib " , \n
core \ api \ current . txt \n + field public static final String AUTH _ AES _ CMAC = " cmac ( aes ) " ; \n core \ java \ android \ net \ IpSecAlgorithm . java \n + / * * \n + * AES - CMAC Authentication / Integrity Algorithm . \n + * \n + * < p > Keys for this algorithm must be 128 bits in length . \n + * \n + * < p > The only valid truncation length is 96 bits . \n + * \n + * < p > This algorithm may be available on the device . Caller MUST check if it is supported before \n + * using it by calling { @ link # getSupportedAlgorithms ( ) } and checking if this algorithm is \n + * included in the returned algorithm set . The returned algorithm set will not change unless the \n + * device is rebooted . { @ link IllegalArgumentException } will be thrown if this algorithm is \n + * requested on an unsupported device . \n + * \n + * < p > @ see { @ link # getSupportedAlgorithms ( ) } \n + * / \n + / / This algorithm may be available on devices released before Android 12 , and is guaranteed \n + / / to be available on devices first shipped with Android 12 or later . \n + public static final String AUTH _ AES _ CMAC = " cmac ( aes ) " ; \n + \n + AUTH _ AES _ CMAC , \n + ALGO _ TO _ REQUIRED _ FIRST _ SDK . put ( AUTH _ AES _ CMAC , Build . VERSION _ CODES . R + 1 ) ; \n + case AUTH _ AES _ CMAC : \n + isValidLen = keyLen = = 128 ; \n + isValidTruncLen = truncLen = = 96 ; \n + break ; \n + case AUTH _ AES _ CMAC : \n core \ res \ res \ values \ config . xml \n - " xcbc ( aes ) " , " rfc7539esp ( chacha20 , poly1305 ) " \n + " xcbc ( aes ) " , " cmac ( aes ) " , " rfc7539esp ( chacha20 , poly1305 ) " \n - - > \n tests \ net \ java \ android \ net \ IpSecAlgorithmTest . java \n + checkAuthKeyAndTruncLenValidation ( IpSecAlgorithm . AUTH _ AES _ CMAC , 128 , 96 ) ; \n
core \ api \ current . txt \n + public abstract class VcnControlPlaneConfig { \n + } \n + \n + public final class VcnControlPlaneIkeConfig extends android . net . vcn . VcnControlPlaneConfig { \n + ctor public VcnControlPlaneIkeConfig ( @ NonNull android . net . ipsec . ike . IkeSessionParams , @ NonNull android . net . ipsec . ike . TunnelModeChildSessionParams ) ; \n + method @ NonNull public android . net . ipsec . ike . TunnelModeChildSessionParams getChildSessionParams ( ) ; \n + method @ NonNull public android . net . ipsec . ike . IkeSessionParams getIkeSessionParams ( ) ; \n + } \n + \n - ctor public VcnGatewayConnectionConfig . Builder ( ) ; \n + ctor public VcnGatewayConnectionConfig . Builder ( @ NonNull android . net . vcn . VcnControlPlaneConfig ) ; \n core \ java \ android \ net \ vcn \ VcnControlPlaneConfig . java \n - * \n - * @ hide \n core \ java \ android \ net \ vcn \ VcnControlPlaneIkeConfig . java \n - * \n - * @ hide \n core \ java \ android \ net \ vcn \ VcnGatewayConnectionConfig . java \n - * @ hide \n - / * * Construct a Builder object . * / \n - / / TODO : Remove this constructor when # Builder ( ctrlPlaneConfig ) is exposed as public API . \n - / / This constructor is created to avoid changing API shape in this CL \n - public Builder ( ) { \n - mCtrlPlaneConfig = null ; \n - } \n - \n
server \ src \ test \ java \ org \ elasticsearch \ cluster \ metadata \ DateMathExpressionResolverTests . java \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / pull / 66914 " ) \n - " name1 " , " < . marvel - { now / d } > " , " name2 " , " < . logstash - { now / M { YYYY . MM } } > " \n + " name1 " , " < . marvel - { now / d } > " , " name2 " , " < . logstash - { now / M { uuuu . MM } } > " \n - equalTo ( " . marvel - " + DateTimeFormat . forPattern ( " YYYY . MM . dd " ) . print ( new DateTime ( context . getStartTime ( ) , UTC ) ) ) ) ; \n + equalTo ( " . marvel - " + DateTimeFormat . forPattern ( " yyyy . MM . dd " ) . print ( new DateTime ( context . getStartTime ( ) , UTC ) ) ) ) ; \n - DateTimeFormat . forPattern ( " YYYY . MM " ) . print ( new DateTime ( context . getStartTime ( ) , UTC ) . withDayOfMonth ( 1 ) ) ) ) ; \n + DateTimeFormat . forPattern ( " yyyy . MM " ) . print ( new DateTime ( context . getStartTime ( ) , UTC ) . withDayOfMonth ( 1 ) ) ) ) ; \n
x - pack \ qa \ password - protected - keystore \ src \ test \ java \ org \ elasticsearch \ password _ protected _ keystore \ ReloadSecureSettingsWithPasswordProtectedKeystoreRestIT . java \n + import static org . hamcrest . Matchers . containsString ; \n - @ AwaitsFix ( bugUrl = " https : / / github . com / elastic / elasticsearch / issues / 66951 " ) \n - equalTo ( " Keystore has been corrupted or tampered with " ) ) ) ; \n - assertThat ( ObjectPath . eval ( " reload _ exception . type " , node ) , equalTo ( " security _ exception " ) ) ; \n + equalTo ( " Keystore has been corrupted or tampered with " ) , \n + containsString ( " Error generating an encryption key from the provided password " ) / / FIPS \n + ) ) ; \n + assertThat ( ObjectPath . eval ( " reload _ exception . type " , node ) , \n + / / Depends on exact security provider ( eg Sun vs BCFIPS ) \n + anyOf ( equalTo ( " security _ exception " ) , equalTo ( " general _ security _ exception " ) ) \n + ) ; \n
x - pack \ qa \ saml - idp - tests \ src \ test \ java \ org \ elasticsearch \ xpack \ security \ authc \ saml \ SamlAuthenticationIT . java \n - . put ( " password " , randomAlphaOfLengthBetween ( 8 , 16 ) ) \n + . put ( " password " , randomAlphaOfLengthBetween ( inFipsJvm ( ) ? 14 : 8 , 16 ) ) \n
spring - context \ src \ main \ java \ org \ springframework \ context \ support \ SimpleThreadScope . java \n - Object scopedObject = scope . get ( name ) ; \n - if ( scopedObject = = null ) { \n - scopedObject = objectFactory . getObject ( ) ; \n - scope . put ( name , scopedObject ) ; \n - } \n - return scopedObject ; \n + return scope . computeIfAbsent ( name , k - > objectFactory . getObject ( ) ) ; \n spring - tx \ src \ main \ java \ org \ springframework \ transaction \ support \ SimpleTransactionScope . java \n - Object scopedObject = scopedObjects . scopedInstances . get ( name ) ; \n - if ( scopedObject = = null ) { \n - scopedObject = objectFactory . getObject ( ) ; \n - scopedObjects . scopedInstances . put ( name , scopedObject ) ; \n - } \n - return scopedObject ; \n + return scopedObjects . scopedInstances . computeIfAbsent ( name , k - > objectFactory . getObject ( ) ) ; \n
src \ docs \ asciidoc \ core \ core - expressions . adoc \n - - - - \n - String name = parser . parseExpression ( " name ? : ' Unknown ' " ) . getValue ( String . class ) ; \n + String name = parser . parseExpression ( " name ? : ' Unknown ' " ) . getValue ( new Inventor ( ) , String . class ) ; \n - - - - \n - - - - \n - val name = parser . parseExpression ( " name ? : ' Unknown ' " ) . getValue ( String : : class . java ) \n + val name = parser . parseExpression ( " name ? : ' Unknown ' " ) . getValue ( Inventor ( ) , String : : class . java ) \n - - - - \n
spring - jdbc \ src \ main \ java \ org \ springframework \ jdbc \ core \ namedparam \ NamedParameterUtils . java \n - * Copyright 2002 - 2020 the original author or authors . \n + * Copyright 2002 - 2021 the original author or authors . \n + * @ author Yanming Zhou \n - paramArray [ i ] = ( param ! = null ? new SqlParameterValue ( param , paramSource . getValue ( paramName ) ) : \n - SqlParameterSourceUtils . getTypedValue ( paramSource , paramName ) ) ; \n + Object paramValue = paramSource . getValue ( paramName ) ; \n + if ( paramValue instanceof SqlParameterValue ) { \n + paramArray [ i ] = paramValue ; \n + } \n + else { \n + paramArray [ i ] = ( param ! = null ? new SqlParameterValue ( param , paramValue ) : \n + SqlParameterSourceUtils . getTypedValue ( paramSource , paramName ) ) ; \n + } \n spring - jdbc \ src \ test \ java \ org \ springframework \ jdbc \ core \ namedparam \ NamedParameterUtilsTests . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2021 the original author or authors . \n + import org . springframework . jdbc . core . SqlParameterValue ; \n + * @ author Yanming Zhou \n + @ Test \n + public void convertSqlParameterValueToArray ( ) { \n + SqlParameterValue sqlParameterValue = new SqlParameterValue ( 2 , " b " ) ; \n + Map < String , Object > paramMap = new HashMap < > ( ) ; \n + paramMap . put ( " a " , " a " ) ; \n + paramMap . put ( " b " , sqlParameterValue ) ; \n + paramMap . put ( " c " , " c " ) ; \n + assertThat ( NamedParameterUtils . buildValueArray ( " xxx : a : b : c xx : a : b " , paramMap ) [ 4 ] ) . isSameAs ( sqlParameterValue ) ; \n + MapSqlParameterSource namedParams = new MapSqlParameterSource ( ) ; \n + namedParams . addValue ( " a " , " a " , 1 ) . addValue ( " b " , sqlParameterValue ) . addValue ( " c " , " c " , 3 ) ; \n + assertThat ( NamedParameterUtils \n + . buildValueArray ( NamedParameterUtils . parseSqlStatement ( " xxx : a : b : c xx : a : b " ) , namedParams , null ) [ 4 ] ) . isSameAs ( sqlParameterValue ) ; \n + } \n + \n
server \ src \ test \ java \ org \ elasticsearch \ common \ network \ NetworkUtilsTests . java \n - \n + \n - \n + \n - \n + \n - \n + \n - \n + \n - assertThat ( exception . getMessage ( ) , containsString ( anInterface . getName ( ) + " : suffix " ) ) ; \n + / / virtual interfaces might pop up or disappear while the test is running , so ignore them \n + if ( anInterface . isVirtual ( ) = = false ) { \n + assertThat ( exception . getMessage ( ) , containsString ( anInterface . getName ( ) + " : suffix " ) ) ; \n + } \n
x - pack \ plugin \ core \ src \ main \ java \ org \ elasticsearch \ xpack \ searchablesnapshots \ SearchableSnapshotsConstants . java \n - public static final Version SHARED _ CACHE _ VERSION = Version . V _ 8 _ 0 _ 0 ; \n + public static final Version SHARED _ CACHE _ VERSION = Version . V _ 7 _ 12 _ 0 ; \n
docs \ reference \ searchable - snapshots \ apis \ mount - snapshot . asciidoc \n + + + + \n - beta : : [ ] \n - \n docs \ reference \ searchable - snapshots \ apis \ searchable - snapshots - apis . asciidoc \n - beta : : [ ] \n - \n docs \ reference \ searchable - snapshots \ index . asciidoc \n - beta : : [ ] \n - \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ sanity \ ValidateDependenciesChecker . java \n - import com . facebook . presto . spi . type . TypeManager ; \n - validate ( plan , types , metadata . getTypeManager ( ) ) ; \n + validate ( plan , types ) ; \n - public static void validate ( PlanNode plan , TypeProvider types , TypeManager typeManager ) \n + public static void validate ( PlanNode plan , TypeProvider types ) \n - plan . accept ( new Visitor ( types , typeManager ) , ImmutableSet . of ( ) ) ; \n + plan . accept ( new Visitor ( types ) , ImmutableSet . of ( ) ) ; \n - private final TypeManager typeManager ; \n - public Visitor ( TypeProvider types , TypeManager typeManager ) \n + public Visitor ( TypeProvider types ) \n - this . typeManager = requireNonNull ( typeManager , " typeManager is null " ) ; \n - / / If a variable can be assigned into another type directly , CAST is usually implicitly removed . \n - / / For example , we can assign input VARCHAR ( 3 ) to output VARCHAR ( 5 ) \n - / / the reference variable in the assignment will have type VARCHAR ( 5 ) while the input is VARCHAR ( 3 ) . \n - for ( VariableReferenceExpression target : required ) { \n - checkArgument ( \n - inputs . stream ( ) \n - . anyMatch ( input - > input . getName ( ) . equalsIgnoreCase ( target . getName ( ) ) & & \n - typeManager . isTypeOnlyCoercion ( input . getType ( ) , target . getType ( ) ) ) , \n - message , \n - parameters ) ; \n - } \n + checkArgument ( ImmutableSet . copyOf ( inputs ) . containsAll ( required ) , message , parameters ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ LiteralInterpreter . java \n + import com . facebook . presto . operator . scalar . VarbinaryFunctions ; \n + if ( type . getJavaType ( ) . equals ( Slice . class ) ) { \n + / / DO NOT ever remove toBase64 . Calling toString directly on Slice whose base is not byte [ ] will cause JVM to crash . \n + return " ' " + VarbinaryFunctions . toBase64 ( ( Slice ) node . getValue ( ) ) . toStringUtf8 ( ) + " ' " ; \n + } \n
presto - tests \ src \ main \ java \ com \ facebook \ presto \ tests \ tpch \ TpchIndexedData . java \n + / * * \n + * @ apiNote this method returns a cached index table that is ordered in a certain order . \n + * / \n + / / Since we only return a cached copy of IndexedTable , please make sure you reorder the input to same order of keyColumns \n + / / We will return result same order as outputColumns \n - public RecordSet lookupKey ( MaterializedTuple tupleKey ) \n + private RecordSet lookupKey ( MaterializedTuple tupleKey ) \n presto - thrift - testing - server \ src \ main \ java \ com \ facebook \ presto \ connector \ thrift \ server \ ThriftIndexedTpchService . java \n - RecordSet keyRecordSet = new ListBasedRecordSet ( splitInfo . getKeys ( ) , lookupColumnTypes ) ; \n + RecordSet keyRecordSet = new MappedRecordSet ( new ListBasedRecordSet ( splitInfo . getKeys ( ) , lookupColumnTypes ) , computeRemap ( splitInfo . getLookupColumnNames ( ) , indexedTable . getKeyColumns ( ) ) ) ; \n
presto - common \ src \ main \ java \ com \ facebook \ presto \ common \ block \ SingleMapBlock . java \n - match = mapBlock . getRawKeyBlock ( ) . bytesEqual ( offset / 2 + keyPosition , 0 , nativeValue , 0 , nativeValue . length ( ) ) ; \n + Block rawKeyBlock = mapBlock . getRawKeyBlock ( ) ; \n + \n + if ( rawKeyBlock . getSliceLength ( offset / 2 + keyPosition ) ! = nativeValue . length ( ) ) { \n + match = false ; \n + } \n + else { \n + match = rawKeyBlock . bytesEqual ( offset / 2 + keyPosition , 0 , nativeValue , 0 , nativeValue . length ( ) ) ; \n + } \n presto - main \ src \ test \ java \ com \ facebook \ presto \ block \ TestMapBlock . java \n + import io . airlift . slice . Slices ; \n + import java . util . stream . IntStream ; \n + @ Test \n + public void testSeekKey ( ) \n + { \n + Block keyBlock = createStringsBlock ( " k " ) ; \n + Block valueBlock = createStringsBlock ( " v " ) ; \n + Block mapBlock = mapType ( VARCHAR , VARCHAR ) . createBlockFromKeyValue ( 1 , Optional . empty ( ) , IntStream . range ( 0 , 2 ) . toArray ( ) , keyBlock , valueBlock ) ; \n + SingleMapBlock singleMapBlock = ( SingleMapBlock ) mapBlock . getBlock ( 0 ) ; \n + / / Testing not found case . The key to seek should be longer than AbstractVariableWidthType # EXPECTED _ BYTES _ PER _ ENTRY ( 32 ) and has same hash code as the key in keyBlock . \n + / / This is because the default capacity of the slice of the keyBlock for 1 single character key is EXPECTED _ BYTES _ PER _ ENTRY . We want to make the seeked key out of boundary \n + / / to make sure no exception is thrown . \n + assertEquals ( singleMapBlock . seekKeyExact ( Slices . utf8Slice ( new String ( new char [ 10 ] ) . replace ( " \ 0 " , " Doudou " ) ) ) , - 1 ) ; \n + / / Testing found case . \n + assertEquals ( singleMapBlock . seekKeyExact ( Slices . utf8Slice ( " k " ) ) , 1 ) ; \n + } \n + \n
presto - main \ src \ test \ java \ com \ facebook \ presto \ block \ BlockAssertions . java \n + import java . util . stream . StreamSupport ; \n - BlockBuilder builder = VARCHAR . createBlockBuilder ( null , 100 ) ; \n + BlockBuilder builder = VARCHAR . createBlockBuilder ( null , ( int ) StreamSupport . stream ( values . spliterator ( ) , false ) . count ( ) ) ; \n
presto - orc \ src \ test \ java \ com \ facebook \ presto \ orc \ OrcTester . java \n - return filter = = IS _ NULL ; \n + return filter . testNull ( ) ; \n
packages \ DynamicSystemInstallationService \ src \ com \ android \ dynsystem \ BootCompletedReceiver . java \n - import android . os . image . DynamicSystemManager ; \n - DynamicSystemManager dynSystem = \n - ( DynamicSystemManager ) context . getSystemService ( Context . DYNAMIC _ SYSTEM _ SERVICE ) ; \n - \n - boolean isInUse = ( dynSystem ! = null ) & & dynSystem . isInUse ( ) ; \n - \n - if ( ! isInUse ) { \n - return ; \n - } \n - \n
core \ java \ android \ os \ image \ DynamicSystemClient . java \n + private static final String TAG = " DynamicSystemClient " ; \n + \n - private static final String TAG = " DynSystemClient " ; \n - \n - Slog . v ( TAG , " DynSystemService connected " ) ; \n + Slog . v ( TAG , " onServiceConnected : " + className ) ; \n - Slog . v ( TAG , " DynSystemService disconnected " ) ; \n + Slog . v ( TAG , " onServiceDisconnected : " + className ) ; \n packages \ DynamicSystemInstallationService \ src \ com \ android \ dynsystem \ DynamicSystemInstallationService . java \n - private static final String TAG = " DynSystemInstallationService " ; \n + private static final String TAG = " DynamicSystemInstallationService " ; \n
core \ java \ android \ os \ image \ DynamicSystemClient . java \n - import android . os . SystemProperties ; \n - import android . util . FeatureFlagUtils ; \n - if ( mExecutor ! = null ) { \n - mExecutor . execute ( ( ) - > { \n - mListener . onStatusChanged ( STATUS _ UNKNOWN , CAUSE _ ERROR _ IPC , 0 , e ) ; \n - } ) ; \n - } else { \n - mListener . onStatusChanged ( STATUS _ UNKNOWN , CAUSE _ ERROR _ IPC , 0 , e ) ; \n - } \n + notifyOnStatusChangedListener ( STATUS _ UNKNOWN , CAUSE _ ERROR _ IPC , 0 , e ) ; \n + private void notifyOnStatusChangedListener ( \n + int status , int cause , long progress , Throwable detail ) { \n + if ( mListener ! = null ) { \n + if ( mExecutor ! = null ) { \n + mExecutor . execute ( \n + ( ) - > { \n + mListener . onStatusChanged ( status , cause , progress , detail ) ; \n + } ) ; \n + } else { \n + mListener . onStatusChanged ( status , cause , progress , detail ) ; \n + } \n + } \n + } \n + \n - if ( ! featureFlagEnabled ( ) ) { \n - Slog . w ( TAG , FeatureFlagUtils . DYNAMIC _ SYSTEM + " not enabled ; bind ( ) aborted . " ) ; \n - return ; \n - } \n - \n - if ( ! featureFlagEnabled ( ) ) { \n - Slog . w ( TAG , FeatureFlagUtils . DYNAMIC _ SYSTEM + " not enabled ; start ( ) aborted . " ) ; \n - return ; \n - } \n - \n + intent . setFlags ( Intent . FLAG _ ACTIVITY _ NEW _ TASK ) ; \n - private boolean featureFlagEnabled ( ) { \n - return SystemProperties . getBoolean ( \n - FeatureFlagUtils . PERSIST _ PREFIX + FeatureFlagUtils . DYNAMIC _ SYSTEM , false ) ; \n - } \n - \n - if ( mExecutor ! = null ) { \n - mExecutor . execute ( ( ) - > { \n - mListener . onStatusChanged ( status , cause , progress , detail ) ; \n - } ) ; \n - } else { \n - mListener . onStatusChanged ( status , cause , progress , detail ) ; \n - } \n + notifyOnStatusChangedListener ( status , cause , progress , detail ) ; \n
dubbo - dependencies - bom \ pom . xml \n + < relativePath > < / relativePath > \n dubbo - metadata - report \ dubbo - metadata - report - api \ pom . xml \n - < dependency > \n - < groupId > org . apache . dubbo < / groupId > \n - < artifactId > dubbo - metadata - definition < / artifactId > \n - < version > $ { project . parent . version } < / version > \n - < / dependency > \n - < dependency > \n - < groupId > com . google . code . gson < / groupId > \n - < artifactId > gson < / artifactId > \n - < / dependency > \n
dubbo - metadata - report \ dubbo - metadata - report - api \ src \ main \ java \ org \ apache \ dubbo \ metadata \ integration \ MetadataReportService . java \n - private static MetadataReportService metadataReportService ; \n + private static volatile MetadataReportService metadataReportService ; \n dubbo - metadata - report \ dubbo - metadata - report - api \ src \ main \ java \ org \ apache \ dubbo \ metadata \ support \ AbstractMetadataReport . java \n - ScheduledFuture retryScheduledFuture ; \n + volatile ScheduledFuture retryScheduledFuture ; \n
dubbo - dependencies - bom \ pom . xml \n - < fastjson _ version > 1 . 2 . 46 < / fastjson _ version > \n + < fastjson _ version > 1 . 2 . 58 < / fastjson _ version > \n
mobile \ src \ main \ res \ layout \ item _ session _ info . xml \n - app : layout _ constraintTop _ toBottomOf = " @ id / session _ detail _ recorded " \n + app : layout _ constraintTop _ toBottomOf = " @ id / session _ detail _ level " \n
mobile \ src \ main \ res \ layout \ item _ question . xml \n + android : minHeight = " @ dimen / a11y _ min _ touch _ target " \n
build _ android _ release . sh \n - cp $ MOBILE _ OUT / bundle / debug / mobile . aab $ DIST _ DIR / mobile - debug . aab \n + cp $ MOBILE _ OUT / bundle / debug / mobile - debug . aab $ DIST _ DIR / mobile - debug . aab \n - cp $ MOBILE _ OUT / bundle / staging / mobile . aab $ DIST _ DIR / mobile - staging . aab \n + cp $ MOBILE _ OUT / bundle / staging / mobile - staging . aab $ DIST _ DIR / mobile - staging . aab \n - cp $ MOBILE _ OUT / bundle / release / mobile . aab $ DIST _ DIR / mobile - release . aab \n + cp $ MOBILE _ OUT / bundle / release / mobile - release . aab $ DIST _ DIR / mobile - release . aab \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ analysis \ config \ AutoCpuConverter . java \n - / / linux - x86 _ 64 . . . ) . \n + / / linux - x86 _ 64 , darwin includes the CPU architecture , . . . ) . \n - return " darwin _ x86 _ 64 " ; \n + return " darwin " ; \n tools \ cpp \ lib _ cc _ configure . bzl \n - return " darwin _ " + result . stdout . strip ( ) \n + return " darwin " + ( " _ arm64 " if result . stdout . strip ( ) = = " arm64 " else " " ) \n
tools \ jdk \ BUILD . tools \n + " remotejdk11 _ macos _ aarch64 " , \n + " remotejdk15 _ macos _ aarch64 " , \n - " / / src / conditions : darwin " : " : remotejdk11 _ macos " , \n + " / / src / conditions : darwin _ x86 _ 64 " : " : remotejdk11 _ macos " , \n + " / / src / conditions : darwin _ arm64 " : " : remotejdk11 _ macos _ aarch64 " , \n - " / / src / conditions : darwin " : " : remotejdk15 _ macos " , \n + " / / src / conditions : darwin _ x86 _ 64 " : " : remotejdk15 _ macos " , \n + " / / src / conditions : darwin _ arm64 " : " : remotejdk15 _ macos _ aarch64 " , \n
third _ party \ BUILD \n - java _ import ( \n + distrib _ java _ import ( \n + enable _ distributions = [ " debian " ] , \n
okhttp \ src \ test \ java \ okhttp3 \ CallHandshakeTest . kt \n + / / We are avoiding making guarantees on ordering of secondary Platforms . \n + platform . assumeNotConscrypt ( ) \n + \n + / / We are avoiding making guarantees on ordering of secondary Platforms . \n + platform . assumeNotConscrypt ( ) \n + \n + / / We are avoiding making guarantees on ordering of secondary Platforms . \n + platform . assumeNotConscrypt ( ) \n + \n + / / We are avoiding making guarantees on ordering of secondary Platforms . \n + platform . assumeNotConscrypt ( ) \n okhttp \ src \ test \ java \ okhttp3 \ RecordedResponse . java \n - assertThat ( response . code ( ) ) . isEqualTo ( expectedCode ) ; \n + assertThat ( response = = null ? null : response . code ( ) ) . isEqualTo ( expectedCode ) ; \n okhttp \ src \ test \ java \ okhttp3 \ internal \ tls \ HostnameVerifierTest . java \n + / / OpenJDK related test . \n + platform . assumeNotConscrypt ( ) ; \n + \n
build . gradle \n - ' kotlin ' : ' 1 . 4 . 21 ' , \n + ' kotlin ' : ' 1 . 4 . 30 ' , \n - classpath " org . jetbrains . kotlin : kotlin - gradle - plugin : 1 . 4 . 21 " \n + classpath " org . jetbrains . kotlin : kotlin - gradle - plugin : 1 . 4 . 30 " \n
okhttp \ src \ test \ java \ okhttp3 \ CallTest . java \n - long connectCount = listener . getEventSequence ( ) . stream ( ) \n - . filter ( ( event ) - > event instanceof ConnectStart ) \n - . count ( ) ; \n - long expected = platform . isJdk8 ( ) ? 2 : 1 ; \n - assertThat ( connectCount ) . isEqualTo ( expected ) ; \n + if ( ! platform . isJdk8 ( ) ) { \n + long connectCount = listener . getEventSequence ( ) . stream ( ) \n + . filter ( ( event ) - > event instanceof ConnectStart ) \n + . count ( ) ; \n + assertThat ( connectCount ) . isEqualTo ( 1 ) ; \n + } \n okhttp \ src \ test \ java \ okhttp3 \ internal \ tls \ ClientAuthTest . java \n - assertThat ( PlatformVersion . INSTANCE . getMajorVersion ( ) ) . isGreaterThanOrEqualTo ( 11 ) ; \n - assertThat ( PlatformVersion . INSTANCE . getMajorVersion ( ) ) . isGreaterThanOrEqualTo ( 11 ) ; \n
core \ src \ main \ java \ io \ plaidapp \ core \ dagger \ ProductHuntModule . kt \n - import kotlin . annotation . AnnotationRetention . BINARY \n + import kotlin . annotation . AnnotationRetention . SOURCE \n - @ Retention ( BINARY ) \n + @ Retention ( SOURCE ) \n core \ src \ main \ java \ io \ plaidapp \ core \ dagger \ designernews \ DesignerNewsDataModule . kt \n - import kotlin . annotation . AnnotationRetention . BINARY \n + import kotlin . annotation . AnnotationRetention . SOURCE \n - @ Retention ( BINARY ) \n + @ Retention ( SOURCE ) \n
build . gradle \n + externalDocumentationLink { \n + url = new URL ( " https : / / square . github . io / okio / 2 . x / okio / jvm / index . html " ) \n + packageListUrl = new URL ( " https : / / square . github . io / okio / 2 . x / okio / jvm / package - list " ) \n + } \n
. travis . yml \n - oraclejdk8 \n - - . / gradlew check \n + - . / gradlew check - - parallel \n - . buildscript / deploy _ snapshot . sh \n build . gradle \n + maxParallelForks Runtime . runtime . availableProcessors ( ) * 2 \n
rxandroid \ src \ main \ java \ io \ reactivex \ rxjava3 \ android \ schedulers \ AndroidSchedulers . java \n + \n + / / Below code exists in Androidx - core as well , but is left here rather than include an \n + / / entire extra dependency . \n + / / https : / / developer . android . com / reference / kotlin / androidx / core / os / MessageCompat ? hl = en # setAsynchronous ( android . os . Message , % 20kotlin . Boolean ) \n
README . md \n - # # # [ square . github . io / leakcanary ] ( http : / / square . github . io / leakcanary ) \n + # # # [ square . github . io / leakcanary ] ( https : / / square . github . io / leakcanary ) \n - limitations under the License . \n + limitations under the License . \n
new file \n leakcanary - android - core \ src \ main \ res \ drawable - v21 \ leak _ canary _ tab _ background . xml \n + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > \n + < selector xmlns : android = " http : / / schemas . android . com / apk / res / android " > \n + < item android : drawable = " @ drawable / leak _ canary _ tab _ selector _ ripple " / > \n + < / selector > \n new file \n leakcanary - android - core \ src \ main \ res \ drawable - v21 \ leak _ canary _ tab _ selector _ ripple . xml \n + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > \n + < ripple \n + xmlns : android = " http : / / schemas . android . com / apk / res / android " \n + android : color = " @ color / leak _ canary _ gray _ darkest _ 25p " \n + / > \n new file \n leakcanary - android - core \ src \ main \ res \ drawable \ leak _ canary _ tab _ background . xml \n + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > \n + < selector xmlns : android = " http : / / schemas . android . com / apk / res / android " > \n + < item android : state _ pressed = " false " android : drawable = " @ android : color / transparent " / > \n + < item android : drawable = " @ color / leak _ canary _ gray _ darkest _ 25p " / > \n + < / selector > \n leakcanary - android - core \ src \ main \ res \ layout \ leak _ canary _ leak _ activity . xml \n - android : background = " ? android : selectableItemBackground " \n + android : background = " @ drawable / leak _ canary _ tab _ background " \n - android : background = " ? android : selectableItemBackground " \n + android : background = " @ drawable / leak _ canary _ tab _ background " \n - android : background = " ? android : selectableItemBackground " \n + android : background = " @ drawable / leak _ canary _ tab _ background " \n leakcanary - android - core \ src \ main \ res \ values \ leak _ canary _ colors . xml \n + < color name = " leak _ canary _ gray _ darkest _ 25p " > # 40151C1F < / color > \n
PULL _ REQUEST _ TEMPLATE . md \n - # # # What this PR do ? \n - - Describes the main changes that come with the pull request in present tense \n - - For instance - " Add correction to facade pattern " \n - # # # Context \n - - \n + Pull request title \n + - Clearly and concisely describes what it does \n + - Refer to the issue that it solves , if available \n - > DELETE ME | for detailed contributing instructions see https : / / github . com / iluwatar / java - design - patterns / wiki / 01 . - How - to - contribute \n + \n + Pull request description \n + \n + - Describes the main changes that come with the pull request \n + - Any relevant additional information is provided \n + \n + \n + \n + > For detailed contributing instructions see https : / / github . com / iluwatar / java - design - patterns / wiki / 01 . - How - to - contribute \n
new file \n PULL _ REQUEST _ TEMPLATE . md \n + # # # What this PR do ? \n + - Describes the main changes that come with the pull request in present tense \n + - For instance - " Add correction to facade pattern " \n + \n + # # # Context \n + - \n + \n + \n + > DELETE ME | for detailed contributing instructions see https : / / github . com / iluwatar / java - design - patterns / wiki / 01 . - How - to - contribute \n
README . md \n + [ ! [ CII Best Practices ] ( https : / / bestpractices . coreinfrastructure . org / projects / 1503 / badge ) ] ( https : / / bestpractices . coreinfrastructure . org / projects / 1503 ) \n
compiler \ ir \ backend . wasm \ src \ org \ jetbrains \ kotlin \ backend \ wasm \ lower \ WasmSharedVariablesManager . kt \n - import org . jetbrains . kotlin . descriptors . ClassKind \n - import org . jetbrains . kotlin . descriptors . Visibilities \n - import org . jetbrains . kotlin . ir . ObsoleteDescriptorBasedAPI \n - import org . jetbrains . kotlin . ir . descriptors . * \n - import org . jetbrains . kotlin . ir . expressions . * \n + import org . jetbrains . kotlin . ir . descriptors . IrBuiltIns \n + import org . jetbrains . kotlin . ir . expressions . IrExpression \n + import org . jetbrains . kotlin . ir . expressions . IrGetValue \n + import org . jetbrains . kotlin . ir . expressions . IrSetValue \n + import org . jetbrains . kotlin . ir . expressions . IrTypeOperator \n - import org . jetbrains . kotlin . ir . symbols . impl . IrClassSymbolImpl \n + import org . jetbrains . kotlin . ir . util . parentAsClass \n - @ OptIn ( ObsoleteDescriptorBasedAPI : : class ) \n - IrConstructorCallImpl . fromSymbolDescriptor ( initializer . startOffset , initializer . endOffset , closureBoxType , constructorSymbol ) \n - . apply { \n - putValueArgument ( 0 , initializer ) \n - } \n + IrConstructorCallImpl ( \n + initializer . startOffset , \n + initializer . endOffset , \n + closureBoxType , \n + constructorSymbol , \n + closureBoxConstructorDeclaration . parentAsClass . typeParameters . size , \n + closureBoxConstructorDeclaration . typeParameters . size , \n + closureBoxConstructorDeclaration . valueParameters . size \n + ) . apply { \n + putValueArgument ( 0 , initializer ) \n + } \n - } \n + } \n
compiler \ testData \ codegen \ box \ coroutines \ kt44221 . kt \n + / / IGNORE _ BACKEND : JS \n - fun box ( ) : String = CharTest ( ) . simpleTest ( ) \n + fun box ( ) : String = CharTest ( ) . simpleTest ( ) \n js \ js . translator \ src \ org \ jetbrains \ kotlin \ js \ translate \ callTranslator \ CallTranslator . kt \n - * Copyright 2010 - 2017 JetBrains s . r . o . \n - * \n - * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n - * you may not use this file except in compliance with the License . \n - * You may obtain a copy of the License at \n - * \n - * http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n - * \n - * Unless required by applicable law or agreed to in writing , software \n - * distributed under the License is distributed on an " AS IS " BASIS , \n - * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n - * See the License for the specific language governing permissions and \n - * limitations under the License . \n + * Copyright 2010 - 2021 JetBrains s . r . o . and Kotlin Programming Language contributors . \n + * Use of this source code is governed by the Apache 2 . 0 license that can be found in the license / LICENSE . txt file . \n - callExpression = context . createCoroutineResult ( resolvedCall ) \n + return context . createCoroutineResult ( resolvedCall ) \n
js \ js . config \ src \ org \ jetbrains \ kotlin \ utils \ JsLibraryUtils . kt \n - * Copyright 2010 - 2020 JetBrains s . r . o . and Kotlin Programming Language contributors . \n + * Copyright 2010 - 2021 JetBrains s . r . o . and Kotlin Programming Language contributors . \n - val content = FileUtil . loadTextAndClose ( stream ) \n + val content = stream . reader ( ) . readText ( ) \n - val content = FileUtil . loadTextAndClose ( stream ) \n + val content = stream . reader ( ) . readText ( ) \n
presto - elasticsearch \ src \ main \ java \ com \ facebook \ presto \ elasticsearch \ ElasticsearchClient . java \n + String type = " object " ; \n + if ( value . has ( " type " ) ) { \n + type = value . get ( " type " ) . asText ( ) ; \n + } \n + \n - if ( value . has ( " type " ) ) { \n - String type = value . get ( " type " ) . asText ( ) ; \n - if ( type . equals ( " date " ) ) { \n + \n + switch ( type ) { \n + case " date " : \n - } \n - else { \n + break ; \n + \n + case " object " : \n + if ( value . has ( " properties " ) ) { \n + result . add ( new IndexMetadata . Field ( isArray , name , parseType ( value . get ( " properties " ) , metaNode ) ) ) ; \n + } \n + else { \n + LOG . debug ( " Ignoring empty object field : % s " , name ) ; \n + } \n + break ; \n + \n + default : \n - } \n - } \n - else if ( value . has ( " properties " ) ) { \n - result . add ( new IndexMetadata . Field ( isArray , name , parseType ( value . get ( " properties " ) , metaNode ) ) ) ; \n presto - elasticsearch \ src \ test \ java \ com \ facebook \ presto \ elasticsearch \ TestElasticsearchIntegrationSmokeTest . java \n + @ Test \n + public void testEmptyObjectFields ( ) \n + { \n + String indexName = " emptyobject " ; \n + index ( indexName , ImmutableMap . < String , Object > builder ( ) \n + . put ( " name " , " stringfield " ) \n + . put ( " emptyobject " , ImmutableMap . of ( ) ) \n + . put ( " fields . fielda " , 32 ) \n + . put ( " fields . fieldb " , ImmutableMap . of ( ) ) \n + . build ( ) ) ; \n + \n + embeddedElasticsearchNode . getClient ( ) \n + . admin ( ) \n + . indices ( ) \n + . refresh ( refreshRequest ( indexName ) ) \n + . actionGet ( ) ; \n + \n + assertQuery ( \n + " SELECT name , fields . fielda FROM emptyobject " , \n + " VALUES ( ' stringfield ' , 32 ) " ) ; \n + } \n + \n
presto - elasticsearch \ src \ main \ java \ com \ facebook \ presto \ elasticsearch \ ElasticsearchClient . java \n + String type = " object " ; \n + if ( value . has ( " type " ) ) { \n + type = value . get ( " type " ) . asText ( ) ; \n + } \n + \n - if ( value . has ( " type " ) ) { \n - String type = value . get ( " type " ) . asText ( ) ; \n - if ( type . equals ( " date " ) ) { \n + \n + switch ( type ) { \n + case " date " : \n - } \n - else { \n + break ; \n + \n + case " object " : \n + if ( value . has ( " properties " ) ) { \n + result . add ( new IndexMetadata . Field ( isArray , name , parseType ( value . get ( " properties " ) , metaNode ) ) ) ; \n + } \n + else { \n + LOG . debug ( " Ignoring empty object field : % s " , name ) ; \n + } \n + break ; \n + \n + default : \n - } \n - } \n - else if ( value . has ( " properties " ) ) { \n - result . add ( new IndexMetadata . Field ( isArray , name , parseType ( value . get ( " properties " ) , metaNode ) ) ) ; \n presto - elasticsearch \ src \ test \ java \ com \ facebook \ presto \ elasticsearch \ TestElasticsearchIntegrationSmokeTest . java \n + @ Test \n + public void testEmptyObjectFields ( ) \n + { \n + String indexName = " emptyobject " ; \n + index ( indexName , ImmutableMap . < String , Object > builder ( ) \n + . put ( " name " , " stringfield " ) \n + . put ( " emptyobject " , ImmutableMap . of ( ) ) \n + . put ( " fields . fielda " , 32 ) \n + . put ( " fields . fieldb " , ImmutableMap . of ( ) ) \n + . build ( ) ) ; \n + \n + embeddedElasticsearchNode . getClient ( ) \n + . admin ( ) \n + . indices ( ) \n + . refresh ( refreshRequest ( indexName ) ) \n + . actionGet ( ) ; \n + \n + assertQuery ( \n + " SELECT name , fields . fielda FROM emptyobject " , \n + " VALUES ( ' stringfield ' , 32 ) " ) ; \n + } \n + \n
presto - druid \ src \ main \ java \ com \ facebook \ presto \ druid \ segment \ V9SegmentIndexSource . java \n + import org . apache . druid . common . config . NullHandling ; \n + NullHandling . initializeForTests ( ) ; \n
README . md \n - implementation ' com . facebook . fresco : fresco : 1 . 11 . 0 ' \n + implementation ' com . facebook . fresco : fresco : 1 . 12 . 0 ' \n docs \ _ config . yml \n - current _ version : 1 . 11 . 0 \n + current _ version : 1 . 12 . 0 \n
gradle . properties \n - VERSION _ NAME = 1 . 12 . 0 \n + VERSION _ NAME = 1 . 12 . 1 \n
README . md \n - implementation ' com . facebook . fresco : fresco : 1 . 12 . 0 ' \n + implementation ' com . facebook . fresco : fresco : 1 . 12 . 1 ' \n docs \ _ config . yml \n - current _ version : 1 . 12 . 0 \n + current _ version : 1 . 12 . 1 \n
src \ test \ java \ net \ starlark \ java \ eval \ Benchmarks . java \n + import java . util . Arrays ; \n - for ( File file : testdata . listFiles ( ) ) { \n + File [ ] files = testdata . listFiles ( ) ; \n + Arrays . sort ( files ) ; / / for determinism \n + for ( File file : files ) { \n
src \ main \ java \ net \ starlark \ java \ eval \ Printer . java \n - / / valid ? \n - if ( " doxXrsefgEFG " . indexOf ( conv ) < 0 ) { \n - throw new MissingFormatWidthException ( \n - / / The call to Starlark . repr doesn ' t cause an infinite recursion because it ' s \n - / / only used to format a string properly . \n - String . format ( \n - " unsupported format character \ " % s \ " at index % s in % s " , \n - String . valueOf ( conv ) , p + 1 , Starlark . repr ( pattern ) ) ) ; \n - } \n - \n - throw new IllegalStateException ( " unreachable " ) ; \n + / / The call to Starlark . repr doesn ' t cause an infinite recursion \n + / / because it ' s only used to format a string properly . \n + throw new MissingFormatWidthException ( \n + String . format ( \n + " unsupported format character \ " % s \ " at index % s in % s " , \n + String . valueOf ( conv ) , p + 1 , Starlark . repr ( pattern ) ) ) ; \n src \ test \ java \ net \ starlark \ java \ eval \ PrinterTest . java \n - checkFormatPositionalFails ( " unsupported format character \ " . \ " at index 1 in \ " % . 3g \ " " , \n - " % . 3g " ) ; \n + checkFormatPositionalFails ( \n + " unsupported format character \ " . \ " at index 1 in \ " % . 3g \ " " , " % . 3g " , 1 ) ; \n - checkFormatPositionalFails ( " unsupported format character \ " . \ " at index 1 in \ " % . s \ " " , \n - " % . s " ) ; \n + checkFormatPositionalFails ( \n + " unsupported format character \ " . \ " at index 1 in \ " % . s \ " " , " % . s " , 1 ) ; \n + checkFormatPositionalFails ( " not enough arguments for format pattern \ " % . s \ " : ( ) " , " % . s " ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ skydoc \ SkydocMain . java \n - } catch ( EvalException | InterruptedException ex ) { \n - / / This exception class seems a bit unnecessary . Replace with EvalException ? \n - throw new StarlarkEvaluationException ( " Starlark evaluation error " , ex ) ; \n + } catch ( EvalException ex ) { \n + throw new StarlarkEvaluationException ( ex . getMessageWithStack ( ) ) ; \n src \ test \ java \ com \ google \ devtools \ build \ skydoc \ SkydocTest . java \n - public void testStarlarkEvaluationException ( ) throws Exception { \n + public void testStarlarkEvaluationError ( ) throws Exception { \n - " / test / test . bzl " , \n - " def rule _ impl ( ctx ) : " , \n - " return [ ] " , \n - " " , \n - " my _ rule = rule ( " , \n - " invalid _ param = 3 , " , \n - " ) " ) ; \n - \n - StarlarkEvaluationException expected = \n + " / test / a . bzl " , / / \n + " def f ( ) : 1 / / 0 " , \n + " f ( ) " ) ; \n + StarlarkEvaluationException ex = \n - Label . parseAbsoluteUnchecked ( " / / test : test . bzl " ) , \n + Label . parseAbsoluteUnchecked ( " / / test : a . bzl " ) , \n - \n - assertThat ( expected ) . hasMessageThat ( ) . contains ( " Starlark evaluation error " ) ; \n + String msg = ex . getMessage ( ) ; \n + assertThat ( msg ) . contains ( " Traceback " ) ; \n + assertThat ( msg ) . contains ( " line 2 , column 2 , in < toplevel > " ) ; \n + assertThat ( msg ) . contains ( " line 1 , column 11 , in f " ) ; \n + assertThat ( msg ) . contains ( " Error : integer division by zero " ) ; \n
src \ jvm \ backtype \ storm \ messaging \ TaskMessage . java \n - public byte [ ] serialize ( ) { \n + public ByteBuffer serialize ( ) { \n - return bb . array ( ) ; \n + return bb ; \n - public void deserialize ( byte [ ] packet ) { \n + public void deserialize ( ByteBuffer packet ) { \n - ByteBuffer bb = ByteBuffer . wrap ( packet ) ; \n - _ task = bb . getShort ( ) ; \n - _ message = new byte [ packet . length - 2 ] ; \n - bb . get ( _ message ) ; \n + _ task = packet . getShort ( ) ; \n + _ message = new byte [ packet . limit ( ) - 2 ] ; \n + packet . get ( _ message ) ; \n src \ jvm \ backtype \ storm \ messaging \ zmq \ Connection . java \n + import java . nio . ByteBuffer ; \n + \n - message . deserialize ( socket . recv ( flags ) ) ; \n + message . deserialize ( ByteBuffer . wrap ( socket . recv ( flags ) ) ) ; \n - byte [ ] packet = new TaskMessage ( taskId , payload ) . serialize ( ) ; \n - socket . send ( packet , ZMQ . NOBLOCK ) ; \n + ByteBuffer buffer = new TaskMessage ( taskId , payload ) . serialize ( ) ; \n + socket . send ( buffer . array ( ) , ZMQ . NOBLOCK ) ; \n
conf \ defaults . yaml \n + topology . tuple . serializer : " backtype . storm . serialization . types . ListDelegateSerializer " \n src \ jvm \ backtype \ storm \ serialization \ SerializationFactory . java \n - / * tuple payload serializer could be specified via configuration * / \n + / * tuple payload serializer is specified via configuration * / \n - if ( payloadSerializerName = = null ) \n - k . register ( ListDelegate . class , new ListDelegateSerializer ( ) ) ; / / use default payload serializer \n - else { \n - try { \n - Class serializerClass = Class . forName ( payloadSerializerName ) ; \n - Serializer serializer = resolveSerializerInstance ( k , ListDelegate . class , serializerClass , conf ) ; \n - if ( serializer = = null ) \n - k . register ( ListDelegate . class , new ListDelegateSerializer ( ) ) ; \n - else \n - k . register ( ListDelegate . class , serializer ) ; \n - } catch ( ClassNotFoundException ex ) { \n - LOG . error ( ex + " Could not load class in class path : " + payloadSerializerName ) ; \n + try { \n + Class serializerClass = Class . forName ( payloadSerializerName ) ; \n + Serializer serializer = resolveSerializerInstance ( k , ListDelegate . class , serializerClass , conf ) ; \n + if ( serializer = = null ) \n - } \n - } \n + else \n + k . register ( ListDelegate . class , serializer ) ; \n + } catch ( ClassNotFoundException ex ) { \n + LOG . error ( " Could not load class in class path : " + payloadSerializerName . length ( ) , ex ) ; \n + throw new RuntimeException ( ex ) ; \n + } \n
src \ jvm \ backtype \ storm \ serialization \ SerializationFactory . java \n - if ( serializer = = null ) \n - k . register ( ListDelegate . class , new ListDelegateSerializer ( ) ) ; \n - else \n - k . register ( ListDelegate . class , serializer ) ; \n + k . register ( ListDelegate . class , serializer ) ; \n
src \ test \ shell \ bazel \ BUILD \n - " : jdeps _ class _ blacklist . txt " , \n + " : jdeps _ class _ denylist . txt " , \n rename from src \ test \ shell \ bazel \ jdeps _ class _ blacklist . txt \n rename to src \ test \ shell \ bazel \ jdeps _ class _ denylist . txt \n - # This is a blacklist of class files that trigger a NPE in jdeps . \n + # This is a denylist of class files that trigger a NPE in jdeps . \n src \ test \ shell \ bazel \ jdeps _ test . sh \n - # files to jdeps _ class _ blacklist . txt \n + # files to jdeps _ class _ denylist . txt \n - blacklist = $ ( rlocation io _ bazel / src / test / shell / bazel / jdeps _ class _ blacklist . txt ) \n + denylist = $ ( rlocation io _ bazel / src / test / shell / bazel / jdeps _ class _ denylist . txt ) \n - # src / test / shell / bazel / jdeps _ class _ blacklist . txt . \n + # src / test / shell / bazel / jdeps _ class _ denylist . txt . \n - grep - vFf " $ blacklist " | \ \n + grep - vFf " $ denylist " | \ \n - | | fail " Failed to run jdeps on non blacklisted class files . " \n + | | fail " Failed to run jdeps on non denylisted class files . " \n
WORKSPACE \n - " 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " , \n + " b1c40e1de81913a3c40e5948f78719c28152486d . zip " , \n - " 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " : " 1d4dbbd1e1e9b57d40bb0ade51c9e882da7658d5bfbf22bbd15b68e7879d761f " , \n + " b1c40e1de81913a3c40e5948f78719c28152486d . zip " : " d0c573b94a6ef20ef6ff20154a23d0efcb409fb0e1ff0979cec318dfe42f0cdd " , \n - " 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " : [ \n - " https : / / mirror . bazel . build / github . com / bazelbuild / rules _ cc / archive / 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " , \n - " https : / / github . com / bazelbuild / rules _ cc / archive / 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " , \n + " b1c40e1de81913a3c40e5948f78719c28152486d . zip " : [ \n + " https : / / mirror . bazel . build / github . com / bazelbuild / rules _ cc / archive / b1c40e1de81913a3c40e5948f78719c28152486d . zip " , \n + " https : / / github . com / bazelbuild / rules _ cc / archive / b1c40e1de81913a3c40e5948f78719c28152486d . zip " , \n - sha256 = " 1d4dbbd1e1e9b57d40bb0ade51c9e882da7658d5bfbf22bbd15b68e7879d761f " , \n - strip _ prefix = " rules _ cc - 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 " , \n + sha256 = " d0c573b94a6ef20ef6ff20154a23d0efcb409fb0e1ff0979cec318dfe42f0cdd " , \n + strip _ prefix = " rules _ cc - b1c40e1de81913a3c40e5948f78719c28152486d " , \n - " https : / / mirror . bazel . build / github . com / bazelbuild / rules _ cc / archive / 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " , \n - " https : / / github . com / bazelbuild / rules _ cc / archive / 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " , \n + " https : / / mirror . bazel . build / github . com / bazelbuild / rules _ cc / archive / b1c40e1de81913a3c40e5948f78719c28152486d . zip " , \n + " https : / / github . com / bazelbuild / rules _ cc / archive / b1c40e1de81913a3c40e5948f78719c28152486d . zip " , \n - " 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " , \n + " b1c40e1de81913a3c40e5948f78719c28152486d . zip " , \n - " 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " : " 1d4dbbd1e1e9b57d40bb0ade51c9e882da7658d5bfbf22bbd15b68e7879d761f " , \n + " b1c40e1de81913a3c40e5948f78719c28152486d . zip " : " d0c573b94a6ef20ef6ff20154a23d0efcb409fb0e1ff0979cec318dfe42f0cdd " , \n - " 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " : [ \n - " https : / / mirror . bazel . build / github . com / bazelbuild / rules _ cc / archive / 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " , \n - " https : / / github . com / bazelbuild / rules _ cc / archive / 8bd6cd75d03c01bb82561a96d9c1f9f7157b13d0 . zip " , \n + " b1c40e1de81913a3c40e5948f78719c28152486d . zip " : [ \n + " https : / / mirror . bazel . build / github . com / bazelbuild / rules _ cc / archive / b1c40e1de81913a3c40e5948f78719c28152486d . zip " , \n + " https : / / github . com / bazelbuild / rules _ cc / archive / b1c40e1de81913a3c40e5948f78719c28152486d . zip " , \n
src \ test \ shell \ integration \ discard _ graph _ edges _ test . sh \n - [ [ " $ package _ count " - le 25 ] ] \ \n - | | fail " package count $ package _ count too high . Expected < = 25 " \n + [ [ " $ package _ count " - le 20 ] ] \ \n + | | fail " package count $ package _ count too high " \n src \ test \ shell \ testenv . sh . tmpl \n - " rules _ pkg " \n - # TODO ( https : / / github . com / bazelbuild / bazel / issues / 8986 ) : Build this dynamically \n - # from / / WORKSPACE \n - function add _ rules _ pkg _ to _ workspace ( ) { \n - cat > > " $ 1 " < < EOF \n - load ( " @ bazel _ tools / / tools / build _ defs / repo : http . bzl " , " http _ archive " ) \n - \n - http _ archive ( \n - name = " rules _ pkg " , \n - sha256 = " 5bdc04987af79bd27bc5b00fe30f59a858f77ffa0bd2d8143d5b31ad8b1bd71c " , \n - urls = [ \n - " https : / / mirror . bazel . build / github . com / bazelbuild / rules _ pkg / rules _ pkg - 0 . 2 . 0 . tar . gz " , \n - " https : / / github . com / bazelbuild / rules _ pkg / releases / download / 0 . 2 . 0 / rules _ pkg - 0 . 2 . 0 . tar . gz " , \n - ] , \n - ) \n - EOF \n - } \n - \n - add _ rules _ pkg _ to _ workspace " WORKSPACE " \n tools \ android \ runtime _ deps \ BUILD . bazel \n - load ( " @ rules _ pkg / / : pkg . bzl " , " pkg _ tar " ) \n + load ( " @ bazel _ tools / / tools / build _ defs / pkg : pkg . bzl " , " pkg _ tar " ) \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CppCompileAction . java \n - import com . google . devtools . build . lib . bugreport . BugReport ; \n - BugReport . sendBugReport ( e ) ; \n + actionExecutionContext . getBugReporter ( ) . sendBugReport ( e ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ vfs \ PathFragment . java \n - / / Path is normalized , so any " . . " would have to be at the very start \n - return normalizedPath . startsWith ( " . . " ) ; \n + / / Path is normalized , so any " . . " would have to be the first segment . \n + return normalizedPath . equals ( " . . " ) | | normalizedPath . startsWith ( " . . " + SEPARATOR _ CHAR ) ; \n src \ test \ java \ com \ google \ devtools \ build \ lib \ vfs \ PathFragmentTest . java \n + import static com . google . devtools . build . lib . vfs . PathFragment . EMPTY _ FRAGMENT ; \n + \n + @ Test \n + public void containsUplevelReference _ emptyPath _ returnsFalse ( ) { \n + assertThat ( EMPTY _ FRAGMENT . containsUplevelReferences ( ) ) . isFalse ( ) ; \n + } \n + \n + @ Test \n + public void containsUplevelReference _ uplevelOnlyPath _ returnsTrue ( ) { \n + PathFragment pathFragment = create ( " . . " ) ; \n + assertThat ( pathFragment . containsUplevelReferences ( ) ) . isTrue ( ) ; \n + } \n + \n + @ Test \n + public void containsUplevelReferences _ firstSegmentStartingWithDotDot _ returnsFalse ( ) { \n + PathFragment pathFragment = create ( " . . file " ) ; \n + assertThat ( pathFragment . containsUplevelReferences ( ) ) . isFalse ( ) ; \n + } \n + \n + @ Test \n + public void containsUplevelReferences _ startsWithUplevelReference _ returnsTrue ( ) { \n + PathFragment pathFragment = create ( " . . / file " ) ; \n + assertThat ( pathFragment . containsUplevelReferences ( ) ) . isTrue ( ) ; \n + } \n + \n + @ Test \n + public void containsUplevelReferences _ uplevelReferenceMidPath _ normalizesAndReturnsFalse ( ) { \n + PathFragment pathFragment = create ( " a / . . / b " ) ; \n + \n + assertThat ( pathFragment . containsUplevelReferences ( ) ) . isFalse ( ) ; \n + assertThat ( pathFragment . getPathString ( ) ) . isEqualTo ( " b " ) ; \n + } \n + \n + @ Test \n + public void containsUplevelReferenes _ uplevelReferenceMidGlobalPath _ normalizesAndReturnsFalse ( ) { \n + PathFragment pathFragment = create ( " / dir1 / dir2 / . . / file " ) ; \n + \n + assertThat ( pathFragment . containsUplevelReferences ( ) ) . isFalse ( ) ; \n + assertThat ( pathFragment . getPathString ( ) ) . isEqualTo ( " / dir1 / file " ) ; \n + } \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ runtime \ CommandEnvironment . java \n - * Returns precomputed workspace information or null . \n + * Returns workspace information obtained from the { @ linkplain \n + * com . google . devtools . build . lib . skyframe . DiffAwareness . View # getWorkspaceInfo ( ) diff } or null . \n - * < p > Precomputed workspace info is an optimization allowing to share information about the \n - * workspace if it was derived at the time of synchronizing the workspace . This way we can make it \n - * available earlier during the build and avoid retrieving it again . \n + * < p > We store workspace info as an optimization to allow sharing of information about the \n + * workspace if it was derived from the diff at the time of synchronizing the workspace . This way \n + * we can make it available earlier during the build and avoid retrieving it again . \n
src \ main \ java \ rx \ internal \ operators \ OperatorZip . java \n + @ SuppressWarnings ( " rawtypes " ) \n - \n + / * * * / \n + private static final long serialVersionUID = - 1216676403723546796L ; \n - addAndGet ( n ) ; \n + BackpressureUtils . getAndAddRequest ( this , n ) ; \n + @ SuppressWarnings ( " unused " ) \n src \ test \ java \ rx \ internal \ operators \ OperatorZipTest . java \n + @ Test \n + public void testUnboundedDownstreamOverrequesting ( ) { \n + Observable < Integer > source = Observable . range ( 1 , 2 ) . zipWith ( Observable . range ( 1 , 2 ) , new Func2 < Integer , Integer , Integer > ( ) { \n + @ Override \n + public Integer call ( Integer t1 , Integer t2 ) { \n + return t1 + 10 * t2 ; \n + } \n + } ) ; \n + \n + TestSubscriber < Integer > ts = new TestSubscriber < Integer > ( ) { \n + @ Override \n + public void onNext ( Integer t ) { \n + super . onNext ( t ) ; \n + requestMore ( 5 ) ; \n + } \n + } ; \n + \n + source . subscribe ( ts ) ; \n + \n + ts . assertNoErrors ( ) ; \n + ts . assertTerminalEvent ( ) ; \n + ts . assertReceivedOnNext ( Arrays . asList ( 11 , 22 ) ) ; \n + } \n
src \ main \ java \ rx \ internal \ schedulers \ NewThreadWorker . java \n - private static final String FREQUENCY _ KEY = " io . reactivex . rxjava . scheduler . jdk6 . purge - frequency - millis " ; \n + private static final String FREQUENCY _ KEY = " rx . scheduler . jdk6 . purge - frequency - millis " ; \n - private static final String PURGE _ FORCE _ KEY = " io . reactivex . rxjava . scheduler . jdk6 . purge - force " ; \n + private static final String PURGE _ FORCE _ KEY = " rx . scheduler . jdk6 . purge - force " ; \n
src \ main \ java \ rx \ internal \ operators \ OperatorMerge . java \n - if ( ! emitting ) { \n + r = producer . get ( ) ; \n + if ( ! emitting & & r ! = 0L ) { \n - if ( ! emitting ) { \n + r = producer . get ( ) ; \n + if ( ! emitting & & r ! = 0L ) { \n src \ test \ java \ rx \ BackpressureTests . java \n + @ Test \n + public void testMergeAsyncThenObserveOnLoop ( ) { \n + for ( int i = 0 ; i < 500 ; i + + ) { \n + if ( i % 10 = = 0 ) { \n + System . out . println ( " testMergeAsyncThenObserveOnLoop > > " + i ) ; \n + } \n + / / Verify there is no MissingBackpressureException \n + int NUM = ( int ) ( RxRingBuffer . SIZE * 4 . 1 ) ; \n + AtomicInteger c1 = new AtomicInteger ( ) ; \n + AtomicInteger c2 = new AtomicInteger ( ) ; \n + \n + TestSubscriber < Integer > ts = new TestSubscriber < Integer > ( ) ; \n + Observable < Integer > merged = Observable . merge ( \n + incrementingIntegers ( c1 ) . subscribeOn ( Schedulers . computation ( ) ) , \n + incrementingIntegers ( c2 ) . subscribeOn ( Schedulers . computation ( ) ) ) ; \n + \n + merged . observeOn ( Schedulers . io ( ) ) . take ( NUM ) . subscribe ( ts ) ; \n + ts . awaitTerminalEvent ( ) ; \n + ts . assertNoErrors ( ) ; \n + System . out . println ( " testMergeAsyncThenObserveOn = > Received : " + ts . getOnNextEvents ( ) . size ( ) + " Emitted : " + c1 . get ( ) + " / " + c2 . get ( ) ) ; \n + assertEquals ( NUM , ts . getOnNextEvents ( ) . size ( ) ) ; \n + } \n + } \n + \n
src \ main \ java \ io \ reactivex \ Completable . java \n - * < img width = " 640 " height = " 442 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Completable . fromPublisher . png " alt = " " > \n + * < img width = " 640 " height = " 422 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Completable . fromPublisher . png " alt = " " > \n - * < p > \n - * < img width = " 640 " height = " 293 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Completable . toObservable . png " alt = " " > \n + * < p > \n + * < img width = " 640 " height = " 293 " src = " https : / / raw . github . com / wiki / ReactiveX / RxJava / images / rx - operators / Completable . toObservable . png " alt = " " > \n
docs \ Operator - Matrix . md \n - esent ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ on . png ) | ! [ present ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ on . png ) | ! [ present ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ on . png ) | ! [ present ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ on . png ) | ! [ absent ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ off . png ) | \n - ` zipWith ` | ! [ present ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ on . png ) | ! [ present ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ on . png ) | ! [ present ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ on . png ) | ! [ present ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ on . png ) | ! [ absent ] ( https : / / raw . github . com / wiki / ReactiveX / RxJava / images / checkmark _ off . png ) | \n docs \ _ Sidebar . md . md \n + * [ Operator matrix ] ( https : / / github . com / ReactiveX / RxJava / wiki / Operator - Matrix ) \n src \ test \ java \ io \ reactivex \ rxjava3 \ internal \ util \ OperatorMatrixGenerator . java \n - try ( PrintWriter out = new PrintWriter ( Files . newBufferedWriter ( Paths . get ( " docs " , " Operator - Matrix . md " ) , StandardOpenOption . CREATE ) ) ) { \n + try ( PrintWriter out = new PrintWriter ( Files . newBufferedWriter ( Paths . get ( " docs " , " Operator - Matrix . md " ) , StandardOpenOption . CREATE , StandardOpenOption . TRUNCATE _ EXISTING ) ) ) { \n
src \ main \ java \ io \ reactivex \ rxjava3 \ internal \ operators \ maybe \ MaybeZipArray . java \n - import java . util . Arrays ; \n src \ main \ java \ io \ reactivex \ rxjava3 \ internal \ operators \ single \ SingleZipArray . java \n - import java . util . Arrays ; \n src \ test \ java \ io \ reactivex \ rxjava3 \ internal \ operators \ maybe \ MaybeZipArrayTest . java \n + \n + @ Test \n + public void onSuccessAfterDispose ( ) { \n + AtomicReference < MaybeObserver < ? super Integer > > emitter = new AtomicReference < > ( ) ; \n + \n + TestObserver < List < Object > > to = Maybe . zipArray ( Arrays : : asList , \n + ( MaybeSource < Integer > ) o - > emitter . set ( o ) , Maybe . < Integer > never ( ) ) \n + . test ( ) ; \n + \n + emitter . get ( ) . onSubscribe ( Disposable . empty ( ) ) ; \n + \n + to . dispose ( ) ; \n + \n + emitter . get ( ) . onSuccess ( 1 ) ; \n + \n + to . assertEmpty ( ) ; \n + } \n src \ test \ java \ io \ reactivex \ rxjava3 \ internal \ operators \ single \ SingleZipArrayTest . java \n + import java . util . concurrent . atomic . AtomicReference ; \n + import io . reactivex . rxjava3 . disposables . Disposable ; \n + \n + @ Test \n + public void onSuccessAfterDispose ( ) { \n + AtomicReference < SingleObserver < ? super Integer > > emitter = new AtomicReference < > ( ) ; \n + \n + TestObserver < List < Object > > to = Single . zipArray ( Arrays : : asList , \n + ( SingleSource < Integer > ) o - > emitter . set ( o ) , Single . < Integer > never ( ) ) \n + . test ( ) ; \n + \n + emitter . get ( ) . onSubscribe ( Disposable . empty ( ) ) ; \n + \n + to . dispose ( ) ; \n + \n + emitter . get ( ) . onSuccess ( 1 ) ; \n + \n + to . assertEmpty ( ) ; \n + } \n
src \ main \ java \ io \ vertx \ core \ http \ impl \ HttpClientImpl . java \n - Objects . requireNonNull ( protocol , " no null protocl accepted " ) ; \n + Objects . requireNonNull ( protocol , " no null protocol accepted " ) ; \n
src \ main \ asciidoc \ java \ http . adoc \n - Here’s an example : \n + Heres an example : \n - - - - \n + = = = = Handling of other protocols \n + \n + The HTTP proxy implementation supports getting ftp : / / urls if the proxy supports \n + that , which isn ' t available in non - proxy getAbs requests . \n + \n + [ source , java ] \n + - - - - \n + HttpClientOptions options = new HttpClientOptions ( ) \n + . setProxyOptions ( new ProxyOptions ( ) . setType ( ProxyType . HTTP ) ) ; \n + HttpClient client = vertx . createHttpClient ( options ) ; \n + client . getAbs ( " ftp : / / ftp . gnu . org / gnu / " , response - > { \n + System . out . println ( " Received response with status code " + response . statusCode ( ) ) ; \n + } ) ; \n + - - - - \n + \n + Support for other protocols is not available since java . net . URL does not \n + support them ( gopher : / / for example ) . \n + \n src \ main \ java \ examples \ HTTPExamples . java \n + public void example60 ( Vertx vertx ) { \n + \n + HttpClientOptions options = new HttpClientOptions ( ) \n + . setProxyOptions ( new ProxyOptions ( ) . setType ( ProxyType . HTTP ) ) ; \n + HttpClient client = vertx . createHttpClient ( options ) ; \n + client . getAbs ( " ftp : / / ftp . gnu . org / gnu / " , response - > { \n + System . out . println ( " Received response with status code " + response . statusCode ( ) ) ; \n + } ) ; \n + \n + } \n + \n src \ main \ java \ io \ vertx \ core \ http \ package - info . java \n + * = = = = Handling of other protocols \n + * \n + * The HTTP proxy implementation supports getting ftp : / / urls if the proxy supports \n + * that , which isn ' t available in non - proxy getAbs requests . \n + * \n + * [ source , $ lang ] \n + * - - - - \n + * { @ link examples . HTTPExamples # example60 } \n + * - - - - \n + * \n + * Support for other protocols is not available since java . net . URL does not \n + * support them ( gopher : / / for example ) . \n + * \n
src \ main \ asciidoc \ java \ http . adoc \n - Heres an example : \n + Here ' s an example : \n - - - - \n src \ main \ java \ io \ vertx \ core \ http \ package - info . java \n - * Here’s an example : \n + * Here ' s an example : \n
. all - contributorsrc \n + } , \n + { \n + " login " : " byoungju94 " , \n + " name " : " byoungju94 " , \n + " avatar _ url " : " https : / / avatars . githubusercontent . com / u / 42516378 ? v = 4 " , \n + " profile " : " https : / / github . com / byoungju94 " , \n + " contributions " : [ \n + " code " \n + ] \n README . md \n - [ ! [ All Contributors ] ( https : / / img . shields . io / badge / all _ contributors - 152 - orange . svg ? style = flat - square ) ] ( # contributors - ) \n + [ ! [ All Contributors ] ( https : / / img . shields . io / badge / all _ contributors - 153 - orange . svg ? style = flat - square ) ] ( # contributors - ) \n + < tr > \n + < td align = " center " > < a href = " https : / / github . com / byoungju94 " > < img src = " https : / / avatars . githubusercontent . com / u / 42516378 ? v = 4 ? s = 100 " width = " 100px ; " alt = " " / > < br / > < sub > < b > byoungju94 < / b > < / sub > < / a > < br / > < a href = " https : / / github . com / iluwatar / java - design - patterns / commits ? author = byoungju94 " title = " Code " > 💻 < / a > < / td > \n + < / tr > \n
. all - contributorsrc \n + } , \n + { \n + " login " : " richardmr36 " , \n + " name " : " Martel Richard " , \n + " avatar _ url " : " https : / / avatars . githubusercontent . com / u / 19147333 ? v = 4 " , \n + " profile " : " https : / / github . com / richardmr36 " , \n + " contributions " : [ \n + " code " \n + ] \n README . md \n - [ ! [ All Contributors ] ( https : / / img . shields . io / badge / all _ contributors - 154 - orange . svg ? style = flat - square ) ] ( # contributors - ) \n + [ ! [ All Contributors ] ( https : / / img . shields . io / badge / all _ contributors - 155 - orange . svg ? style = flat - square ) ] ( # contributors - ) \n + < td align = " center " > < a href = " https : / / github . com / richardmr36 " > < img src = " https : / / avatars . githubusercontent . com / u / 19147333 ? v = 4 ? s = 100 " width = " 100px ; " alt = " " / > < br / > < sub > < b > Martel Richard < / b > < / sub > < / a > < br / > < a href = " https : / / github . com / iluwatar / java - design - patterns / commits ? author = richardmr36 " title = " Code " > 💻 < / a > < / td > \n
. all - contributorsrc \n + } , \n + { \n + " login " : " moustafafarhat " , \n + " name " : " Moustafa Farhat " , \n + " avatar _ url " : " https : / / avatars . githubusercontent . com / u / 38836727 ? v = 4 " , \n + " profile " : " https : / / github . com / moustafafarhat " , \n + " contributions " : [ \n + " translation " \n + ] \n README . md \n - [ ! [ All Contributors ] ( https : / / img . shields . io / badge / all _ contributors - 153 - orange . svg ? style = flat - square ) ] ( # contributors - ) \n + [ ! [ All Contributors ] ( https : / / img . shields . io / badge / all _ contributors - 154 - orange . svg ? style = flat - square ) ] ( # contributors - ) \n + < td align = " center " > < a href = " https : / / github . com / moustafafarhat " > < img src = " https : / / avatars . githubusercontent . com / u / 38836727 ? v = 4 ? s = 100 " width = " 100px ; " alt = " " / > < br / > < sub > < b > Moustafa Farhat < / b > < / sub > < / a > < br / > < a href = " # translation - moustafafarhat " title = " Translation " > 🌍 < / a > < / td > \n
bin \ build _ release . sh \n - rm - f $ DIR / lib / storm - core - $ RELEASE . jar \n + cd _ release / storm - $ RELEASE \n + for i in * . jar \n + do \n + rm - f lib / $ i \n + done \n + cd . . \n
storm - netty \ src \ jvm \ backtype \ storm \ messaging \ netty \ Client . java \n - if ( msg . equals ( ControlMessage . closeMessage ( ) ) ) break ; \n + if ( msg = = ControlMessage . closeMessage ( ) ) break ; \n storm - netty \ src \ jvm \ backtype \ storm \ messaging \ netty \ StormClientHandler . java \n - if ( msg . equals ( ControlMessage . failureResponse ( ) ) ) \n + if ( msg = = ControlMessage . failureResponse ( ) ) \n - if ( last _ msg . equals ( ControlMessage . closeMessage ( ) ) ) { \n + if ( last _ msg = = ControlMessage . closeMessage ( ) ) { \n storm - netty \ src \ jvm \ backtype \ storm \ messaging \ netty \ StormServerHandler . java \n - if ( msg . equals ( ControlMessage . eobMessage ( ) ) ) { \n + if ( msg = = ControlMessage . eobMessage ( ) ) { \n
storm - netty \ src \ jvm \ backtype \ storm \ messaging \ netty \ Client . java \n - import java . util . Timer ; \n - import java . util . TimerTask ; \n - message _ queue = new LinkedBlockingQueue < Object > ( ) ; \n + message _ queue = new LinkedBlockingQueue < Object > ( ) ; \n - final Timer timer = new Timer ( ) ; \n - timer . schedule ( new TimerTask ( ) { \n + new Thread ( new Runnable ( ) { \n - LOG . debug ( " client resource released " ) ; \n - timer . cancel ( ) ; \n - } \n - } , 0 ) ; \n + } } ) . start ( ) ; \n storm - netty \ src \ jvm \ backtype \ storm \ messaging \ netty \ MessageDecoder . java \n - import org . slf4j . Logger ; \n - import org . slf4j . LoggerFactory ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ buildeventstream \ transports \ FileTransport . java \n - byte [ ] serialized = serializeFunc . apply ( buildEvent ) ; \n - out . write ( serialized ) ; \n + if ( buildEvent ! = null ) { \n + byte [ ] serialized = serializeFunc . apply ( buildEvent ) ; \n + out . write ( serialized ) ; \n + } \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ packages \ Attribute . java \n - return Objects . equals ( hashCode , attribute . hashCode ) \n + return hashCode = = attribute . hashCode \n
src \ main \ native \ unix _ jni . cc \n - env - > SetByteArrayRegion ( result , 0 , size , value ) ; \n + / / Result may be NULL if allocation failed . In that case , we ' ll return the \n + / / NULL and an OOME will be thrown when we are back in Java . \n + if ( result ! = NULL ) { \n + env - > SetByteArrayRegion ( result , 0 , size , value ) ; \n + } \n
backends \ gdx - backend - lwjgl \ libs \ gdx - backend - lwjgl - natives . jar \n Binary files a / backends / gdx - backend - lwjgl / libs / gdx - backend - lwjgl - natives . jar and b / backends / gdx - backend - lwjgl / libs / gdx - backend - lwjgl - natives . jar differ \n
backends \ gdx - backend - lwjgl \ libs \ gdx - backend - lwjgl - natives . jar \n Binary files a / backends / gdx - backend - lwjgl / libs / gdx - backend - lwjgl - natives . jar and b / backends / gdx - backend - lwjgl / libs / gdx - backend - lwjgl - natives . jar differ \n
backends \ gdx - backend - robovm \ src \ com \ badlogic \ gdx \ backends \ iosrobovm \ IOSApplication . java \n - import com . badlogic . gdx . ApplicationLogger ; \n - import org . robovm . apple . foundation . Foundation ; \n - import org . robovm . apple . foundation . NSThread ; \n + import com . badlogic . gdx . ApplicationLogger ; \n - import com . badlogic . gdx . graphics . GL20 ; \n - float scale = ( float ) ( getIosVersion ( ) > = 8 ? UIScreen . getMainScreen ( ) . getNativeScale ( ) : UIScreen . getMainScreen ( ) \n - . getScale ( ) ) ; \n + float scale = ( float ) ( getIosVersion ( ) > = 8 ? UIScreen . getMainScreen ( ) . getNativeScale ( ) \n + : UIScreen . getMainScreen ( ) . getScale ( ) ) ; \n - protected IOSGraphics createGraphics ( float scale ) { \n - return new IOSGraphics ( scale , this , config , input , config . useGL30 ) ; \n + protected IOSGraphics createGraphics ( float scale ) { \n + return new IOSGraphics ( scale , this , config , input , config . useGL30 ) ; \n - protected IOSGraphics . IOSUIViewController createUIViewController ( IOSGraphics graphics ) { \n + protected IOSGraphics . IOSUIViewController createUIViewController ( IOSGraphics graphics ) { \n - protected IOSInput createInput ( ) { \n - return new IOSInput ( this ) ; \n + protected IOSInput createInput ( ) { \n + return new IOSInput ( this ) ; \n - NSThread . exit ( ) ; \n + System . exit ( 0 ) ; \n
. travis . yml \n - sudo apt - get install - y mingw - w64 lib32z1 \n - sudo apt - get install - y libx11 - dev : i386 \n - sudo apt - get install - y make \n - - cd $ HOME \n - rm - fr $ HOME / android - ndk - r16b \n - curl - L http : / / dl . google . com / android / repository / android - ndk - r16b - linux - x86 _ 64 . zip - O \n - - unzip - qo android - ndk - r16b - linux - x86 _ 64 . zip \n + - unzip - d $ HOME - qo android - ndk - r16b - linux - x86 _ 64 . zip \n - rm android - ndk - r16b - linux - x86 _ 64 . zip \n - export ANDROID _ NDK _ HOME = $ HOME / android - ndk - r16b \n - export NDK _ HOME = $ HOME / android - ndk - r16b \n - ls $ NDK _ HOME \n - - cd / home / travis / build / libgdx / libgdx \n - ant - f build . xml - Dbuild - natives = true - Dversion = nightly - v \n
. travis . yml \n - dist : trusty \n - sudo : true \n + language : java \n + jdk : oraclejdk8 \n - master \n - cache : \n - directories : \n - - $ HOME / . m2 \n - language : android \n - jdk : oraclejdk8 \n - android : \n - components : \n - - tools \n - - platform - tools \n - - build - tools - 23 . 0 . 2 \n - - android - 23 \n - - extra - google - m2repository \n - - extra - android - m2repository \n - \n - # Because Travis - CI is special and invokes gradle assemble by default . WTF . \n - install : \n - - true \n + matrix : \n + include : \n + - env : OSX = 10 . 11 \n + os : osx \n + osx _ image : osx10 . 11 \n + rvm : system \n - - sudo dpkg - - add - architecture i386 \n - - sudo apt - get - qq update \n - - sudo apt - get install - y curl \n - sudo apt - get install - y ant \n - - sudo apt - get install - y gcc g + + gcc - multilib g + + - multilib \n - - sudo apt - get install - y mingw - w64 lib32z1 \n - - sudo apt - get install - y libx11 - dev : i386 \n - - sudo apt - get install - y make \n - - rm - fr $ HOME / android - ndk - r16b \n - - curl - L http : / / dl . google . com / android / repository / android - ndk - r16b - linux - x86 _ 64 . zip - O \n - - unzip - d $ HOME - qo android - ndk - r16b - linux - x86 _ 64 . zip \n - - rm android - ndk - r16b - linux - x86 _ 64 . zip \n - - export ANDROID _ NDK _ HOME = $ HOME / android - ndk - r16b \n - - export NDK _ HOME = $ HOME / android - ndk - r16b \n - - ls $ NDK _ HOME \n + \n + install : \n + - true \n - - ant - f build . xml - Dbuild - natives = true - Dversion = nightly - v \n + - ant - f build - mac - ios . xml - v \n
backends \ gdx - backend - robovm \ src \ com \ badlogic \ gdx \ backends \ iosrobovm \ IOSApplicationConfiguration . java \n - * \n + * \n - * \n + * \n - * \n + * \n - \n + \n - \n + \n - \n + \n + / * * whether to use audio or not . Default is < code > true < / code > * * / \n + public boolean useAudio = true ; \n + \n backends \ gdx - backend - robovm \ src \ com \ badlogic \ gdx \ backends \ iosrobovm \ IOSAudio . java \n - * \n + * \n - * \n + * \n - * \n + * \n + if ( ! config . useAudio ) return ; \n
docs \ reference \ indices \ get - component - template . asciidoc \n - ` < component - template > ` \n + ` < component - template > ` : : \n
docs \ reference \ search \ multi - search . asciidoc \n - include : : { es - repo - dir } / rest - api / common - parms . asciidoc [ tag = expand - wildcards ] \n + ` expand _ wildcards ` : : : \n + + \n + - - \n + ( Optional , string ) \n + Type of index that wildcard expressions can match . If the request can target \n + data streams , this argument determines whether wildcard expressions match \n + hidden data streams . Supports comma - separated values , such as ` open , hidden ` . \n + Valid values are : \n + \n + ` all ` : : \n + Match any data stream or index , including < < hidden - indices , hidden > > ones . \n + \n + ` open ` : : \n + Match open , non - hidden indices . Also matches any non - hidden data stream . \n + \n + ` closed ` : : \n + Match closed , non - hidden indices . Also matches any non - hidden data stream . Data \n + streams cannot be closed . \n + \n + ` hidden ` : : \n + Match hidden data streams and hidden indices . Must be combined with ` open ` , \n + ` closed ` , or both . \n + \n + ` none ` : : \n + Wildcard expressions are not accepted . \n + - - \n + \n
TESTING . asciidoc \n - See link : . / buildSrc / src / main / java / org / elasticsearch / gradle / VersionCollection . java [ VersionCollection ] \n + See link : . / buildSrc / src / main / java / org / elasticsearch / gradle / BwcVersions . java [ BwcVersions ] \n
android \ guava - tests \ test \ com \ google \ common \ graph \ TraverserTest . java \n - Traverser . forGraph ( fixedSuccessors ( Iterables . cycle ( 1 , 2 , 3 ) ) ) . breadthFirst ( 0 ) ; \n - assertThat ( Iterables . limit ( result , 2 ) ) . containsExactly ( 0 , 1 ) . inOrder ( ) ; \n + Traverser . forGraph ( fixedSuccessors ( Iterables . cycle ( 1 , 2 , 3 ) ) ) . depthFirstPreOrder ( 0 ) ; \n + assertThat ( Iterables . limit ( result , 3 ) ) . containsExactly ( 0 , 1 , 2 ) . inOrder ( ) ; \n android \ guava \ src \ com \ google \ common \ graph \ Traverser . java \n + import com . google . errorprone . annotations . DoNotMock ; \n + @ DoNotMock ( \n + " Call forGraph or forTree , passing a lambda or a Graph with the desired edges ( built with " \n + + " GraphBuilder ) " ) \n guava - tests \ test \ com \ google \ common \ graph \ TraverserTest . java \n - Traverser . forGraph ( fixedSuccessors ( Iterables . cycle ( 1 , 2 , 3 ) ) ) . breadthFirst ( 0 ) ; \n - assertThat ( Iterables . limit ( result , 2 ) ) . containsExactly ( 0 , 1 ) . inOrder ( ) ; \n + Traverser . forGraph ( fixedSuccessors ( Iterables . cycle ( 1 , 2 , 3 ) ) ) . depthFirstPreOrder ( 0 ) ; \n + assertThat ( Iterables . limit ( result , 3 ) ) . containsExactly ( 0 , 1 , 2 ) . inOrder ( ) ; \n guava \ src \ com \ google \ common \ graph \ Traverser . java \n + import com . google . errorprone . annotations . DoNotMock ; \n + @ DoNotMock ( \n + " Call forGraph or forTree , passing a lambda or a Graph with the desired edges ( built with " \n + + " GraphBuilder ) " ) \n
android \ guava - tests \ test \ com \ google \ common \ reflect \ ClassPathTest . java \n - assertThat ( resources ) . isNotEmpty ( ) ; \n - if ( ! location . file ( ) . isDirectory ( ) ) { \n + if ( ! location . file ( ) . isDirectory ( ) & & location . file ( ) . exists ( ) ) { \n guava - tests \ test \ com \ google \ common \ reflect \ ClassPathTest . java \n - assertThat ( resources ) . isNotEmpty ( ) ; \n - if ( ! location . file ( ) . isDirectory ( ) ) { \n + if ( ! location . file ( ) . isDirectory ( ) & & location . file ( ) . exists ( ) ) { \n
android \ guava - tests \ test \ com \ google \ common \ reflect \ ClassPathTest . java \n + import java . util . jar . JarFile ; \n - protected void scanFrom ( File file , ClassLoader loader ) throws IOException { \n - if ( file . isDirectory ( ) ) { \n - return ; \n - } \n - this . found = file ; \n + void scanJarFile ( ClassLoader classloader , JarFile file ) throws IOException { \n + this . found = new File ( file . getName ( ) ) ; \n - protected void scanResource ( ResourceInfo resource ) throws IOException { \n - throw new IllegalStateException ( ) ; \n - } \n + protected void scanResource ( ResourceInfo resource ) { } \n android \ guava \ src \ com \ google \ common \ reflect \ ClassPath . java \n - private void scanJarFile ( ClassLoader classloader , JarFile file ) throws IOException { \n + @ VisibleForTesting \n + void scanJarFile ( ClassLoader classloader , JarFile file ) throws IOException { \n guava - tests \ test \ com \ google \ common \ reflect \ ClassPathTest . java \n + import java . util . jar . JarFile ; \n - protected void scanFrom ( File file , ClassLoader loader ) throws IOException { \n - if ( file . isDirectory ( ) ) { \n - return ; \n - } \n - this . found = file ; \n + void scanJarFile ( ClassLoader classloader , JarFile file ) throws IOException { \n + this . found = new File ( file . getName ( ) ) ; \n - protected void scanResource ( ResourceInfo resource ) throws IOException { \n - throw new IllegalStateException ( ) ; \n - } \n + protected void scanResource ( ResourceInfo resource ) { } \n guava \ src \ com \ google \ common \ reflect \ ClassPath . java \n - private void scanJarFile ( ClassLoader classloader , JarFile file ) throws IOException { \n + @ VisibleForTesting \n + void scanJarFile ( ClassLoader classloader , JarFile file ) throws IOException { \n
refactorings \ TraverserRewrite . java \n + @ SuppressWarnings ( " DefaultPackage " ) \n
android \ guava - tests \ test \ com \ google \ common \ collect \ AbstractBiMapTest . java \n + @ SuppressWarnings ( " IdentityHashMapBoxing " ) / / explicitly testing IdentityHashMap \n + @ SuppressWarnings ( " IdentityHashMapBoxing " ) / / explicitly testing IdentityHashMap \n guava - tests \ test \ com \ google \ common \ collect \ AbstractBiMapTest . java \n + @ SuppressWarnings ( " IdentityHashMapBoxing " ) / / explicitly testing IdentityHashMap \n + @ SuppressWarnings ( " IdentityHashMapBoxing " ) / / explicitly testing IdentityHashMap \n
android \ guava - tests \ test \ com \ google \ common \ collect \ MapsTest . java \n + / / Intentionally using IdentityHashMap to test creation . \n + @ SuppressWarnings ( " IdentityHashMapBoxing " ) \n guava - tests \ test \ com \ google \ common \ collect \ MapsTest . java \n + / / Intentionally using IdentityHashMap to test creation . \n + @ SuppressWarnings ( " IdentityHashMapBoxing " ) \n
gradle . properties \n - version = 1 . 1 . 7 - SNAPSHOT \n + version = 1 . 1 . 7 \n
gradle . properties \n - version = 1 . 1 . 7 - SNAPSHOT \n + version = 1 . 1 . 7 \n
gradle . properties \n - version = 1 . 1 . 7 \n + version = 1 . 1 . 8 - SNAPSHOT \n
gradle . properties \n - version = 1 . 0 . 1 \n + version = 1 . 0 . 2 - SNAPSHOT \n
gradle . properties \n - version = 1 . 0 . 2 - SNAPSHOT \n + version = 1 . 0 . 2 \n
gradle . properties \n - version = 1 . 0 . 2 \n + version = 1 . 0 . 3 - SNAPSHOT \n
event - driven - architecture \ src \ main \ java \ com \ iluwatar \ eda \ EventDispatcher . java \n - * @ return { @ Map } of registered event handlers . \n + * @ return { @ link Map } of registered event handlers . \n
event - driven - architecture \ src \ main \ java \ com \ iluwatar \ eda \ framework \ EventDispatcher . java \n - import com . iluwatar . eda . framework . Handler ; \n
event - driven - architecture \ pom . xml \n - < version > 1 . 8 . 0 - SNAPSHOT < / version > \n + < version > 1 . 10 . 0 - SNAPSHOT < / version > \n
README . md \n - either ` 28 . 0 - jre ` or ` 28 . 0 - android ` . For more about depending on \n + either ` 28 . 1 - jre ` or ` 28 . 1 - android ` . For more about depending on \n - < version > 28 . 0 - jre < / version > \n + < version > 28 . 1 - jre < / version > \n - < version > 28 . 0 - android < / version > \n + < version > 28 . 1 - android < / version > \n - compile ' com . google . guava : guava : 28 . 0 - jre ' \n + compile ' com . google . guava : guava : 28 . 1 - jre ' \n - api ' com . google . guava : guava : 28 . 0 - android ' \n + api ' com . google . guava : guava : 28 . 1 - android ' \n android \ guava \ src \ com \ google \ common \ net \ HttpHeaders . java \n - * @ since NEXT \n + * @ since 28 . 1 \n android \ guava \ src \ com \ google \ common \ net \ MediaType . java \n - * @ since NEXT \n + * @ since 28 . 1 \n - * @ since NEXT \n + * @ since 28 . 1 \n guava - testlib \ src \ com \ google \ common \ collect \ testing \ SpliteratorTester . java \n - / * * @ since NEXT * / \n + / * * @ since 28 . 1 * / \n - / * * @ since NEXT * / \n + / * * @ since 28 . 1 * / \n - / * * @ since NEXT * / \n + / * * @ since 28 . 1 * / \n guava \ src \ com \ google \ common \ net \ HttpHeaders . java \n - * @ since NEXT \n + * @ since 28 . 1 \n guava \ src \ com \ google \ common \ net \ MediaType . java \n - * @ since NEXT \n + * @ since 28 . 1 \n - * @ since NEXT \n + * @ since 28 . 1 \n
android \ guava \ src \ com \ google \ common \ collect \ TreeTraverser . java \n - * < p > This class is scheduled to be removed in January 2019 . \n + * < p > This class is scheduled to be removed in October 2019 . \n - / / TODO ( b / 68134636 ) : Remove by 2019 - 01 \n + / / TODO ( b / 68134636 ) : Remove by 2019 - 10 \n android \ guava \ src \ com \ google \ common \ io \ Files . java \n - * removed in January 2019 . \n + * removed in October 2019 . \n - * removed in January 2019 . \n + * removed in October 2019 . \n - * be removed in January 2019 . \n + * be removed in October 2019 . \n - * method is scheduled to be removed in January 2019 . \n + * method is scheduled to be removed in October 2019 . \n - * scheduled to be removed in January 2019 . \n + * scheduled to be removed in October 2019 . \n - * scheduled to be removed in January 2019 . \n + * scheduled to be removed in October 2019 . \n - * removed in January 2019 . \n + * removed in October 2019 . \n - * be removed in January 2019 . \n + * be removed in October 2019 . \n guava \ src \ com \ google \ common \ collect \ TreeTraverser . java \n - * < p > This class is scheduled to be removed in January 2019 . \n + * < p > This class is scheduled to be removed in October 2019 . \n - / / TODO ( b / 68134636 ) : Remove by 2019 - 01 \n + / / TODO ( b / 68134636 ) : Remove by 2019 - 10 \n guava \ src \ com \ google \ common \ io \ Files . java \n - * removed in January 2019 . \n + * removed in October 2019 . \n - * removed in January 2019 . \n + * removed in October 2019 . \n - * be removed in January 2019 . \n + * be removed in October 2019 . \n - * method is scheduled to be removed in January 2019 . \n + * method is scheduled to be removed in October 2019 . \n - * scheduled to be removed in January 2019 . \n + * scheduled to be removed in October 2019 . \n - * scheduled to be removed in January 2019 . \n + * scheduled to be removed in October 2019 . \n - * removed in January 2019 . \n + * removed in October 2019 . \n - * be removed in January 2019 . \n + * be removed in October 2019 . \n
android \ pom . xml \n + < description > Parent for guava artifacts < / description > \n - < project . build . sourceEncoding > UTF - 8 < / project . build . sourceEncoding > \n + < project . build . sourceEncoding > UTF - 8 < / project . build . sourceEncoding > \n pom . xml \n + < description > Parent for guava artifacts < / description > \n - < project . build . sourceEncoding > UTF - 8 < / project . build . sourceEncoding > \n + < project . build . sourceEncoding > UTF - 8 < / project . build . sourceEncoding > \n
realm \ realm - library \ src \ main \ cpp \ object - store \n - Subproject commit 6b44209e6fcac0137e193c96444f93c50d184d06 \n + Subproject commit d0ac41bee0ccab83eb887b9fff8f417875ecf771 \n
CHANGELOG . md \n + # # 10 . 0 . 1 ( YYYY - MM - DD ) \n + \n + # # # Breaking Changes \n + * None . \n + \n + # # # Enhancements \n + * None . \n + \n + # # # Fixes \n + * Crash with ` Assertion failed : m _ method _ id ! = nullptr with ( method _ name , signature ) = [ " < init > " , " ( Ljava / lang / String ; ) V " ] ` when ` Minify ` is enabled . \n + \n + # # # Compatibility \n + * None . \n + \n + # # # Internal \n + * None . \n + \n + \n realm \ realm - library \ proguard - rules - consumer - common . pro \n - dontnote rx . Observable \n - - keep class org . bson . types . Decimal128 \n - - keep class org . bson . types . ObjectId \n + - keep class org . bson . types . Decimal128 { \n + public static org . bson . types . Decimal128 fromIEEE754BIDEncoding ( . . . ) ; \n + } \n + - keep class org . bson . types . ObjectId { \n + < init > ( . . . ) ; \n + } \n
CHANGELOG . md \n - # # 10 . 0 . 2 ( YYYY - MM - DD ) \n + # # 10 . 1 . 0 ( YYYY - MM - DD ) \n - * None . \n + * Updated to Realm Sync : 10 . 1 . 3 . \n + * Updated to Realm Core : 10 . 1 . 3 . \n + * Updated to Object Store commit : fc6daca61133aa9601e4cb34fbeb9ec7569e162e . \n dependencies . list \n - REALM _ SYNC = 10 . 1 . 0 \n - REALM _ SYNC _ SHA256 = a074550f573b5b9f35d1efe84eef0145f2181f1c096a76ff559e7103091bae7e \n + REALM _ SYNC = 10 . 1 . 3 \n + REALM _ SYNC _ SHA256 = 25453e11051192723a95c63ad378e11c69e55428a6973ff58cc6f9e8b3659870 \n realm \ realm - library \ src \ main \ cpp \ object - store \n - Subproject commit fd246c54de7d1fee6bcbeb3609de75a4eccd5b70 \n + Subproject commit fc6daca61133aa9601e4cb34fbeb9ec7569e162e \n
android \ guava \ src \ com \ google \ common \ util \ concurrent \ AbstractTransformFuture . java \n + if ( localInputFuture . isCancelled ( ) ) { \n + @ SuppressWarnings ( " unchecked " ) \n + boolean unused = \n + setFuture ( ( ListenableFuture < O > ) localInputFuture ) ; / / Respects cancellation cause setting \n + return ; \n + } \n + \n - \n + / / TODO ( user ) : verify future behavior - unify logic with getFutureValue in AbstractFuture . This \n + / / code should be unreachable with correctly implemented Futures . \n guava \ src \ com \ google \ common \ util \ concurrent \ AbstractTransformFuture . java \n + if ( localInputFuture . isCancelled ( ) ) { \n + @ SuppressWarnings ( " unchecked " ) \n + boolean unused = \n + setFuture ( ( ListenableFuture < O > ) localInputFuture ) ; / / Respects cancellation cause setting \n + return ; \n + } \n + \n - \n + / / TODO ( user ) : verify future behavior - unify logic with getFutureValue in AbstractFuture . This \n + / / code should be unreachable with correctly implemented Futures . \n
android \ guava \ src \ com \ google \ common \ util \ concurrent \ ForwardingFluentFuture . java \n + \n + @ Override \n + public String toString ( ) { \n + return delegate . toString ( ) ; \n + } \n guava \ src \ com \ google \ common \ util \ concurrent \ ForwardingFluentFuture . java \n + \n + @ Override \n + public String toString ( ) { \n + return delegate . toString ( ) ; \n + } \n
android \ guava \ src \ com \ google \ common \ util \ concurrent \ SequentialExecutor . java \n - * execution of tasks will stop until a call to this method or to { @ link # resume ( ) } is made . \n + * execution of tasks will stop until a call to this method is made . \n guava \ src \ com \ google \ common \ util \ concurrent \ SequentialExecutor . java \n - * execution of tasks will stop until a call to this method or to { @ link # resume ( ) } is made . \n + * execution of tasks will stop until a call to this method is made . \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ starlarkbuildapi \ cpp \ CcInfoApi . java \n - name = " get _ debug _ context " , \n + name = " debug _ context " , \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcInfo . java \n - CcModule . checkCcDebugInfoRuleInAllowlist ( thread ) ; \n + CcModule . checkPrivateStarlarkificationAllowlist ( thread ) ; \n src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcModule . java \n - checkCcDebugInfoRuleInAllowlist ( thread ) ; \n + checkPrivateStarlarkificationAllowlist ( thread ) ; \n - checkCcDebugInfoRuleInAllowlist ( thread ) ; \n + checkPrivateStarlarkificationAllowlist ( thread ) ; \n - public static void checkCcDebugInfoRuleInAllowlist ( StarlarkThread thread ) throws EvalException { \n - String rulePackage = \n - ( ( BazelModuleContext ) Module . ofInnermostEnclosingStarlarkFunction ( thread ) . getClientData ( ) ) \n - . label ( ) \n - . getPackageName ( ) ; \n - if ( ! PRIVATE _ STARLARKIFICATION _ ALLOWLIST . contains ( rulePackage ) ) { \n - throw Starlark . errorf ( " Rule in ' % s ' cannot use CcDebugInfo " , rulePackage ) ; \n - } \n - } \n - \n src \ test \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ StarlarkCcCommonTest . java \n - assertThat ( e ) . hasMessageThat ( ) . contains ( " Rule in ' my _ rules ' cannot use CcDebugInfo " ) ; \n + assertThat ( e ) . hasMessageThat ( ) . contains ( " Rule in ' my _ rules ' cannot use private API " ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ java \ proto \ JavaProtoAspect . java \n - NestedSetBuilder . create ( Order . STABLE _ ORDER , sourceJar ) , \n + NestedSetBuilder . < Artifact > emptySet ( Order . STABLE _ ORDER ) , \n
android \ guava \ src \ com \ google \ common \ util \ concurrent \ AggregateFuture . java \n - private RunningState runningState ; \n + @ NullableDecl private RunningState runningState ; \n guava \ src \ com \ google \ common \ util \ concurrent \ AggregateFuture . java \n - private RunningState runningState ; \n + @ NullableDecl private RunningState runningState ; \n
android \ guava \ src \ com \ google \ common \ collect \ TreeBasedTable . java \n - C lastValue ; \n + @ NullableDecl C lastValue ; \n guava \ src \ com \ google \ common \ collect \ TreeBasedTable . java \n - C lastValue ; \n + @ NullableDecl C lastValue ; \n
android \ guava \ src \ com \ google \ common \ collect \ LinkedListMultimap . java \n - Node < K , V > current ; \n + @ NullableDecl Node < K , V > current ; \n guava \ src \ com \ google \ common \ collect \ LinkedListMultimap . java \n - Node < K , V > current ; \n + @ NullableDecl Node < K , V > current ; \n
. travis . yml \n - - $ HOME / . m2 \n + - $ HOME / . m2 / repository \n
guava - gwt \ test \ com \ google \ common \ collect \ testModule . gwt . xml \n - \n
android \ guava \ src \ com \ google \ common \ io \ CountingOutputStream . java \n - import com . google . common . annotations . Beta ; \n - @ Beta \n guava \ src \ com \ google \ common \ io \ CountingOutputStream . java \n - import com . google . common . annotations . Beta ; \n - @ Beta \n
tools \ jdk \ default _ java _ toolchain . bzl \n - # * Header Compilation \n - forcibly _ disable _ header _ compilation = True , \n
src \ java _ tools \ buildjar \ java \ com \ google \ devtools \ build \ buildjar \ VanillaJavaBuilder . java \n - * < li > header compilation \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ query2 \ query \ output \ SyntheticAttributeHashCalculator . java \n - " Recovering from failed evaluation of ComputedDefault attribute value : " + e ) ; \n + " Recovering from failed evaluation of ComputedDefault attribute value : % s " , e ) ; \n src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ BzlLoadFunction . java \n - logger . atInfo ( ) . log ( " Starlark inlining cache stats from earlier build : " + cache . stats ( ) ) ; \n + logger . atInfo ( ) . log ( " Starlark inlining cache stats from earlier build : % s " , cache . stats ( ) ) ; \n
dubbo - config \ dubbo - config - spring \ src \ main \ java \ org \ apache \ dubbo \ config \ spring \ ServiceBean . java \n - if ( StringUtils . isEmpty ( registryIds ) ) { \n + if ( StringUtils . isEmpty ( registryIds ) & & ( config . isDefault ( ) = = null | | config . isDefault ( ) . booleanValue ( ) ) ) { \n
dubbo - cluster \ src \ main \ java \ org \ apache \ dubbo \ rpc \ cluster \ router \ tag \ TagRouter . java \n + import static org . apache . dubbo . common . constants . CommonConstants . ANYHOST _ VALUE ; \n + \n + if ( ( ANYHOST _ VALUE + " : " + port ) . equals ( address ) ) { \n + return true ; \n + } \n
dubbo - metadata \ dubbo - metadata - api \ src \ main \ java \ org \ apache \ dubbo \ metadata \ store \ InMemoryWritableMetadataService . java \n - logger . error ( " publishProvider interfaceName is empty . providerUrl : " + providerUrl . toFullString ( ) ) ; \n + logger . info ( " publishProvider interfaceName is empty . providerUrl : " + providerUrl . toFullString ( ) ) ; \n
gdx \ src \ com \ badlogic \ gdx \ graphics \ g2d \ ParticleEffect . java \n - import java . util . HashMap ; \n + import com . badlogic . gdx . utils . ObjectMap ; \n - HashMap < String , Sprite > loadedSprites = new HashMap < String , Sprite > ( emitters . size ) ; \n + ObjectMap < String , Sprite > loadedSprites = new ObjectMap < String , Sprite > ( emitters . size ) ; \n
gdx \ src \ com \ badlogic \ gdx \ scenes \ scene2d \ ui \ SplitPane . java \n + boolean cursorOverHandle ; \n + \n + public boolean mouseMoved ( InputEvent event , float x , float y ) { \n + cursorOverHandle = handleBounds . contains ( x , y ) ; \n + return false ; \n + } \n + \n + public boolean isCursorOverHandle ( ) { \n + return cursorOverHandle ; \n + } \n
backends \ gdx - backend - lwjgl3 \ src \ com \ badlogic \ gdx \ backends \ lwjgl3 \ Lwjgl3Window . java \n + / * * \n + * Brings the window to front and sets input focus . The window should already be visible and not iconified . \n + * / \n + public void focusWindow ( ) { \n + GLFW . glfwFocusWindow ( windowHandle ) ; \n + } \n + \n
build . gradle \n - classpath ' com . android . tools . build : gradle : 0 . 12 . + ' \n + classpath ' com . android . tools . build : gradle : 1 . 0 . 0 ' \n demo \ build . gradle \n - applicationId " com . daimajia . swipedemo " \n - runProguard false \n + minifyEnabled false \n gradle . properties \n - VERSION _ NAME = 1 . 1 . 7 \n - VERSION _ CODE = 18 \n + VERSION _ NAME = 1 . 1 . 8 \n + VERSION _ CODE = 19 \n gradle \ wrapper \ gradle - wrapper . properties \n - distributionUrl = http \ : / / services . gradle . org / distributions / gradle - 1 . 12 - all . zip \n + distributionUrl = http \ : / / services . gradle . org / distributions / gradle - 2 . 2 . 1 - all . zip \n library \ build . gradle \n - applicationId " com . daimajia . swipe " \n
build . gradle \n - mavenCentral ( ) \n + jcenter ( ) \n - mavenCentral ( ) \n + jcenter ( ) \n new file \n library \ src \ main \ res \ values \ strings . xml \n + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > \n + < resources > \n + \n + < ! - - hack to prevent missing R . txt , it ' s pretty wired . - - > \n + < string name = " android _ animations _ lib _ name " > AndroidAnimations < / string > \n + \n + < / resources > \n
new file \n . travis . yml \n + language : android \n + android : \n + components : \n + - tools \n + - platform - tools \n + - build - tools - 25 . 2 . 0 \n + - android - 25 \n + - extra - android - support \n + - extra \n + - extra - android - m2repository \n + script : \n + - . / gradlew assembleDebug \n build . gradle \n - classpath ' com . android . tools . build : gradle : 2 . 2 . 3 ' \n + classpath ' com . android . tools . build : gradle : 2 . 3 . 0 ' \n gradle \ wrapper \ gradle - wrapper . properties \n - # Wed Mar 08 17 : 06 : 52 CST 2017 \n + # Thu Mar 09 16 : 07 : 03 CST 2017 \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 2 . 14 . 1 - all . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip \n library \ build . gradle \n - compile ' com . android . support : recyclerview - v7 : 25 . 1 . 1 ' \n - compile ' com . android . support : support - v4 : 25 . 1 . 1 ' \n + compile ' com . android . support : recyclerview - v7 : 25 . 2 . 0 ' \n + compile ' com . android . support : support - v4 : 25 . 2 . 0 ' \n
gdx \ src \ com \ badlogic \ gdx \ utils \ Pool . java \n - * { @ link # max } free objects , the specified object is reset but not added to the pool . \n + * { @ link # max } free objects , the specified object is { @ link # discard ( Object ) discarded } and not added to the pool . \n + reset ( object ) ; \n + } else { \n + discard ( object ) ; \n - reset ( object ) ; \n + / * * Called when an object is discarded . This is the case when an object is freed , but the maximum capacity of the pool is reached , \n + * and when the pool is { @ link # clear ( ) cleared } * / \n + protected void discard ( T object ) { \n + } \n + \n - if ( freeObjects . size < max ) freeObjects . add ( object ) ; \n - reset ( object ) ; \n + if ( freeObjects . size < max ) { \n + freeObjects . add ( object ) ; \n + reset ( object ) ; \n + } else { \n + discard ( object ) ; \n + } \n - / * * Removes all free objects from this pool . * / \n + / * * Removes and discards all free objects from this pool . * / \n - freeObjects . clear ( ) ; \n + for ( int i = 0 ; i < freeObjects . size ; i + + ) { \n + T obj = freeObjects . pop ( ) ; \n + discard ( obj ) ; \n + } \n
CHANGES \n - Scene2d . ui : Added new ParticleEffectActor to use particle effects on Stage \n - API addition : iOS : Added HdpiMode option to IOSApplicationConfiguration to allow users to set whether they want to work in logical or raw pixels ( default logical ) . \n - Fix for # 6377 Gdx . net . openURI not working with targetSdk 30 \n + - Api Addition : Added a Pool # discard ( T ) method . \n - [ BREAKING CHANGE ] iOS : IOSUIViewController has been moved to its own separate class \n
CHANGES \n - [ BREAKING CHANGE ] Requires Java 7 or above . \n - [ BREAKING CHANGE ] API Change : Scaling is now an object instead of an enum . This may change behavior when used with serialization . \n - [ BREAKING CHANGE ] Group # clear and # clearChildren ( ) now unfocuses the actors . Added # clear ( boolean ) and # clearChildren ( boolean ) for when this isn ' t wanted . # 6423 \n + - [ BREAKING CHANGE ] Lwjgl3WindowConfiguration # autoIconify is enabled by default . \n - Scene2d . ui : Added new ParticleEffectActor to use particle effects on Stage \n - API addition : iOS : Added HdpiMode option to IOSApplicationConfiguration to allow users to set whether they want to work in logical or raw pixels ( default logical ) . \n - Fix for # 6377 Gdx . net . openURI not working with targetSdk 30 \n backends \ gdx - backend - lwjgl3 \ src \ com \ badlogic \ gdx \ backends \ lwjgl3 \ Lwjgl3WindowConfiguration . java \n - boolean autoIconify = false ; \n + boolean autoIconify = true ; \n
docs \ reference \ migration \ index . asciidoc \n - = Breaking changes \n + = Migration guide \n - - \n - * < < breaking - changes - 8 . 0 , Breaking changes in 8 . 0 > > \n + * < < migrating - 8 . 0 , Migrating to 8 . 0 > > \n - - \n
docs \ reference \ setup \ install \ docker . asciidoc \n - These images are free to use under the Elastic license . They contain open source \n - and free commercial features and access to paid commercial features . \n - { kibana - ref } / managing - licenses . html [ Start a 30 - day trial ] to try out all of the \n - paid commercial features . See the \n - https : / / www . elastic . co / subscriptions [ Subscriptions ] page for information about \n - Elastic license levels . \n + include : : license . asciidoc [ ] \n docs \ reference \ setup \ install \ license . asciidoc \n - This package is free to use under the Elastic license . It contains open source \n - and free commercial features and access to paid commercial features . \n - { kibana - ref } / managing - licenses . html [ Start a 30 - day trial ] to try out all of the \n - paid commercial features . See the \n - https : / / www . elastic . co / subscriptions [ Subscriptions ] page for information about \n - Elastic license levels . \n + This package contains both free and subscription features . \n + < < license - settings , Start a 30 - day trial > > to try out all of the features . \n docs \ reference \ setup \ install \ windows . asciidoc \n - NOTE : { xpack } includes a choice of a Trial or Basic license . A Trial license is \n - valid for 30 days , after which you can obtain one of the available subscriptions . \n - The Basic license is free and perpetual . Consult the \n - https : / / www . elastic . co / subscriptions [ available subscriptions ] for further \n - details on which features are available under which license . \n - \n - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n - start / wait msiexec . exe / i elasticsearch - { version } . msi / qn INSTALLDIR = " C : \ Custom Install Directory \ { version } " \n + start / wait msiexec . exe / i elasticsearch - { version } . msi / qn INSTALLDIR = " C : \ Custom Install Directory \ { version } " \n - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n
docs \ reference \ ingest \ processors \ grok . asciidoc \n - If you need help building patterns to match your logs , you will find the { kibana - ref } / xpack - grokdebugger . html [ Grok Debugger ] tool quite useful ! The Grok Debugger is an { xpack } feature under the Basic License and is therefore * free to use * . The https : / / grokconstructor . appspot . com [ Grok Constructor ] is also a useful tool . \n + If you need help building patterns to match your logs , you will find the \n + { kibana - ref } / xpack - grokdebugger . html [ Grok Debugger ] tool quite useful ! \n + The https : / / grokconstructor . appspot . com [ Grok Constructor ] is also a useful tool . \n
build . gradle \n - ext . mockitoVersion = " 3 . 7 . 7 " \n + ext . mockitoVersion = " 3 . 8 . 0 " \n
build . gradle \n - ext . jfrogExtractorVersion = " 4 . 20 . 0 " \n + ext . jfrogExtractorVersion = " 4 . 21 . 0 " \n
build . gradle \n - ext . mockitoVersion = " 3 . 6 . 28 " \n + ext . mockitoVersion = " 3 . 7 . 0 " \n
docs \ requirements . txt \n - Sphinx = = 2 . 1 . 0 \n + Sphinx = = 2 . 1 . 1 \n
dropwizard - bom \ pom . xml \n - < guava . version > 27 . 1 - jre < / guava . version > \n + < guava . version > 28 . 0 - jre < / guava . version > \n
dropwizard - bom \ pom . xml \n - < version > 4 . 5 . 8 < / version > \n + < version > 4 . 5 . 9 < / version > \n
dropwizard - dependencies \ pom . xml \n - < metrics4 . version > 4 . 1 . 16 < / metrics4 . version > \n + < metrics4 . version > 4 . 1 . 17 < / metrics4 . version > \n
dropwizard - example \ pom . xml \n - < version > 1 . 15 . 1 < / version > \n + < version > 1 . 15 . 2 < / version > \n
docs \ pom . xml \n - < version > 2 . 9 . 0 < / version > \n + < version > 2 . 10 . 0 < / version > \n
pom . xml \n - < mockito . version > 2 . 26 . 0 < / mockito . version > \n + < mockito . version > 2 . 27 . 0 < / mockito . version > \n
dropwizard - client \ pom . xml \n - < version > 1 . 60 < / version > \n + < version > 1 . 61 < / version > \n
dropwizard - bom \ pom . xml \n - < version > 1 . 9 . 9 < / version > \n + < version > 1 . 9 . 10 < / version > \n
dropwizard - bom \ pom . xml \n - < jdbi3 . version > 3 . 6 . 0 < / jdbi3 . version > \n + < jdbi3 . version > 3 . 7 . 0 < / jdbi3 . version > \n
dropwizard - bom \ pom . xml \n - < guava . version > 27 . 0 . 1 - jre < / guava . version > \n + < guava . version > 27 . 1 - jre < / guava . version > \n
dropwizard - bom \ pom . xml \n - < version > 2 . 10 . 1 < / version > \n + < version > 2 . 10 . 2 < / version > \n
guava - gwt \ test \ com \ google \ common \ base \ SplitterTest _ gwt . java \n - public void testCharacterSimpleSplitToStream ( ) throws Exception { \n - com . google . common . base . SplitterTest testCase = new com . google . common . base . SplitterTest ( ) ; \n - testCase . testCharacterSimpleSplitToStream ( ) ; \n - } \n - \n guava - tests \ test \ com \ google \ common \ base \ SplitterTest . java \n - import static com . google . common . collect . ImmutableList . toImmutableList ; \n - public void testCharacterSimpleSplitToStream ( ) { \n - String simple = " a , b , c " ; \n - List < String > letters = COMMA _ SPLITTER . splitToStream ( simple ) . collect ( toImmutableList ( ) ) ; \n - assertThat ( letters ) . containsExactly ( " a " , " b " , " c " ) . inOrder ( ) ; \n - } \n - \n guava \ src \ com \ google \ common \ base \ Splitter . java \n - import java . util . stream . Stream ; \n - import java . util . stream . StreamSupport ; \n - * { @ link # splitToList ( CharSequence ) } . Java 8 users may prefer { @ link # splitToStream } instead . \n + * { @ link # splitToList ( CharSequence ) } . \n - / * * \n - * Splits { @ code sequence } into string components and makes them available through an { @ link \n - * Stream } , which may be lazily evaluated . If you want an eagerly computed { @ link List } , use \n - * { @ link # splitToList ( CharSequence ) } . \n - * \n - * @ param sequence the sequence of characters to split \n - * @ return a stream over the segments split from the parameter \n - * @ since NEXT \n - * / \n - @ Beta \n - public Stream < String > splitToStream ( CharSequence sequence ) { \n - / / Can ' t use Streams . stream ( ) from base \n - return StreamSupport . stream ( split ( sequence ) . spliterator ( ) , false ) ; \n - } \n - \n
guava - gwt \ test \ com \ google \ common \ base \ SplitterTest _ gwt . java \n + public void testCharacterSimpleSplitToStream ( ) throws Exception { \n + com . google . common . base . SplitterTest testCase = new com . google . common . base . SplitterTest ( ) ; \n + testCase . testCharacterSimpleSplitToStream ( ) ; \n + } \n + \n guava - tests \ test \ com \ google \ common \ base \ SplitterTest . java \n + import static com . google . common . collect . ImmutableList . toImmutableList ; \n + public void testCharacterSimpleSplitToStream ( ) { \n + String simple = " a , b , c " ; \n + List < String > letters = COMMA _ SPLITTER . splitToStream ( simple ) . collect ( toImmutableList ( ) ) ; \n + assertThat ( letters ) . containsExactly ( " a " , " b " , " c " ) . inOrder ( ) ; \n + } \n + \n guava \ src \ com \ google \ common \ base \ Splitter . java \n + import java . util . stream . Stream ; \n + import java . util . stream . StreamSupport ; \n - * { @ link # splitToList ( CharSequence ) } . \n + * { @ link # splitToList ( CharSequence ) } . Java 8 users may prefer { @ link # splitToStream } instead . \n + / * * \n + * Splits { @ code sequence } into string components and makes them available through an { @ link \n + * Stream } , which may be lazily evaluated . If you want an eagerly computed { @ link List } , use \n + * { @ link # splitToList ( CharSequence ) } . \n + * \n + * @ param sequence the sequence of characters to split \n + * @ return a stream over the segments split from the parameter \n + * @ since NEXT \n + * / \n + @ Beta \n + public Stream < String > splitToStream ( CharSequence sequence ) { \n + / / Can ' t use Streams . stream ( ) from base \n + return StreamSupport . stream ( split ( sequence ) . spliterator ( ) , false ) ; \n + } \n + \n
android \ guava \ src \ com \ google \ common \ collect \ Interner . java \n - * Provides equivalent behavior to { @ link String # intern } for other immutable types . Common \n - * implementations are available from the { @ link Interners } class . \n + * Provides similar behavior to { @ link String # intern } for any immutable type . Common implementations \n + * are available from the { @ link Interners } class . \n + * \n + * < p > Note that { @ code String . intern ( ) } has some well - known performance limitations , and should \n + * generally be avoided . Prefer { @ link Interners # newWeakInterner } or another { @ code Interner } \n + * implementation even for { @ code String } interning . \n guava \ src \ com \ google \ common \ collect \ Interner . java \n - * Provides equivalent behavior to { @ link String # intern } for other immutable types . Common \n - * implementations are available from the { @ link Interners } class . \n + * Provides similar behavior to { @ link String # intern } for any immutable type . Common implementations \n + * are available from the { @ link Interners } class . \n + * \n + * < p > Note that { @ code String . intern ( ) } has some well - known performance limitations , and should \n + * generally be avoided . Prefer { @ link Interners # newWeakInterner } or another { @ code Interner } \n + * implementation even for { @ code String } interning . \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ BitmapHunter . java \n - exception = e ; \n + if ( ! e . localCacheOnly | | e . responseCode ! = 504 ) { \n + exception = e ; \n + } \n picasso \ src \ main \ java \ com \ squareup \ picasso \ Downloader . java \n - public ResponseException ( String message ) { \n + final boolean localCacheOnly ; \n + final int responseCode ; \n + \n + public ResponseException ( String message , boolean localCacheOnly , int responseCode ) { \n + this . localCacheOnly = localCacheOnly ; \n + this . responseCode = responseCode ; \n picasso \ src \ main \ java \ com \ squareup \ picasso \ OkHttpDownloader . java \n - throw new ResponseException ( responseCode + " " + connection . getResponseMessage ( ) ) ; \n + throw new ResponseException ( responseCode + " " + connection . getResponseMessage ( ) , \n + localCacheOnly , responseCode ) ; \n picasso \ src \ main \ java \ com \ squareup \ picasso \ UrlConnectionDownloader . java \n - throw new ResponseException ( responseCode + " " + connection . getResponseMessage ( ) ) ; \n + throw new ResponseException ( responseCode + " " + connection . getResponseMessage ( ) , \n + localCacheOnly , responseCode ) ; \n picasso \ src \ test \ java \ com \ squareup \ picasso \ BitmapHunterTest . java \n - new Downloader . ResponseException ( " Test " ) ) ; \n + new Downloader . ResponseException ( " Test " , false , 504 ) ) ; \n
picasso \ src \ main \ java \ com \ squareup \ picasso \ Utils . java \n - return Settings . System . getInt ( contentResolver , AIRPLANE _ MODE _ ON , 0 ) ! = 0 ; \n + try { \n + return Settings . System . getInt ( contentResolver , AIRPLANE _ MODE _ ON , 0 ) ! = 0 ; \n + } catch ( NullPointerException e ) { \n + / / https : / / github . com / square / picasso / issues / 761 , some devices might crash here , assume that \n + / / airplane mode is off . \n + return false ; \n + } \n
pom . xml \n - < version > 1 . 2 . 1 < / version > \n + < version > 1 . 3 . 0 < / version > \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcToolchainVariables . java \n + if ( ! name . contains ( " . " ) ) { \n + if ( throwOnMissingVariable ) { \n + throw new ExpansionException ( \n + String . format ( \n + " Invalid toolchain configuration : Cannot find variable named ' % s ' . " , name ) ) ; \n + } \n + return null ; \n + } \n + \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcToolchainFeatures . java \n - boolean negativeMatch = \n - featureSet \n - . getNotFeatures ( ) \n - . stream ( ) \n - . anyMatch ( notFeature - > enabledFeatureNames . contains ( notFeature ) ) ; \n - boolean positiveMatch = enabledFeatureNames . containsAll ( featureSet . getFeatures ( ) ) ; \n - \n - if ( ! negativeMatch & & positiveMatch ) { \n + if ( enabledFeatureNames . containsAll ( featureSet . getFeatures ( ) ) \n + & & featureSet . getNotFeatures ( ) . stream ( ) . noneMatch ( enabledFeatureNames : : contains ) ) { \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcCompilationHelper . java \n - return featureConfiguration . isEnabled ( CppRuleClasses . HEADER _ MODULES ) ; \n + return featureConfiguration . isEnabled ( CppRuleClasses . HEADER _ MODULES ) \n + & & ( ! publicHeaders . isEmpty ( ) | | ! privateHeaders . isEmpty ( ) ) ; \n
hystrix - contrib \ hystrix - javanica \ src \ main \ java \ com \ netflix \ hystrix \ contrib \ javanica \ command \ AbstractHystrixCommand . java \n - / * * \n - * { @ inheritDoc } . \n - * / \n - @ Override \n - protected T getFallback ( ) { \n - throw new RuntimeException ( " No fallback available . " , getExecutionException ( ) ) ; \n - } \n - \n hystrix - contrib \ hystrix - javanica \ src \ test \ java \ com \ netflix \ hystrix \ contrib \ javanica \ test \ common \ fallback \ BasicCommandFallbackTest . java \n + @ Test \n + public void testFallbackMissing ( ) { \n + try { \n + userService . getUserWithoutFallback ( null , null ) ; \n + } catch ( Exception e ) { } \n + \n + HystrixInvokableInfo < ? > command = getHystrixCommandByKey ( " getUserWithoutFallback " ) ; \n + assertTrue ( " expected event : FALLBACK _ MISSING " , command . getExecutionEvents ( ) . contains ( HystrixEventType . FALLBACK _ MISSING ) ) ; \n + } \n + \n + @ HystrixCommand \n + public User getUserWithoutFallback ( final String id , final String name ) { \n + validate ( id , name ) ; \n + return new User ( id , name ) ; \n + } \n + \n
hystrix - contrib \ hystrix - javanica \ src \ main \ java \ com \ netflix \ hystrix \ contrib \ javanica \ conf \ HystrixPropertiesManager . java \n + public static final String MAXIMUM _ SIZE = " maximumSize " ; \n + . put ( MAXIMUM _ SIZE , new PropSetter < HystrixThreadPoolProperties . Setter , String > ( ) { \n + @ Override \n + public void set ( HystrixThreadPoolProperties . Setter setter , String value ) { \n + setter . withMaximumSize ( toInt ( MAXIMUM _ SIZE , value ) ) ; \n + } \n + } \n + ) \n hystrix - contrib \ hystrix - javanica \ src \ test \ java \ com \ netflix \ hystrix \ contrib \ javanica \ test \ common \ configuration \ command \ BasicCommandPropertiesTest . java \n + assertEquals ( 25 , ( int ) properties . maximumSize ( ) . get ( ) ) ; \n + @ HystrixProperty ( name = " maximumSize " , value = " 25 " ) , \n
hystrix - contrib \ hystrix - javanica \ src \ main \ java \ com \ netflix \ hystrix \ contrib \ javanica \ aop \ aspectj \ HystrixCommandAspect . java \n - throw e . getCause ( ) ; \n + throw e . getCause ( ) ! = null ? e . getCause ( ) : e ; \n hystrix - contrib \ hystrix - javanica \ src \ test \ java \ com \ netflix \ hystrix \ contrib \ javanica \ test \ common \ fallback \ BasicCommandFallbackTest . java \n + import com . netflix . hystrix . exception . HystrixBadRequestException ; \n + import static org . junit . Assert . assertFalse ; \n + @ Test ( expected = HystrixBadRequestException . class ) \n + public void testCommandThrowsHystrixBadRequestExceptionWithNoCause ( ) { \n + try { \n + userService . commandThrowsHystrixBadRequestExceptionWithNoCause ( null , null ) ; \n + } finally { \n + HystrixInvokableInfo < ? > asyncCommandWithAsyncFallbackCommand = getHystrixCommandByKey ( " commandThrowsHystrixBadRequestExceptionWithNoCause " ) ; \n + assertFalse ( asyncCommandWithAsyncFallbackCommand . getExecutionEvents ( ) . contains ( HystrixEventType . FALLBACK _ SUCCESS ) ) ; \n + } \n + } \n + \n + @ HystrixCommand ( fallbackMethod = " staticFallback " ) \n + public User commandThrowsHystrixBadRequestExceptionWithNoCause ( final String id , final String name ) { \n + throw new HystrixBadRequestException ( " invalid arguments " ) ; \n + } \n + \n
guava \ src \ com \ google \ common \ util \ concurrent \ CycleDetectingLockFactory . java \n - static final Set < String > EXCLUDED _ CLASS _ NAMES = \n + static final ImmutableSet < String > EXCLUDED _ CLASS _ NAMES = \n
guava - tests \ test \ com \ google \ common \ math \ StatsTesting . java \n - static final List < Stats > ALL _ STATS = \n + static final ImmutableList < Stats > ALL _ STATS = \n - static final List < PairedStats > ALL _ PAIRED _ STATS = \n + static final ImmutableList < PairedStats > ALL _ PAIRED _ STATS = \n
guava - testlib \ src \ com \ google \ common \ collect \ testing \ google \ MultimapTestSuiteBuilder . java \n - private static final Multimap < Feature < ? > , Feature < ? > > GET _ FEATURE _ MAP = \n + private static final ImmutableMultimap < Feature < ? > , Feature < ? > > GET _ FEATURE _ MAP = \n
android \ pom . xml \n - < maven - javadoc - plugin . version > 3 . 0 . 0 < / maven - javadoc - plugin . version > \n + < maven - javadoc - plugin . version > 3 . 0 . 1 < / maven - javadoc - plugin . version > \n pom . xml \n - < maven - javadoc - plugin . version > 3 . 0 . 0 < / maven - javadoc - plugin . version > \n + < maven - javadoc - plugin . version > 3 . 0 . 1 < / maven - javadoc - plugin . version > \n
android \ guava - tests \ test \ com \ google \ common \ hash \ BloomFilterTest . java \n - BloomFilter . create ( Funnels . unencodedCharsFunnel ( ) , Integer . MAX _ VALUE / 2 , 0 . 29 ) ; \n + BloomFilter . create ( Funnels . unencodedCharsFunnel ( ) , Integer . MAX _ VALUE / 2 , 0 . 30 ) ; \n guava - tests \ test \ com \ google \ common \ hash \ BloomFilterTest . java \n - BloomFilter . create ( Funnels . unencodedCharsFunnel ( ) , Integer . MAX _ VALUE / 2 , 0 . 29 ) ; \n + BloomFilter . create ( Funnels . unencodedCharsFunnel ( ) , Integer . MAX _ VALUE / 2 , 0 . 30 ) ; \n
android \ guava - tests \ test \ com \ google \ common \ net \ InetAddressesTest . java \n - InetAddress ipv4Addr = null ; \n - ipv4Addr = InetAddress . getByName ( ipStr ) ; \n + InetAddress ipv4Addr = InetAddress . getByName ( ipStr ) ; \n - InetAddress ipv6Addr = null ; \n - ipv6Addr = InetAddress . getByName ( ipStr ) ; \n + InetAddress ipv6Addr = InetAddress . getByName ( ipStr ) ; \n - InetAddress ipv6Addr = null ; \n - ipv6Addr = InetAddress . getByName ( ipString ) ; \n + InetAddress ipv6Addr = InetAddress . getByName ( ipString ) ; \n guava - tests \ test \ com \ google \ common \ net \ InetAddressesTest . java \n - InetAddress ipv4Addr = null ; \n - ipv4Addr = InetAddress . getByName ( ipStr ) ; \n + InetAddress ipv4Addr = InetAddress . getByName ( ipStr ) ; \n - InetAddress ipv6Addr = null ; \n - ipv6Addr = InetAddress . getByName ( ipStr ) ; \n + InetAddress ipv6Addr = InetAddress . getByName ( ipStr ) ; \n - InetAddress ipv6Addr = null ; \n - ipv6Addr = InetAddress . getByName ( ipString ) ; \n + InetAddress ipv6Addr = InetAddress . getByName ( ipString ) ; \n
spring - boot - project \ spring - boot - docs \ build . gradle \n + . findAll { ! it . name . startsWith ( ' spring - boot - starter ' ) } \n
spring - boot - project \ spring - boot - cli \ build . gradle \n - from zipTree ( configurations . loader . singleFile ) \n + from ( zipTree ( configurations . loader . singleFile ) ) { \n + exclude " META - INF / LICENSE . txt " \n + exclude " META - INF / NOTICE . txt " \n + } \n spring - boot - project \ spring - boot - tools \ spring - boot - loader - tools \ build . gradle \n - from { \n - zipTree ( configurations . loader . incoming . files . filter { it . name . startsWith " spring - boot - loader " } . singleFile ) \n + from ( zipTree ( configurations . loader . incoming . files . filter { it . name . startsWith " spring - boot - loader " } . singleFile ) ) { \n + exclude " META - INF / LICENSE . txt " \n + exclude " META - INF / NOTICE . txt " \n - from { \n - zipTree ( configurations . jarmode . incoming . files . filter { it . name . startsWith " spring - boot - jarmode - layertools " } . singleFile ) \n + from ( zipTree ( configurations . jarmode . incoming . files . filter { it . name . startsWith " spring - boot - jarmode - layertools " } . singleFile ) ) { \n + exclude " META - INF / LICENSE . txt " \n + exclude " META - INF / NOTICE . txt " \n
settings . gradle \n - id " com . gradle . enterprise " version " 3 . 5 . 1 " \n + id " com . gradle . enterprise " version " 3 . 5 . 2 " \n
src \ main \ java \ org \ junit \ runner \ Result . java \n - public void testAssumptionFailed ( Description description , \n + public void testAssumptionInvalid ( Description description , \n src \ main \ java \ org \ junit \ runner \ notification \ RunListener . java \n - * This is always called at the same time as { @ link testIgnored ( Description , String ) } . \n + * This is always called at the same time as { @ link # testIgnored ( Description , String ) } . \n - * This is always called at the same time as { @ link testIgnored ( Description ) } . \n + * This is always called at the same time as { @ link # testIgnored ( Description ) } . \n - / / TODO : ( Dec 28 , 2007 10 : 04 : 39 PM ) Does javadoc turn out ? \n - \n - / / TODO : ( Dec 28 , 2007 10 : 05 : 18 PM ) document \n - \n - public void testAssumptionFailed ( Description description , \n + \n + / * * \n + * Called when a test can not be run , generally because an assumption has \n + * failed , either in the test object ' s constructor , a method annotated with \n + * \n + * { @ link org . junit . Before } , or in the test method itself . For example , this \n + * test will be marked invalid unless the OS description string has the desired value : \n + * \n + * < pre > \n + * & # 064 ; Test public void onlyRunsOnOsx ( ) { \n + * assumeThat ( osString ( ) , is ( " OSX " ) ) ; \n + * . . . \n + * } \n + * < / pre > \n + * \n + * @ param description \n + * describes the test that will not be run \n + * @ param e \n + * contains the assumed matcher , and the value that failed it \n + * / \n + public void testAssumptionInvalid ( Description description , \n src \ main \ java \ org \ junit \ runner \ notification \ RunNotifier . java \n - each . testAssumptionFailed ( description , e ) ; \n + each . testAssumptionInvalid ( description , e ) ; \n src \ test \ java \ org \ junit \ tests \ listening \ ResultTest . java \n - listener . testAssumptionFailed ( someTest , null ) ; \n + listener . testAssumptionInvalid ( someTest , null ) ; \n
src \ main \ java \ org \ junit \ internal \ runners \ ParentRunner . java \n - private List < T > fChildren = null ; \n - if ( fChildren = = null ) \n - fChildren = computeFilteredChildren ( ) ; \n - return fChildren ; \n - } \n - \n - private List < T > computeFilteredChildren ( ) { \n
src \ test \ java \ org \ junit \ tests \ validation \ ValidationTest . java \n - public static class Malformed { \n + public static class NonStaticBeforeClass { \n - public void something ( ) { \n - Result result = JUnitCore . runClasses ( Malformed . class ) ; \n + public void nonStaticBeforeClass ( ) { \n + Result result = JUnitCore . runClasses ( NonStaticBeforeClass . class ) ; \n
android \ AndroidManifest . xml \n - - > \n - android : versionName = " 4 . 3 beta 1 " \n - android : versionCode = " 85 " \n + android : versionName = " 4 . 3 " \n + android : versionCode = " 86 " \n
android \ res \ values - sk \ strings . xml \n - < string name = " preferences _ play _ beep _ title " > Zvuká signalizácia < / string > \n + < string name = " preferences _ play _ beep _ title " > Zvuková signalizácia < / string > \n
new file \n android \ res \ drawable - xhdpi \ launcher _ icon . png \n Binary files / dev / null and b / android / res / drawable - xhdpi / launcher _ icon . png differ \n new file \n android \ res \ drawable - xxhdpi \ launcher _ icon . png \n Binary files / dev / null and b / android / res / drawable - xxhdpi / launcher _ icon . png differ \n
README . html \n - < li > Fixed : < a href = " https : / / sourceforge . net / tracker / index . php ? func = detail & amp ; aid = 601326 & amp ; group _ id = 15278 & amp ; atid = 115278 " > NPE \n - in ComparisonFailure . < / a > < / li > \n + < li > Fixes : & nbsp ; \n + < ul > \n + < li > < a href = " https : / / sourceforge . net / tracker / index . php ? func = detail & amp ; aid = 601326 & amp ; group _ id = 15278 & amp ; atid = 115278 " > NPE \n + in ComparisonFailure < / a > < / li > \n + < li > < a href = " https : / / sourceforge . net / tracker / index . php ? func = detail & amp ; aid = 602948 & amp ; group _ id = 15278 & amp ; atid = 115278 " > Swing \n + UI : NoSuchMethodError on JDK 1 . 3 < / a > < / li > \n + < / ul > \n + < / li > \n junit \ swingui \ AboutDialog . java \n - setLocationRelativeTo ( parent ) ; \n + / / setLocationRelativeTo is only available in JDK 1 . 4 \n + try { \n + setLocationRelativeTo ( parent ) ; \n + } catch ( NoSuchMethodError e ) { \n + TestSelector . centerWindow ( this ) ; \n + } \n junit \ swingui \ TestSelector . java \n - setLocationRelativeTo ( parent ) ; \n + / / setLocationRelativeTo only exists in 1 . 4 \n + try { \n + setLocationRelativeTo ( parent ) ; \n + } catch ( NoSuchMethodError e ) { \n + centerWindow ( this ) ; \n + } \n + \n + public static void centerWindow ( Component c ) { \n + Dimension paneSize = c . getSize ( ) ; \n + Dimension screenSize = c . getToolkit ( ) . getScreenSize ( ) ; \n + c . setLocation ( ( screenSize . width - paneSize . width ) / 2 , ( screenSize . height - paneSize . height ) / 2 ) ; \n + } \n
junit \ extensions \ ActiveTestSuite . java \n - ActiveTestSuite . this . runFinished ( test ) ; \n + ActiveTestSuite . this . runFinished ( ) ; \n - synchronized public void runFinished ( Test test ) { \n + synchronized public void runFinished ( ) { \n junit \ framework \ TestCase . java \n - * \n - * @ exception Throwable \n - * if any exception is thrown \n + * @ exception Throwable if any exception is thrown \n - } finally { \n + } \n + finally { \n - if ( exception = = null ) \n - exception = tearingDown ; \n + if ( exception = = null ) exception = tearingDown ; \n - if ( exception ! = null ) \n - throw exception ; \n + if ( exception ! = null ) throw exception ; \n - * \n - * @ exception Throwable \n - * if any exception is thrown \n + * @ exception Throwable if any exception is thrown \n - runMethod = getClass ( ) . getMethod ( fName , null ) ; \n + runMethod = getClass ( ) . getMethod ( fName , ( Class [ ] ) null ) ; \n - runMethod . invoke ( this , new Class [ 0 ] ) ; \n + runMethod . invoke ( this , ( Object [ ] ) new Class [ 0 ] ) ; \n junit \ runner \ BaseTestRunner . java \n - test = ( Test ) suiteMethod . invoke ( null , new Class [ 0 ] ) ; / / static method \n + test = ( Test ) suiteMethod . invoke ( null , ( Object [ ] ) new Class [ 0 ] ) ; / / static method \n junit \ runner \ TestCollector . java \n + import junit . swingui . TestSelector ; \n junit \ swingui \ TestRunner . java \n + import javax . swing . SwingConstants ; \n - JTabbedPane pane = new JTabbedPane ( JTabbedPane . BOTTOM ) ; \n + JTabbedPane pane = new JTabbedPane ( SwingConstants . BOTTOM ) ; \n junit \ swingui \ TestSelector . java \n - class TestSelector extends JDialog { \n + public class TestSelector extends JDialog { \n junit \ tests \ runner \ TestCaseClassLoaderTest . java \n - method . invoke ( o , new Class [ 0 ] ) ; \n + method . invoke ( o , ( Object [ ] ) new Class [ 0 ] ) ; \n - method . invoke ( o , new Class [ 0 ] ) ; \n + method . invoke ( o , ( Object [ ] ) new Class [ 0 ] ) ; \n
build . xml \n - < property name = " version " value = " 3 . 8 . 1 " / > \n + < property name = " version " value = " 3 . 8 . 2 " / > \n - excludes = " * * / * . jar , junit / tests / * * , junit / samples / * * , * * / * . class , doc / * * , README . html , . classpath , . project , cpl - v10 . html " \n + excludes = " * * / * . jar , junit / tests / * * , junit / samples / * * , * * / * . class , doc / * * , README . html , stylesheet . css , build . xml , . classpath , . project , . settings / * * , cpl - v10 . html " \n - excludes = " * * / * . jar , junit / tests / * * , junit / samples / * * , * * / * . java , doc / * * , README . html , build . xml , jar - manifest . txt , . classpath , . project , cpl - v10 . html " \n + excludes = " * * / * . jar , junit / tests / * * , junit / samples / * * , * * / * . java , doc / * * , README . html , stylesheet . css , build . xml , jar - manifest . txt , . classpath , . project , . settings / * * , cpl - v10 . html " \n
junit \ framework \ Assert . java \n - * Asserts that two objects refer to the same object . If they are not \n - * an AssertionFailedError is thrown with the given message . \n + * Asserts that two objects do not refer to the same object . If they do \n + * refer to the same object an AssertionFailedError is thrown with the \n + * given message . \n - * Asserts that two objects refer to the same object . If they are not \n - * the same an AssertionFailedError is thrown . \n + * Asserts that two objects do not refer to the same object . If they do \n + * refer to the same object an AssertionFailedError is thrown . \n - } \n + } \n
junit \ runner \ excluded . properties \n - excluded . 8 = net . jini . * \n + excluded . 8 = net . jini . * \n + excluded . 9 = org . apache . commons . logging . * \n
junit \ runner \ BaseTestRunner . java \n + public static boolean inMac ( ) { \n + return System . getProperty ( " mrj . version " ) ! = null ; \n + } \n + \n + \n - } \n + } \n new file \n junit \ swingui \ MacProgressBar . java \n + package junit . swingui ; \n + \n + import javax . swing . JTextField ; \n + \n + / * * \n + http : / / java . sun . com / developer / technicalArticles / JavaLP / JavaToMac2 / \n + * / \n + public class MacProgressBar extends ProgressBar { \n + \n + private JTextField component ; \n + \n + public MacProgressBar ( JTextField component ) { \n + super ( ) ; \n + this . component = component ; \n + } \n + \n + protected void updateBarColor ( ) { \n + component . setBackground ( getStatusColor ( ) ) ; \n + } \n + } \n junit \ swingui \ ProgressBar . java \n - private Color getStatusColor ( ) { \n + protected Color getStatusColor ( ) { \n - setForeground ( getStatusColor ( ) ) ; \n + updateBarColor ( ) ; \n - setForeground ( getStatusColor ( ) ) ; \n + updateBarColor ( ) ; \n + } \n + \n + protected void updateBarColor ( ) { \n + setForeground ( getStatusColor ( ) ) ; \n - } \n + } \n junit \ swingui \ TestRunner . java \n + import java . lang . reflect . Constructor ; \n + \n + fStatusLine = createStatusLine ( ) ; \n + if ( inMac ( ) ) \n + fProgressIndicator = new MacProgressBar ( fStatusLine ) ; \n + else \n - fStatusLine = createStatusLine ( ) ; \n + \n + \n + protected Object instanciateClass ( String fullClassName , Object param ) { \n + try { \n + Class clazz = Class . forName ( fullClassName ) ; \n + if ( param = = null ) { \n + return clazz . newInstance ( ) ; \n + } else { \n + Class [ ] clazzParam = { param . getClass ( ) } ; \n + Constructor clazzConstructor = clazz . getConstructor ( clazzParam ) ; \n + Object [ ] objectParam = { param } ; \n + return clazzConstructor . newInstance ( objectParam ) ; \n + } \n + } catch ( Exception e ) { \n + e . printStackTrace ( ) ; \n + } \n + return null ; \n + } \n + \n - } \n + } \n
ReactCommon \ react \ renderer \ mounting \ tests \ StateReconciliationTest . cpp \n - auto result = ( ShadowNode const * ) { nullptr } ; \n + ShadowNode const * result = nullptr ; \n - auto result = ( ShadowNode const * ) { nullptr } ; \n + ShadowNode const * result = nullptr ; \n
ReactCommon \ react \ renderer \ element \ Element . h \n - fragment _ . stateCallback = [ & ] ( ) - > StateData : : Shared { \n + fragment _ . stateCallback = [ callback = \n + std : : move ( callback ) ] ( ) - > StateData : : Shared { \n
ReactCommon \ react \ renderer \ scheduler \ SynchronousEventBeat . cpp \n - # import " SynchronousEventBeat . h " \n + # include " SynchronousEventBeat . h " \n
common \ src \ main \ java \ io \ netty \ util \ internal \ InternalThreadLocalMap . java \n + private static final int HANDLER _ SHARABLE _ CACHE _ INITIAL _ CAPACITY = 4 ; \n + private static final int INDEXED _ VARIABLE _ TABLE _ INITIAL _ SIZE = 32 ; \n - Object [ ] array = new Object [ 32 ] ; \n + Object [ ] array = new Object [ INDEXED _ VARIABLE _ TABLE _ INITIAL _ SIZE ] ; \n - handlerSharableCache = cache = new WeakHashMap < Class < ? > , Boolean > ( 4 ) ; \n + handlerSharableCache = cache = new WeakHashMap < Class < ? > , Boolean > ( HANDLER _ SHARABLE _ CACHE _ INITIAL _ CAPACITY ) ; \n
codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ DefaultHttp2LocalFlowController . java \n - import io . netty . handler . codec . http2 . Http2Stream . State ; \n codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ HpackStaticTable . java \n - import static io . netty . handler . codec . http2 . HpackUtil . equalsConstantTime ; \n
codec - http2 \ src \ main \ java \ io \ netty \ handler \ codec \ http2 \ HttpConversionUtil . java \n - \n - private void translateHeader ( Entry < CharSequence , CharSequence > entry ) throws Http2Exception { \n - } \n
test \ clojure \ test _ clojure \ other _ functions . clj \n - ( let [ p1 ( partial + 20 ) \n + ( let [ p0 ( partial inc ) \n + p1 ( partial + 20 ) \n + ( is ( = 41 ( p0 40 ) ) ) \n
test \ clojure \ test _ clojure \ protocols . clj \n - ( eval ' ( old - method ( reify Elusive ( new - method [ x ] : new - method ) ) ) ) ) ) ) \n - ( testing " you can define a marker protocol " \n - ( is ( = ' ( ) ( method - names clojure . test _ clojure . protocols . examples . MarkerProtocol ) ) ) ) ) \n + ( eval ' ( old - method ( reify Elusive ( new - method [ x ] : new - method ) ) ) ) ) ) ) ) \n + \n + ( deftype HasMarkers [ ] \n + ExampleProtocol \n + ( foo [ this ] " foo " ) \n + MarkerProtocol \n + MarkerProtocol2 ) \n + \n + ( deftype WillGetMarker [ ] \n + ExampleProtocol \n + ( foo [ this ] " foo " ) ) \n + \n + ( extend - type WillGetMarker MarkerProtocol ) \n + \n + ( deftest marker - tests \n + ( testing " That a marker protocol has no methods " \n + ( is ( = ' ( ) ( method - names clojure . test _ clojure . protocols . examples . MarkerProtocol ) ) ) ) \n + ( testing " That types with markers are reportedly satifying them . " \n + ( let [ hm ( HasMarkers . ) \n + wgm ( WillGetMarker . ) ] \n + ( is ( satisfies ? MarkerProtocol hm ) ) \n + ( is ( satisfies ? MarkerProtocol2 hm ) ) \n + ( is ( satisfies ? MarkerProtocol wgm ) ) ) ) ) \n test \ clojure \ test _ clojure \ protocols \ examples . clj \n + ( defprotocol MarkerProtocol2 ) \n + \n
src \ clj \ clojure \ core . clj \n - The isa ? hierarchy value used for dispatch , e . g . \n - ( isa ? my - hierarchy : : square : : shape ) \n + The value used for hierarchical dispatch ( e . g . : : square is - a : : shape ) \n - inheritance . The hierarchy relationship can be established via derive , \n - and the root ancestor may be obtained from make - hierarchy in order to \n - avoid directly using the global hierarchy map . Multimethods expect the \n - value of the hierarchy option to be supplied as a reference type e . g . \n - a var . You can supply this option via the Var - quote dispatch macro ( # ' ) . \n - If no hierarchy is supplied , defaults to the global hierarchy . \n - \n - Hierarchy example : \n - \n - ( def my - hierarchy ( - > ( make - hierarchy ) \n - ( derive : : rect : : shape ) \n - ( derive : : square : : rect ) \n - ( derive : : circle : : shape ) ) ) \n - \n - ( defmulti foo identity : hierarchy # ' my - hierarchy ) " \n + inheritance . By default Clojure ' s multimethods dispatch off of a \n + global hierarchy map . However , a hierarchy relationship can be \n + created with the derive function used to augment the root ancestor \n + created with make - hierarchy . \n + \n + Multimethods expect the value of the hierarchy option to be supplied as \n + a reference type e . g . a var ( i . e . via the Var - quote dispatch macro # ' \n + or the var special form ) . " \n
ReactCommon \ react \ renderer \ element \ Element . h \n - Element & stateData ( std : : function < void ( ConcreteStateData & ) > callback ) { \n + Element & stateData ( std : : function < void ( ConcreteStateData & ) > callback ) { \n
imagepipeline - base \ src \ main \ java \ com \ facebook \ cache \ disk \ DefaultDiskStorage . java \n - public final long expected ; \n - public final long actual ; \n - this . expected = expected ; \n - this . actual = actual ; \n
drawee - backends \ drawee - pipeline \ src \ main \ java \ com \ facebook \ drawee \ backends \ pipeline \ info \ internal \ ImagePerfControllerListener2 . java \n - private static final String TAG = " ImagePerfControllerListener2 " ; \n - \n
vito \ core \ src \ main \ java \ com \ facebook \ fresco \ vito \ core \ FrescoVitoRegionDecoder . java \n - import com . facebook . infer . annotation . Nullsafe ; \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ turbomodule \ core \ TurboModuleManager . java \n - import com . facebook . react . config . ReactFeatureFlags ; \n
ReactAndroid \ src \ main \ java \ com \ facebook \ react \ views \ image \ ReactImageView . java \n - import com . facebook . react . uimanager . ThemedReactContext ; \n
android \ guava \ src \ com \ google \ common \ collect \ ImmutableSet . java \n - @ CanIgnoreReturnValue \n + @ CanIgnoreReturnValue \n guava \ src \ com \ google \ common \ collect \ ImmutableSet . java \n - @ Override \n + @ Override \n
android \ guava - tests \ test \ com \ google \ common \ util \ concurrent \ JdkFutureAdaptersTest . java \n + @ SuppressWarnings ( " IsInstanceIncompatibleType " ) / / intentional . \n guava - tests \ test \ com \ google \ common \ util \ concurrent \ JdkFutureAdaptersTest . java \n + @ SuppressWarnings ( " IsInstanceIncompatibleType " ) / / intentional . \n
android \ guava \ src \ com \ google \ common \ cache \ LocalCache . java \n - / / Only becomes available in Java 8 when it ' s on the interface . \n - / / @ Override \n + @ SuppressWarnings ( " MissingOverride " ) / / Supermethod will not exist if we build with - - release 7 . \n android \ guava \ src \ com \ google \ common \ collect \ ContiguousSet . java \n - / / TODO ( kevinb ) : we can probably make these real @ Overrides now \n - / * @ Override * / \n + @ SuppressWarnings ( " MissingOverride " ) / / Supermethod does not exist under GWT . \n - / * @ Override * / \n + @ SuppressWarnings ( " MissingOverride " ) / / Supermethod does not exist under GWT . \n - / * @ Override * / \n + @ SuppressWarnings ( " MissingOverride " ) / / Supermethod does not exist under GWT . \n guava \ src \ com \ google \ common \ collect \ ContiguousSet . java \n - / / TODO ( kevinb ) : we can probably make these real @ Overrides now \n - / * @ Override * / \n + @ SuppressWarnings ( " MissingOverride " ) / / Supermethod does not exist under GWT . \n - / * @ Override * / \n + @ SuppressWarnings ( " MissingOverride " ) / / Supermethod does not exist under GWT . \n - / * @ Override * / \n + @ SuppressWarnings ( " MissingOverride " ) / / Supermethod does not exist under GWT . \n
android \ guava \ src \ com \ google \ common \ util \ concurrent \ ClosingFuture . java \n - import com . google . errorprone . annotations . DoNotMock ; \n - @ DoNotMock ( " Use ClosingFuture . whenAllSucceed ( ) or . whenAllComplete ( ) instead . " ) \n guava \ src \ com \ google \ common \ util \ concurrent \ ClosingFuture . java \n - import com . google . errorprone . annotations . DoNotMock ; \n - @ DoNotMock ( " Use ClosingFuture . whenAllSucceed ( ) or . whenAllComplete ( ) instead . " ) \n
android \ guava - tests \ test \ com \ google \ common \ collect \ RangeTest . java \n + assertTrue ( Range . closed ( 3 , 5 ) . isConnected ( Range . closed ( 5 , 6 ) ) ) ; \n + assertTrue ( Range . closed ( 5 , 6 ) . isConnected ( Range . closed ( 3 , 5 ) ) ) ; \n guava - tests \ test \ com \ google \ common \ collect \ RangeTest . java \n + assertTrue ( Range . closed ( 3 , 5 ) . isConnected ( Range . closed ( 5 , 6 ) ) ) ; \n + assertTrue ( Range . closed ( 5 , 6 ) . isConnected ( Range . closed ( 3 , 5 ) ) ) ; \n
android \ guava \ src \ com \ google \ common \ reflect \ ClassPath . java \n - * ' $ ' in the name , This method may return false for a top - level class that ' s intentionally \n - * named with the ' $ ' character . If ths is a concern , you could use { @ link # load } and then check \n - * on the loaded { @ link Class } object instead . \n + * ' $ ' in the name . This method may return false for a top - level class that ' s intentionally \n + * named with the ' $ ' character . If this is a concern , you could use { @ link # load } and then \n + * check on the loaded { @ link Class } object instead . \n guava \ src \ com \ google \ common \ reflect \ ClassPath . java \n - * ' $ ' in the name , This method may return false for a top - level class that ' s intentionally \n - * named with the ' $ ' character . If ths is a concern , you could use { @ link # load } and then check \n - * on the loaded { @ link Class } object instead . \n + * ' $ ' in the name . This method may return false for a top - level class that ' s intentionally \n + * named with the ' $ ' character . If this is a concern , you could use { @ link # load } and then \n + * check on the loaded { @ link Class } object instead . \n
. travis . yml \n - ANDROID _ SDKS = android - 23 , sysimg - 23 ANDROID _ TARGET = android - 19 ANDROID _ ABI = armeabi - v7a \n + - platform - tools \n + - tools \n - build - tools - 23 . 0 . 3 \n - android - 23 \n - extra - android - m2repository \n
README . md \n - mavenCentral ( ) < - - add repository \n + mavenCentral ( ) / / add repository \n
README . md \n - * * Read the full [ getting started guide ] ( http : / / greenrobot . org / eventbus / documentation / how - to - get - started / ) . * * \n + Read the full [ getting started guide ] ( http : / / greenrobot . org / eventbus / documentation / how - to - get - started / ) . \n - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n - Please ensure that you are using the latest version by [ checking here ] ( http : / / search . maven . org / # search % 7Cga % 7C1 % 7Cg % 3A % 22org . greenrobot % 22 % 20AND % 20a % 3A % 22eventbus % 22 ) \n + < a href = " https : / / search . maven . org / # search % 7Cga % 7C1 % 7Cg % 3A % 22org . greenrobot % 22 % 20AND % 20a % 3A % 22eventbus % 22 " > < img src = " https : / / img . shields . io / maven - central / v / org . greenrobot / eventbus . svg " > < / a > \n - Gradle : \n + Via Gradle : \n - Maven : \n + Via Maven : \n - [ Or download EventBus from Maven Central ] ( http : / / search . maven . org / # search % 7Cga % 7C1 % 7Cg % 3A % 22org . greenrobot % 22 % 20AND % 20a % 3A % 22eventbus % 22 ) \n + Or download [ the latest JAR ] ( https : / / search . maven . org / remote _ content ? g = org . greenrobot & a = eventbus & v = LATEST ) from Maven Central . \n - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n - For more details on EventBus please check [ EventBus ' website ] ( http : / / greenrobot . org / eventbus ) . Here are some direct links you may find useful : \n + For more details please check the [ EventBus website ] ( http : / / greenrobot . org / eventbus ) . Here are some direct links you may find useful : \n + [ ProGuard ] ( http : / / greenrobot . org / eventbus / documentation / proguard ) \n + \n
README . md \n - keepclassmembers class * extends org . greenrobot . greendao . AbstractDao { \n - - keep class * * $ Properties { * ; } \n + - keep class * * $ Properties { * ; } \n - # If you do not use SQLCipher : \n + # If you DO use SQLCipher : \n + - keep class org . greenrobot . greendao . database . SqlCipherEncryptedHelper { * ; } \n + \n + # If you do NOT use SQLCipher : \n - dontwarn net . sqlcipher . database . * * \n - # If you do not use RxJava : \n + # If you do NOT use RxJava : \n - dontwarn rx . * * \n
DaoGenerator \ build . gradle \n - compile ' org . freemarker : freemarker : 2 . 3 . 23 ' \n - testCompile ' junit : junit : 4 . 12 ' \n + compile ' org . freemarker : freemarker : 2 . 3 . 29 ' \n + testImplementation ' junit : junit : 4 . 12 ' \n
DaoGenerator \ src \ org \ greenrobot \ greendao \ generator \ DaoGenerator . java \n - Configuration config = new Configuration ( Configuration . VERSION _ 2 _ 3 _ 23 ) ; \n + Configuration config = new Configuration ( Configuration . VERSION _ 2 _ 3 _ 29 ) ; \n
DaoCore \ build . gradle \n - version = ' 3 . 0 . 0 - 9 - SNAPSHOT ' \n + version = ' 3 . 0 . 0 - 10 - SNAPSHOT ' \n DaoGenerator \ build . gradle \n - version = ' 3 . 0 . 0 - 9 - SNAPSHOT ' \n + version = ' 3 . 0 . 0 - 10 - SNAPSHOT ' \n
DaoGenerator \ src \ de \ greenrobot \ daogenerator \ Entity . java \n - if ( ! targetEntity . getJavaPackage ( ) . equals ( javaPackageDao ) ) { \n - additionalImportsDao . add ( targetEntity . getJavaPackage ( ) + " . " + targetEntity . getClassName ( ) ) ; \n - } \n + checkAdditionalImportsDaoTargetEntity ( targetEntity ) ; \n + for ( ToManyBase incomingToMany : incomingToManyRelations ) { \n + if ( incomingToMany instanceof ToManyWithJoinEntity ) { \n + final ToManyWithJoinEntity toManyWithJoinEntity = ( ToManyWithJoinEntity ) incomingToMany ; \n + final Entity joinEntity = toManyWithJoinEntity . getJoinEntity ( ) ; \n + checkAdditionalImportsDaoTargetEntity ( joinEntity ) ; \n + } \n + } \n + \n + private void checkAdditionalImportsDaoTargetEntity ( Entity targetEntity ) { \n + if ( ! targetEntity . getJavaPackage ( ) . equals ( javaPackageDao ) ) { \n + additionalImportsDao . add ( targetEntity . getJavaPackage ( ) + " . " + targetEntity . getClassName ( ) ) ; \n + } \n + } \n + \n
DaoCore \ build . gradle \n - version = ' 3 . 0 . 0 - 10 - SNAPSHOT ' \n + version = ' 3 . 0 . 0 - 11 - SNAPSHOT ' \n DaoGenerator \ build . gradle \n - version = ' 3 . 0 . 0 - 10 - SNAPSHOT ' \n + version = ' 3 . 0 . 0 - 11 - SNAPSHOT ' \n
src \ main \ protobuf \ failure _ details . proto \n + CANT _ BUILD _ INCOMPATIBLE _ TARGET = 10 [ ( metadata ) = { exit _ code : 1 } ] ; \n + INCOMPATIBLE _ TARGET _ REQUESTED = 19 [ ( metadata ) = { exit _ code : 1 } ] ; \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ buildtool \ util \ BuildIntegrationTestCase . java \n + import org . junit . Ignore ; \n + @ Ignore \n + @ Ignore \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ packages \ Rule . java \n - if ( policy = = ConfigSettingVisibilityPolicy . LEGACY _ OFF ) { \n - return ConstantRuleVisibility . PUBLIC ; / / Always public , no matter what . \n - } else if ( visibility ! = null ) { \n + if ( visibility ! = null ) { \n
language - adaptors \ rxjava - scala \ src \ main \ scala \ rx \ lang \ scala \ Observable . scala \n - val fScala : ( T , Integer ) = > ( T , Int ) = ( elem : T , index : Integer ) = > ( elem , index ) \n - val fJava : Func2 [ _ > : T , Integer , _ < : ( T , Int ) ] = fScala \n - toScalaObservable [ ( T , Int ) ] ( asJavaObservable . mapWithIndex [ ( T , Int ) ] ( fJava ) ) \n + var n = 0 ; \n + this . map ( x = > { val result = ( x , n ) ; n + = 1 ; result } ) \n settings . gradle \n - / / ' language - adaptors : rxjava - scala ' , \ \n + ' language - adaptors : rxjava - scala ' , \ \n
language - adaptors \ rxjava - scala \ src \ main \ scala \ rx \ lang \ scala \ schedulers \ ComputationScheduler . scala \n - def apply ( ) : IOScheduler = { \n - new IOScheduler ( rx . schedulers . Schedulers . computation ( ) ) \n + def apply ( ) : ComputationScheduler = { \n + new ComputationScheduler ( rx . schedulers . Schedulers . computation ( ) ) \n - / * * \n - * Created by netflix on 2 / 5 / 14 . \n - * / \n
language - adaptors \ rxjava - scala \ src \ main \ scala \ rx \ lang \ scala \ Observable . scala \n - def publish [ U > : T , R ] ( selector : Observable [ U ] = > Observable [ R ] ) : Observable [ R ] = { \n - val thisJava = this . asJavaObservable . asInstanceOf [ rx . Observable [ U ] ] \n - val fJava : Func1 [ rx . Observable [ U ] , rx . Observable [ R ] ] = \n - ( jo : rx . Observable [ U ] ) = > selector ( toScalaObservable [ U ] ( jo ) ) . asJavaObservable . asInstanceOf [ rx . Observable [ R ] ] \n + def publish [ R ] ( selector : Observable [ T ] = > Observable [ R ] ) : Observable [ R ] = { \n + val thisJava = this . asJavaObservable . asInstanceOf [ rx . Observable [ T ] ] \n + val fJava : Func1 [ rx . Observable [ T ] , rx . Observable [ R ] ] = \n + ( jo : rx . Observable [ T ] ) = > selector ( toScalaObservable [ T ] ( jo ) ) . asJavaObservable . asInstanceOf [ rx . Observable [ R ] ] \n
dubbo - registry \ dubbo - registry - default \ src \ test \ java \ org \ apache \ dubbo \ registry \ dubbo \ RegistryDirectoryTest . java \n - import org . apache . dubbo . common . utils . StringUtils ; \n - import java . util . Collections ; \n - Map < String , String > qs = Collections . unmodifiableMap ( StringUtils . parseQueryString ( url . getParameterAndDecoded ( REFER _ KEY ) ) ) ; \n - RegistryDirectory registryDirectory = new RegistryDirectory ( URL . class , url , qs ) ; \n + RegistryDirectory registryDirectory = new RegistryDirectory ( URL . class , url ) ; \n - new RegistryDirectory ( null , null , null ) ; \n + new RegistryDirectory ( null , null ) ; \n - Map < String , String > qs = Collections . unmodifiableMap ( StringUtils . parseQueryString ( noMeaningUrl . getParameterAndDecoded ( REFER _ KEY ) ) ) ; \n - new RegistryDirectory ( null , noMeaningUrl , qs ) ; \n + new RegistryDirectory ( null , noMeaningUrl ) ; \n - new RegistryDirectory ( RegistryDirectoryTest . class , URL . valueOf ( " dubbo : / / 10 . 20 . 30 . 40 : 9090 " ) , new HashMap < > ( ) ) ; \n + new RegistryDirectory ( RegistryDirectoryTest . class , URL . valueOf ( " dubbo : / / 10 . 20 . 30 . 40 : 9090 " ) ) ; \n - Map < String , String > qs = Collections . unmodifiableMap ( StringUtils . parseQueryString ( regurl . getParameterAndDecoded ( REFER _ KEY ) ) ) ; \n - regurl , qs ) ; \n + regurl ) ; \n
pom . xml \n - < version > $ { maven _ surefire _ version } < / version > \n - < version > 2 . 22 . 1 < / version > \n + < version > $ { maven _ surefire _ version } < / version > \n
dubbo - rpc \ dubbo - rpc - dubbo \ src \ main \ java \ org \ apache \ dubbo \ rpc \ protocol \ dubbo \ DubboCodec . java \n + import static org . apache . dubbo . common . constants . CommonConstants . INTERFACE _ KEY ; \n - out . writeUTF ( inv . getAttachment ( PATH _ KEY ) ) ; \n + / / https : / / github . com / apache / dubbo / issues / 6138 \n + String serviceName = inv . getAttachment ( INTERFACE _ KEY ) ; \n + if ( serviceName = = null ) { \n + serviceName = inv . getAttachment ( PATH _ KEY ) ; \n + } \n + out . writeUTF ( serviceName ) ; \n
dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ AbstractResult . java \n + import org . apache . dubbo . common . utils . StringUtils ; \n + \n - if ( result = = null | | result . length ( ) = = 0 ) { \n + if ( StringUtils . isEmpty ( result ) ) { \n dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ RpcContext . java \n + import org . apache . dubbo . common . utils . StringUtils ; \n - if ( host = = null | | host . length ( ) = = 0 ) { \n + if ( StringUtils . isEmpty ( host ) ) { \n dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ RpcException . java \n - private int code ; / / RpcException cannot be extended , use error code for exception type to keep compatibility \n + / * * \n + * RpcException cannot be extended , use error code for exception type to keep compatibility \n + * / \n + private int code ; \n dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ RpcInvocation . java \n + import org . apache . dubbo . common . utils . StringUtils ; \n - if ( value = = null | | value . length ( ) = = 0 ) { \n + if ( StringUtils . isEmpty ( value ) ) { \n dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ service \ GenericService . java \n - * @ throws Throwable potential exception thrown from the invocation \n + * @ throws GenericException potential exception thrown from the invocation \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ common \ utils \ CompatibleTypeUtils . java \n + import java . time . LocalDateTime ; \n + DATE _ FORMAT + " , cause : " + e . getMessage ( ) , e ) ; \n + if ( type = = java . time . LocalDateTime . class | | type = = java . time . LocalDate . class \n + | | type = = java . time . LocalTime . class ) { \n + \n + LocalDateTime localDateTime = LocalDateTime . parse ( string ) ; \n + if ( type = = java . time . LocalDate . class ) { \n + return localDateTime . toLocalDate ( ) ; \n + } \n + if ( type = = java . time . LocalTime . class ) { \n + return localDateTime . toLocalTime ( ) ; \n + } \n + return localDateTime ; \n + } \n dubbo - common \ src \ test \ java \ org \ apache \ dubbo \ common \ utils \ CompatibleTypeUtilsTest . java \n + import java . time . format . DateTimeFormatter ; \n + result = CompatibleTypeUtils . compatibleTypeConvert ( " 2011 - 12 - 11T12 : 24 : 12 . 047 " , java . time . LocalDateTime . class ) ; \n + assertEquals ( DateTimeFormatter . ofPattern ( " yyyy - MM - dd HH : mm : ss " ) . format ( ( java . time . LocalDateTime ) result ) , " 2011 - 12 - 11 12 : 24 : 12 " ) ; \n + \n + result = CompatibleTypeUtils . compatibleTypeConvert ( " 2011 - 12 - 11T12 : 24 : 12 . 047 " , java . time . LocalTime . class ) ; \n + assertEquals ( DateTimeFormatter . ofPattern ( " HH : mm : ss " ) . format ( ( java . time . LocalTime ) result ) , " 12 : 24 : 12 " ) ; \n + \n + result = CompatibleTypeUtils . compatibleTypeConvert ( " 2011 - 12 - 11T12 : 24 : 12 . 047 " , java . time . LocalDate . class ) ; \n + assertEquals ( DateTimeFormatter . ofPattern ( " yyyy - MM - dd " ) . format ( ( java . time . LocalDate ) result ) , " 2011 - 12 - 11 " ) ; \n + \n
dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ AppResponse . java \n - import java . lang . reflect . Field ; \n + import org . apache . dubbo . rpc . proxy . InvokerInvocationHandler ; \n + \n - * \n + * < p > \n - / / get Throwable class \n - Class clazz = exception . getClass ( ) ; \n - while ( ! clazz . getName ( ) . equals ( Throwable . class . getName ( ) ) ) { \n - clazz = clazz . getSuperclass ( ) ; \n - } \n - / / get stackTrace value \n - Field stackTraceField = clazz . getDeclaredField ( " stackTrace " ) ; \n - stackTraceField . setAccessible ( true ) ; \n - Object stackTrace = stackTraceField . get ( exception ) ; \n + Object stackTrace = InvokerInvocationHandler . stackTraceField . get ( exception ) ; \n dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ proxy \ InvokerInvocationHandler . java \n + import java . lang . reflect . Field ; \n + public static Field stackTraceField ; \n + \n + static { \n + try { \n + stackTraceField = Throwable . class . getDeclaredField ( " stackTrace " ) ; \n + stackTraceField . setAccessible ( true ) ; \n + } catch ( NoSuchFieldException e ) { \n + / / ignore \n + } \n + } \n + \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ serialization \ autocodec \ BUILD \n - " : libautocodec - annotation . jar " , \n - " : libautocodec - processor . jar " , \n - " : libregistered - singleton . jar " , \n - " : libserialization - constant - annotation . jar " , \n - " : libserialization - constant - processor . jar " , \n - " : libserialization - processor - util . jar " , \n - " / / src / main / java / com / google / devtools / build / lib / skyframe / serialization : libserialization . jar " , \n - " / / src / main / java / com / google / devtools / build / lib / unsafe : libunsafe - provider . jar " , \n + " : autocodec - annotation " , \n + " : autocodec - processor " , \n + " : registered - singleton " , \n + " : serialization - constant - annotation " , \n + " : serialization - constant - processor " , \n + " : serialization - processor - util " , \n + " / / src / main / java / com / google / devtools / build / lib / skyframe / serialization " , \n + " / / src / main / java / com / google / devtools / build / lib / unsafe : unsafe - provider " , \n
src \ test \ shell \ bazel \ bazel _ java _ test _ defaults . sh \n + java _ runtime = " @ local _ jdk / / : jdk " , \n tools \ jdk \ BUILD . tools \n - \n - java _ runtime _ version _ alias ( \n - name = " jdk _ 8 " , \n - runtime _ version = " 8 " , \n - selected _ java _ runtime = " : legacy _ current _ java _ runtime " , \n - visibility = [ " / / visibility : public " ] , \n - ) \n tools \ jdk \ default _ java _ toolchain . bzl \n - " - Xbootclasspath / p : $ ( location @ remote _ java _ tools / / : javac _ jar ) " , \n + " - Xbootclasspath / p : $ ( location @ bazel _ tools / / tools / jdk : javac _ jar ) " , \n - java _ runtime = " @ bazel _ tools / / tools / jdk : jdk _ 8 " , \n
src \ test \ shell \ bazel \ bazel _ java _ test _ defaults . sh \n - java _ runtime = " @ local _ jdk / / : jdk " , \n - bazel cquery ' deps ( / / : jvm8 _ toolchain ) ' > & $ TEST _ log | | fail " failed to query / / : jvm8 _ toolchain " \n + bazel query ' deps ( / / : jvm8 _ toolchain ) ' > & $ TEST _ log | | fail " failed to query / / : jvm8 _ toolchain " \n tools \ jdk \ BUILD . tools \n + \n + java _ runtime _ version _ alias ( \n + name = " jdk _ 8 " , \n + runtime _ version = " 8 " , \n + selected _ java _ runtime = " : legacy _ current _ java _ runtime " , \n + visibility = [ " / / visibility : public " ] , \n + ) \n tools \ jdk \ default _ java _ toolchain . bzl \n - " - Xbootclasspath / p : $ ( location @ bazel _ tools / / tools / jdk : javac _ jar ) " , \n + " - Xbootclasspath / p : $ ( location @ remote _ java _ tools / / : javac _ jar ) " , \n + java _ runtime = " @ bazel _ tools / / tools / jdk : jdk _ 8 " , \n
tests \ gdx - tests - lwjgl3 \ build . gradle \n + \n + if ( System . getProperty ( " os . name " ) . toLowerCase ( ) . contains ( " mac " ) ) { \n + / / Required to run lwjgl java apps on Mac OSX \n + jvmArgs = [ " - XstartOnFirstThread " ] \n + } \n
deleted file \n backends \ gdx - backends - gwt \ src \ com \ badlogic \ gdx \ backends \ gwt \ emu \ java \ io \ IOException . java \n - / * \n - * Copyright 2010 Google Inc . \n - * \n - * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; you may not \n - * use this file except in compliance with the License . You may obtain a copy of \n - * the License at \n - * \n - * http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n - * \n - * Unless required by applicable law or agreed to in writing , software \n - * distributed under the License is distributed on an " AS IS " BASIS , WITHOUT \n - * WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . See the \n - * License for the specific language governing permissions and limitations under \n - * the License . \n - * / \n - \n - package java . io ; \n - \n - public class IOException extends Exception { \n - \n - public IOException ( ) { \n - super ( ) ; \n - } \n - \n - public IOException ( String s ) { \n - super ( s ) ; \n - } \n - } \n
backends \ gdx - backends - gwt \ src \ com \ badlogic \ gdx \ backends \ gwt \ preloader \ AssetDownloader . java \n - loadAudio ( url , ( AssetLoaderListener < Void > ) listener ) ; \n + loadAudio ( url , ( AssetLoaderListener < Blob > ) listener ) ; \n - public void loadAudio ( String url , final AssetLoaderListener < Void > listener ) { \n - if ( useBrowserCache ) { \n - loadBinary ( url , new AssetLoaderListener < Blob > ( ) { \n - @ Override \n - public void onProgress ( double amount ) { \n - listener . onProgress ( amount ) ; \n - } \n + public void loadAudio ( String url , final AssetLoaderListener < Blob > listener ) { \n + loadBinary ( url , new AssetLoaderListener < Blob > ( ) { \n + @ Override \n + public void onProgress ( double amount ) { \n + listener . onProgress ( amount ) ; \n + } \n - @ Override \n - public void onFailure ( ) { \n - listener . onFailure ( ) ; \n - } \n + @ Override \n + public void onFailure ( ) { \n + listener . onFailure ( ) ; \n + } \n - @ Override \n - public void onSuccess ( Blob result ) { \n - listener . onSuccess ( null ) ; \n - } \n + @ Override \n + public void onSuccess ( Blob result ) { \n + listener . onSuccess ( result ) ; \n + } \n - } ) ; \n - } else { \n - listener . onSuccess ( null ) ; \n - } \n + } ) ; \n backends \ gdx - backends - gwt \ src \ com \ badlogic \ gdx \ backends \ gwt \ preloader \ Blob . java \n - private final Int8Array data ; \n + protected final Int8Array data ; \n backends \ gdx - backends - gwt \ src \ com \ badlogic \ gdx \ backends \ gwt \ preloader \ Preloader . java \n - public ObjectMap < String , Void > audio = new ObjectMap < String , Void > ( ) ; \n + public ObjectMap < String , Blob > audio = new ObjectMap < String , Blob > ( ) ; \n - audio . put ( asset . url , null ) ; \n + audio . put ( asset . url , ( Blob ) result ) ; \n - return new ByteArrayInputStream ( new byte [ 1 ] ) ; / / FIXME , sensible ? \n + return audio . get ( url ) . read ( ) ; \n - return 1 ; / / FIXME sensible ? \n + return audio . get ( url ) . length ( ) ; \n
backends \ gdx - backends - gwt \ src \ com \ badlogic \ gwtref \ GwtReflect . gwt . xml \n + < extend - configuration - property name = " gdx . reflect . include " \n + value = " com . badlogic . gdx . utils . Json " / > \n gdx \ src \ com \ badlogic \ gdx \ utils \ Json . java \n - if ( Serializable . class . isAssignableFrom ( type ) ) { \n + if ( ClassReflection . isAssignableFrom ( Serializable . class , type ) ) { \n
gdx \ src \ com \ badlogic \ gdx \ utils \ PooledLinkedList . java \n - tail . next = null ; \n + tail . next = null ; \n
backends \ gdx - backends - gwt \ src \ com \ badlogic \ gdx \ backends \ gwt \ emu \ com \ badlogic \ gdx \ graphics \ Pixmap . java \n - context . drawImage ( image , srcX , srcY , srcWidth , srcHeight , dstX , dstY , dstWidth , dstHeight ) ; \n + if ( srcWidth ! = 0 & & srcHeight ! = 0 & & dstWidth ! = 0 & & dstHeight ! = 0 ) { \n + context . drawImage ( image , srcX , srcY , srcWidth , srcHeight , dstX , dstY , dstWidth , dstHeight ) ; \n + } \n
spring - boot - project \ spring - boot - docs \ src \ docs \ asciidoc \ production - ready - features . adoc \n - * Kafka consumer and producer metrics \n + * Kafka consumer , producer and streams metrics \n + It will also register ` KafkaStreamsMicrometerListener ` for ` StreamsBuilderFactoryBean ` . \n
spring - boot - project \ spring - boot - actuator \ src \ main \ java \ org \ springframework \ boot \ actuate \ context \ properties \ ConfigurationPropertiesReportEndpointWebExtension . java \n - * @ since 2 . 4 \n + * @ since 2 . 5 . 0 \n
spring - boot - project \ spring - boot - actuator \ src \ main \ java \ org \ springframework \ boot \ actuate \ metrics \ web \ client \ MetricsClientHttpRequestInterceptor . java \n + import org . apache . commons . logging . Log ; \n + import org . apache . commons . logging . LogFactory ; \n + private static final Log logger = LogFactory . getLog ( MetricsClientHttpRequestInterceptor . class ) ; \n + \n - getTimeBuilder ( request , response ) . register ( this . meterRegistry ) . record ( System . nanoTime ( ) - startTime , \n - TimeUnit . NANOSECONDS ) ; \n + try { \n + getTimeBuilder ( request , response ) . register ( this . meterRegistry ) . record ( System . nanoTime ( ) - startTime , \n + TimeUnit . NANOSECONDS ) ; \n + } \n + catch ( Exception ex ) { \n + logger . info ( " Failed to record metrics . " , ex ) ; \n + } \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ buildtool \ QueryIntegrationTest . java \n - / / In this test we are allowed to ommit the beforeCommand ; so force setting of a command \n + / / In this test we are allowed to omit the beforeCommand ; so force setting of a command \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ buildtool \ util \ BuildIntegrationTestCase . java \n - protected void createSymlink ( String target , String relativeLinkPath ) throws IOException { \n + protected Path createSymlink ( String target , String relativeLinkPath ) throws IOException { \n + return path ; \n src \ test \ java \ com \ google \ devtools \ build \ skyframe \ NotifyingHelper . java \n + import com . google . devtools . build . lib . util . GroupedList . GroupedListHelper ; \n + ADD _ TEMPORARY _ DIRECT _ DEPS , \n + @ Override \n + public Set < SkyKey > addTemporaryDirectDeps ( GroupedListHelper < SkyKey > helper ) { \n + graphListener . accept ( myKey , EventType . ADD _ TEMPORARY _ DIRECT _ DEPS , Order . BEFORE , helper ) ; \n + Set < SkyKey > skyKeys = super . addTemporaryDirectDeps ( helper ) ; \n + graphListener . accept ( myKey , EventType . ADD _ TEMPORARY _ DIRECT _ DEPS , Order . AFTER , helper ) ; \n + return skyKeys ; \n + } \n + \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ analysis \ AnalysisCachingTest . java \n - assertThat ( newAnalyzedTargets ) . isNotEmpty ( ) ; / / could be greater due to implicit deps \n + / / Source target and rule target . \n + assertThat ( newAnalyzedTargets ) . hasSize ( 2 ) ; \n - / / these targets were cached and did not need to be reanalyzed \n - assertNumberOfAnalyzedConfigurationsOfTargets ( \n - ImmutableMap . < String , Integer > builder ( ) \n - . put ( " / / test : top " , 0 ) \n - . put ( " / / test : shared " , 0 ) \n - . build ( ) ) ; \n + assertNoTargetsVisited ( ) ; \n - assertNumberOfAnalyzedConfigurationsOfTargets ( \n - ImmutableMap . < String , Integer > builder ( ) \n - . put ( " / / test : top " , 0 ) \n - . put ( " / / test : shared " , 0 ) \n - . build ( ) ) ; \n + assertNoTargetsVisited ( ) ; \n
guava \ src \ com \ google \ common \ graph \ ValueGraph . java \n - * An interface for < a href = " https : / / en . wikipedia . org / wiki / Graph _ ( discrete _ mathematics ) " > graph < / a > - \n - * structured data , whose edges have associated non - unique values . \n + * An interface for < a \n + * href = " https : / / en . wikipedia . org / wiki / Graph _ ( discrete _ mathematics ) " > graph < / a > - structured data , \n + * whose edges have associated non - unique values . \n
guava \ src \ com \ google \ common \ graph \ Graphs . java \n - import com . google . common . collect . ImmutableList ; \n + import com . google . common . collect . Iterables ; \n + import java . util . LinkedHashSet ; \n + / / TODO ( b / 31438252 ) : Consider potential optimizations for this algorithm . \n - ImmutableList < N > reachableNodes = ImmutableList . copyOf ( reachableNodes ( graph , node ) ) ; \n + Set < N > reachableNodes = reachableNodes ( graph , node ) ; \n - for ( int a = 0 ; a < reachableNodes . size ( ) ; + + a ) { \n - N nodeU = reachableNodes . get ( a ) ; \n - for ( int b = a ; b < reachableNodes . size ( ) ; + + b ) { \n - N nodeV = reachableNodes . get ( b ) ; \n + int pairwiseMatch = 1 ; / / start at 1 to include self - loops \n + for ( N nodeU : reachableNodes ) { \n + for ( N nodeV : Iterables . limit ( reachableNodes , pairwiseMatch + + ) ) { \n - @ SuppressWarnings ( " unchecked " ) / / Throws an exception if node is not an element of graph . \n + @ SuppressWarnings ( " unchecked " ) / / Safe because we only cast if node is an element of the graph . \n - Set < N > visitedNodes = new HashSet < N > ( ) ; \n + Set < N > visitedNodes = new LinkedHashSet < N > ( ) ; \n
guava - tests \ test \ com \ google \ common \ graph \ GraphsTest . java \n - Graph < Integer > transpose = Graphs . transpose ( directedGraph ) ; \n + Graph < Integer > transpose = transpose ( directedGraph ) ; \n - ValueGraph < Integer , String > transpose = Graphs . transpose ( directedGraph ) ; \n + ValueGraph < Integer , String > transpose = transpose ( directedGraph ) ; \n - Network < Integer , String > transpose = Graphs . transpose ( directedGraph ) ; \n + Network < Integer , String > transpose = transpose ( directedGraph ) ; \n
. travis . yml \n - oraclejdk8 \n - - mkdir " $ ANDROID _ HOME / licenses " | | true \n - - echo " d56f5187479451eabf01fb78af6dfcb131a6481e " > " $ ANDROID _ HOME / licenses / android - sdk - license " \n + - yes | sdkmanager " platforms ; android - 27 " \n
gradle . properties \n - VERSION _ NAME = 1 . 5 . 1 \n + VERSION _ NAME = 1 . 5 . 2 - SNAPSHOT \n
new file \n CODE _ OF _ CONDUCT . md \n + # Code of Conduct \n + \n + Facebook has adopted a Code of Conduct that we expect project participants to adhere to . \n + Please read the [ full text ] ( https : / / code . fb . com / codeofconduct / ) \n + so that you can understand what actions will and will not be tolerated . \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcToolchain . java \n + import com . google . devtools . build . lib . analysis . platform . ToolchainInfo ; \n - / / from its attributes . \n - return ruleConfiguredTargetBuilder . build ( ) ; \n + / / from its attributes . We also need to provide a do - nothing ToolchainInfo . \n + return ruleConfiguredTargetBuilder \n + . addNativeDeclaredProvider ( new ToolchainInfo ( ImmutableMap . of ( " cc " , " dummy cc toolchain " ) ) ) \n + . build ( ) ; \n src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcToolchainAttributesProvider . java \n - import com . google . common . collect . ImmutableMap ; \n - import com . google . devtools . build . lib . analysis . platform . ToolchainInfo ; \n + import com . google . devtools . build . lib . packages . Info ; \n + import com . google . devtools . build . lib . packages . NativeInfo ; \n - import net . starlark . java . syntax . Location ; \n - public class CcToolchainAttributesProvider extends ToolchainInfo implements HasCcToolchainLabel { \n + public class CcToolchainAttributesProvider extends NativeInfo implements HasCcToolchainLabel { \n - super ( ImmutableMap . of ( ) , Location . BUILTIN ) ; \n + super ( ) ; \n + @ Override \n + public BuiltinProvider < CcToolchainAttributesProvider > getProvider ( ) { \n + return PROVIDER ; \n + } \n + \n - interface HasCcToolchainLabel { \n + interface HasCcToolchainLabel extends Info { \n src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcToolchainSuite . java \n + import com . google . devtools . build . lib . packages . BuiltinProvider ; \n + / / TOOD ( b / 17906781 ) : Change this to CcToolchainProvider when CcToolchainProvider isn ' t \n + / / a subclass of ToolchainInfo . \n + ToolchainInfo . PROVIDER , \n + CcToolchainAttributesProvider . PROVIDER , \n + / / TOOD ( b / 17906781 ) : Change the type to T when CcToolchainprovider has its own provider type . \n + BuiltinProvider < ? > providerType , \n - T attributes = clazz . cast ( dep . get ( ToolchainInfo . PROVIDER ) ) ; \n + T attributes = clazz . cast ( dep . get ( providerType ) ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ analysis \ platform \ ToolchainInfo . java \n - import com . google . common . collect . ImmutableMap ; \n - \n - / * * Add make variables to be exported to dependers . * / \n - public void addGlobalMakeVariables ( ImmutableMap . Builder < String , String > globalMakeEnvBuilder ) { } \n src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcToolchainProvider . java \n - @ Override \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ runtime \ commands \ ConfigCommandTest . java \n - new JsonParser ( ) . parse ( callConfigCommand ( ) . outAsLatin1 ( ) ) . getAsJsonObject ( ) ; \n + JsonParser . parseString ( callConfigCommand ( ) . outAsLatin1 ( ) ) . getAsJsonObject ( ) ; \n - new JsonParser ( ) \n - . parse ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n + JsonParser . parseString ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n - new JsonParser ( ) \n - . parse ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n + JsonParser . parseString ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n - new JsonParser ( ) \n - . parse ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n + JsonParser . parseString ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n - new JsonParser ( ) . parse ( callConfigCommand ( " - - dump _ all " ) . outAsLatin1 ( ) ) . getAsJsonArray ( ) ) { \n + JsonParser . parseString ( callConfigCommand ( " - - dump _ all " ) . outAsLatin1 ( ) ) . getAsJsonArray ( ) ) { \n - new JsonParser ( ) \n - . parse ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n + JsonParser . parseString ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n - new JsonParser ( ) \n - . parse ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n + JsonParser . parseString ( callConfigCommand ( ) . outAsLatin1 ( ) ) \n - for ( JsonElement configJson : \n - new JsonParser ( ) . parse ( callConfigCommand ( " - - dump _ all " ) . outAsLatin1 ( ) ) . getAsJsonArray ( ) ) { \n + String result = callConfigCommand ( " - - dump _ all " ) . outAsLatin1 ( ) ; \n + for ( JsonElement configJson : JsonParser . parseString ( result ) . getAsJsonArray ( ) ) { \n - new JsonParser ( ) . parse ( callConfigCommand ( " - - dump _ all " ) . outAsLatin1 ( ) ) . getAsJsonArray ( ) ) { \n + JsonParser . parseString ( callConfigCommand ( " - - dump _ all " ) . outAsLatin1 ( ) ) . getAsJsonArray ( ) ) { \n
library \ src \ com \ slidingmenu \ lib \ SlidingMenu . java \n + a . recycle ( ) ; \n + ta . recycle ( ) ; \n library \ src \ com \ slidingmenu \ lib \ app \ SlidingActivityHelper . java \n + a . recycle ( ) ; \n
example \ src \ com \ slidingmenu \ example \ PropertiesActivity . java \n - getSlidingMenu ( ) . setShadowDrawable ( R . drawable . defaultshadow ) ; \n + getSlidingMenu ( ) . setShadowDrawable ( \n + getSlidingMenu ( ) . getMode ( ) = = SlidingMenu . LEFT ? \n + R . drawable . defaultshadow : R . drawable . defaultshadowright ) ; \n library \ src \ com \ slidingmenu \ lib \ CustomViewAbove . java \n + \n + public int getMode ( ) { \n + return mMode ; \n + } \n library \ src \ com \ slidingmenu \ lib \ SlidingMenu . java \n + / * * \n + * Sets which side the SlidingMenu should appear on . \n + * @ param mode must be either SlidingMenu . LEFT or SlidingMenu . RIGHT \n + * / \n + \n + / * * \n + * Returns the current side that the SlidingMenu is on . \n + * @ return the current mode , either SlidingMenu . LEFT or SlidingMenu . RIGHT \n + * / \n + public int getMode ( ) { \n + return mViewAbove . getMode ( ) ; \n + } \n
library \ src \ com \ slidingmenu \ lib \ CustomViewAbove . java \n - int childWidth = getChildWidth ( pos ) ; \n - childLeft + childWidth , \n + childLeft + child . getMeasuredWidth ( ) , \n library \ src \ com \ slidingmenu \ lib \ CustomViewBehind2 . java \n - super ( context , attrs , true ) ; \n + super ( context , attrs , false ) ; \n - / / @ Override \n - / / public void setContent ( View v ) { \n - / / super . setMenu ( v ) ; \n - / / } \n + @ Override \n + public void setContent ( View v ) { \n + super . setMenu ( v ) ; \n + } \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ serialization \ testutils \ BUILD \n - " / / src / main / java / net / starlark / java / syntax " , \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ analysis \ test \ TestRunnerAction . java \n + import java . util . function . Supplier ; \n - maybeReadCacheStatus ( ) , \n + this : : maybeReadCacheStatus , \n - @ Nullable TestResultData prevStatus , \n + Supplier < TestResultData > prevStatus , / / Lazy evaluation to avoid a disk read if possible . \n - if ( cacheTestResults = = TriState . NO ) { \n + if ( isExternal | | cacheTestResults = = TriState . NO ) { \n - if ( isExternal ) { \n + if ( cacheTestResults = = TriState . AUTO & & runsPerTest > 1 ) { \n - if ( cacheTestResults = = TriState . AUTO & & ( runsPerTest > 1 ) ) { \n - return false ; \n - } \n - if ( cacheTestResults = = TriState . AUTO & & prevStatus ! = null & & ! prevStatus . getTestPassed ( ) ) { \n - return false ; \n - } \n - if ( prevStatus ! = null & & ! prevStatus . getCachable ( ) ) { \n - return false ; \n + TestResultData status = prevStatus . get ( ) ; \n + if ( status ! = null ) { \n + if ( ! status . getCachable ( ) ) { \n + return false ; \n + } \n + if ( cacheTestResults = = TriState . AUTO & & ! status . getTestPassed ( ) ) { \n + return false ; \n + } \n
src \ test \ java \ com \ google \ devtools \ build \ skyframe \ MemoizingEvaluatorTest . java \n - protected void deleteKeyFromGraph ( SkyKey key ) { \n + protected void deleteKeyFromGraph ( SkyKey key ) throws Exception { \n
site \ jekyll - tree . sh \n - tar - - warning = no - unknown - keyword - xf " $ { JEKYLL _ BASE } " \n + tar - xf " $ { JEKYLL _ BASE } " \n - tar - - warning = no - unknown - keyword - xf " $ { STARLARK _ RULE _ DOCS } " \n + tar - xf " $ { STARLARK _ RULE _ DOCS } " \n
site \ docs \ glossary . md \n - - - \n + category : getting - started \n - - - \n
site \ _ includes \ documentation - sidebar \ master \ sidebar . html \n - < li > < a href = " / versions / { { current _ version } } / rules - tutorial . html " > Writing Rules < / a > < / li > \n + < li > < a href = " / versions / { { current _ version } } / skylark / rules - tutorial . html " > Writing Rules < / a > < / li > \n
annotation \ src \ main \ java \ com \ bumptech \ glide \ annotation \ GlideModule . java \n - * Identifies AppGlideModules and ChildeGlideModules for Glide ' s annotation processor to merge at \n + * Identifies AppGlideModules and LibraryGlideModules for Glide ' s annotation processor to merge at \n
integration \ okhttp3 \ src \ main \ java \ com \ bumptech \ glide \ integration \ okhttp3 \ OkHttpGlideModule . java \n - \n - \n integration \ okhttp3 \ src \ main \ java \ com \ bumptech \ glide \ integration \ okhttp3 \ OkHttpStreamFetcher . java \n - \n
library \ src \ main \ java \ com \ bumptech \ glide \ load \ model \ ModelLoaderRegistry . java \n - public synchronized < A > List < ModelLoader < A , ? > > getModelLoaders ( @ NonNull A model ) { \n + public < A > List < ModelLoader < A , ? > > getModelLoaders ( @ NonNull A model ) { \n - List < ModelLoader < A , ? > > filteredLoaders = new ArrayList < > ( size ) ; \n + boolean isEmpty = true ; \n + List < ModelLoader < A , ? > > filteredLoaders = Collections . emptyList ( ) ; \n + if ( isEmpty ) { \n + filteredLoaders = new ArrayList < > ( size - i ) ; \n + isEmpty = false ; \n + } \n - private < A > List < ModelLoader < A , ? > > getModelLoadersForClass ( @ NonNull Class < A > modelClass ) { \n + private synchronized < A > List < ModelLoader < A , ? > > getModelLoadersForClass ( \n + @ NonNull Class < A > modelClass ) { \n
android \ guava - tests \ test \ com \ google \ common \ graph \ ValueGraphTest . java \n - public void incidentEdges _ stableIncidentEdgeOrder _ preservesIncidentEdgesOrder ( ) { \n + public void incidentEdges _ stableIncidentEdgeOrder _ preservesIncidentEdgesOrder _ directed ( ) { \n + @ Test \n + public void incidentEdges _ stableIncidentEdgeOrder _ preservesIncidentEdgesOrder _ undirected ( ) { \n + graph = ValueGraphBuilder . undirected ( ) . incidentEdgeOrder ( ElementOrder . stable ( ) ) . build ( ) ; \n + graph . putEdgeValue ( 2 , 3 , " 2 - 3 " ) ; \n + graph . putEdgeValue ( 2 , 1 , " 2 - 1 " ) ; \n + graph . putEdgeValue ( 2 , 4 , " 2 - 4 " ) ; \n + graph . putEdgeValue ( 1 , 2 , " 1 - 2 " ) ; / / Duplicate nodes , different value \n + \n + assertThat ( graph . incidentEdges ( 2 ) ) \n + . containsExactly ( \n + EndpointPair . unordered ( 2 , 3 ) , \n + EndpointPair . unordered ( 1 , 2 ) , \n + EndpointPair . unordered ( 2 , 4 ) ) \n + . inOrder ( ) ; \n + } \n + \n guava - tests \ test \ com \ google \ common \ graph \ ValueGraphTest . java \n - public void incidentEdges _ stableIncidentEdgeOrder _ preservesIncidentEdgesOrder ( ) { \n + public void incidentEdges _ stableIncidentEdgeOrder _ preservesIncidentEdgesOrder _ directed ( ) { \n + @ Test \n + public void incidentEdges _ stableIncidentEdgeOrder _ preservesIncidentEdgesOrder _ undirected ( ) { \n + graph = ValueGraphBuilder . undirected ( ) . incidentEdgeOrder ( ElementOrder . stable ( ) ) . build ( ) ; \n + graph . putEdgeValue ( 2 , 3 , " 2 - 3 " ) ; \n + graph . putEdgeValue ( 2 , 1 , " 2 - 1 " ) ; \n + graph . putEdgeValue ( 2 , 4 , " 2 - 4 " ) ; \n + graph . putEdgeValue ( 1 , 2 , " 1 - 2 " ) ; / / Duplicate nodes , different value \n + \n + assertThat ( graph . incidentEdges ( 2 ) ) \n + . containsExactly ( \n + EndpointPair . unordered ( 2 , 3 ) , \n + EndpointPair . unordered ( 1 , 2 ) , \n + EndpointPair . unordered ( 2 , 4 ) ) \n + . inOrder ( ) ; \n + } \n + \n
android \ guava \ src \ com \ google \ common \ graph \ ElementOrder . java \n - / / TODO ( b / 142723300 ) : Make this method public \n - static < S > ElementOrder < S > stable ( ) { \n + public static < S > ElementOrder < S > stable ( ) { \n android \ guava \ src \ com \ google \ common \ graph \ GraphBuilder . java \n - / / TODO ( b / 142723300 ) : Make this method public \n - < N1 extends N > GraphBuilder < N1 > incidentEdgeOrder ( ElementOrder < N1 > incidentEdgeOrder ) { \n + public < N1 extends N > GraphBuilder < N1 > incidentEdgeOrder ( ElementOrder < N1 > incidentEdgeOrder ) { \n android \ guava \ src \ com \ google \ common \ graph \ ValueGraphBuilder . java \n - / / TODO ( b / 142723300 ) : Make this method public \n - < N1 extends N > ValueGraphBuilder < N1 , V > incidentEdgeOrder ( ElementOrder < N1 > incidentEdgeOrder ) { \n + public < N1 extends N > ValueGraphBuilder < N1 , V > incidentEdgeOrder ( \n + ElementOrder < N1 > incidentEdgeOrder ) { \n guava \ src \ com \ google \ common \ graph \ ElementOrder . java \n - / / TODO ( b / 142723300 ) : Make this method public \n - static < S > ElementOrder < S > stable ( ) { \n + public static < S > ElementOrder < S > stable ( ) { \n guava \ src \ com \ google \ common \ graph \ GraphBuilder . java \n - / / TODO ( b / 142723300 ) : Make this method public \n - < N1 extends N > GraphBuilder < N1 > incidentEdgeOrder ( ElementOrder < N1 > incidentEdgeOrder ) { \n + public < N1 extends N > GraphBuilder < N1 > incidentEdgeOrder ( ElementOrder < N1 > incidentEdgeOrder ) { \n guava \ src \ com \ google \ common \ graph \ ValueGraphBuilder . java \n - / / TODO ( b / 142723300 ) : Make this method public \n - < N1 extends N > ValueGraphBuilder < N1 , V > incidentEdgeOrder ( ElementOrder < N1 > incidentEdgeOrder ) { \n + public < N1 extends N > ValueGraphBuilder < N1 , V > incidentEdgeOrder ( \n + ElementOrder < N1 > incidentEdgeOrder ) { \n
android \ guava - tests \ test \ com \ google \ common \ graph \ StandardMutableDirectedNetworkTest . java \n + import java . util . Arrays ; \n + import java . util . Collection ; \n - import org . junit . runners . JUnit4 ; \n + import org . junit . runners . Parameterized ; \n + import org . junit . runners . Parameterized . Parameters ; \n - @ RunWith ( JUnit4 . class ) \n + @ AndroidIncompatible \n + @ RunWith ( Parameterized . class ) \n + @ Parameters ( name = " allowsSelfLoops = { 0 } " ) \n + public static Collection < Object [ ] > parameters ( ) { \n + return Arrays . asList ( \n + new Object [ ] [ ] { \n + { false } , { true } , \n + } ) ; \n + } \n + \n + private final boolean allowsSelfLoops ; \n + \n + public StandardMutableDirectedNetworkTest ( boolean allowsSelfLoops ) { \n + this . allowsSelfLoops = allowsSelfLoops ; \n + } \n + \n - return NetworkBuilder . directed ( ) . allowsSelfLoops ( true ) . build ( ) ; \n + return NetworkBuilder . directed ( ) . allowsSelfLoops ( allowsSelfLoops ) . build ( ) ; \n guava - tests \ test \ com \ google \ common \ graph \ StandardMutableDirectedNetworkTest . java \n + import java . util . Arrays ; \n + import java . util . Collection ; \n - import org . junit . runners . JUnit4 ; \n + import org . junit . runners . Parameterized ; \n + import org . junit . runners . Parameterized . Parameters ; \n - @ RunWith ( JUnit4 . class ) \n + @ AndroidIncompatible \n + @ RunWith ( Parameterized . class ) \n + @ Parameters ( name = " allowsSelfLoops = { 0 } " ) \n + public static Collection < Object [ ] > parameters ( ) { \n + return Arrays . asList ( \n + new Object [ ] [ ] { \n + { false } , { true } , \n + } ) ; \n + } \n + \n + private final boolean allowsSelfLoops ; \n + \n + public StandardMutableDirectedNetworkTest ( boolean allowsSelfLoops ) { \n + this . allowsSelfLoops = allowsSelfLoops ; \n + } \n + \n - return NetworkBuilder . directed ( ) . allowsSelfLoops ( true ) . build ( ) ; \n + return NetworkBuilder . directed ( ) . allowsSelfLoops ( allowsSelfLoops ) . build ( ) ; \n
android \ guava \ src \ com \ google \ common \ graph \ AbstractBaseGraph . java \n + * < p > The methods implemented in this class should not be overridden unless the subclass admits a \n + * more efficient implementation . \n + * \n android \ guava \ src \ com \ google \ common \ graph \ AbstractNetwork . java \n + * < p > The methods implemented in this class should not be overridden unless the subclass admits a \n + * more efficient implementation . \n + * \n android \ guava \ src \ com \ google \ common \ graph \ AbstractValueGraph . java \n + * < p > The methods implemented in this class should not be overridden unless the subclass admits a \n + * more efficient implementation . \n + * \n guava \ src \ com \ google \ common \ graph \ AbstractBaseGraph . java \n + * < p > The methods implemented in this class should not be overridden unless the subclass admits a \n + * more efficient implementation . \n + * \n guava \ src \ com \ google \ common \ graph \ AbstractNetwork . java \n + * < p > The methods implemented in this class should not be overridden unless the subclass admits a \n + * more efficient implementation . \n + * \n guava \ src \ com \ google \ common \ graph \ AbstractValueGraph . java \n + * < p > The methods implemented in this class should not be overridden unless the subclass admits a \n + * more efficient implementation . \n + * \n
android \ guava - tests \ test \ com \ google \ common \ graph \ PackageSanityTests . java \n + setDefault ( EndpointPair . class , EndpointPair . ordered ( " A " , " B " ) ) ; \n guava - tests \ test \ com \ google \ common \ graph \ PackageSanityTests . java \n + setDefault ( EndpointPair . class , EndpointPair . ordered ( " A " , " B " ) ) ; \n
android \ guava \ src \ com \ google \ common \ escape \ ArrayBasedCharEscaper . java \n - / / TODO ( user , cpovirk ) : Rename this something better once refactoring done \n + / / TODO ( dbeaumont , cpovirk ) : Rename this something better once refactoring done \n android \ guava \ src \ com \ google \ common \ escape \ Escaper . java \n - / / TODO ( user ) : evaluate custom implementations , considering package private constructor . \n + / / TODO ( dbeaumont ) : evaluate custom implementations , considering package private constructor . \n android \ guava \ src \ com \ google \ common \ net \ PercentEscaper . java \n - / / TODO ( user ) : Switch to static factory methods for creation now that class is final . \n - / / TODO ( user ) : Support escapers where alphanumeric chars are not safe . \n + / / TODO ( dbeaumont ) : Switch to static factory methods for creation now that class is final . \n + / / TODO ( dbeaumont ) : Support escapers where alphanumeric chars are not safe . \n guava \ src \ com \ google \ common \ escape \ ArrayBasedCharEscaper . java \n - / / TODO ( user , cpovirk ) : Rename this something better once refactoring done \n + / / TODO ( dbeaumont , cpovirk ) : Rename this something better once refactoring done \n guava \ src \ com \ google \ common \ escape \ Escaper . java \n - / / TODO ( user ) : evaluate custom implementations , considering package private constructor . \n + / / TODO ( dbeaumont ) : evaluate custom implementations , considering package private constructor . \n guava \ src \ com \ google \ common \ net \ PercentEscaper . java \n - / / TODO ( user ) : Switch to static factory methods for creation now that class is final . \n - / / TODO ( user ) : Support escapers where alphanumeric chars are not safe . \n + / / TODO ( dbeaumont ) : Switch to static factory methods for creation now that class is final . \n + / / TODO ( dbeaumont ) : Support escapers where alphanumeric chars are not safe . \n
library \ src \ main \ java \ com \ bumptech \ glide \ RequestManager . java \n + import android . support . annotation . GuardedBy ; \n + @ SuppressWarnings ( " WeakerAccess " ) \n + @ GuardedBy ( " this " ) \n + @ GuardedBy ( " this " ) \n + @ GuardedBy ( " this " ) \n + @ GuardedBy ( " this " ) \n - protected void setRequestOptions ( @ NonNull RequestOptions toSet ) { \n + protected synchronized void setRequestOptions ( @ NonNull RequestOptions toSet ) { \n - private void updateRequestOptions ( @ NonNull RequestOptions toUpdate ) { \n + private synchronized void updateRequestOptions ( @ NonNull RequestOptions toUpdate ) { \n - public synchronized RequestManager addDefaultRequestListener ( \n - RequestListener < Object > requestListener ) { \n + public RequestManager addDefaultRequestListener ( RequestListener < Object > requestListener ) { \n - public void resumeRequestsRecursive ( ) { \n + public synchronized void resumeRequestsRecursive ( ) { \n - public void onStart ( ) { \n + public synchronized void onStart ( ) { \n - public String toString ( ) { \n + public synchronized String toString ( ) { \n - private static class RequestManagerConnectivityListener implements ConnectivityMonitor \n - . ConnectivityListener { \n + private class RequestManagerConnectivityListener \n + implements ConnectivityMonitor . ConnectivityListener { \n + @ GuardedBy ( " RequestManager . this " ) \n - requestTracker . restartRequests ( ) ; \n + synchronized ( RequestManager . this ) { \n + requestTracker . restartRequests ( ) ; \n + } \n - / / Do nothing . \n + \n
library \ src \ main \ java \ com \ bumptech \ glide \ load \ engine \ EngineResource . java \n + private final Resource < Z > resource ; \n + \n - private final Resource < Z > resource ; \n - synchronized void release ( ) { \n - if ( acquired < = 0 ) { \n - throw new IllegalStateException ( " Cannot release a recycled or not yet acquired resource " ) ; \n - } \n - if ( - - acquired = = 0 ) { \n - listener . onResourceReleased ( key , this ) ; \n + / / listener is effectively final . \n + @ SuppressWarnings ( " SynchronizeOnNonFinalField " ) \n + void release ( ) { \n + / / To avoid deadlock , always acquire the listener lock before our lock so that the locking \n + / / scheme is consistent ( Engine - > EngineResource ) . Violating this order leads to deadlock \n + / / ( b / 123646037 ) . \n + synchronized ( listener ) { \n + synchronized ( this ) { \n + if ( acquired < = 0 ) { \n + throw new IllegalStateException ( " Cannot release a recycled or not yet acquired resource " ) ; \n + } \n + if ( - - acquired = = 0 ) { \n + listener . onResourceReleased ( key , this ) ; \n + } \n + } \n
library \ src \ main \ java \ com \ bumptech \ glide \ load \ resource \ bitmap \ HardwareConfigState . java \n + / / See https : / / bit . ly / 2IW5AmI \n + private static boolean isSamsungGalaxyS7Edge ( ) { \n + return Build . MODEL . startsWith ( " SM - G935 " ) | | Build . MODEL . startsWith ( " SM - G930 " ) ; \n + } \n + \n + * \n + * < p > Reduced on S7 Edge devices due to https : / / github . com / bumptech / glide / issues / 3275 . \n - private static final int MAXIMUM _ FDS _ FOR _ HARDWARE _ CONFIGS = 700 ; \n + private static final int MAXIMUM _ FDS _ FOR _ HARDWARE _ CONFIGS = isSamsungGalaxyS7Edge ( ) ? 350 : 700 ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ analysis \ starlark \ StarlarkRuleContext . java \n + import com . google . devtools . build . lib . packages . BuildSetting ; \n - Type < ? > buildSettingType = \n - ruleContext . getRule ( ) . getRuleClassObject ( ) . getBuildSetting ( ) . getType ( ) ; \n + BuildSetting buildSetting = ruleContext . getRule ( ) . getRuleClassObject ( ) . getBuildSetting ( ) ; \n - return ruleContext \n - . attributes ( ) \n - . get ( STARLARK _ BUILD _ SETTING _ DEFAULT _ ATTR _ NAME , buildSettingType ) ; \n + Object defaultValue = \n + ruleContext \n + . attributes ( ) \n + . get ( STARLARK _ BUILD _ SETTING _ DEFAULT _ ATTR _ NAME , buildSetting . getType ( ) ) ; \n + return buildSetting . allowsMultiple ( ) ? ImmutableList . of ( defaultValue ) : defaultValue ; \n src \ test \ java \ com \ google \ devtools \ build \ lib \ starlark \ StarlarkRuleContextTest . java \n - useConfiguration ( \n - ImmutableMap . of ( \n - " / / test : string _ flag " , ImmutableList . of ( " some - other - value " , " some - other - other - value " ) ) ) ; \n + / / from default \n + assertThat ( buildSettingInfo . getValue ( " value " ) ) . isInstanceOf ( List . class ) ; \n + assertThat ( ( List < String > ) buildSettingInfo . getValue ( " value " ) ) . containsExactly ( " some - value " ) ; \n + \n + / / Set multiple times \n + useConfiguration ( \n + ImmutableMap . of ( \n + " / / test : string _ flag " , ImmutableList . of ( " some - other - value " , " some - other - other - value " ) ) ) ; \n + buildSetting = getConfiguredTarget ( " / / test : string _ flag " ) ; \n + key = \n + new StarlarkProvider . Key ( \n + Label . create ( buildSetting . getLabel ( ) . getPackageIdentifier ( ) , " build _ setting . bzl " ) , \n + " BuildSettingInfo " ) ; \n + buildSettingInfo = ( StructImpl ) buildSetting . get ( key ) ; \n + \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ runtime \ commands \ CanonicalizeCommand . java \n - / / inherits from query to get proper package loading options . \n - inherits = { QueryCommand . class } , \n + / / inherits from build to get proper package loading options and rc flag aliases . \n + inherits = { BuildCommand . class } , \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ runtime \ StarlarkOptionsParser . java \n - / / These are already in umambiguous canonical form - this just turns main repo \n - / / label from @ / / myflag - > / / myflag since that ' s how users are used to seeing this label . \n - / / String loadedFlag = \n - / / Label . parseAbsoluteUnchecked ( option . getKey ( ) ) . getDefaultCanonicalForm ( ) ; \n - / / Use the unambiguous canonical form to ensure we don ' t have \n + / / Use the canonical form to ensure we don ' t have \n
packages \ Connectivity \ framework \ src \ android \ net \ VpnTransportInfo . java \n - * Copyright ( C ) 2017 The Android Open Source Project \n + * Copyright ( C ) 2021 The Android Open Source Project \n tests \ net \ java \ android \ net \ VpnTransportInfoTest . java \n - * Copyright ( C ) 2010 The Android Open Source Project \n + * Copyright ( C ) 2021 The Android Open Source Project \n
core \ java \ android \ net \ NetworkIdentity . java \n - if ( state . networkId ! = null ) { \n - networkId = state . networkId ; \n - } else { \n - final WifiManager wifi = ( WifiManager ) context . getSystemService ( \n - Context . WIFI _ SERVICE ) ; \n - final WifiInfo info = wifi . getConnectionInfo ( ) ; \n - networkId = info ! = null ? info . getSSID ( ) : null ; \n + if ( state . networkCapabilities . getSsid ( ) ! = null ) { \n + networkId = state . networkCapabilities . getSsid ( ) ; \n + if ( networkId = = null ) { \n + / / TODO : Figure out if this code path never runs . If so , remove them . \n + final WifiManager wifi = ( WifiManager ) context . getSystemService ( \n + Context . WIFI _ SERVICE ) ; \n + final WifiInfo info = wifi . getConnectionInfo ( ) ; \n + networkId = info ! = null ? info . getSSID ( ) : null ; \n + } \n services \ tests \ servicestests \ src \ com \ android \ server \ net \ NetworkPolicyManagerServiceTest . java \n + networkCapabilities . setSSID ( TEST _ SSID ) ; \n tests \ net \ java \ android \ net \ NetworkTemplateTest . kt \n + setSSID ( ssid ) \n tests \ net \ java \ com \ android \ server \ net \ NetworkStatsServiceTest . java \n + import static android . net . NetworkTemplate . buildTemplateWifi ; \n - private static NetworkTemplate sTemplateWifi = buildTemplateWifiWildcard ( ) ; \n + private static NetworkTemplate sTemplateWifi = buildTemplateWifi ( TEST _ SSID ) ; \n - \n + capabilities . setSSID ( TEST _ SSID ) ; \n
core \ java \ android \ net \ NetworkState . java \n - public final String networkId ; \n - networkId = null ; \n - @ Nullable String subscriberId , @ Nullable String networkId ) { \n + @ Nullable String subscriberId ) { \n - networkCapabilities , network , subscriberId , networkId ) ; \n + networkCapabilities , network , subscriberId ) ; \n - String subscriberId , String networkId ) { \n + @ Nullable String subscriberId ) { \n - networkCapabilities , network , subscriberId , networkId ) ; \n + networkCapabilities , network , subscriberId ) ; \n - String subscriberId , String networkId ) { \n + @ Nullable String subscriberId ) { \n - this . networkId = networkId ; \n - networkId = in . readString ( ) ; \n - out . writeString ( networkId ) ; \n services \ core \ java \ com \ android \ server \ connectivity \ NetworkAgentInfo . java \n - new NetworkCapabilities ( networkCapabilities ) , network , subscriberId , null ) ; \n + new NetworkCapabilities ( networkCapabilities ) , network , subscriberId ) ; \n services \ tests \ servicestests \ src \ com \ android \ server \ net \ NetworkPolicyManagerServiceTest . java \n - return new NetworkState ( TYPE _ WIFI , prop , networkCapabilities , null , null , TEST _ SSID ) ; \n + return new NetworkState ( TYPE _ WIFI , prop , networkCapabilities , null , null ) ; \n - new Network ( TEST _ NET _ ID ) , TEST _ IMSI , null ) \n + new Network ( TEST _ NET _ ID ) , TEST _ IMSI ) \n tests \ net \ java \ android \ net \ NetworkTemplateTest . kt \n - return NetworkState ( type , lp , caps , mock ( Network : : class . java ) , subscriberId , ssid ) \n + return NetworkState ( type , lp , caps , mock ( Network : : class . java ) , subscriberId ) \n tests \ net \ java \ com \ android \ server \ net \ NetworkStatsServiceTest . java \n - return new NetworkState ( TYPE _ WIFI , prop , capabilities , WIFI _ NETWORK , null , TEST _ SSID ) ; \n + return new NetworkState ( TYPE _ WIFI , prop , capabilities , WIFI _ NETWORK , null ) ; \n - return new NetworkState ( \n - TYPE _ MOBILE , prop , capabilities , MOBILE _ NETWORK , subscriberId , null ) ; \n + return new NetworkState ( TYPE _ MOBILE , prop , capabilities , MOBILE _ NETWORK , subscriberId ) ; \n - return new NetworkState ( TYPE _ VPN , prop , new NetworkCapabilities ( ) , VPN _ NETWORK , null , null ) ; \n + return new NetworkState ( TYPE _ VPN , prop , new NetworkCapabilities ( ) , VPN _ NETWORK , null ) ; \n
okhttp \ src \ main \ java \ okhttp3 \ Authenticator . java \n + * < p > Implementations should check if the initial request already included an attempt to \n + * authenticate . If so it is likely that further attempts will not be useful and the authenticator \n + * should give up . \n + * \n + * if ( response . request ( ) . header ( " Authorization " ) ! = null ) { \n + * return null ; / / Give up , we ' ve already failed to authenticate . \n + * } \n + * \n + * if ( response . request ( ) . header ( " Proxy - Authorization " ) ! = null ) { \n + * return null ; / / Give up , we ' ve already failed to authenticate . \n + * } \n + * \n samples \ guide \ src \ main \ java \ okhttp3 \ recipes \ Authenticate . java \n + if ( response . request ( ) . header ( " Authorization " ) ! = null ) { \n + return null ; / / Give up , we ' ve already attempted to authenticate . \n + } \n + \n
okhttp \ src \ main \ java \ okhttp3 \ Response . java \n - / * * Closes the response body . Equivalent to { @ code body ( ) . close ( ) } . * / \n + / * * \n + * Closes the response body . Equivalent to { @ code body ( ) . close ( ) } . \n + * \n + * < p > It is an error to close a response that is not eligible for a body . This includes the \n + * responses returned from { @ link # cacheResponse } , { @ link # networkResponse } , and { @ link \n + * # priorResponse ( ) } . \n + * / \n + if ( body = = null ) { \n + throw new IllegalStateException ( " response is not eligible for a body and must not be closed " ) ; \n + } \n okhttp \ src \ main \ java \ okhttp3 \ WebSocket . java \n + / * * \n + * Creates a new web socket and immediately returns it . Creating a web socket initiates an \n + * asynchronous process to connect the socket . Once that succeeds or fails , { @ code listener } \n + * will be notified . The caller must either close or cancel the returned web socket when it is \n + * no longer in use . \n + * / \n
okhttp - tests \ src \ test \ java \ okhttp3 \ CertificatePinnerTest . java \n + \n + / * * https : / / github . com / square / okhttp / issues / 3324 * / \n + @ Test public void checkSubstringMatch ( ) throws Exception { \n + CertificatePinner certificatePinner = new CertificatePinner . Builder ( ) \n + . add ( " * . example . com " , certA1Sha256Pin ) \n + . build ( ) ; \n + \n + assertEquals ( Collections . emptyList ( ) , \n + certificatePinner . findMatchingPins ( " a . example . com . notexample . com " ) ) ; \n + assertEquals ( Collections . emptyList ( ) , \n + certificatePinner . findMatchingPins ( " example . com . notexample . com " ) ) ; \n + assertEquals ( Collections . emptyList ( ) , \n + certificatePinner . findMatchingPins ( " notexample . com " ) ) ; \n + assertEquals ( Collections . emptyList ( ) , \n + certificatePinner . findMatchingPins ( " example . com " ) ) ; \n + assertEquals ( Collections . emptyList ( ) , \n + certificatePinner . findMatchingPins ( " a . b . example . com " ) ) ; \n + assertEquals ( Collections . emptyList ( ) , \n + certificatePinner . findMatchingPins ( " ple . com " ) ) ; \n + assertEquals ( Collections . emptyList ( ) , \n + certificatePinner . findMatchingPins ( " com " ) ) ; \n + \n + Pin expectedPin = new Pin ( " * . example . com " , certA1Sha256Pin ) ; \n + assertEquals ( Collections . singletonList ( expectedPin ) , \n + certificatePinner . findMatchingPins ( " a . example . com " ) ) ; \n + assertEquals ( Collections . singletonList ( expectedPin ) , \n + certificatePinner . findMatchingPins ( " example . example . com " ) ) ; \n + } \n okhttp \ src \ main \ java \ okhttp3 \ CertificatePinner . java \n - return hostname . regionMatches ( false , firstDot + 1 , canonicalHostname , 0 , \n + return ( hostname . length ( ) - firstDot - 1 ) = = canonicalHostname . length ( ) \n + & & hostname . regionMatches ( false , firstDot + 1 , canonicalHostname , 0 , \n
android \ guava - tests \ test \ com \ google \ common \ collect \ FluentIterableTest . java \n - @ SuppressWarnings ( { " deprecation " , " DoNotCall " } ) / / test of deprecated method \n + @ SuppressWarnings ( " deprecation " ) / / test of deprecated method \n android \ guava \ src \ com \ google \ common \ collect \ FluentIterable . java \n - import com . google . errorprone . annotations . DoNotCall ; \n - @ DoNotCall ( " instances of FluentIterable don ' t need to be converted to a FluentIterable " ) \n guava - tests \ test \ com \ google \ common \ collect \ FluentIterableTest . java \n - @ SuppressWarnings ( { " deprecation " , " DoNotCall " } ) / / test of deprecated method \n + @ SuppressWarnings ( " deprecation " ) / / test of deprecated method \n guava \ src \ com \ google \ common \ collect \ FluentIterable . java \n - import com . google . errorprone . annotations . DoNotCall ; \n - @ DoNotCall ( " instances of FluentIterable don ' t need to be converted to a FluentIterable " ) \n
android \ guava \ src \ com \ google \ common \ collect \ Range . java \n + * < li > All ranges are shallow - immutable . \n guava \ src \ com \ google \ common \ collect \ Range . java \n + * < li > All ranges are shallow - immutable . \n
android \ guava \ src \ com \ google \ common \ collect \ ForwardingMap . java \n - public V remove ( Object object ) { \n - return delegate ( ) . remove ( object ) ; \n + public V remove ( Object key ) { \n + return delegate ( ) . remove ( key ) ; \n guava \ src \ com \ google \ common \ collect \ ForwardingMap . java \n - public V remove ( Object object ) { \n - return delegate ( ) . remove ( object ) ; \n + public V remove ( Object key ) { \n + return delegate ( ) . remove ( key ) ; \n
src \ main \ java \ org \ junit \ runner \ JUnitCore . java \n - private RunNotifier fNotifier ; \n + RunNotifier fNotifier ; \n src \ main \ java \ org \ junit \ runner \ Request . java \n + import org . junit . runner . notification . RunNotifier ; \n + import org . junit . tests . experimental . max . CouldNotReadCoreException ; \n + import org . junit . tests . experimental . max . MaxCore ; \n + private static boolean firstTime = true ; \n - return new ClassRequest ( clazz ) ; \n + if ( firstTime ) { \n + firstTime = false ; \n + final ClassRequest delegate = new ClassRequest ( clazz ) ; \n + return new Request ( ) { \n + @ Override \n + public Runner getRunner ( ) { \n + return new Runner ( ) { \n + \n + @ Override \n + public void run ( RunNotifier notifier ) { \n + JUnitCore core = new JUnitCore ( ) ; \n + core . fNotifier = notifier ; \n + try { \n + MaxCore . forFolder ( " defaultMaxCore " ) . run ( delegate , core ) ; \n + } catch ( CouldNotReadCoreException e ) { \n + e . printStackTrace ( ) ; \n + } \n + } \n + \n + @ Override \n + public Description getDescription ( ) { \n + return delegate . getRunner ( ) . getDescription ( ) ; \n + } \n + } ; \n + } \n + } ; \n + } \n + else \n + return new ClassRequest ( clazz ) ; \n src \ test \ java \ org \ junit \ tests \ manipulation \ FilterableTest . java \n + throw new Error ( ) ; \n
src \ main \ java \ org \ junit \ internal \ runners \ JUnit38ClassRunner . java \n + private static class FilteredTestSuite extends TestSuite implements Describable { \n + private final TestSuite fSuite ; \n + private final Filter fFilter ; \n + \n + public FilteredTestSuite ( TestSuite suite , Filter filter ) { \n + fSuite = suite ; \n + fFilter = filter ; \n + } \n + \n + public Description getDescription ( ) { \n + String name = fSuite . getName ( ) = = null ? " " : fSuite . getName ( ) ; \n + Description description = Description . createSuiteDescription ( name ) ; \n + int n = fSuite . testCount ( ) ; \n + for ( int i = 0 ; i < n ; i + + ) { \n + Description childDescription = makeDescription ( fSuite . testAt ( i ) ) ; \n + if ( fFilter . shouldRun ( childDescription ) ) { \n + description . addChild ( childDescription ) ; \n + } \n + } \n + return description ; \n + } \n + \n + @ Override \n + public void runTest ( Test test , TestResult result ) { \n + if ( fFilter . shouldRun ( makeDescription ( test ) ) ) \n + super . runTest ( test , result ) ; \n + } \n + } \n + \n - private Description makeDescription ( Test test ) { \n + private static Description makeDescription ( Test test ) { \n + } else if ( fTest instanceof TestSuite ) { \n + TestSuite suite = ( TestSuite ) fTest ; \n + TestSuite filtered = new FilteredTestSuite ( suite , filter ) ; \n + fTest = filtered ; \n
. cvsignore \n + * . ser \n src \ main \ java \ org \ junit \ runner \ Description . java \n + / / This seems like reasonable API once we " Composite - ize " Description \n - Matcher matcher = Pattern . compile ( " ( . * ) \ \ ( ( . * ) \ \ ) " ) . matcher ( toString ( ) ) ; \n - if ( matcher . matches ( ) ) \n - try { \n - return Class . forName ( matcher . group ( 2 ) ) ; \n - } catch ( ClassNotFoundException e ) { \n + String name = getClassName ( ) ; \n + if ( name = = null ) \n + return null ; \n + try { \n + return Class . forName ( name ) ; \n + } catch ( ClassNotFoundException e ) { \n - e . printStackTrace ( ) ; \n - } \n - return null ; \n + e . printStackTrace ( ) ; \n + return null ; \n + } \n - public String parseMethod ( ) { \n + public String getClassName ( ) { \n + Matcher matcher = Pattern . compile ( " ( . * ) \ \ ( ( . * ) \ \ ) " ) . matcher ( toString ( ) ) ; \n + return matcher . matches ( ) \n + ? matcher . group ( 2 ) \n + : null ; \n + } \n + \n + private String parseMethod ( ) { \n + \n + public String getMethodName ( ) { \n + return parseMethod ( ) ; \n + } \n src \ main \ java \ org \ junit \ runners \ model \ FrameworkMethod . java \n - package org . junit . runners . model ; \n + package org . junit . runners . model ; \n src \ test \ java \ org \ junit \ tests \ experimental \ max \ MaxStarterTest . java \n - assertNull ( Description . TEST _ MECHANISM . parseMethod ( ) ) ; \n + assertNull ( Description . TEST _ MECHANISM . getMethodName ( ) ) ; \n
dubbo - dependencies - bom \ pom . xml \n - < revision > 2 . 7 . 9 - SNAPSHOT < / revision > \n + < revision > 2 . 7 . 8 . 1 < / revision > \n dubbo - dependencies \ dubbo - dependencies - zookeeper \ pom . xml \n - < revision > 2 . 7 . 9 - SNAPSHOT < / revision > \n + < revision > 2 . 7 . 8 . 1 < / revision > \n pom . xml \n - < revision > 2 . 7 . 9 - SNAPSHOT < / revision > \n + < revision > 2 . 7 . 8 . 1 < / revision > \n
dubbo - remoting \ dubbo - remoting - api \ src \ main \ java \ org \ apache \ dubbo \ remoting \ transport \ CodecSupport . java \n - Byte id = SERIALIZATIONNAME _ ID _ MAP . get ( name ) ; \n - if ( id = = null ) { \n - throw new RuntimeException ( " No extension find for serialization name " + name ) ; \n - } \n - return id ; \n + return SERIALIZATIONNAME _ ID _ MAP . get ( name ) ; \n dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ protocol \ AbstractInvoker . java \n - invocation . put ( SERIALIZATION _ ID _ KEY , CodecSupport . getIDByName ( getUrl ( ) . getParameter ( SERIALIZATION _ KEY , DEFAULT _ REMOTING _ SERIALIZATION ) ) ) ; \n + Byte serializationId = CodecSupport . getIDByName ( getUrl ( ) . getParameter ( SERIALIZATION _ KEY , DEFAULT _ REMOTING _ SERIALIZATION ) ) ; \n + if ( serializationId ! = null ) { \n + invocation . put ( SERIALIZATION _ ID _ KEY , serializationId ) ; \n + } \n
dubbo - dependencies - bom \ pom . xml \n - < revision > 2 . 7 . 8 . 1 < / revision > \n + < revision > 2 . 7 . 9 < / revision > \n dubbo - dependencies \ dubbo - dependencies - zookeeper \ pom . xml \n - < revision > 2 . 7 . 8 . 1 < / revision > \n + < revision > 2 . 7 . 9 < / revision > \n pom . xml \n - < revision > 2 . 7 . 8 . 1 < / revision > \n + < revision > 2 . 7 . 9 < / revision > \n
guava \ src \ com \ google \ common \ primitives \ ImmutableIntArray . java \n + import java . util . function . IntConsumer ; \n - import java . util . function . IntConsumer ; \n + import java . util . Spliterators ; \n + private Spliterator . OfInt spliterator ( ) { \n + return Spliterators . spliterator ( array , start , end , Spliterator . IMMUTABLE | Spliterator . ORDERED ) ; \n + } \n + \n - / / inherit : isEmpty , containsAll , toArray x2 , { , list , spl } iterator , stream , forEach , mutations \n + / / inherit : isEmpty , containsAll , toArray x2 , iterator , listIterator , stream , forEach , mutations \n + / / The default List spliterator is not efficiently splittable \n + @ Override \n + public Spliterator < Integer > spliterator ( ) { \n + return parent . spliterator ( ) ; \n + } \n + \n
android \ guava \ src \ com \ google \ common \ collect \ ImmutableCollection . java \n - * powerful advantage . Although Java 9 offers certain immutable collection factory methods , like < a \n + * powerful advantage . Although Java offers certain immutable collection factory methods , such as \n + * { @ link Collections # singleton ( Object ) } and < a \n - * we recommend continuing to use these immutable collection classes for this reason . \n + * we recommend using < i > these < / i > classes instead for this reason ( as well as for consistency ) . \n guava \ src \ com \ google \ common \ collect \ ImmutableCollection . java \n - * powerful advantage . Although Java 9 offers certain immutable collection factory methods , like < a \n + * powerful advantage . Although Java offers certain immutable collection factory methods , such as \n + * { @ link Collections # singleton ( Object ) } and < a \n - * we recommend continuing to use these immutable collection classes for this reason . \n + * we recommend using < i > these < / i > classes instead for this reason ( as well as for consistency ) . \n
android \ guava \ src \ com \ google \ common \ hash \ BloomFilter . java \n - / / You down with FPP ? ( Yeah you know me ! ) Who ' s down with FPP ? ( Every last homie ! ) \n guava \ src \ com \ google \ common \ hash \ BloomFilter . java \n - / / You down with FPP ? ( Yeah you know me ! ) Who ' s down with FPP ? ( Every last homie ! ) \n
dubbo - registry \ dubbo - registry - api \ src \ main \ java \ org \ apache \ dubbo \ registry \ support \ AbstractRegistry . java \n + import java . util . Collections ; \n - return registered ; \n + return Collections . unmodifiableSet ( registered ) ; \n - return subscribed ; \n + return Collections . unmodifiableMap ( subscribed ) ; \n - return notified ; \n + return Collections . unmodifiableMap ( notified ) ; \n dubbo - registry \ dubbo - registry - api \ src \ test \ java \ org \ apache \ dubbo \ registry \ support \ AbstractRegistryTest . java \n - abstractRegistry . getRegistered ( ) . clear ( ) ; \n + for ( URL url : abstractRegistry . getRegistered ( ) ) { \n + abstractRegistry . unregister ( url ) ; \n + } \n - abstractRegistry . getRegistered ( ) . add ( url ) ; \n + abstractRegistry . register ( url ) ; \n - abstractRegistry . getRegistered ( ) . clear ( ) ; \n + for ( URL u : abstractRegistry . getRegistered ( ) ) { \n + abstractRegistry . unregister ( u ) ; \n + } \n - abstractRegistry . getRegistered ( ) . add ( urlSub ) ; \n + abstractRegistry . register ( urlSub ) ; \n dubbo - registry \ dubbo - registry - multicast \ src \ test \ java \ org \ apache \ dubbo \ registry \ multicast \ MulticastRegistryTest . java \n - registered . clear ( ) ; \n + for ( URL url : registered ) { \n + registry . unregister ( url ) ; \n + } \n
dubbo - registry \ dubbo - registry - api \ src \ main \ java \ org \ apache \ dubbo \ registry \ support \ AbstractRegistry . java \n + import java . util . concurrent . atomic . AtomicInteger ; \n + / / Max times to retry to save properties to local cache file \n + private static final int MAX _ RETRY _ TIMES _ SAVE _ PROPERTIES = 3 ; \n + private final AtomicInteger savePropertiesRetryTimes = new AtomicInteger ( ) ; \n + savePropertiesRetryTimes . incrementAndGet ( ) ; \n + if ( savePropertiesRetryTimes . get ( ) > = MAX _ RETRY _ TIMES _ SAVE _ PROPERTIES ) { \n + logger . warn ( " Failed to save registry cache file after retrying " + MAX _ RETRY _ TIMES _ SAVE _ PROPERTIES + " times , cause : " + e . getMessage ( ) , e ) ; \n + savePropertiesRetryTimes . set ( 0 ) ; \n + return ; \n + } \n + savePropertiesRetryTimes . set ( 0 ) ; \n - logger . warn ( " Failed to save registry cache file , cause : " + e . getMessage ( ) , e ) ; \n + logger . warn ( " Failed to save registry cache file , will retry , cause : " + e . getMessage ( ) , e ) ; \n
CHANGES . md \n - Simplified registry URL . With lower Registry memory use and less notification pressure from Service Directory , separates Configuration notification from Service Discovery . \n - - Metadata Center . A totally new concept since 2 . 7 . 0 , used to store service metadata including static configuration , service definition , method signature , etc . . By default , Zookeeper and Redis are supported as the backend storage . Will work as the basis of service testing , mock and other service governance features going to be supported in OPS . \n + - Metadata Center . A totally new concept since 2 . 7 . 0 , used to store service metadata including static configuration , service definition , method signature , etc . . By default , Zookeeper and Redis are supported as the backend storage . Will work as the basis of service testing , mock and other service governance features going to be supported in [ Dubbo - Admin ] ( https : / / github . com / apache / incubator - dubbo - admin ) . \n - Asynchronous Programming Model ( only works for Dubbo protocol now ) \n - Built - in support for the method with CompletableFuture < T > signature . \n README . md \n - * Improve the [ dubbo - ops / dubbo - monitor ] ( https : / / github . com / apache / incubator - dubbo - ops ) . \n + * Improve the [ dubbo - admin / dubbo - monitor ] ( https : / / github . com / apache / incubator - dubbo - admin ) . \n - * [ Dubbo OPS ] ( https : / / github . com / apache / incubator - dubbo - ops ) - The reference implementation for Dubbo admin \n + * [ Dubbo Admin ] ( https : / / github . com / apache / incubator - dubbo - admin ) - The reference implementation for Dubbo admin \n
pom . xml \n + \n + \n + < dependency > \n + < groupId > org . springframework . security < / groupId > \n + < artifactId > spring - security - web < / artifactId > \n + < version > 4 . 2 . 3 . RELEASE < / version > \n + < scope > test < / scope > \n + < / dependency > \n + \n
new file \n src \ test \ java \ com \ alibaba \ json \ bvt \ issue _ 1300 \ Issue1368 . java \n + package com . alibaba . json . bvt . issue _ 1300 ; \n + \n + import com . alibaba . fastjson . JSON ; \n + import junit . framework . TestCase ; \n + import org . junit . Assert ; \n + import org . springframework . web . servlet . mvc . method . annotation . ExtendedServletRequestDataBinder ; \n + \n + / * * \n + * Created by kimmking on 03 / 08 / 2017 . \n + * / \n + public class Issue1368 extends TestCase { \n + public void test _ for _ issue ( ) throws Exception { \n + ExtendedServletRequestDataBinder binder = new ExtendedServletRequestDataBinder ( new Object ( ) ) ; \n + String json = JSON . toJSONString ( binder ) ; \n + System . out . println ( json ) ; \n + Assert . assertTrue ( json . indexOf ( " $ ref " ) > = 0 ) ; \n + } \n + } \n new file \n src \ test \ java \ com \ alibaba \ json \ bvt \ issue _ 1300 \ Issue1369 . java \n + package com . alibaba . json . bvt . issue _ 1300 ; \n + \n + import com . alibaba . fastjson . JSON ; \n + import junit . framework . TestCase ; \n + import org . junit . Assert ; \n + \n + / * * \n + * Created by kimmking on 03 / 08 / 2017 . \n + * / \n + public class Issue1369 extends TestCase { \n + public void test _ for _ issue ( ) throws Exception { \n + Foo foo = new Foo ( ) ; \n + foo . a = 1 ; \n + foo . b = " b " ; \n + foo . bars = new Bar ( ) ; \n + foo . bars . c = 3 ; \n + String json = JSON . toJSONString ( foo ) ; \n + System . out . println ( json ) ; \n + Assert . assertTrue ( json . indexOf ( " \ \ " ) < 0 ) ; \n + } \n + \n + public static class Foo { \n + public int a ; \n + public String b ; \n + public Bar bars ; \n + } \n + public static class Bar { \n + public int c ; \n + } \n + } \n
new file \n src \ test \ java \ com \ alibaba \ json \ bvt \ issue _ 1300 \ Issue1368 . java \n + package com . alibaba . json . bvt . issue _ 1300 ; \n + \n + import com . alibaba . fastjson . JSON ; \n + import junit . framework . TestCase ; \n + import org . junit . Assert ; \n + import org . springframework . web . servlet . mvc . method . annotation . ExtendedServletRequestDataBinder ; \n + \n + / * * \n + * Created by kimmking on 03 / 08 / 2017 . \n + * / \n + public class Issue1368 extends TestCase { \n + public void test _ for _ issue ( ) throws Exception { \n + ExtendedServletRequestDataBinder binder = new ExtendedServletRequestDataBinder ( new Object ( ) ) ; \n + String json = JSON . toJSONString ( binder ) ; \n + System . out . println ( json ) ; \n + Assert . assertTrue ( json . indexOf ( " $ ref " ) > = 0 ) ; \n + } \n + } \n new file \n src \ test \ java \ com \ alibaba \ json \ bvt \ issue _ 1300 \ Issue1369 . java \n + package com . alibaba . json . bvt . issue _ 1300 ; \n + \n + import com . alibaba . fastjson . JSON ; \n + import junit . framework . TestCase ; \n + import org . junit . Assert ; \n + \n + / * * \n + * Created by kimmking on 03 / 08 / 2017 . \n + * / \n + public class Issue1369 extends TestCase { \n + public void test _ for _ issue ( ) throws Exception { \n + Foo foo = new Foo ( ) ; \n + foo . a = 1 ; \n + foo . b = " b " ; \n + foo . bars = new Bar ( ) ; \n + foo . bars . c = 3 ; \n + String json = JSON . toJSONString ( foo ) ; \n + System . out . println ( json ) ; \n + Assert . assertTrue ( json . indexOf ( " \ \ " ) < 0 ) ; \n + } \n + \n + public static class Foo { \n + public int a ; \n + public String b ; \n + public Bar bars ; \n + } \n + public static class Bar { \n + public int c ; \n + } \n + } \n
README . md \n - Observe scroll events on scrollable views . \n + Android library to observe scroll events on scrollable views . \n + It ' s easy to interact with the Toolbar introduced in Android 5 . 0 Lollipop and may be helpful to implement look and feel of Material Design apps . \n + # # How to use \n + \n + # # # Add widgets to your layout \n + \n + Use one of the ` ObservableListView ` , ` ObservableScrollView ` , ` ObservableWebView ` in your XML layout file . \n + \n + # # # Control scroll events with callbacks \n + \n + Widgets above provides callbacks with ` ObservableScrollViewCallbacks ` interface . \n + You can listen scroll events of the widgets by using ` setScrollViewCallbacks ( ) ` . \n + \n + ` ` ` java \n + ObservableListView listView = ( ObservableListView ) findViewById ( R . id . list ) ; \n + listView . setScrollViewCallbacks ( this ) ; \n + ` ` ` \n + \n + Then implement your interaction codes to the callbacks . \n + Example : \n + \n + ` ` ` java \n + @ Override \n + public void onUpOrCancelMotionEvent ( ScrollState scrollState ) { \n + ActionBar ab = getSupportActionBar ( ) ; \n + if ( scrollState = = ScrollState . UP ) { \n + if ( ab . isShowing ( ) ) { \n + ab . hide ( ) ; \n + } \n + } else if ( scrollState = = ScrollState . DOWN ) { \n + if ( ! ab . isShowing ( ) ) { \n + ab . show ( ) ; \n + } \n + } \n + } \n + ` ` ` \n + \n + See sample project ' s ` Activity ` codes for more details . \n + \n
README . md \n - compile ' com . github . ksoichiro : android - observablescrollview : 1 . 0 . 0 ' \n + compile ' com . github . ksoichiro : android - observablescrollview : 1 . 1 . 0 ' \n gradle . properties \n - VERSION _ NAME = 1 . 1 . 0 - SNAPSHOT \n + VERSION _ NAME = 1 . 1 . 0 \n
new file \n observablescrollview - samples \ src \ main \ res \ drawable \ gradient _ header _ background . xml \n + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > \n + < shape xmlns : android = " http : / / schemas . android . com / apk / res / android " > \n + \n + < gradient \n + android : angle = " 270 " \n + android : endColor = " # 00616161 " \n + android : startColor = " # CC616161 " / > \n + \n + < / shape > \n observablescrollview - samples \ src \ main \ res \ drawable \ shadow . xml \n - android : startColor = " # 999E9E9E " \n - / > \n - < / shape > \n + android : startColor = " # 999E9E9E " / > \n + \n + < / shape > \n observablescrollview - samples \ src \ main \ res \ layout \ activity _ parallaxtoolbarscrollview . xml \n + < include layout = " @ layout / gradient _ header " / > \n + \n new file \n observablescrollview - samples \ src \ main \ res \ layout \ gradient _ header . xml \n + < ! - - \n + Copyright 2014 Soichiro Kashima \n + \n + Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; \n + you may not use this file except in compliance with the License . \n + You may obtain a copy of the License at \n + \n + http : / / www . apache . org / licenses / LICENSE - 2 . 0 \n + \n + Unless required by applicable law or agreed to in writing , software \n + distributed under the License is distributed on an " AS IS " BASIS , \n + WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . \n + See the License for the specific language governing permissions and \n + limitations under the License . \n + - - > \n + < View xmlns : android = " http : / / schemas . android . com / apk / res / android " \n + android : layout _ width = " match _ parent " \n + android : layout _ height = " ? attr / actionBarSize " \n + android : background = " @ drawable / gradient _ header _ background " \n + android : minHeight = " ? attr / actionBarSize " / > \n
android \ guava \ src \ com \ google \ common \ collect \ ImmutableMap . java \n + import com . google . j2objc . annotations . RetainedWith ; \n - @ LazyInit private transient ImmutableSet < K > keySet ; \n + @ LazyInit @ RetainedWith private transient ImmutableSet < K > keySet ; \n android \ guava \ src \ com \ google \ common \ collect \ ImmutableMapKeySet . java \n - import com . google . j2objc . annotations . Weak ; \n - @ Weak private final ImmutableMap < K , V > map ; \n + private final ImmutableMap < K , V > map ; \n guava \ src \ com \ google \ common \ collect \ ImmutableMap . java \n + import com . google . j2objc . annotations . RetainedWith ; \n - @ LazyInit private transient ImmutableSet < K > keySet ; \n + @ LazyInit @ RetainedWith private transient ImmutableSet < K > keySet ; \n guava \ src \ com \ google \ common \ collect \ ImmutableMapKeySet . java \n - import com . google . j2objc . annotations . Weak ; \n - @ Weak private final ImmutableMap < K , V > map ; \n + private final ImmutableMap < K , V > map ; \n guava \ src \ com \ google \ common \ collect \ RegularImmutableMap . java \n - @ Weak private final RegularImmutableMap < K , V > map ; \n + private final RegularImmutableMap < K , V > map ; \n
android \ guava \ src \ com \ google \ common \ collect \ ImmutableMap . java \n - @ LazyInit private transient ImmutableCollection < V > values ; \n + @ LazyInit @ RetainedWith private transient ImmutableCollection < V > values ; \n android \ guava \ src \ com \ google \ common \ collect \ ImmutableMapValues . java \n - import com . google . j2objc . annotations . Weak ; \n - @ Weak private final ImmutableMap < K , V > map ; \n + private final ImmutableMap < K , V > map ; \n guava \ src \ com \ google \ common \ collect \ ImmutableMap . java \n - @ LazyInit private transient ImmutableCollection < V > values ; \n + @ LazyInit @ RetainedWith private transient ImmutableCollection < V > values ; \n guava \ src \ com \ google \ common \ collect \ ImmutableMapValues . java \n - import com . google . j2objc . annotations . Weak ; \n - @ Weak private final ImmutableMap < K , V > map ; \n + private final ImmutableMap < K , V > map ; \n guava \ src \ com \ google \ common \ collect \ RegularImmutableMap . java \n - import com . google . j2objc . annotations . Weak ; \n - @ Weak final RegularImmutableMap < K , V > map ; \n + final RegularImmutableMap < K , V > map ; \n
android \ guava \ src \ com \ google \ common \ collect \ ImmutableMap . java \n - @ WeakOuter \n - @ LazyInit private transient ImmutableSet < Entry < K , V > > entrySet ; \n + @ LazyInit @ RetainedWith private transient ImmutableSet < Entry < K , V > > entrySet ; \n android \ guava \ src \ com \ google \ common \ collect \ ImmutableMapEntrySet . java \n - import com . google . j2objc . annotations . Weak ; \n - @ Weak private final transient ImmutableMap < K , V > map ; \n + private final transient ImmutableMap < K , V > map ; \n android \ guava \ src \ com \ google \ common \ collect \ ImmutableSortedMap . java \n - import com . google . j2objc . annotations . WeakOuter ; \n - @ WeakOuter \n guava \ src \ com \ google \ common \ collect \ ImmutableMap . java \n - @ WeakOuter \n - @ LazyInit private transient ImmutableSet < Entry < K , V > > entrySet ; \n + @ LazyInit @ RetainedWith private transient ImmutableSet < Entry < K , V > > entrySet ; \n guava \ src \ com \ google \ common \ collect \ ImmutableMapEntrySet . java \n - import com . google . j2objc . annotations . Weak ; \n - @ Weak private final transient ImmutableMap < K , V > map ; \n + private final transient ImmutableMap < K , V > map ; \n guava \ src \ com \ google \ common \ collect \ ImmutableSortedMap . java \n - import com . google . j2objc . annotations . WeakOuter ; \n - @ WeakOuter \n guava \ src \ com \ google \ common \ collect \ RegularImmutableBiMap . java \n - import com . google . j2objc . annotations . WeakOuter ; \n - @ WeakOuter \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ worker \ WorkerExecRoot . java \n + import static com . google . devtools . build . lib . vfs . Dirent . Type . DIRECTORY ; \n + import static com . google . devtools . build . lib . vfs . Dirent . Type . SYMLINK ; \n + \n - import com . google . devtools . build . lib . vfs . FileStatus ; \n + import com . google . devtools . build . lib . vfs . Dirent ; \n - for ( Path path : root . getDirectoryEntries ( ) ) { \n - FileStatus stat = path . stat ( Symlinks . NOFOLLOW ) ; \n + for ( Dirent dirent : root . readdir ( Symlinks . NOFOLLOW ) ) { \n + Path absPath = root . getChild ( dirent . getName ( ) ) ; \n - if ( path . startsWith ( workDir ) ) { \n + if ( absPath . startsWith ( workDir ) ) { \n - pathRelativeToWorkDir = path . relativeTo ( workDir ) ; \n + pathRelativeToWorkDir = absPath . relativeTo ( workDir ) ; \n - LabelConstants . EXPERIMENTAL _ EXTERNAL _ PATH _ PREFIX . getRelative ( path . relativeTo ( execroot ) ) ; \n + LabelConstants . EXPERIMENTAL _ EXTERNAL _ PATH _ PREFIX . getRelative ( \n + absPath . relativeTo ( execroot ) ) ; \n - if ( stat . isSymbolicLink ( ) & & path . readSymbolicLink ( ) . equals ( destination . get ( ) ) ) { \n + if ( SYMLINK . equals ( dirent . getType ( ) ) \n + & & absPath . readSymbolicLink ( ) . equals ( destination . get ( ) ) ) { \n - path . delete ( ) ; \n + absPath . delete ( ) ; \n - } else if ( stat . isDirectory ( ) ) { \n + } else if ( DIRECTORY . equals ( dirent . getType ( ) ) ) { \n - cleanExisting ( path , inputs , inputsToCreate , dirsToCreate ) ; \n + cleanExisting ( absPath , inputs , inputsToCreate , dirsToCreate ) ; \n - path . deleteTree ( ) ; \n + absPath . deleteTree ( ) ; \n - path . delete ( ) ; \n + absPath . delete ( ) ; \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ util \ SimpleLogHandlerTest . java \n - t . run ( ) ; \n + t . start ( ) ; \n + / / For b / 176321271 \n + assertThat ( Thread . currentThread ( ) . isInterrupted ( ) ) . isFalse ( ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ sandbox \ LinuxSandboxedSpawnRunner . java \n - * This method does the following things : - If mount source does not exist on the host system , \n - * throw an error message - If mount target exists , check whether the source and target are of the \n - * same type - If mount target does not exist on the host system , throw an error message \n + * This method does the following things : \n + * \n + * < ul > \n + * < li > If mount source does not exist on the host system , throw an error message \n + * < li > If mount target exists , check whether the source and target are of the same type \n + * < li > If mount target does not exist on the host system , throw an error message \n + * < / ul > \n - * @ throws UserExecException \n + * @ throws UserExecException if any of the mount points are not valid \n - for ( SortedMap . Entry < Path , Path > bindMount : bindMounts . entrySet ( ) ) { \n + for ( Map . Entry < Path , Path > bindMount : bindMounts . entrySet ( ) ) { \n - " Mount target ' % s ' is not of the same type as mount source ' % s ' . " , \n - target , source ) , \n + " Mount target ' % s ' is a % s but mount source ' % s ' is a % s , they must be the " \n + + " same type . " , \n + target , \n + ( isTargetFile ? " file " : " directory " ) , \n + source , \n + ( isSourceFile ? " file " : " directory " ) ) , \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ remote \ merkletree \ DirectoryTreeBuilder . java \n - explodeDirectory ( path , execRoot ) ; \n + explodeDirectory ( input . getExecPath ( ) , execRoot ) ; \n src \ test \ shell \ bazel \ disk _ cache _ test . sh \n + function test _ input _ directories _ in _ external _ repo _ with _ sibling _ repository _ layout ( ) { \n + create _ new _ workspace \n + l = $ TEST _ TMPDIR / l \n + mkdir - p " $ l / dir " \n + touch " $ l / WORKSPACE " \n + touch " $ l / dir / f " \n + cat > " $ l / BUILD " < < ' EOF ' \n + exports _ files ( [ " dir " ] ) \n + EOF \n + \n + cat > > WORKSPACE < < EOF \n + local _ repository ( name = " l " , path = " $ l " ) \n + EOF \n + \n + cat > BUILD < < ' EOF ' \n + genrule ( name = " g " , srcs = [ " @ l / / : dir " ] , outs = [ " go " ] , cmd = " find $ < > $ @ " ) \n + EOF \n + \n + bazel build \ \n + - - experimental _ sibling _ repository _ layout \ \n + - - disk _ cache = " $ TEST _ TMPDIR / cache " \ \n + / / : g | | fail " build failed " \n + \n + } \n + \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ analysis \ AspectCompleteEvent . java \n + import com . google . devtools . build . lib . cmdline . Label ; \n + import com . google . devtools . build . lib . packages . AspectDescriptor ; \n - private final AspectValue aspectValue ; \n + private final Label label ; \n + private final AspectDescriptor descriptor ; \n - AspectValue aspectValue , \n + Label label , \n + AspectDescriptor descriptor , \n - this . aspectValue = aspectValue ; \n + this . label = label ; \n + this . descriptor = descriptor ; \n - return new AspectCompleteEvent ( value , null , completionContext , artifacts , configurationEventId ) ; \n + return new AspectCompleteEvent ( \n + value . getKey ( ) . getLabel ( ) , \n + value . getAspect ( ) . getDescriptor ( ) , \n + null , \n + completionContext , \n + artifacts , \n + configurationEventId ) ; \n - return new AspectCompleteEvent ( value , rootCauses , ctx , outputs , configurationEventId ) ; \n - } \n - \n - / * * \n - * Returns the target associated with the event . \n - * / \n - public AspectValue getAspectValue ( ) { \n - return aspectValue ; \n + return new AspectCompleteEvent ( \n + value . getKey ( ) . getLabel ( ) , \n + value . getAspect ( ) . getDescriptor ( ) , \n + rootCauses , \n + ctx , \n + outputs , \n + configurationEventId ) ; \n - aspectValue . getKey ( ) . getLabel ( ) , \n - configurationEventId , \n - aspectValue . getAspect ( ) . getDescriptor ( ) . getDescription ( ) ) ; \n + label , configurationEventId , descriptor . getDescription ( ) ) ; \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ analysis \ AspectTest . java \n - . contains ( \n - " ConflictException : for foo / aspect . out , previous action : action ' Action for aspect 1 ' , " \n - + " attempted action : action ' Action for aspect 2 ' " ) ; \n + . containsMatch ( \n + " ConflictException : for foo / aspect . out , previous action : action ' Action for aspect . ' , " \n + + " attempted action : action ' Action for aspect . ' " ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ SkyframeBuildView . java \n - import com . google . devtools . build . lib . analysis . BlazeDirectories ; \n - BlazeDirectories directories , \n + ArtifactFactory artifactFactory , \n - this . artifactFactory = \n - new ArtifactFactory ( \n - / * execRootParent = * / directories . getExecRootBase ( ) , \n - directories . getRelativeOutputPath ( ) ) ; \n + this . artifactFactory = artifactFactory ; \n src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ SkyframeExecutor . java \n + this . artifactFactory = \n + new ArtifactFactory ( \n + / * execRootParent = * / directories . getExecRootBase ( ) , \n + directories . getRelativeOutputPath ( ) ) ; \n - new SkyframeBuildView ( directories , this , ruleClassProvider , actionKeyContext ) ; \n - this . artifactFactory = skyframeBuildView . getArtifactFactory ( ) ; \n + new SkyframeBuildView ( artifactFactory , this , ruleClassProvider , actionKeyContext ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ query2 \ aquery \ ConfiguredTargetValueAccessor . java \n + import com . google . devtools . build . lib . server . FailureDetails . ActionQuery ; \n - throw new UnsupportedOperationException ( ) ; \n + throw new QueryException ( \n + " labels ( ) is not supported for aquery " , ActionQuery . Code . LABELS _ FUNCTION _ NOT _ SUPPORTED ) ; \n src \ main \ protobuf \ failure _ details . proto \n + LABELS _ FUNCTION _ NOT _ SUPPORTED = 13 [ ( metadata ) = { exit _ code : 2 } ] ; \n
site \ docs \ aquery . html \n - < h4 > < code class = ' flag ' > - - include _ aspects , default = false < / code > < / h4 > \n + < h4 > < code class = ' flag ' > - - include _ aspects , default = true < / code > < / h4 > \n src \ main \ java \ com \ google \ devtools \ build \ lib \ query2 \ common \ CommonQueryOptions . java \n - defaultValue = " false " , \n + defaultValue = " true " , \n
library \ build . gradle \n - minSdkVersion = 9 \n + minSdkVersion = 8 \n - } \n + } \n
ptr - lib \ src \ in \ srain \ cube \ views \ ptr \ PtrFrameLayout . java \n - private MotionEvent mDownEvent ; \n - mDownEvent = e ; \n - MotionEvent last = mDownEvent ; \n - last = mLastMoveEvent ; \n + / / The ScrollChecker will update position and lead to send cancel event when mLastMoveEvent is null . \n + / / fix # 104 , # 80 , # 92 \n + if ( mLastMoveEvent = = null ) { \n + return ; \n + } \n + MotionEvent last = mLastMoveEvent ; \n
README - cn . md \n - # # # # # # [ 关注我的GitHub吧，江湖救急，需要你的支持和帮助 ] ( http : / / www . liaohuqiu . net / cn / posts / follow - me - on - github / ) \n + # # # # # # 欢迎关注我 \n - Github : https : / / github . com / liaohuqiu \n + GitHub : https : / / github . com / liaohuqiu \n + 知乎 : http : / / www . zhihu . com / people / liao - hu - qiu \n + \n - - - \n README . md \n - # # # # # # [ Please follow me on GitHub , I need your support ] ( http : / / www . liaohuqiu . net / posts / follow - me - on - github / ) \n + # # # # # # Welcome to follow me on GitHub or Twitter \n - Github : https : / / github . com / liaohuqiu \n + GitHub : https : / / github . com / liaohuqiu \n - twitter : https : / / twitter . com / liaohuqiu \n + Twitter : https : / / twitter . com / liaohuqiu \n - - - \n template \ README - cn . md \n - # # # # # # [ 关注我的GitHub吧，江湖救急，需要你的支持和帮助 ] ( http : / / www . liaohuqiu . net / cn / posts / follow - me - on - github / ) \n + # # # # # # 欢迎关注我 \n - Github : https : / / github . com / liaohuqiu \n + GitHub : https : / / github . com / liaohuqiu \n + 知乎 : http : / / www . zhihu . com / people / liao - hu - qiu \n + \n - - - \n template \ README . md \n - # # # # # # [ Please follow me on GitHub , I need your support ] ( http : / / www . liaohuqiu . net / posts / follow - me - on - github / ) \n + # # # # # # Welcome to follow me on GitHub or Twitter \n - Github : https : / / github . com / liaohuqiu \n + GitHub : https : / / github . com / liaohuqiu \n - twitter : https : / / twitter . com / liaohuqiu \n + Twitter : https : / / twitter . com / liaohuqiu \n - - - \n
pom . xml \n - < version > 20130403 < / version > \n + < version > 20130505 < / version > \n src \ main \ java \ com \ google \ mockwebserver \ MockWebServer . java \n - / / Stream data in MTU - sized increments \n - final byte [ ] buffer = new byte [ 1452 ] ; \n + / / Stream data in MTU - sized increments , with a minimum of one packet per second . \n + final byte [ ] buffer = bytesPerSecond > = 1452 \n + ? new byte [ 1452 ] \n + : new byte [ bytesPerSecond ] ; \n
pom . xml \n - < version > 20130505 < / version > \n + < version > 20130705 < / version > \n src \ main \ java \ com \ google \ mockwebserver \ MockWebServer . java \n - private int numBytesReceived = 0 ; \n + private long numBytesReceived = 0 ; \n src \ main \ java \ com \ google \ mockwebserver \ RecordedRequest . java \n - private final int bodySize ; \n + private final long bodySize ; \n - int bodySize , byte [ ] body , int sequenceNumber , Socket socket ) { \n + long bodySize , byte [ ] body , int sequenceNumber , Socket socket ) { \n - public int getBodySize ( ) { \n + public long getBodySize ( ) { \n
pom . xml \n - < version > 20130705 < / version > \n + < version > 20130706 < / version > \n src \ main \ java \ com \ google \ mockwebserver \ MockWebServer . java \n - int contentLength = - 1 ; \n + long contentLength = - 1 ; \n - contentLength = Integer . parseInt ( header . substring ( 15 ) . trim ( ) ) ; \n + contentLength = Long . parseLong ( header . substring ( 15 ) . trim ( ) ) ; \n - private void transfer ( int length , InputStream in , OutputStream out ) throws IOException { \n + private void transfer ( long length , InputStream in , OutputStream out ) throws IOException { \n - int count = in . read ( buffer , 0 , Math . min ( buffer . length , length ) ) ; \n + int count = in . read ( buffer , 0 , ( int ) Math . min ( buffer . length , length ) ) ; \n
guava - tests \ test \ com \ google \ common \ cache \ LocalCacheMapComputeTest . java \n + public void testComputeIfAbsentEviction ( ) { \n + / / b / 80241237 \n + \n + Cache < String , String > c = CacheBuilder . newBuilder ( ) . maximumSize ( 1 ) . build ( ) ; \n + \n + assertThat ( c . asMap ( ) . computeIfAbsent ( " hash - 1 " , k - > " " ) ) . isEqualTo ( " " ) ; \n + assertThat ( c . asMap ( ) . computeIfAbsent ( " hash - 1 " , k - > " " ) ) . isEqualTo ( " " ) ; \n + assertThat ( c . asMap ( ) . computeIfAbsent ( " hash - 1 " , k - > " " ) ) . isEqualTo ( " " ) ; \n + assertThat ( c . size ( ) ) . isEqualTo ( 1 ) ; \n + assertThat ( c . asMap ( ) . computeIfAbsent ( " hash - 2 " , k - > " " ) ) . isEqualTo ( " " ) ; \n + } \n + \n + public void testComputeEviction ( ) { \n + / / b / 80241237 \n + \n + Cache < String , String > c = CacheBuilder . newBuilder ( ) . maximumSize ( 1 ) . build ( ) ; \n + \n + assertThat ( c . asMap ( ) . compute ( " hash - 1 " , ( k , v ) - > " a " ) ) . isEqualTo ( " a " ) ; \n + assertThat ( c . asMap ( ) . compute ( " hash - 1 " , ( k , v ) - > " b " ) ) . isEqualTo ( " b " ) ; \n + assertThat ( c . asMap ( ) . compute ( " hash - 1 " , ( k , v ) - > " c " ) ) . isEqualTo ( " c " ) ; \n + assertThat ( c . size ( ) ) . isEqualTo ( 1 ) ; \n + assertThat ( c . asMap ( ) . computeIfAbsent ( " hash - 2 " , k - > " " ) ) . isEqualTo ( " " ) ; \n + } \n + \n guava \ src \ com \ google \ common \ cache \ LocalCache . java \n - setValue ( e , key , newValue , now ) ; \n + e . setValueReference ( valueReference ) ; \n + recordWrite ( e , 0 , now ) ; / / no change in weight \n
android \ guava \ src \ com \ google \ common \ collect \ AbstractTable . java \n + import com . google . errorprone . annotations . concurrent . LazyInit ; \n - @ MonotonicNonNullDecl private transient Set < Cell < R , C , V > > cellSet ; \n + @ LazyInit @ MonotonicNonNullDecl private transient Set < Cell < R , C , V > > cellSet ; \n - @ MonotonicNonNullDecl private transient Collection < V > values ; \n + @ LazyInit @ MonotonicNonNullDecl private transient Collection < V > values ; \n guava \ src \ com \ google \ common \ collect \ AbstractTable . java \n + import com . google . errorprone . annotations . concurrent . LazyInit ; \n - private transient @ MonotonicNonNull Set < Cell < R , C , V > > cellSet ; \n + @ LazyInit private transient @ MonotonicNonNull Set < Cell < R , C , V > > cellSet ; \n - private transient @ MonotonicNonNull Collection < V > values ; \n + @ LazyInit private transient @ MonotonicNonNull Collection < V > values ; \n
android \ guava \ src \ com \ google \ common \ hash \ Crc32cHashFunction . java \n - private int crc = 0 ; \n + private int crc = ~ 0 ; \n - crc ^ = 0xFFFFFFFF ; \n - crc = ~ ( ( crc > > > 8 ) ^ CRC _ TABLE [ ( crc ^ b ) & 0xFF ] ) ; \n + crc = ( crc > > > 8 ) ^ CRC _ TABLE [ ( crc ^ b ) & 0xFF ] ; \n - return HashCode . fromInt ( crc ) ; \n + return HashCode . fromInt ( ~ crc ) ; \n guava \ src \ com \ google \ common \ hash \ Crc32cHashFunction . java \n - private int crc = 0 ; \n + private int crc = ~ 0 ; \n - crc ^ = 0xFFFFFFFF ; \n - crc = ~ ( ( crc > > > 8 ) ^ CRC _ TABLE [ ( crc ^ b ) & 0xFF ] ) ; \n + crc = ( crc > > > 8 ) ^ CRC _ TABLE [ ( crc ^ b ) & 0xFF ] ; \n - return HashCode . fromInt ( crc ) ; \n + return HashCode . fromInt ( ~ crc ) ; \n
services \ core \ java \ com \ android \ server \ connectivity \ Vpn . java \n + import com . android . net . module . util . NetdUtils ; \n - mNms . setInterfaceUp ( mTunnelIface . getInterfaceName ( ) ) ; \n + NetdUtils . setInterfaceUp ( mNetd , mTunnelIface . getInterfaceName ( ) ) ; \n tests \ net \ java \ com \ android \ server \ connectivity \ VpnTest . java \n + import static android . net . INetd . IF _ STATE _ DOWN ; \n + import static android . net . INetd . IF _ STATE _ UP ; \n + import android . net . InterfaceConfigurationParcel ; \n - private NetworkCallback triggerOnAvailableAndGetCallback ( ) { \n + private NetworkCallback triggerOnAvailableAndGetCallback ( ) throws Exception { \n + / / onAvailable ( ) will trigger onDefaultNetworkChanged ( ) , so NetdUtils # setInterfaceUp will be \n + / / invoked . Set the return value of INetd # interfaceGetCfg to prevent NullPointerException . \n + final InterfaceConfigurationParcel config = new InterfaceConfigurationParcel ( ) ; \n + config . flags = new String [ ] { IF _ STATE _ DOWN } ; \n + when ( mNetd . interfaceGetCfg ( anyString ( ) ) ) . thenReturn ( config ) ; \n + private void verifyInterfaceSetCfgWithFlags ( String flag ) throws Exception { \n + / / Add a timeout for waiting for interfaceSetCfg to be called . \n + verify ( mNetd , timeout ( TEST _ TIMEOUT _ MS ) ) . interfaceSetCfg ( argThat ( \n + config - > Arrays . asList ( config . flags ) . contains ( flag ) ) ) ; \n + } \n + \n + verifyInterfaceSetCfgWithFlags ( IF _ STATE _ UP ) ; \n + \n + verifyInterfaceSetCfgWithFlags ( IF _ STATE _ UP ) ; \n + \n
services \ core \ java \ com \ android \ server \ IpSecService . java \n + import com . android . net . module . util . NetdUtils ; \n - mNetworkManager . setInterfaceUp ( intfName ) ; \n + NetdUtils . setInterfaceUp ( netd , intfName ) ; \n tests \ net \ java \ com \ android \ server \ IpSecServiceParameterizedTest . java \n + import static android . content . pm . PackageManager . PERMISSION _ GRANTED ; \n + import static android . net . INetd . IF _ STATE _ DOWN ; \n + import static android . net . INetd . IF _ STATE _ UP ; \n + import static org . mockito . ArgumentMatchers . argThat ; \n + import android . net . InterfaceConfigurationParcel ; \n + \n + @ Override \n + public int checkCallingOrSelfPermission ( String permission ) { \n + if ( android . Manifest . permission . NETWORK _ STACK . equals ( permission ) ) { \n + return PERMISSION _ GRANTED ; \n + } \n + throw new UnsupportedOperationException ( ) ; \n + } \n - String localAddr , String remoteAddr , String pkgName ) { \n + String localAddr , String remoteAddr , String pkgName ) throws Exception { \n + final InterfaceConfigurationParcel config = new InterfaceConfigurationParcel ( ) ; \n + config . flags = new String [ ] { IF _ STATE _ DOWN } ; \n + when ( mMockNetd . interfaceGetCfg ( anyString ( ) ) ) . thenReturn ( config ) ; \n - verify ( mNetworkManager ) . setInterfaceUp ( createTunnelResp . interfaceName ) ; \n + verify ( mMockNetd ) . interfaceSetCfg ( argThat ( \n + config - > Arrays . asList ( config . flags ) . contains ( IF _ STATE _ UP ) ) ) ; \n
core \ api \ module - lib - current . txt \n + field public static final String TEST _ TAP _ PREFIX = " testtap " ; \n packages \ Connectivity \ framework \ src \ android \ net \ TestNetworkManager . java \n - * @ hide \n
android \ guava \ src \ com \ google \ common \ primitives \ ImmutableDoubleArray . java \n + import com . google . errorprone . annotations . Immutable ; \n + @ Immutable \n + / / The array is never mutated after storing in this field and the construction strategies ensure \n + / / it doesn ' t escape this class \n + @ SuppressWarnings ( " Immutable " ) \n android \ guava \ src \ com \ google \ common \ primitives \ ImmutableIntArray . java \n + import com . google . errorprone . annotations . Immutable ; \n + @ Immutable \n + / / The array is never mutated after storing in this field and the construction strategies ensure \n + / / it doesn ' t escape this class \n + @ SuppressWarnings ( " Immutable " ) \n android \ guava \ src \ com \ google \ common \ primitives \ ImmutableLongArray . java \n + import com . google . errorprone . annotations . Immutable ; \n + @ Immutable \n + / / The array is never mutated after storing in this field and the construction strategies ensure \n + / / it doesn ' t escape this class \n + @ SuppressWarnings ( " Immutable " ) \n guava \ src \ com \ google \ common \ primitives \ ImmutableDoubleArray . java \n + import com . google . errorprone . annotations . Immutable ; \n + @ Immutable \n + / / The array is never mutated after storing in this field and the construction strategies ensure \n + / / it doesn ' t escape this class \n + @ SuppressWarnings ( " Immutable " ) \n guava \ src \ com \ google \ common \ primitives \ ImmutableIntArray . java \n + import com . google . errorprone . annotations . Immutable ; \n + @ Immutable \n + / / The array is never mutated after storing in this field and the construction strategies ensure \n + / / it doesn ' t escape this class \n + @ SuppressWarnings ( " Immutable " ) \n guava \ src \ com \ google \ common \ primitives \ ImmutableLongArray . java \n + import com . google . errorprone . annotations . Immutable ; \n + @ Immutable \n + / / The array is never mutated after storing in this field and the construction strategies ensure \n + / / it doesn ' t escape this class \n + @ SuppressWarnings ( " Immutable " ) \n
android \ guava \ src \ com \ google \ common \ util \ concurrent \ AbstractFuture . java \n - / / structure for them . \n + / / structure for them . Also , some implementations rely on this running prior to listeners \n + / / so that the cleanup work is visible to listeners . \n guava \ src \ com \ google \ common \ util \ concurrent \ AbstractFuture . java \n + import java . util . Locale ; \n - import java . util . Locale ; \n - / / structure for them . \n + / / structure for them . Also , some implementations rely on this running prior to listeners \n + / / so that the cleanup work is visible to listeners . \n
android \ guava - tests \ test \ com \ google \ common \ net \ HttpHeadersTest . java \n + " SOURCE _ MAP " , \n + " SourceMap " , \n android \ guava \ src \ com \ google \ common \ net \ HttpHeaders . java \n + \n + / * * \n + * The HTTP < a href = " http : / / goo . gl / Dxx19N " > { @ code SourceMap } < / a > header field name . \n + * \n + * @ since NEXT \n + * / \n + @ Beta public static final String SOURCE _ MAP = " SourceMap " ; \n + \n guava - tests \ test \ com \ google \ common \ net \ HttpHeadersTest . java \n + " SOURCE _ MAP " , \n + " SourceMap " , \n guava \ src \ com \ google \ common \ net \ HttpHeaders . java \n + \n + / * * \n + * The HTTP < a href = " http : / / goo . gl / Dxx19N " > { @ code SourceMap } < / a > header field name . \n + * \n + * @ since NEXT \n + * / \n + @ Beta public static final String SOURCE _ MAP = " SourceMap " ; \n + \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ bazel \ repository \ starlark \ StarlarkRepositoryContext . java \n - " Program argument of which ( ) may not contains a / or a \ \ ( ' % s ' given ) " , program ) ; \n + " Program argument of which ( ) may not contain a / or a \ \ ( ' % s ' given ) " , program ) ; \n + } \n + if ( program . length ( ) = = 0 ) { \n + throw Starlark . errorf ( " Program argument of which ( ) may not be empty " ) ; \n
src \ main \ java \ com \ google \ devtools \ common \ options \ OptionsParserImpl . java \n + private void maybeAddOldNameWarning ( ParsedOptionDescription parsedOption ) { \n + / / Don ' t add a warning for old name options set by the invocation policy . \n + if ( parsedOption . getPriority ( ) . getPriorityCategory ( ) . equals ( INVOCATION _ POLICY ) ) { \n + return ; \n + } \n + String commandLineForm = parsedOption . getCommandLineForm ( ) ; \n + String oldOptionName = parsedOption . getOptionDefinition ( ) . getOldOptionName ( ) ; \n + String optionName = parsedOption . getOptionDefinition ( ) . getOptionName ( ) ; \n + if ( commandLineForm . startsWith ( String . format ( " - - % s = " , oldOptionName ) ) ) { \n + addDeprecationWarning ( oldOptionName , String . format ( " Use - - % s instead " , optionName ) ) ; \n + } \n + } \n + \n + / / Check if the old option name is used and add a warning \n + maybeAddOldNameWarning ( parsedOption ) ; \n src \ test \ java \ com \ google \ devtools \ common \ options \ OptionsParserTest . java \n + / / Using old option name should cause a warning \n + assertThat ( parser . getWarnings ( ) ) \n + . contains ( " Option ' old _ name ' is deprecated : Use - - new _ name instead " ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ bazel \ rules \ java \ java _ stub _ template . txt \n - # Convert spaces to % 20 \n + # Loop through the characters of the path and convert characters that are \n + # not alphanumeric nor - _ . ~ / to their 2 - digit hexadecimal representation \n + local i c buff \n + local converted _ path = " " \n + \n + for ( ( i = 0 ; i < $ { # path } ; i + + ) ) ; do \n + c = $ { path : $ i : 1 } \n + case $ { c } in \n + [ - _ . ~ / a - zA - Z0 - 9 ] ) buff = $ { c } ; ; \n + * ) printf - v buff ' % % % 02x ' " ' $ c ' " \n + esac \n + converted _ path + = " $ { buff } " \n + done \n + path = $ { converted _ path } \n - path = $ ( sed " s / / % 20 / g " < < < " $ { path } " ) \n src \ test \ shell \ bazel \ java _ launcher _ test . sh \n + java _ library ( \n + name = " hellolib % special % lib " , \n + srcs = [ " HelloLib . java " ] , \n + ) \n + java _ binary ( \n + name = " hello _ special " , \n + srcs = [ " Hello . java " ] , \n + deps = [ " : hellolib % special % lib " ] , \n + main _ class = " hello . Hello " , \n + ) \n + \n + bazel build / / $ pkg / java / hello : hello _ special | | fail " expected success " \n + $ { PRODUCT _ NAME } - bin / $ pkg / java / hello / hello _ special > & " $ TEST _ log " | | \ \n + fail " expected success " \n + expect _ log " Hello World ! " \n + \n + $ { PRODUCT _ NAME } - bin / $ pkg / java / hello / hello _ special - - classpath _ limit = 0 > & " $ TEST _ log " | | \ \n + fail " expected success " \n + expect _ log " Hello World ! " \n
library \ src \ main \ java \ com \ loopj \ android \ http \ AsyncHttpRequest . java \n - retry = ( executionCount > 0 ) & & retryHandler . retryRequest ( cause , + + executionCount , context ) ; \n + retry = ( executionCount > 0 ) & & retryHandler . retryRequest ( e , + + executionCount , context ) ; \n
library \ src \ main \ java \ com \ loopj \ android \ http \ RequestParams . java \n + protected boolean forceMultipartEntity = false ; \n + / * * \n + * If set to true will force Content - Type header to ` multipart / form - data ` \n + * even if there are not Files or Streams to be send \n + * \n + * Default value is false \n + * \n + * @ param force boolean , should declare content - type multipart / form - data even without files or streams present \n + * / \n + public void setForceMultipartEntityContentType ( boolean force ) { \n + this . forceMultipartEntity = force ; \n + } \n + \n - } else if ( streamParams . isEmpty ( ) & & fileParams . isEmpty ( ) ) { \n + } else if ( ! forceMultipartEntity & & streamParams . isEmpty ( ) & & fileParams . isEmpty ( ) ) { \n - progressHandler , \n - ! fileParams . isEmpty ( ) | | ! streamParams . isEmpty ( ) , \n - elapsedFieldInJsonStreamer ) ; \n + progressHandler , \n + ! fileParams . isEmpty ( ) | | ! streamParams . isEmpty ( ) , \n + elapsedFieldInJsonStreamer ) ; \n
README . md \n - attacher . update ( ) ; \n + mAttacher . update ( ) ; \n
AndroidAnnotations \ functional - test - 1 - 5 \ src \ test \ java \ com \ xtremelabs \ robolectric \ shadows \ ShadowButton . java \n - public ShadowButton ( ) { \n - System . out . println ( ) ; \n - } \n - \n
AndroidAnnotations \ androidannotations \ src \ main \ java \ com \ googlecode \ androidannotations \ helper \ IdValidatorHelper . java \n + import javax . lang . model . element . Modifier ; \n + if ( typeElement . getModifiers ( ) . contains ( Modifier . ABSTRACT ) ) { \n + return ; \n + } \n + \n AndroidAnnotations \ functional - test - 1 - 5 \ AndroidManifest . xml \n - < activity android : name = " . AbstractActivity _ " / > \n
README . md \n - # # [ Get Started ] ( / wiki / GettingStarted ) , then [ read the cookbook ] ( / wiki / Cookbook ) \n + # # [ Get Started ] ( https : / / github . com / excilys / androidannotations / wiki / GettingStarted ) , then [ read the cookbook ] ( https : / / github . com / excilys / androidannotations / wiki / Cookbook ) \n
src \ main \ protobuf \ failure _ details . proto \n - / / TODO ( b / 167277482 ) : Delete when internal references are cleaned up . \n - UNCLOSED _ QUOTATION _ EXPRESSION _ ERROR = 16 [ ( metadata ) = { exit _ code : 2 } ] ; \n + reserved 16 ; \n - / / TODO ( b / 167277482 ) : Delete 31 - 34 when internal references are cleaned up . \n - UNEXPECTED _ TOKEN _ ERROR = 31 [ ( metadata ) = { exit _ code : 2 } ] ; \n - INTEGER _ LITERAL _ MISSING = 32 [ ( metadata ) = { exit _ code : 2 } ] ; \n - INVALID _ STARTING _ CHARACTER _ ERROR = 33 [ ( metadata ) = { exit _ code : 2 } ] ; \n - PREMATURE _ END _ OF _ INPUT _ ERROR = 34 [ ( metadata ) = { exit _ code : 2 } ] ; \n + reserved 31 to 34 ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ packages \ AttributeContainer . java \n + import com . google . common . collect . Lists ; \n + import java . util . List ; \n + / * * \n + * Returns attribute values as tracked by this instance . The indices of attribute values in the \n + * returned list are not guaranteed to be consistent with the other methods of this class . If this \n + * is important , which is generally the case , avoid this method . \n + * / \n + abstract List < Object > getRawAttributeValues ( ) ; \n + \n + \n + @ Override \n + List < Object > getRawAttributeValues ( ) { \n + / / Mutable copy since ImmutableList doesn ' t support null . \n + return Lists . newArrayList ( values ) ; \n + } \n + \n + @ Override \n + List < Object > getRawAttributeValues ( ) { \n + / / Mutable copy since ImmutableList doesn ' t support null . \n + return Lists . newArrayList ( values ) ; \n + } \n + \n + @ Override \n + List < Object > getRawAttributeValues ( ) { \n + / / Mutable copy since ImmutableList doesn ' t support null . \n + return Lists . newArrayList ( values ) ; \n + } \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ packages \ AttributeContainerTest . java \n + \n + @ Test \n + public void testMutableGetRawAttributeValuesReturnsNullSafeCopy ( ) { \n + AttributeContainer container = new Mutable ( 1 ) ; \n + assertThat ( container . getRawAttributeValues ( ) ) . containsExactly ( ( Object ) null ) ; \n + \n + container . getRawAttributeValues ( ) . set ( 0 , " foo " ) ; \n + assertThat ( container . getRawAttributeValues ( ) ) . containsExactly ( ( Object ) null ) ; \n + } \n + \n + @ Test \n + public void testGetRawAttributeValuesReturnsCopy ( ) { \n + AttributeContainer mutable = new Mutable ( 2 ) ; \n + mutable . setAttributeValue ( 0 , " hi " , / * explicit = * / true ) ; \n + mutable . setAttributeValue ( 1 , null , / * explicit = * / false ) ; \n + \n + AttributeContainer container = mutable . freeze ( ) ; \n + / / Nulls don ' t make it into the frozen representation . \n + assertThat ( container . getRawAttributeValues ( ) ) . containsExactly ( " hi " ) ; \n + \n + container . getRawAttributeValues ( ) . set ( 0 , " foo " ) ; \n + assertThat ( container . getRawAttributeValues ( ) ) . containsExactly ( " hi " ) ; \n + } \n
okhttp \ src \ test \ java \ okhttp3 \ CacheTest . java \n - Long originalTimestamp = response2 . receivedResponseAtMillis ( ) ; \n - assertThat ( ( double ) ( originalTimestamp - t1 ) ) . isCloseTo ( \n + Long updatedTimestamp = response2 . receivedResponseAtMillis ( ) ; \n + assertThat ( ( double ) ( updatedTimestamp - t1 ) ) . isCloseTo ( \n - Thread . sleep ( 500 ) ; / / Make sure t1 and t2 are distinct . \n - long t2 = System . currentTimeMillis ( ) ; \n + Thread . sleep ( 10 ) ; \n - assertThat ( response3 . receivedResponseAtMillis ( ) ) . isEqualTo ( originalTimestamp ) ; \n + assertThat ( response3 . receivedResponseAtMillis ( ) ) . isEqualTo ( updatedTimestamp ) ; \n
okhttp - urlconnection \ src \ main \ kotlin \ okhttp3 \ JavaNetAuthenticator . kt \n - * [ OkHttpClient . Builder . authenticator ] or [ OkHttpClient . Builder . proxyAuthenticator ] . \n + * [ okhttp3 . OkHttpClient . Builder . authenticator ] or [ okhttp3 . OkHttpClient . Builder . proxyAuthenticator ] . \n okhttp \ src \ main \ kotlin \ okhttp3 \ internal \ authenticator \ JavaNetAuthenticator . kt \n - * [ OkHttpClient . Builder . authenticator ] or [ OkHttpClient . Builder . proxyAuthenticator ] . \n + * [ okhttp3 . OkHttpClient . Builder . authenticator ] or [ okhttp3 . OkHttpClient . Builder . proxyAuthenticator ] . \n
okhttp \ src \ test \ java \ okhttp3 \ internal \ cache \ DiskLruCacheTest . kt \n - val timeout = Timeout ( 60 * 1000 ) \n + val timeout = Timeout . seconds ( 60 ) \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ remote \ RemoteOutputService . java \n - boolean trackFailedRemoteReads ) { \n + boolean rewindingEnabled ) { \n src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ SkyframeActionExecutor . java \n - boolean trackFailedRemoteReads ) { \n + boolean rewindingEnabled ) { \n - trackFailedRemoteReads ) ; \n + rewindingEnabled ) ; \n src \ main \ java \ com \ google \ devtools \ build \ lib \ vfs \ OutputService . java \n - * @ param trackFailedRemoteReads whether to track failed remote reads to make LostInput exceptions \n + * @ param rewindingEnabled whether to track failed remote reads to enable action rewinding \n - boolean trackFailedRemoteReads ) { \n + boolean rewindingEnabled ) { \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ bugreport \ BugReport . java \n - if ( runtime ! = null ) { \n - runtime . cleanUpForCrash ( crash . getDetailedExitCode ( ) ) ; \n - } \n - CustomExitCodePublisher . maybeWriteExitStatusFile ( numericExitCode ) ; \n + if ( CustomExitCodePublisher . maybeWriteExitStatusFile ( numericExitCode ) ) { \n + logger . atInfo ( ) . log ( " Wrote exit status file . " ) ; \n + } else { \n + logger . atWarning ( ) . log ( " Did not write exit status file ; check stderr for errors . " ) ; \n + } \n + } \n + \n + if ( CustomFailureDetailPublisher . maybeWriteFailureDetailFile ( \n + crash . getDetailedExitCode ( ) . getFailureDetail ( ) ) ) { \n + logger . atInfo ( ) . log ( " Wrote failure detail file . " ) ; \n + } else { \n + logger . atWarning ( ) . log ( " Did not write failure detail file ; check stderr for errors . " ) ; \n + } \n + \n + if ( runtime ! = null ) { \n + runtime . cleanUpForCrash ( crash . getDetailedExitCode ( ) ) ; \n + logger . atInfo ( ) . log ( " Cleaned up runtime . " ) ; \n + } else { \n + logger . atInfo ( ) . log ( " No runtime to clean . " ) ; \n - CustomFailureDetailPublisher . maybeWriteFailureDetailFile ( \n - crash . getDetailedExitCode ( ) . getFailureDetail ( ) ) ; \n src \ main \ java \ com \ google \ devtools \ build \ lib \ util \ CustomExitCodePublisher . java \n - public static void maybeWriteExitStatusFile ( int exitCode ) { \n + public static boolean maybeWriteExitStatusFile ( int exitCode ) { \n + return true ; \n + return false ; \n src \ main \ java \ com \ google \ devtools \ build \ lib \ util \ CustomFailureDetailPublisher . java \n - public static void maybeWriteFailureDetailFile ( FailureDetail failureDetail ) { \n + public static boolean maybeWriteFailureDetailFile ( FailureDetail failureDetail ) { \n + return true ; \n + return false ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ remote \ RemoteOutputService . java \n - boolean trackFailedRemoteReads ) { \n + boolean rewindingEnabled ) { \n src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ SkyframeActionExecutor . java \n - boolean trackFailedRemoteReads ) { \n + boolean rewindingEnabled ) { \n - trackFailedRemoteReads ) ; \n + rewindingEnabled ) ; \n src \ main \ java \ com \ google \ devtools \ build \ lib \ vfs \ OutputService . java \n - * @ param trackFailedRemoteReads whether to track failed remote reads to make LostInput exceptions \n + * @ param rewindingEnabled whether to track failed remote reads to enable action rewinding \n - boolean trackFailedRemoteReads ) { \n + boolean rewindingEnabled ) { \n
src \ main \ java \ com \ google \ devtools \ build \ docgen \ templates \ be \ functions . vm \n - and returns a list of their paths . Glob only searches files in its own package , \n - and looks only for source files ( not generated files nor other targets ) . \n + and returns a new , mutable , sorted list of their paths . Glob only searches files \n + in its own package , and looks only for source files ( not generated files nor \n + other targets ) . \n src \ main \ java \ com \ google \ devtools \ build \ lib \ starlarkbuildapi \ StarlarkNativeModuleApi . java \n - " Glob returns a list of every file in the current package that : < ul > \ n " \n + " Glob returns a new , mutable , sorted list of every file in the current package " \n + + " that : < ul > \ n " \n + " < li > Matches at least one pattern in < code > include < / code > . < / li > \ n " \n + " < li > Does not match any of the patterns in < code > exclude < / code > " \n + " ( default < code > [ ] < / code > ) . < / li > < / ul > \ n " \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ PrepareDepsOfTargetsUnderDirectoryValue . java \n - import com . google . common . annotations . VisibleForTesting ; \n - @ VisibleForTesting \n - @ VisibleForTesting \n - static PrepareDepsOfTargetsUnderDirectoryKey create ( \n + public static PrepareDepsOfTargetsUnderDirectoryKey create ( \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ BzlCompileValue . java \n - static class Key implements SkyKey { \n + public static class Key implements SkyKey { \n + public Label getLabel ( ) { \n + return label ; \n + } \n + \n src \ main \ java \ com \ google \ devtools \ build \ skyframe \ DelegatingWalkableGraph . java \n + import com . google . common . collect . ImmutableSet ; \n + \n + @ Override \n + public ImmutableSet < SkyKey > getAllKeysForTesting ( ) { \n + return graph . getAllKeysForTesting ( ) ; \n + } \n src \ main \ java \ com \ google \ devtools \ build \ skyframe \ QueryableGraph . java \n + import com . google . common . collect . ImmutableSet ; \n + default ImmutableSet < SkyKey > getAllKeysForTesting ( ) { \n + throw new UnsupportedOperationException ( ) ; \n + } \n + \n src \ main \ java \ com \ google \ devtools \ build \ skyframe \ WalkableGraph . java \n + import com . google . common . collect . ImmutableSet ; \n + default ImmutableSet < SkyKey > getAllKeysForTesting ( ) { \n + throw new UnsupportedOperationException ( ) ; \n + } \n + \n
java \ libs \ src \ main \ java \ org \ physical _ web \ collection \ PhysicalWebCollection . java \n - if ( pwsResult ! = null ) { \n - String groupId = pwsResult . getGroupId ( ) ; \n - if ( groupId ! = null & & ! groupId . equals ( " " ) ) { \n - / / Create the group if it doesn ' t exist \n - UrlGroup urlGroup = pwGroupMap . get ( groupId ) ; \n - if ( urlGroup = = null ) { \n - urlGroup = new UrlGroup ( groupId ) ; \n - pwGroupMap . put ( groupId , urlGroup ) ; \n - } \n - \n - / / Add the pair to this group \n - urlGroup . addPair ( pwPair ) ; \n + String groupId = pwsResult . getGroupId ( ) ; \n + if ( groupId ! = null & & ! groupId . equals ( " " ) ) { \n + / / Create the group if it doesn ' t exist \n + UrlGroup urlGroup = pwGroupMap . get ( groupId ) ; \n + if ( urlGroup = = null ) { \n + urlGroup = new UrlGroup ( groupId ) ; \n + pwGroupMap . put ( groupId , urlGroup ) ; \n + \n + / / Add the pair to this group \n + urlGroup . addPair ( pwPair ) ; \n java \ libs \ src \ main \ java \ org \ physical _ web \ collection \ UrlGroup . java \n - return getTopPair ( ) = = otherUrlGroup . getTopPair ( ) ; \n + return getTopPair ( ) . equals ( otherUrlGroup . getTopPair ( ) ) & & \n + getGroupId ( ) . equals ( otherUrlGroup . getGroupId ( ) ) ; \n + * Ties are broken by alphabetical comparison of groupid strings . \n - return getTopPair ( ) . compareTo ( other . getTopPair ( ) ) ; \n + int compareValue = getTopPair ( ) . compareTo ( other . getTopPair ( ) ) ; \n + if ( compareValue ! = 0 ) { \n + return compareValue ; \n + } \n + \n + return getGroupId ( ) . compareTo ( other . getGroupId ( ) ) ; \n
java \ libs \ build . gradle \n - task checkstyle ( type : Checkstyle ) { \n - configProperties . checkstyleSuppressionsPath = new File ( rootDir , " config / checkstyle / suppressions . xml " ) . absolutePath \n - source ' src ' \n - include ' * * / * . java ' \n - exclude ' * * / gen / * * ' \n - classpath = files ( ) \n + findbugsMain { \n + reports { \n + xml . enabled = false \n + html . enabled = true \n + } \n - task findbugs ( type : FindBugs , dependsOn : assemble ) { \n - ignoreFailures = false \n - effort = " max " \n - reportLevel = " high " \n - classes = files ( " $ { project . rootDir } / build / classes " ) \n - excludeFilter = file ( " $ { project . rootDir } / config / findbugs / exclude - filter . xml " ) \n + findbugs { \n + reportsDir = file ( " $ project . buildDir / reports / findbugs " ) \n + excludeFilter = file ( " $ project . rootDir / config / findbugs / exclude - filter . xml " ) \n + } \n + task checkstyle ( type : Checkstyle ) { \n + configProperties . checkstyleSuppressionsPath = new File ( rootDir , " config / checkstyle / suppressions . xml " ) . absolutePath \n - \n - reports { \n - xml . enabled = false \n - html . enabled = true \n - xml { \n - destination " $ project . buildDir / reports / findbugs / findbugs . xml " \n - } \n - html { \n - destination " $ project . buildDir / reports / findbugs / findbugs . html " \n - } \n - } \n - \n - check . dependsOn ' checkstyle ' , ' findbugs ' , ' pmd ' \n + check . dependsOn ' checkstyle ' , ' pmd ' \n java \ libs \ config \ findbugs \ exclude - filter . xml \n - < Class name = " org . physical _ web . physicalweb . ble . ScanRecord " / > \n + < Class name = " org . physical _ web . collection . PhysicalWebCollection " / > \n + < Method name = " ~ json ( Des | S ) erializeUrlDevice " / > \n + < Bug pattern = " DM _ STRING _ CTOR " / > \n
java \ libs \ build . gradle \n + ignoreFailures = false \n + effort = " max " \n + reportLevel = " low " \n - task checkstyle ( type : Checkstyle ) { \n - configProperties . checkstyleSuppressionsPath = new File ( rootDir , " config / checkstyle / suppressions . xml " ) . absolutePath \n - source ' src ' \n - include ' * * / * . java ' \n - exclude ' * * / gen / * * ' \n - classpath = files ( ) \n + checkstyle { \n + configProperties . checkstyleSuppressionsPath = file ( " $ project . rootDir / config / checkstyle / suppressions . xml " ) \n - task pmd ( type : Pmd ) { \n - ignoreFailures = false \n - ruleSetFiles = files ( " $ { project . rootDir } / config / pmd / pmd - ruleset . xml " ) \n - ruleSets = [ ] \n - \n - source ' src ' \n - include ' * * / * . java ' \n - exclude ' * * / gen / * * ' \n - \n + pmdMain { \n - xml { \n - destination " $ project . buildDir / reports / pmd / pmd . xml " \n - } \n - html { \n - destination " $ project . buildDir / reports / pmd / pmd . html " \n - } \n - check . dependsOn ' checkstyle ' , ' pmd ' \n + pmd { \n + ignoreFailures = false \n + ruleSetFiles = files ( " $ { project . rootDir } / config / pmd / pmd - ruleset . xml " ) \n + ruleSets = [ ] \n + reportsDir = file ( " $ project . buildDir / reports / findbugs " ) \n + } \n java \ libs \ config \ findbugs \ exclude - filter . xml \n + < Match > \n + < Class name = " org . physical _ web . collection . PwPair " / > \n + < Method name = " equals " / > \n + < Bug pattern = " FE _ FLOATING _ POINT _ EQUALITY " / > \n + < / Match > \n java \ libs \ src \ main \ java \ org \ physical _ web \ collection \ PwPair . java \n - return new Double ( getRank ( ) ) . compareTo ( other . getRank ( ) ) ; \n + return Double . compare ( getRank ( ) , other . getRank ( ) ) ; \n
library \ src \ main \ java \ com \ nostra13 \ universalimageloader \ core \ download \ BaseImageDownloader . java \n - String extension = MimeTypeMap . getFileExtensionFromUrl ( uri ) ; \n + String extension = MimeTypeMap . getFileExtensionFromUrl ( Uri . encode ( uri ) ) ; \n
library \ src \ main \ java \ com \ nostra13 \ universalimageloader \ core \ ImageLoader . java \n - engine . pause ( ) ; \n + if ( isInited ( ) ) { \n + engine . pause ( ) ; \n + } else { \n + L . w ( " Trying to pause not - initialized ImageLoader " ) ; \n + } \n - engine . resume ( ) ; \n + if ( isInited ( ) ) { \n + engine . resume ( ) ; \n + } else { \n + L . w ( " Trying to resume not - initialized ImageLoader " ) ; \n + } \n - engine . stop ( ) ; \n + if ( isInited ( ) ) { \n + engine . stop ( ) ; \n + } else { \n + L . w ( " Trying to stop not - initialized ImageLoader " ) ; \n + } \n - if ( configuration ! = null ) L . d ( LOG _ DESTROY ) ; \n - stop ( ) ; \n - configuration . diskCache . close ( ) ; \n - engine = null ; \n - configuration = null ; \n + if ( isInited ( ) ) { \n + L . d ( LOG _ DESTROY ) ; \n + stop ( ) ; \n + configuration . diskCache . close ( ) ; \n + engine = null ; \n + configuration = null ; \n + } else { \n + L . w ( " Trying to destroy not - initialized ImageLoader " ) ; \n + } \n
library \ src \ main \ java \ com \ nostra13 \ universalimageloader \ core \ ImageLoaderEngine . java \n + import static com . nostra13 . universalimageloader . core . download . ImageDownloader . * ; \n + \n - boolean isImageCachedOnDisk = image ! = null & & image . exists ( ) ; \n + boolean isImageCachedOnDisk = image ! = null & & image . exists ( ) \n + | | isLocalUri ( task . getLoadingUri ( ) ) ; \n + private boolean isLocalUri ( String uri ) { \n + Scheme scheme = Scheme . ofUri ( uri ) ; \n + return scheme = = Scheme . ASSETS | | scheme = = Scheme . FILE | | scheme = = Scheme . DRAWABLE ; \n + } \n + \n
build . gradle \n - version = ' 1 . 9 . 13 - SNAPSHOT ' \n + version = ' 1 . 9 . 15 - SNAPSHOT ' \n - maven { url ' https : / / plugins . gradle . org / m2 / ' } \n + gradlePluginPortal ( ) \n - maven { url ' https : / / plugins . gradle . org / m2 / ' } \n + gradlePluginPortal ( ) \n extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ BuildScriptHelper . java \n - write ( wr , " maven { url \ " " + DependencyBank . gradlePlugins + " \ " } " ) ; \n + write ( wr , DependencyBank . gradlePlugins ) ; \n + write ( wr , DependencyBank . gradlePlugins ) ; \n extensions \ gdx - setup \ src \ com \ badlogic \ gdx \ setup \ DependencyBank . java \n - static String gradlePlugins = " https : / / plugins . gradle . org / m2 / " ; \n + static String gradlePlugins = " gradlePluginPortal ( ) " ; \n
extensions \ gdx - setup \ res \ com \ badlogic \ gdx \ setup \ resources \ core \ src \ MainClass \n - import com . badlogic . gdx . Gdx ; \n - import com . badlogic . gdx . graphics . GL20 ; \n + import com . badlogic . gdx . utils . ScreenUtils ; \n - Gdx . gl . glClearColor ( 1 , 0 , 0 , 1 ) ; \n - Gdx . gl . glClear ( GL20 . GL _ COLOR _ BUFFER _ BIT ) ; \n + ScreenUtils . clear ( 1 , 0 , 0 , 1 ) ; \n
extensions \ gdx - box2d \ gdx - box2d \ src \ com \ badlogic \ gdx \ physics \ box2d \ Filter . java \n + \n + public void set ( Filter filter ) { \n + categoryBits = filter . categoryBits ; \n + maskBits = filter . maskBits ; \n + groupIndex = filter . groupIndex ; \n + } \n extensions \ gdx - box2d \ gdx - box2d \ src \ com \ badlogic \ gdx \ physics \ box2d \ Fixture . java \n + / * * the fixture filter data * * / \n + private final Filter filter = new Filter ( ) ; \n + \n + / * * flag to indicate if filter data needs to be updated with a JNI call * * / \n + private boolean dirtyFilter = true ; \n + \n + this . dirtyFilter = true ; \n + this . filter . set ( filter ) ; \n + dirtyFilter = false ; \n - private final Filter filter = new Filter ( ) ; \n + / * * Get the contact filtering data . Modifying the returned { @ code Filter } without calling { @ link # setFilterData } can result in \n + * unpredictable behaviour . * / \n - jniGetFilterData ( addr , tmp ) ; \n - filter . maskBits = tmp [ 0 ] ; \n - filter . categoryBits = tmp [ 1 ] ; \n - filter . groupIndex = tmp [ 2 ] ; \n + if ( dirtyFilter ) { \n + jniGetFilterData ( addr , tmp ) ; \n + filter . maskBits = tmp [ 0 ] ; \n + filter . categoryBits = tmp [ 1 ] ; \n + filter . groupIndex = tmp [ 2 ] ; \n + dirtyFilter = false ; \n + } \n
core \ api \ module - lib - current . txt \n + public class NetworkWatchlistManager { \n + method @ Nullable public byte [ ] getWatchlistConfigHash ( ) ; \n + } \n + \n core \ java \ android \ net \ NetworkWatchlistManager . java \n + import android . annotation . Nullable ; \n + import android . annotation . SystemApi ; \n + @ SystemApi ( client = SystemApi . Client . MODULE _ LIBRARIES ) \n + @ Nullable \n
packages \ SettingsLib \ src \ com \ android \ settingslib \ Utils . java \n + import android . net . TetheringManager ; \n - public static int getTetheringLabel ( ConnectivityManager cm ) { \n - String [ ] usbRegexs = cm . getTetherableUsbRegexs ( ) ; \n - String [ ] wifiRegexs = cm . getTetherableWifiRegexs ( ) ; \n - String [ ] bluetoothRegexs = cm . getTetherableBluetoothRegexs ( ) ; \n + public static int getTetheringLabel ( TetheringManager tm ) { \n + String [ ] usbRegexs = tm . getTetherableUsbRegexs ( ) ; \n + String [ ] wifiRegexs = tm . getTetherableWifiRegexs ( ) ; \n + String [ ] bluetoothRegexs = tm . getTetherableBluetoothRegexs ( ) ; \n packages \ SettingsLib \ src \ com \ android \ settingslib \ net \ UidDetailProvider . java \n - import android . net . ConnectivityManager ; \n + import android . net . TetheringManager ; \n - final ConnectivityManager cm = ( ConnectivityManager ) mContext . getSystemService ( \n - Context . CONNECTIVITY _ SERVICE ) ; \n - detail . label = res . getString ( Utils . getTetheringLabel ( cm ) ) ; \n + final TetheringManager tm = mContext . getSystemService ( TetheringManager . class ) ; \n + detail . label = res . getString ( Utils . getTetheringLabel ( tm ) ) ; \n
core \ api \ module - lib - current . txt \n + public static class Build . VERSION { \n + field public static final int FIRST _ SDK _ INT ; \n + } \n + \n core \ java \ android \ os \ Build . java \n + @ SystemApi ( client = SystemApi . Client . MODULE _ LIBRARIES ) \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ analysis \ config \ CoreOptions . java \n - oldName = " experimental _ enable _ runfiles " , \n
src \ test \ shell \ bazel \ bazel _ bootstrap _ distfile _ test . sh \n + # For debugging : https : / / github . com / bazelbuild / bazel / issues / 12578 \n + cat . / BUILD \n + \n
site \ docs \ build - javascript . md \n - > Also the Buildifier tool is not available on Windows . Follow https : / / github . com / bazelbuild / buildtools / issues / 375 \n - \n
guava \ src \ com \ google \ common \ collect \ ImmutableSortedMap . java \n - checkNotNull ( comparator ) ; \n - checkNotNull ( keyFunction ) ; \n - checkNotNull ( valueFunction ) ; \n - checkNotNull ( mergeFunction ) ; \n - return Collectors . collectingAndThen ( \n - Collectors . toMap ( \n - keyFunction , valueFunction , mergeFunction , ( ) - > new TreeMap < K , V > ( comparator ) ) , \n - ImmutableSortedMap : : copyOfSorted ) ; \n + return CollectCollectors . toImmutableSortedMap ( \n + comparator , keyFunction , valueFunction , mergeFunction ) ; \n
guava \ src \ com \ google \ common \ collect \ ImmutableList . java \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableListMultimap . java \n + * \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableMap . java \n + * \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableMultiset . java \n + * \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableRangeMap . java \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableRangeSet . java \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableSet . java \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableSetMultimap . java \n + * \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableSortedMap . java \n + * \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableSortedSet . java \n + * \n guava \ src \ com \ google \ common \ collect \ ImmutableTable . java \n + * \n + * \n guava \ src \ com \ google \ common \ collect \ Maps . java \n + * \n + * \n guava \ src \ com \ google \ common \ collect \ Multimaps . java \n + * \n + * \n guava \ src \ com \ google \ common \ collect \ Multisets . java \n + * \n guava \ src \ com \ google \ common \ collect \ Sets . java \n + * \n guava \ src \ com \ google \ common \ collect \ Tables . java \n + * \n + * \n
android \ guava - tests \ test \ com \ google \ common \ collect \ ImmutableTableTest . java \n + / / TODO ( b / 172823566 ) : Use mainline testToImmutableMap once CollectorTester is usable to java7 . \n + public void testToImmutableTable _ java7 _ combine ( ) { \n + ImmutableTable . Builder < String , String , Integer > zis = \n + ImmutableTable . < String , String , Integer > builder ( ) . put ( " one " , " uno " , 1 ) . put ( " two " , " dos " , 2 ) ; \n + ImmutableTable . Builder < String , String , Integer > zat = \n + ImmutableTable . < String , String , Integer > builder ( ) \n + . put ( " one " , " eins " , 1 ) \n + . put ( " two " , " twei " , 2 ) ; \n + ImmutableTable < String , String , Integer > table = zis . combine ( zat ) . build ( ) ; \n + ImmutableTable < String , String , Integer > expected = \n + ImmutableTable . < String , String , Integer > builder ( ) \n + . put ( " one " , " uno " , 1 ) \n + . put ( " two " , " dos " , 2 ) \n + . put ( " one " , " eins " , 1 ) \n + . put ( " two " , " twei " , 2 ) \n + . build ( ) ; \n + assertThat ( table ) . isEqualTo ( expected ) ; \n + } \n + \n android \ guava \ src \ com \ google \ common \ collect \ ImmutableTable . java \n + @ CanIgnoreReturnValue \n + Builder < R , C , V > combine ( Builder < R , C , V > other ) { \n + this . cells . addAll ( other . cells ) ; \n + return this ; \n + } \n + \n guava \ src \ com \ google \ common \ collect \ ImmutableTable . java \n + @ CanIgnoreReturnValue \n
src \ java _ tools \ buildjar \ java \ com \ google \ devtools \ build \ buildjar \ VanillaJavaBuilder . java \n - filesystems . put ( sourceJar , fs = FileSystems . newFileSystem ( sourceJar , null ) ) ; \n + filesystems . put ( sourceJar , fs = FileSystems . newFileSystem ( sourceJar , ( ClassLoader ) null ) ) ; \n
. bazelci \ build _ bazel _ binaries . yml \n - " - c " \n - " opt " \n + xcode _ version : " 11 . 7 " \n - " / / src : bazel " \n - " / / src : bazel _ nojdk " \n . bazelci \ postsubmit . yml \n - build \n - test \n + xcode _ version : " 11 . 7 " \n - sed - i . bak - e ' s / ^ # android _ sdk _ repository / android _ sdk _ repository / ' - e ' s / ^ # \n . bazelci \ presubmit . yml \n - " - / / src / java _ tools / import _ deps _ checker / . . . " \n + xcode _ version : " 11 . 7 " \n - sed - i . bak - e ' s / ^ # android _ sdk _ repository / android _ sdk _ repository / ' - e ' s / ^ # \n
. bazelci \ build _ bazel _ binaries . yml \n - " - c " \n - " opt " \n - xcode _ version : " 11 . 7 " \n + xcode _ version : " 12 . 4 " \n - " / / src : bazel " \n - " / / src : bazel _ nojdk " \n . bazelci \ postsubmit . yml \n - build \n - test \n - xcode _ version : " 11 . 7 " \n + xcode _ version : " 12 . 4 " \n - sed - i . bak - e ' s / ^ # android _ sdk _ repository / android _ sdk _ repository / ' - e ' s / ^ # \n . bazelci \ presubmit . yml \n - " - / / src / java _ tools / import _ deps _ checker / . . . " \n - xcode _ version : " 11 . 7 " \n + xcode _ version : " 12 . 4 " \n - sed - i . bak - e ' s / ^ # android _ sdk _ repository / android _ sdk _ repository / ' - e ' s / ^ # \n
src \ main \ java \ org \ junit \ experimental \ theories \ internal \ AllMembersSupplier . java \n - import static org . hamcrest . CoreMatchers . not ; \n - import static org . hamcrest . core . IsInstanceOf . instanceOf ; \n - \n - } catch ( Throwable t ) { \n - DataPoint annotation = fMethod . getAnnotation ( DataPoint . class ) ; \n - if ( annotation ! = null ) { \n - for ( Class < ? extends Throwable > ignorable : annotation . ignoredExceptions ( ) ) { \n - Assume . assumeThat ( t , not ( instanceOf ( ignorable ) ) ) ; \n - } \n - } \n + } catch ( Throwable throwable ) { \n + DataPoint annotation = fMethod . getAnnotation ( DataPoint . class ) ; \n + Assume . assumeTrue ( annotation = = null | | ! isAssignableToAnyOf ( annotation . ignoredExceptions ( ) , throwable ) ) ; \n - throw new CouldNotGenerateValueException ( t ) ; \n + throw new CouldNotGenerateValueException ( throwable ) ; \n - } \n + } \n - } catch ( Throwable t ) { \n + } catch ( Throwable throwable ) { \n - if ( annotation ! = null ) { \n - for ( Class < ? extends Throwable > ignored : annotation . ignoredExceptions ( ) ) { \n - if ( ignored . isAssignableFrom ( t . getClass ( ) ) ) { \n - return ; \n - } \n - } \n + if ( annotation ! = null & & isAssignableToAnyOf ( annotation . ignoredExceptions ( ) , throwable ) ) { \n + return ; \n + } else { \n + throw throwable ; \n - throw t ; \n + \n + private static boolean isAssignableToAnyOf ( Class < ? > [ ] typeArray , Object target ) { \n + for ( Class < ? > type : typeArray ) { \n + if ( type . isAssignableFrom ( target . getClass ( ) ) ) { \n + return true ; \n + } \n + } \n + return false ; \n + } \n
src \ main \ java \ org \ junit \ experimental \ theories \ DataPoint . java \n + import static java . lang . annotation . ElementType . FIELD ; \n + import static java . lang . annotation . ElementType . METHOD ; \n + \n + import java . lang . annotation . Target ; \n + @ Target ( { FIELD , METHOD } ) \n src \ main \ java \ org \ junit \ experimental \ theories \ DataPoints . java \n + import static java . lang . annotation . ElementType . FIELD ; \n + import static java . lang . annotation . ElementType . METHOD ; \n + \n + import java . lang . annotation . Target ; \n + @ Target ( { FIELD , METHOD } ) \n src \ main \ java \ org \ junit \ experimental \ theories \ ParametersSuppliedBy . java \n + import static java . lang . annotation . ElementType . ANNOTATION _ TYPE ; \n + import static java . lang . annotation . ElementType . PARAMETER ; \n + \n + import java . lang . annotation . Target ; \n + @ Target ( { ANNOTATION _ TYPE , PARAMETER } ) \n src \ main \ java \ org \ junit \ experimental \ theories \ Theory . java \n + import static java . lang . annotation . ElementType . METHOD ; \n + \n + import java . lang . annotation . Target ; \n + @ Target ( METHOD ) \n src \ main \ java \ org \ junit \ experimental \ theories \ suppliers \ TestedOn . java \n + import static java . lang . annotation . ElementType . PARAMETER ; \n + \n + import java . lang . annotation . Target ; \n + @ Target ( PARAMETER ) \n
src \ main \ java \ org \ junit \ experimental \ theories \ internal \ Assignments . java \n - return new Assignments ( assigned , fUnassigned . subList ( 1 , fUnassigned \n - . size ( ) ) , fClass ) ; \n + return new Assignments ( assigned , fUnassigned . subList ( 1 , \n + fUnassigned . size ( ) ) , fClass ) ; \n - throws ReflectiveOperationException { \n + throws Exception { \n - throws ReflectiveOperationException { \n + throws Exception { \n - \n + \n - private ParameterSupplier buildParameterSupplierFromClass ( Class < ? extends ParameterSupplier > cls ) \n - throws ReflectiveOperationException { \n + private ParameterSupplier buildParameterSupplierFromClass ( \n + Class < ? extends ParameterSupplier > cls ) throws Exception { \n src \ test \ java \ org \ junit \ tests \ experimental \ theories \ extendingwithstubs \ StubbedTheories . java \n - throws ReflectiveOperationException { \n + throws Exception { \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ bazel \ rules \ cpp \ BazelCcModule . java \n + Object language , \n + language , \n src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcModule . java \n + import com . google . devtools . build . lib . rules . cpp . CcCompilationHelper . SourceCategory ; \n + Object languageObject , \n - variablesExtension ) ) { \n + variablesExtension , \n + languageObject ) ) { \n + String language = convertFromNoneable ( languageObject , Language . CPP . getRepresentation ( ) ) ; \n + validateLanguage ( language ) ; \n + SourceCategory sourceCategory ; \n + if ( language . equals ( Language . CPP . getRepresentation ( ) ) ) { \n + sourceCategory = SourceCategory . CC ; \n + } else if ( language . equals ( Language . OBJC . getRepresentation ( ) ) \n + | | language . equals ( Language . OBJCPP . getRepresentation ( ) ) ) { \n + sourceCategory = SourceCategory . CC _ AND _ OBJC ; \n + } else { \n + throw Starlark . errorf ( " Language ' % s ' is not supported " , language ) ; \n + } \n + sourceCategory , \n + actions . getActionConstructionContext ( ) . getConfiguration ( ) , \n src \ main \ java \ com \ google \ devtools \ build \ lib \ starlarkbuildapi \ cpp \ BazelCcModuleApi . java \n + @ Param ( \n + name = " language " , \n + positional = false , \n + named = true , \n + documented = false , \n + allowedTypes = { @ ParamType ( type = String . class ) } , \n + defaultValue = " unbound " ) , \n + Object language , \n src \ main \ java \ com \ google \ devtools \ build \ skydoc \ fakebuildapi \ cpp \ FakeCcModule . java \n + Object language , \n src \ test \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ StarlarkCcCommonTest . java \n - compileCall + " hdrs _ checking _ mode = ' strict ' ) " ) ; \n + compileCall + " hdrs _ checking _ mode = ' strict ' ) " , \n + compileCall + " language = ' c + + ' ) " ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcBinary . java \n + import net . starlark . java . annot . StarlarkMethod ; \n + import net . starlark . java . eval . StarlarkThread ; \n + @ StarlarkMethod ( name = " compilation _ outputs " , documented = false , useStarlarkThread = true ) \n + public CcCompilationOutputs getCcCompilationOutputsStarlark ( StarlarkThread thread ) \n + throws EvalException { \n + CcModule . checkPrivateStarlarkificationAllowlist ( thread ) ; \n + return ccCompilationOutputs ; \n + } \n + \n + @ StarlarkMethod ( name = " cc _ info " , documented = false , useStarlarkThread = true ) \n + public CcInfo getCcInfoForStarlark ( StarlarkThread thread ) throws EvalException { \n + CcModule . checkPrivateStarlarkificationAllowlist ( thread ) ; \n + return ccInfo ; \n + } \n + \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcModule . java \n - String rulePackage = \n + Label label = \n - . label ( ) \n - . getPackageName ( ) ; \n - if ( ! PRIVATE _ STARLARKIFICATION _ ALLOWLIST . contains ( rulePackage ) ) { \n - throw Starlark . errorf ( " Rule in ' % s ' cannot use private API " , rulePackage ) ; \n + . label ( ) ; \n + if ( ! label . getPackageIdentifier ( ) . getRepository ( ) . toString ( ) . equals ( " @ _ builtins " ) \n + & & ! PRIVATE _ STARLARKIFICATION _ ALLOWLIST . contains ( label . getPackageName ( ) ) ) { \n + throw Starlark . errorf ( " Rule in ' % s ' cannot use private API " , label . getPackageName ( ) ) ; \n - List < Artifact > publicHeaders = Sequence . cast ( publicHeadersUnchecked , Artifact . class , " srcs " ) ; \n - List < Artifact > privateHeaders = Sequence . cast ( privateHeadersUnchecked , Artifact . class , " srcs " ) ; \n + List < Artifact > publicHeaders = \n + Sequence . cast ( publicHeadersUnchecked , Artifact . class , " public _ hdrs " ) ; \n + List < Artifact > privateHeaders = \n + Sequence . cast ( privateHeadersUnchecked , Artifact . class , " private _ hdrs " ) ; \n
build . gradle \n - classpath ' com . android . tools . build : gradle : 1 . 3 . 0 ' \n + classpath ' com . android . tools . build : gradle : 1 . 3 . 1 ' \n + classpath ' com . github . ben - manes : gradle - versions - plugin : 0 . 11 . 3 ' \n - } \n + } \n + \n + apply plugin : ' com . github . ben - manes . versions ' \n core \ src \ main \ java \ com \ afollestad \ materialdialogs \ MaterialDialog . java \n - \n - / / Set up width if on tablet \n - if ( builder . context . getResources ( ) . getBoolean ( R . bool . md _ is _ tablet ) ) { \n - WindowManager . LayoutParams lp = new WindowManager . LayoutParams ( ) ; \n - lp . copyFrom ( getWindow ( ) . getAttributes ( ) ) ; \n - lp . width = builder . context . getResources ( ) . getDimensionPixelSize ( R . dimen . md _ default _ dialog _ width ) ; \n - getWindow ( ) . setAttributes ( lp ) ; \n - } \n deleted file \n core \ src \ main \ res \ values - sw600dp \ dimens . xml \n - < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > \n - < resources > \n - < dimen name = " md _ default _ dialog _ width " > 446dp < / dimen > \n - < / resources > \n deleted file \n core \ src \ main \ res \ values - sw720dp \ dimens . xml \n - < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > \n - < resources > \n - < dimen name = " md _ default _ dialog _ width " > 480dp < / dimen > \n - < / resources > \n core \ src \ main \ res \ values \ dimens . xml \n - < dimen name = " md _ default _ dialog _ width " > 0dp < / dimen > \n
core \ src \ main \ java \ com \ afollestad \ materialdialogs \ DialogInit . java \n - builder . backgroundColor = DialogUtils . resolveColor ( builder . context , R . attr . md _ background _ color ) ; \n + builder . backgroundColor = DialogUtils . resolveColor ( builder . context , R . attr . md _ background _ color , \n + DialogUtils . resolveColor ( dialog . getContext ( ) , R . attr . colorBackgroundFloating ) ) ; \n
build . gradle \n - classpath ' com . android . tools . build : gradle : 2 . 1 . 0 ' \n + classpath ' com . android . tools . build : gradle : 2 . 1 . 2 ' \n gradle \ wrapper \ gradle - wrapper . properties \n - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 2 . 14 - all . zip \n + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 2 . 13 - all . zip \n
dubbo - plugin \ dubbo - qos \ src \ main \ java \ com \ alibaba \ qos \ server \ Server . java \n + import com . alibaba . dubbo . common . utils . ConfigUtils ; \n - import java . util . concurrent . atomic . AtomicInteger ; \n - private final int port = Integer . getInteger ( Constants . QOS _ PORT , Constants . DEFAULT _ PORT ) ; \n + private int port = Integer . parseInt ( ConfigUtils . getProperty ( Constants . QOS _ PORT , Constants . DEFAULT _ PORT + " " ) ) ; \n - if ( ! hasStarted . compareAndSet ( false , true ) ) { \n + if ( ! hasStarted . compareAndSet ( false , true ) ) { \n dubbo - plugin \ dubbo - qos \ src \ main \ java \ com \ alibaba \ qos \ server \ handler \ LocalHostPermitHandler . java \n - * \n + * \n + import com . alibaba . dubbo . common . utils . ConfigUtils ; \n - \n + \n - private static boolean acceptForeignIp = Boolean . valueOf ( System . getProperty ( Constants . ACCEPT _ FOREIGN _ IP , " true " ) ) ; \n - \n + private static boolean acceptForeignIp = Boolean . valueOf ( ConfigUtils . getProperty ( Constants . ACCEPT _ FOREIGN _ IP , " true " ) ) ; \n + \n - + Constants . BR _ STR ) . getBytes ( ) ) ; \n + + Constants . BR _ STR ) . getBytes ( ) ) ; \n
dubbo - rpc \ dubbo - rpc - default \ src \ main \ java \ com \ alibaba \ dubbo \ rpc \ protocol \ dubbo \ DubboProtocol . java \n - client . close ( ) ; \n + client . close ( getServerShutdownTimeout ( ) ) ; \n - client . close ( ) ; \n + client . close ( getServerShutdownTimeout ( ) ) ; \n
dubbo - registry \ dubbo - registry - multicast \ src \ main \ java \ com \ alibaba \ dubbo \ registry \ multicast \ MulticastRegistry . java \n - * \n + if ( urls = = null | | urls . isEmpty ( ) ) { \n + if ( urls = = null ) { \n + urls = new ConcurrentHashSet < URL > ( ) ; \n + } \n + URL empty = url . setProtocol ( Constants . EMPTY _ PROTOCOL ) ; \n + urls . add ( empty ) ; \n + } \n dubbo - registry \ dubbo - registry - redis \ src \ main \ java \ com \ alibaba \ dubbo \ registry \ redis \ RedisRegistryFactory . java \n - import com . alibaba . dubbo . registry . RegistryFactory ; \n + import com . alibaba . dubbo . registry . support . AbstractRegistryFactory ; \n - public class RedisRegistryFactory implements RegistryFactory { \n + public class RedisRegistryFactory extends AbstractRegistryFactory { \n - public Registry getRegistry ( URL url ) { \n + @ Override \n + protected Registry createRegistry ( URL url ) { \n
dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ proxy \ wrapper \ StubProxyFactoryWrapper . java \n - return proxyFactory . getProxy ( invoker , generic ) ; \n - } \n - \n - @ Override \n - @ SuppressWarnings ( { " unchecked " , " rawtypes " } ) \n - public < T > T getProxy ( Invoker < T > invoker ) throws RpcException { \n - T proxy = proxyFactory . getProxy ( invoker ) ; \n + T proxy = proxyFactory . getProxy ( invoker , generic ) ; \n + \n + } \n + \n + @ Override \n + @ SuppressWarnings ( { " unchecked " , " rawtypes " } ) \n + public < T > T getProxy ( Invoker < T > invoker ) throws RpcException { \n + return getProxy ( invoker , false ) ; \n
dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ proxy \ wrapper \ StubProxyFactoryWrapper . java \n - return proxyFactory . getProxy ( invoker , generic ) ; \n - } \n - \n - @ Override \n - @ SuppressWarnings ( { " unchecked " , " rawtypes " } ) \n - public < T > T getProxy ( Invoker < T > invoker ) throws RpcException { \n - T proxy = proxyFactory . getProxy ( invoker ) ; \n + T proxy = proxyFactory . getProxy ( invoker , generic ) ; \n + \n + } \n + \n + @ Override \n + @ SuppressWarnings ( { " unchecked " , " rawtypes " } ) \n + public < T > T getProxy ( Invoker < T > invoker ) throws RpcException { \n + return getProxy ( invoker , false ) ; \n
dubbo - remoting \ dubbo - remoting - api \ src \ main \ java \ org \ apache \ dubbo \ remoting \ transport \ dispatcher \ message \ MessageOnlyChannelHandler . java \n + import org . apache . dubbo . remoting . exchange . Request ; \n + import java . util . concurrent . RejectedExecutionException ; \n + if ( message instanceof Request & & t instanceof RejectedExecutionException ) { \n + sendFeedback ( channel , ( Request ) message , t ) ; \n + return ; \n + } \n
presto - base - jdbc \ src \ main \ java \ com \ facebook \ presto \ plugin \ jdbc \ JdbcPageSink . java \n + import io . airlift . log . Logger ; \n + private static final Logger log = Logger . get ( JdbcPageSink . class ) ; \n + \n - throw new PrestoException ( JDBC _ ERROR , e ) ; \n + / / Exceptions happened during abort do not cause any real damage so ignore them \n + log . debug ( e , " SQLException when abort " ) ; \n
presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ plan \ EnforceSingleRowNode . java \n + import com . facebook . presto . spi . relation . VariableReferenceExpression ; \n + @ Override \n + public List < VariableReferenceExpression > getOutputVariables ( ) \n + { \n + return source . getOutputVariables ( ) ; \n + } \n + \n presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ plan \ FilterNode . java \n + import com . facebook . presto . spi . relation . VariableReferenceExpression ; \n - @ JsonProperty ( " predicate " ) \n + @ JsonProperty \n + @ Override \n + public List < VariableReferenceExpression > getOutputVariables ( ) \n + { \n + return source . getOutputVariables ( ) ; \n + } \n + \n presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ plan \ LimitNode . java \n + import com . facebook . presto . spi . relation . VariableReferenceExpression ; \n + @ Override \n + public List < VariableReferenceExpression > getOutputVariables ( ) \n + { \n + return source . getOutputVariables ( ) ; \n + } \n + \n presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ plan \ SampleNode . java \n + import com . facebook . presto . spi . relation . VariableReferenceExpression ; \n + @ Override \n + public List < VariableReferenceExpression > getOutputVariables ( ) \n + { \n + return source . getOutputVariables ( ) ; \n + } \n + \n presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ plan \ SortNode . java \n + import com . facebook . presto . spi . relation . VariableReferenceExpression ; \n + @ Override \n + public List < VariableReferenceExpression > getOutputVariables ( ) \n + { \n + return source . getOutputVariables ( ) ; \n + } \n + \n presto - main \ src \ main \ java \ com \ facebook \ presto \ sql \ planner \ plan \ TopNNode . java \n + import com . facebook . presto . spi . relation . VariableReferenceExpression ; \n + @ Override \n + public List < VariableReferenceExpression > getOutputVariables ( ) \n + { \n + return source . getOutputVariables ( ) ; \n + } \n + \n
presto - docs \ src \ main \ sphinx \ release \ release - 0 . 218 . rst \n + . . warning : : \n + \n + This release has the potential to produce incorrect results for three way joins where one of the joins is a ` ` FULL OUTER JOIN ` ` and one subquery \n + of the ` ` FULL OUTER JOIN ` ` has a ` ` GROUP BY ` ` on the join key and some expression that could be evaluated to a constant . For details , please \n + refer to : issue : ` 12577 ` . \n + \n - - - - - - - - - - - - - - - \n
samples \ imgur \ src \ main \ java \ com \ bumptech \ glide \ samples \ imgur \ ImgurApplicationComponent . java \n + import dagger . android . AndroidInjectionModule ; \n - import dagger . android . support . AndroidSupportInjectionModule ; \n - / * * \n - * Specifies Dagger modules for { @ link ImgurApplication } . \n - * / \n + / * * Specifies Dagger modules for { @ link ImgurApplication } . * / \n - @ Component ( modules = { \n - AndroidSupportInjectionModule . class , \n - MainActivityModule . class , \n - ApplicationModule . class , \n - ApiModule . class \n - } ) \n - public interface ImgurApplicationComponent extends AndroidInjector < ImgurApplication > { \n - } \n + @ Component ( \n + modules = { \n + AndroidInjectionModule . class , \n + MainActivityModule . class , \n + ApplicationModule . class , \n + ApiModule . class \n + } ) \n + public interface ImgurApplicationComponent extends AndroidInjector < ImgurApplication > { } \n
android \ guava \ src \ com \ google \ common \ collect \ CompactHashMap . java \n - * @ param capacity the initial capacity of this { @ code CompactHashMap } . \n + * @ param expectedSize the initial capacity of this { @ code CompactHashMap } . \n - Preconditions . checkArgument ( expectedSize > = 0 , " Initial capacity must be non - negative " ) ; \n + Preconditions . checkArgument ( expectedSize > = 0 , " Expected size must be non - negative " ) ; \n guava \ src \ com \ google \ common \ collect \ CompactHashMap . java \n - * @ param capacity the initial capacity of this { @ code CompactHashMap } . \n + * @ param expectedSize the initial capacity of this { @ code CompactHashMap } . \n - Preconditions . checkArgument ( expectedSize > = 0 , " Initial capacity must be non - negative " ) ; \n + Preconditions . checkArgument ( expectedSize > = 0 , " Expected size must be non - negative " ) ; \n
. travis . yml \n - - oraclejdk8 \n + - openjdk8 \n - openjdk11 \n - # https : / / github . com / travis - ci / travis - ci / issues / 3259 # issuecomment - 130860338 \n - addons : \n - apt : \n - packages : \n - - oracle - java8 - installer \n - \n
mediator \ src \ main \ java \ com \ iluwatar \ Action . java \n - HUNT ( " hunted a rabbit " ) , TALE ( " tells a tale " ) , GOLD ( " found gold " ) , ENEMY ( " spotted enemies " ) , NONE ( " " ) ; \n + HUNT ( " hunted a rabbit " , " arrives for dinner " ) , \n + TALE ( " tells a tale " , " comes to listen " ) , \n + GOLD ( " found gold " , " takes his share of the gold " ) , \n + ENEMY ( " spotted enemies " , " runs for cover " ) , \n + NONE ( " " , " " ) ; \n + private String description ; \n - Action ( String title ) { \n + Action ( String title , String description ) { \n + this . description = description ; \n + } \n + \n + public String getDescription ( ) { \n + return description ; \n mediator \ src \ main \ java \ com \ iluwatar \ PartyImpl . java \n - private List < PartyMember > members ; \n + private final List < PartyMember > members ; \n mediator \ src \ main \ java \ com \ iluwatar \ PartyMemberBase . java \n - String s = this + " " ; \n - switch ( action ) { \n - case ENEMY : \n - s = s + " runs for cover " ; \n - break ; \n - case GOLD : \n - s = s + " takes his share of the gold " ; \n - break ; \n - case HUNT : \n - s = s + " arrives for dinner " ; \n - break ; \n - case TALE : \n - s = s + " comes to listen " ; \n - break ; \n - default : \n - break ; \n - } \n - System . out . println ( s ) ; \n + System . out . println ( this + " " + action . getDescription ( ) ) ; \n
builder \ src \ main \ java \ com \ iluwatar \ HairType . java \n - BALD , SHORT , CURLY , LONG _ STRAIGHT , LONG _ CURLY ; \n + BALD ( " bald " ) , SHORT ( " short " ) , CURLY ( " curly " ) , LONG _ STRAIGHT ( " long straight " ) , LONG _ CURLY ( " long curly " ) ; \n - @ Override \n + private String title ; \n + \n + HairType ( String title ) { \n + this . title = title ; \n + } \n + \n + @ Override \n - return name ( ) . toLowerCase ( ) . replaceAll ( " _ " , " " ) ; \n + return title ; \n - \n
observer \ src \ main \ java \ com \ iluwatar \ generic \ Observer . java \n - public void update ( S subject , A argument ) ; \n + \n + void update ( S subject , A argument ) ; \n
language - adaptors \ rxjava - scala \ src \ examples \ scala \ rx \ lang \ scala \ examples \ RxScalaDemo . scala \n - @ Test def observableLikeFuture1 ( ) { \n - implicit val scheduler = ThreadPoolForIOScheduler ( ) \n - val o1 = Observable { \n - Thread . sleep ( 1000 ) \n - 5 \n - } \n - val o2 = Observable { \n - Thread . sleep ( 500 ) \n - 4 \n - } \n - Thread . sleep ( 500 ) \n - val t1 = System . currentTimeMillis \n - println ( ( o1 merge o2 ) . first . toBlockingObservable . single ) \n - println ( System . currentTimeMillis - t1 ) \n - } \n - \n - @ Test def ObservableLikeFuture2 ( ) { \n - class Friend { } \n - val session = new Object { \n - def getFriends : List [ Friend ] = List ( new Friend , new Friend ) \n - } \n - \n - implicit val scheduler = ThreadPoolForIOScheduler ( ) \n - val o : Observable [ List [ Friend ] ] = Observable { \n - session . getFriends \n - } \n - o . subscribe ( \n - friendList = > println ( friendList ) , \n - err = > println ( err . getMessage ) \n - ) \n - \n - Thread . sleep ( 1500 ) / / or convert to BlockingObservable \n - } \n - \n
language - adaptors \ rxjava - scala \ src \ main \ scala \ rx \ lang \ scala \ Observable . scala \n + * \n + * Note that this function is private because Scala collections don ' t have such a function . \n - def zip [ U , R ] ( that : Observable [ U ] , selector : ( T , U ) = > R ) : Observable [ R ] = { \n + private def zip [ U , R ] ( that : Observable [ U ] , selector : ( T , U ) = > R ) : Observable [ R ] = { \n
language - adaptors \ rxjava - scala \ src \ main \ scala \ rx \ lang \ scala \ package . scala \n - package object scala { \n - } \n + / * * \n + * This package contains all classes that RxScala users need . \n + * \n + * It basically mirrors the structure of package ` rx ` , but some changes were made to make it more Scala - idiomatic . \n + * / \n + package object scala { } \n
deleted file \n nodejs \ basic - scanner . js \n - var UriBeaconScanner = require ( ' uri - beacon - scanner ' ) ; \n - \n - UriBeaconScanner . on ( ' discover ' , function ( uriBeacon ) { \n - console . log ( ' discovered UriBeacon : ' ) ; \n - console . log ( ' uri = ' + uriBeacon . uri ) ; \n - console . log ( ' flags = ' + uriBeacon . flags ) ; \n - console . log ( ' TX power = ' + uriBeacon . txPower ) ; \n - console . log ( ' RSSI = ' + uriBeacon . rssi ) ; \n - console . log ( ) ; \n - } ) ; \n - \n - UriBeaconScanner . startScanning ( ) ; \n
deleted file \n nodejs \ package . json \n - { \n - " name " : " uri - beacon - scanner - example " , \n - " version " : " 1 . 0 . 0 " , \n - " description " : " UriBeacon Scanner Example " , \n - " author " : " Sandeep Mistry " , \n - " license " : " Apache 2 . 0 " , \n - " dependencies " : { \n - " uri - beacon - scanner " : " ~ 1 . 0 . 0 " \n - } , \n - " repository " : { \n - " type " : " git " , \n - " url " : " https : / / github . com / google / physical - web . git " \n - } , \n - " private " : true \n - } \n
nodejs \ README . md \n - # # node . js UriBeacon Scanner Example \n + # # node - eddystone - beacon - scanner \n - Requirements \n + There is an excellent node . js scanner written by @ sandeepmistry . If you ' d like to have a RasperryPi / laptop client to scan for beacons , please use this \n - * [ node . js ] ( http : / / nodejs . org ) \n - * OS X or Linux \n - * Bluetooth 4 . 0 adapter \n - \n - # # # Install the dependencies \n - \n - ` ` ` sh \n - npm install \n - ` ` ` \n - \n - # # # Run the example \n - \n - OS X : \n - ` ` ` sh \n - node basic - scanner . js \n - ` ` ` \n - \n - Linux ( requies ` ` ` sudo ` ` ` ) : \n - ` ` ` sh \n - sudo node basic - scanner . js \n - ` ` ` \n - \n - # # # # Basic Scanner Example \n - \n - The basic scanner uses [ node - uri - beacon - scanner ] ( https : / / github . com / sandeepmistry / node - uri - beacon - scanner ) to start scanning for UriBeacons . \n - \n - Then prints out the URI , flags , TX power and RSSI for each discovered beacon . \n - \n - # # Other examples \n - \n - * [ Physical Web Scan ] ( https : / / github . com / dermike / physical - web - scan ) - using the PW proxy to display metadata \n - \n - # # More information \n - \n - * [ node - uri - beacon - scanner Github repo ] ( https : / / github . com / sandeepmistry / node - uri - beacon - scanner ) - source for node . js scanner \n - * [ UriBeacon Advertising Packet Specification ] ( https : / / github . com / google / uribeacon / blob / master / specification / AdvertisingMode . md ) \n + [ node - eddystone - beacon - scanner ] ( https : / / github . com / sandeepmistry / node - eddystone - beacon - scanner ) \n
src \ tools \ android \ java \ com \ google \ devtools \ build \ android \ r8 \ CoreLibraryDesugar . java \n + / / Workaround for b / 181634110 . \n + if ( missingTypeDiagnostic . getMissingType ( ) . getTypeName ( ) . equals ( " jdk . internal . misc . Unsafe " ) \n + & & missingTypeDiagnostic \n + . getContextType ( ) \n + . getTypeName ( ) \n + . equals ( " java . util . concurrent . ThreadLocalRandomHelper " ) ) { \n + return ; \n + } \n
src \ tools \ android \ java \ com \ google \ devtools \ build \ android \ r8 \ CompatDexBuilder . java \n - futures . add ( executor . submit ( ( ) - > dexEntry ( zipFile , classEntry , executor ) ) ) ; \n + futures . add ( executor . submit ( ( ) - > dexEntry ( input , zipFile , classEntry , executor ) ) ) ; \n - private DexConsumer dexEntry ( ZipFile zipFile , ZipEntry classEntry , ExecutorService executor ) \n + private DexConsumer dexEntry ( \n + String classpath , ZipFile zipFile , ZipEntry classEntry , ExecutorService executor ) \n + . addClasspathFiles ( Paths . get ( classpath ) ) \n
src \ tools \ android \ java \ com \ google \ devtools \ build \ android \ r8 \ CoreLibraryDesugar . java \n - / / Workaround for b / 181634110 . \n - if ( missingTypeDiagnostic . getMissingType ( ) . getTypeName ( ) . equals ( " jdk . internal . misc . Unsafe " ) \n - & & missingTypeDiagnostic \n - . getContextType ( ) \n - . getTypeName ( ) \n - . equals ( " java . util . concurrent . ThreadLocalRandomHelper " ) ) { \n - return ; \n - } \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ ui \ schedule \ ScheduleViewModel . kt \n - private val _ profileContentDesc = MediatorLiveData < Int > ( ) . apply { value = R . string . a11y _ sign _ in } \n + private val _ profileContentDesc = MediatorLiveData < Int > ( ) . apply { value = R . string . sign _ in } \n - R . string . a11y _ sign _ out \n + R . string . sign _ out \n - R . string . a11y _ sign _ in \n + R . string . sign _ in \n mobile \ src \ main \ res \ values \ strings . xml \n - < string name = " a11y _ sign _ in " translatable = " false " > TODO : a11y content description for sign in action < / string > \n - < string name = " a11y _ sign _ out " translatable = " false " > TODO : a11y content description for sign out action < / string > \n - \n mobile \ src \ test \ java \ com \ google \ samples \ apps \ iosched \ ui \ schedule \ ScheduleViewModelTest . kt \n - assertEquals ( R . string . a11y _ sign _ out , \n + assertEquals ( R . string . sign _ out , \n - assertEquals ( R . string . a11y _ sign _ in , LiveDataTestUtil . getValue ( viewModel . profileContentDesc ) ) \n + assertEquals ( R . string . sign _ in , LiveDataTestUtil . getValue ( viewModel . profileContentDesc ) ) \n - assertEquals ( R . string . a11y _ sign _ in , LiveDataTestUtil . getValue ( viewModel . profileContentDesc ) ) \n + assertEquals ( R . string . sign _ in , LiveDataTestUtil . getValue ( viewModel . profileContentDesc ) ) \n
mobile \ src \ main \ res \ layout - land \ include _ schedule _ appbar . xml \n + android : contentDescription = " @ string / a11y _ pinned " \n mobile \ src \ main \ res \ layout \ include _ schedule _ appbar . xml \n + android : contentDescription = " @ string / a11y _ pinned " \n mobile \ src \ main \ res \ values \ strings . xml \n + \n + < string name = " a11y _ pinned " translation _ description = " Description of a button that used to show only starred and reserved events . " > Only starred and reserved events < / string > \n
mobile \ src \ main \ java \ com \ google \ samples \ apps \ iosched \ util \ signin \ SignInHandler . kt \n - . requestProfile ( ) \n
pom . xml \n - < version > 1 . 2 . 57 _ preview _ 04 < / version > \n + < version > 1 . 2 . 58 _ preview _ 01 < / version > \n src \ main \ java \ com \ alibaba \ fastjson \ JSON . java \n - public final static String VERSION = " 1 . 2 . 57 " ; \n + public final static String VERSION = " 1 . 2 . 58 " ; \n
README . md \n - < version > 1 . 2 . 56 < / version > \n + < version > 1 . 2 . 57 < / version > \n - compile ' com . alibaba : fastjson : 1 . 2 . 56 ' \n + compile ' com . alibaba : fastjson : 1 . 2 . 57 ' \n
src \ main \ java \ com \ alibaba \ fastjson \ parser \ deserializer \ MapDeserializer . java \n - boolean unmodifiableMap = " java . util . Collections $ UnmodifiableMap " . equals ( type . getTypeName ( ) ) ; \n + boolean unmodifiableMap = type instanceof Class \n + & & " java . util . Collections $ UnmodifiableMap " . equals ( ( ( Class ) type ) . getName ( ) ) ; \n
AndroidAnnotations \ androidannotations - rest - spring \ rest - spring \ src \ main \ java \ org \ androidannotations \ rest \ spring \ handler \ AbstractRestMethodWithParameterHandler . java \n - restSpringValidatorHelper . hasAnnotatedAllParameters ( ( ExecutableElement ) element , validation ) ; \n
AndroidAnnotations \ androidannotations - core \ androidannotations - api \ src \ main \ java \ org \ androidannotations \ annotations \ IgnoreWhen . java \n - * the { @ link EFragment } is no longer bound to its parent activity . \n + * the { @ link EFragment } is no longer bound to its parent activity or \n + * < code > DETACHED < / code > the { @ link EFragment } views are destroyed \n + * < code > VIEW _ DESTROYED < / code > . \n - * & # 064 ; IgnoreWhen \n + * & # 064 ; IgnoreWhen ( IgnoreWhen . State . DETACHED ) \n - * & # 064 ; IgnoreWhen \n + * & # 064 ; IgnoreWhen ( IgnoreWhen . State . VIEW _ DESTROYED ) \n + / * * \n + * The lifecycle state after the method should not be executed . \n + * \n + * @ return the state that skips method execution \n + * / \n + State value ( ) ; \n + \n + / * * \n + * The lifecycle state after the method should not be executed . \n + * / \n + enum State { \n + \n + / * * \n + * Skip execution if the { @ link EFragment } is no longer bound to its \n + * parent activity . \n + * / \n + DETACHED , \n + \n + / * * \n + * Skip execution if the { @ link EFragment } views are destroyed . \n + * / \n + VIEW _ DESTROYED \n + } \n AndroidAnnotations \ androidannotations - core \ androidannotations - test \ src \ main \ java \ org \ androidannotations \ test \ efragment \ MyListFragment . java \n - @ IgnoreWhen \n + @ IgnoreWhen ( IgnoreWhen . State . DETACHED ) \n - @ IgnoreWhen \n + @ IgnoreWhen ( IgnoreWhen . State . DETACHED ) \n - @ IgnoreWhen \n + @ IgnoreWhen ( IgnoreWhen . State . DETACHED ) \n + @ IgnoreWhen ( IgnoreWhen . State . VIEW _ DESTROYED ) \n + void ignoreWhenViewDestroyed ( ) { \n + didExecute = true ; \n + } \n + \n
AndroidAnnotations \ androidannotations - core \ androidannotations - test \ src \ test \ java \ org \ androidannotations \ test \ efragment \ MyListFragmentTest . java \n + @ Test \n + public void notIgnoredAfterOnCreateView ( ) { \n + assertFalse ( myListFragment . didExecute ) ; \n + myListFragment . onCreateView ( null , null , null ) ; \n + assertFalse ( myListFragment . didExecute ) ; \n + myListFragment . ignoreWhenViewDestroyed ( ) ; \n + assertTrue ( myListFragment . didExecute ) ; \n + } \n + \n + @ Test \n + public void ignoredWhenViewDestroyedForIgnoredMethod ( ) { \n + assertFalse ( myListFragment . didExecute ) ; \n + myListFragment . onDestroyView ( ) ; \n + myListFragment . ignoreWhenViewDestroyed ( ) ; \n + assertFalse ( myListFragment . didExecute ) ; \n + } \n + \n + @ Test \n + public void notIgnoredAfterFragmentRecreate ( ) { \n + assertFalse ( myListFragment . didExecute ) ; \n + myListFragment . onDestroyView ( ) ; \n + myListFragment . onCreateView ( null , null , null ) ; \n + myListFragment . ignoreWhenViewDestroyed ( ) ; \n + assertTrue ( myListFragment . didExecute ) ; \n + } \n + \n + @ Test \n + public void notIgnoredBeforeDetached ( ) { \n + assertFalse ( myListFragment . didExecute ) ; \n + myListFragment . ignored ( ) ; \n + assertTrue ( myListFragment . didExecute ) ; \n + } \n + \n + @ Test \n + public void notIgnoredBeforeViewDestroyed ( ) { \n + assertFalse ( myListFragment . didExecute ) ; \n + myListFragment . ignoreWhenViewDestroyed ( ) ; \n + assertTrue ( myListFragment . didExecute ) ; \n + } \n + \n
common \ src \ main \ java \ io \ netty \ util \ internal \ PlatformDependent . java \n + default : \n + break ; \n transport \ src \ main \ java \ io \ netty \ channel \ nio \ NioEventLoop . java \n + default : \n + break ; \n
codec \ src \ main \ java \ io \ netty \ handler \ codec \ CodecOutputList . java \n - throw new IndexOutOfBoundsException ( ) ; \n + throw new IndexOutOfBoundsException ( " expected : index < ( " \n + + size + " ) , but actual is ( " + size + " ) " ) ; \n common \ src \ main \ java \ io \ netty \ util \ internal \ AppendableCharSequence . java \n - throw new IndexOutOfBoundsException ( ) ; \n + throw new IndexOutOfBoundsException ( " expected : csq . length ( ) > = ( " \n + + end + " ) , but actual is ( " + csq . length ( ) + " ) " ) ; \n - throw new IndexOutOfBoundsException ( ) ; \n + throw new IndexOutOfBoundsException ( " expected : start and length < = ( " \n + + pos + " ) " ) ; \n
pom . xml \n - < graalvm . version > 19 . 0 . 0 < / graalvm . version > \n + < graalvm . version > 19 . 2 . 1 < / graalvm . version > \n
iphone \ ZXingWidget \ Classes \ ZXingWidgetController . m \n - / / Gross , I know . But you can ' t use the device idiom because it ' s not iPad when running \n - / / in zoomed iphone mode but the camera still acts like an ipad . \n - # if 0 & & HAS _ AVFF \n - static bool isIPad ( ) { \n - static int is _ ipad = - 1 ; \n - if ( is _ ipad < 0 ) { \n - size _ t size ; \n - sysctlbyname ( " hw . machine " , NULL , & size , NULL , 0 ) ; / / Get size of data to be returned . \n - char * name = malloc ( size ) ; \n - sysctlbyname ( " hw . machine " , name , & size , NULL , 0 ) ; \n - NSString * machine = [ NSString stringWithCString : name encoding : NSASCIIStringEncoding ] ; \n - free ( name ) ; \n - is _ ipad = [ machine hasPrefix : @ " iPad " ] ; \n - } \n - return ! ! is _ ipad ; \n - } \n - # endif \n - \n - ( void ) initCapture { \n + \n + if ( ! captureInput ) { \n + return ; \n + } \n + \n - # if 0 \n - / / to be deleted when verified . . . \n - if ( isIPad ( ) ) { \n - if ( NSClassFromString ( @ " NSOrderedSet " ) & & / / Proxy for " is this iOS 5 " . . . \n - [ UIScreen mainScreen ] . scale > 1 & & \n - [ inputDevice \n - supportsAVCaptureSessionPreset : AVCaptureSessionPresetiFrame960x540 ] ) { \n - preset = AVCaptureSessionPresetiFrame960x540 ; \n - } \n - if ( false & & ! preset & & \n - [ inputDevice supportsAVCaptureSessionPreset : AVCaptureSessionPresetHigh ] ) { \n - preset = AVCaptureSessionPresetHigh ; \n - } \n - } \n - # endif \n - \n
cpp \ core \ src \ zxing \ oned \ ITFReader . h \n - enum { MAX _ INDIVIDUAL _ VARIANCE = ( int ) ( PATTERN _ MATCH _ RESULT _ SCALE _ FACTOR * 800 / 1000 ) } ; \n + enum { MAX _ INDIVIDUAL _ VARIANCE = ( int ) ( PATTERN _ MATCH _ RESULT _ SCALE _ FACTOR * 780 / 1000 ) } ; \n
cpp \ blackboxtest . sh \n - # ! / bin / sh \n + # ! / usr / bin / env bash \n cpp \ magick \ src \ main . cpp \n - if ( raw _ dump & & ! hybrid ) { / * don ' t print twice , and global is a bit better * / \n + if ( res = = 0 ) { \n - gresult = test _ image _ global ( image , expected ) ; \n + if ( ! raw _ dump | | hresult ! = 0 ) { \n + gresult = test _ image _ global ( image , expected ) ; \n + if ( raw _ dump & & gresult ! = 0 ) { \n + cout < < " decoding failed " < < endl ; \n + } \n + } \n - \n - \n
android \ AndroidManifest . xml \n - android : screenOrientation = " user " / > \n + android : screenOrientation = " user " \n + android : stateNotNeeded = " true " / > \n android \ src \ com \ google \ zxing \ client \ android \ HelpActivity . java \n - @ Override \n - protected void onSaveInstanceState ( Bundle state ) { \n - String url = webView . getUrl ( ) ; \n - if ( url ! = null & & ! url . isEmpty ( ) ) { \n - webView . saveState ( state ) ; \n - } \n - } \n - \n
new file \n android \ assets \ html - zh - rHK \n + html - zh - rTW / \n new file \n android \ res \ values - zh - rHK \n + values - zh - rTW \n android \ src \ com \ google \ zxing \ client \ android \ LocaleManager . java \n - Arrays . asList ( " de " , " en " , " es " , " fr " , " it " , " ja " , " ko " , " nl " , " pt " , " ru " , " zh - rCN " , " zh - rTW " ) ; \n + Arrays . asList ( " de " , " en " , " es " , " fr " , " it " , " ja " , " ko " , " nl " , " pt " , " ru " , " zh - rCN " , " zh - rTW " , " zh - rHK " ) ; \n
new file \n android \ res \ values - iw \n + values - he / \n
pom . xml \n - < dependencies > \n - < dependency > \n - < groupId > org . codehaus . plexus < / groupId > \n - < artifactId > plexus - utils < / artifactId > \n - < version > 3 . 0 . 15 < / version > \n - < / dependency > \n - < / dependencies > \n zxingorg \ pom . xml \n - < ! - - Doesn ' t work with release : - - > \n - < ! - - \n - - - > \n
core \ src \ com \ google \ zxing \ qrcode \ encoder \ ByteMatrix . java \n - * A class which wraps a 2D array of bytes . The default usage is signed . If you want to use it as a \n - * unsigned container , it ' s up to you to do byteValue & 0xff at each location . \n - * \n + / * * \n + * @ return an internal representation as bytes , in row - major order . array [ y ] [ x ] represents point ( x , y ) \n + * / \n
android \ src \ com \ google \ zxing \ client \ android \ result \ AddressBookResultHandler . java \n - boolean hasAddress = addresses ! = null & & addresses . length > 0 & & addresses [ 0 ] . length ( ) > 0 ; \n + boolean hasAddress = addresses ! = null & & addresses . length > 0 & & addresses [ 0 ] ! = null & & addresses [ 0 ] . length ( ) > 0 ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ worker \ WorkerKey . java \n + if ( ! this . protocolFormat . equals ( workerKey . protocolFormat ) ) { \n + return false ; \n + } \n - return Objects . hash ( args , env , execRoot , mnemonic , proxied ) ; \n + / / Use the string representation of the protocolFormat because the hash of the same enum value \n + / / can vary across instances . \n + return Objects . hash ( args , env , execRoot , mnemonic , proxied , protocolFormat . toString ( ) ) ; \n src \ test \ java \ com \ google \ devtools \ build \ lib \ worker \ WorkerKeyTest . java \n - assertThat ( workerKey . hashCode ( ) ) . isEqualTo ( 1434805936 ) ; \n + assertThat ( workerKey . hashCode ( ) ) . isEqualTo ( 1605714200 ) ; \n + \n + @ Test \n + public void testWorkerKeyEquality ( ) { \n + WorkerKey workerKeyWithSameFields = \n + new WorkerKey ( \n + workerKey . getArgs ( ) , \n + workerKey . getEnv ( ) , \n + workerKey . getExecRoot ( ) , \n + workerKey . getMnemonic ( ) , \n + workerKey . getWorkerFilesCombinedHash ( ) , \n + workerKey . getWorkerFilesWithHashes ( ) , \n + workerKey . mustBeSandboxed ( ) , \n + workerKey . getProxied ( ) , \n + workerKey . getProtocolFormat ( ) ) ; \n + assertThat ( workerKey ) . isEqualTo ( workerKeyWithSameFields ) ; \n + } \n + \n + @ Test \n + public void testWorkerKeyInequality _ protocol ( ) { \n + WorkerKey workerKeyWithDifferentProtocol = \n + new WorkerKey ( \n + workerKey . getArgs ( ) , \n + workerKey . getEnv ( ) , \n + workerKey . getExecRoot ( ) , \n + workerKey . getMnemonic ( ) , \n + workerKey . getWorkerFilesCombinedHash ( ) , \n + workerKey . getWorkerFilesWithHashes ( ) , \n + workerKey . mustBeSandboxed ( ) , \n + workerKey . getProxied ( ) , \n + WorkerProtocolFormat . JSON ) ; \n + assertThat ( workerKey ) . isNotEqualTo ( workerKeyWithDifferentProtocol ) ; \n + } \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ buildtool \ BuildRequestOptions . java \n - " The number of concurrent jobs to run . Takes { @ value FLAG _ SYNTAX } . Values must be " \n - + " between 1 and " \n + " The number of concurrent jobs to run . Takes " \n + + ResourceConverter . FLAG _ SYNTAX \n + + " . Values must be between 1 and " \n + MAX _ JOBS \n - + " values above " \n + + " . Values above " \n + JOBS _ TOO _ HIGH _ WARNING \n + " may cause memory issues . \ " auto \ " calculates a reasonable default based on " \n + " host resources . " ) \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ apple \ XcodeConfig . java \n + " because xcode - select points to this version locally . This corresponds to " \n - + " local Xcode version % 2 $ s . That build of version % 1 $ s is not " \n - + " available remotely , but there is a different build of version % 1 $ s , " \n - + " which has version % 3 $ s and aliases % 4 $ s . You probably meant to use this " \n - + " version . Please download it to continue using dynamic execution . If you " \n - + " really did intend to use local version % 2 $ s , please either specify it " \n - + " fully with - - xcode _ version = % 2 $ s or disable dynamic ( and thus remote ) " \n - + " execution . " , \n + + " local Xcode version % 2 $ s . That build of version % 1 $ s is not available " \n + + " remotely , but there is a different build of version % 1 $ s , which has " \n + + " version % 3 $ s and aliases % 4 $ s . You probably meant to use this version . " \n + + " Please download it * and delete version % 2 $ s * , then run ` blaze shutdown ` " \n + + " to continue using dynamic execution . If you really did intend to use " \n + + " local version % 2 $ s , please either specify it fully with " \n + + " - - xcode _ version = % 2 $ s or disable dynamic ( and thus remote ) execution . " , \n
handler \ src \ main \ java \ io \ netty \ handler \ timeout \ IdleStateHandler . java \n + import io . netty . util . internal . ObjectUtil ; \n - if ( unit = = null ) { \n - throw new NullPointerException ( " unit " ) ; \n - } \n + ObjectUtil . checkNotNull ( unit , " unit " ) ; \n
handler \ src \ main \ java \ io \ netty \ handler \ traffic \ AbstractTrafficShapingHandler . java \n - * Default minimal time to wait \n + * Default minimal time to wait : 10ms \n
transport - native - epoll \ src \ main \ java \ io \ netty \ channel \ epoll \ EpollEventLoopGroup . java \n + / * * \n + * Create a new instance using the default number of threads and the given { @ link ThreadFactory } . \n + * / \n + @ SuppressWarnings ( " deprecation " ) \n + public EpollEventLoopGroup ( ThreadFactory threadFactory ) { \n + this ( 0 , threadFactory , 0 ) ; \n + } \n + \n transport - native - kqueue \ src \ main \ java \ io \ netty \ channel \ kqueue \ KQueueEventLoopGroup . java \n + / * * \n + * Create a new instance using the default number of threads and the given { @ link ThreadFactory } . \n + * / \n + @ SuppressWarnings ( " deprecation " ) \n + public KQueueEventLoopGroup ( ThreadFactory threadFactory ) { \n + this ( 0 , threadFactory , 0 ) ; \n + } \n + \n transport \ src \ main \ java \ io \ netty \ channel \ DefaultEventLoopGroup . java \n + / * * \n + * Create a new instance with the default number of threads and the given { @ link ThreadFactory } . \n + * \n + * @ param threadFactory the { @ link ThreadFactory } or { @ code null } to use the default \n + * / \n + public DefaultEventLoopGroup ( ThreadFactory threadFactory ) { \n + this ( 0 , threadFactory ) ; \n + } \n + \n transport \ src \ main \ java \ io \ netty \ channel \ local \ LocalEventLoopGroup . java \n + / * * \n + * Create a new instance with the default number of threads and the given { @ link ThreadFactory } . \n + * \n + * @ param threadFactory the { @ link ThreadFactory } or { @ code null } to use the default \n + * / \n + public LocalEventLoopGroup ( ThreadFactory threadFactory ) { \n + super ( 0 , threadFactory ) ; \n + } \n + \n transport \ src \ main \ java \ io \ netty \ channel \ nio \ NioEventLoopGroup . java \n + / * * \n + * Create a new instance using the default number of threads , the given { @ link ThreadFactory } and the \n + * { @ link SelectorProvider } which is returned by { @ link SelectorProvider # provider ( ) } . \n + * / \n + public NioEventLoopGroup ( ThreadFactory threadFactory ) { \n + this ( 0 , threadFactory , SelectorProvider . provider ( ) ) ; \n + } \n + \n
dropwizard - logging \ src \ test \ java \ io \ dropwizard \ logging \ FileAppenderFactoryTest . java \n + @ Test \n + void testAppenderIsStarted ( @ TempDir Path tempDir ) throws Exception { \n + FileAppenderFactory < ILoggingEvent > fileAppenderFactory = new FileAppenderFactory < ILoggingEvent > ( ) ; \n + fileAppenderFactory . setCurrentLogFilename ( " application . log " ) ; \n + fileAppenderFactory . setArchive ( true ) ; \n + fileAppenderFactory . setArchivedFileCount ( 20 ) ; \n + fileAppenderFactory . setArchivedLogFilenamePattern ( " application - % i . log " ) ; \n + fileAppenderFactory . setMaxFileSize ( DataSize . megabytes ( 500 ) ) ; \n + fileAppenderFactory . setImmediateFlush ( false ) ; \n + fileAppenderFactory . setThreshold ( " ERROR " ) ; \n + Appender appender = fileAppenderFactory . build ( new LoggerContext ( ) , \n + " test - app " , \n + new DropwizardLayoutFactory ( ) , \n + new NullLevelFilterFactory < > ( ) , \n + new AsyncLoggingEventAppenderFactory ( ) ) ; \n + assertThat ( appender . isStarted ( ) ) . isTrue ( ) ; \n + } \n + \n
. github \ workflows \ maven . yml \n - name : Build with Maven \n - run : . / mvnw - Pjakarta - apis - V - B - ff - s . github / settings . xml install ' - DskipTests = true ' ' - Dmaven . javadoc . skip = true ' \n + run : . / mvnw - - no - transfer - progress - Pjakarta - apis - V - B - ff - s . github / settings . xml install ' - DskipTests = true ' ' - Dmaven . javadoc . skip = true ' \n - name : Run tests \n - run : . / mvnw - Pjakarta - apis - V - B - ff - s . github / settings . xml verify \n + run : . / mvnw - - no - transfer - progress - Pjakarta - apis - V - B - ff - s . github / settings . xml verify \n - name : Perform CodeQL Analysis \n
. github \ workflows \ maven . yml \n - java _ version : [ ' 8 ' , ' 11 ' , ' 14 ' ] \n + java _ version : [ ' 8 ' , ' 11 ' , ' 15 ' ] \n - name : Initialize CodeQL \n + if : matrix . java _ version = = ' 8 ' \n - name : Build with Maven \n - name : Perform CodeQL Analysis \n + if : matrix . java _ version = = ' 8 ' \n
guava - tests \ test \ com \ google \ common \ hash \ HashFunctionEnum . java \n - * Copyright ( C ) 2016 The Guava Authors \n + * Copyright ( C ) 2013 The Guava Authors \n guava - tests \ test \ com \ google \ common \ hash \ HashingTest . java \n - * Copyright ( C ) 2016 The Guava Authors \n + * Copyright ( C ) 2011 The Guava Authors \n + / / The following legacy hashing function methods have been covered by unit testing already . \n + List < String > legacyHashingMethodNames = ImmutableList . of ( " murmur2 _ 64 " , " fprint96 " ) ; \n - & & method . getParameterTypes ( ) . length = = 0 ) { / / only the seed - less grapes ^ W hash functions \n + & & method . getParameterTypes ( ) . length = = 0 / / only the seed - less grapes ^ W hash functions \n + & & ! legacyHashingMethodNames . contains ( method . getName ( ) ) ) { \n + \n + / / Parity tests taken from / / util / hash / hash _ unittest . cc \n
guava - tests \ test \ com \ google \ common \ util \ concurrent \ FuturesTransformAsyncTest . java \n - * Unit tests for { @ link Futures # transformAsync ( ListenableFuture , AsyncFunction ) } . \n + * Unit tests for { @ link Futures # transformAsync ( ListenableFuture , AsyncFunction , Executor ) } . \n - public class FuturesTransformAsyncTest \n - extends AbstractChainedListenableFutureTest < String > { \n + public class FuturesTransformAsyncTest extends AbstractChainedListenableFutureTest < String > { \n guava \ src \ com \ google \ common \ util \ concurrent \ AsyncFunction . java \n - * { @ link Futures # transformAsync ( ListenableFuture , AsyncFunction ) } . \n + * { @ link Futures # transformAsync ( ListenableFuture , AsyncFunction , Executor ) } . \n guava \ src \ com \ google \ common \ util \ concurrent \ Futures . java \n - / * * See { @ link # addCallback ( ListenableFuture , FutureCallback ) } for behavioral notes . * / \n + / * * See { @ link # addCallback ( ListenableFuture , FutureCallback , Executor ) } for behavioral notes . * / \n
android \ guava \ src \ com \ google \ common \ util \ concurrent \ Futures . java \n - * FutureCombiner # call ( Callable ) call ( . . . ) } , where it is easy to use a new input from the { @ code \n - * call } implementation but forget to add it to the arguments of { @ code whenAllComplete } . \n + * FutureCombiner # call ( Callable , Executor ) call ( . . . ) } , where it is easy to use a new input from \n + * the { @ code call } implementation but forget to add it to the arguments of { @ code \n + * whenAllComplete } . \n guava \ src \ com \ google \ common \ util \ concurrent \ Futures . java \n - * FutureCombiner # call ( Callable ) call ( . . . ) } , where it is easy to use a new input from the { @ code \n - * call } implementation but forget to add it to the arguments of { @ code whenAllComplete } . \n + * FutureCombiner # call ( Callable , Executor ) call ( . . . ) } , where it is easy to use a new input from \n + * the { @ code call } implementation but forget to add it to the arguments of { @ code \n + * whenAllComplete } . \n
build . gradle \n - sourceCompatibility = JavaVersion . VERSION _ 11 \n - targetCompatibility = JavaVersion . VERSION _ 11 \n + sourceCompatibility = targetCompatibility = JavaVersion . VERSION _ 11 \n - \n - perftestImplementation ' org . hdrhistogram : HdrHistogram : 2 . 1 . 10 ' \n - \n - jmhImplementation ' org . openjdk . jmh : jmh - core : 1 . 26 ' \n - jmhAnnotationProcessor ' org . openjdk . jmh : jmh - generator - annprocess : 1 . 26 ' \n gradle \ jmh . gradle \n + dependencies { \n + jmhImplementation ' org . openjdk . jmh : jmh - core : 1 . 26 ' \n + jmhAnnotationProcessor ' org . openjdk . jmh : jmh - generator - annprocess : 1 . 26 ' \n + } \n + \n gradle \ perf . gradle \n + dependencies { \n + perftestImplementation ' org . hdrhistogram : HdrHistogram : 2 . 1 . 10 ' \n + } \n + \n
src \ docs \ resources \ images \ classdiagram . png \n Binary files a / src / docs / resources / images / classdiagram . png and b / src / docs / resources / images / classdiagram . png differ \n src \ docs \ resources \ images \ diamond1p3c . png \n Binary files a / src / docs / resources / images / diamond1p3c . png and b / src / docs / resources / images / diamond1p3c . png differ \n src \ docs \ resources \ images \ multicast1p3c . png \n Binary files a / src / docs / resources / images / multicast1p3c . png and b / src / docs / resources / images / multicast1p3c . png differ \n src \ docs \ resources \ images \ sequencer3p1c . png \n Binary files a / src / docs / resources / images / sequencer3p1c . png and b / src / docs / resources / images / sequencer3p1c . png differ \n src \ docs \ resources \ images \ threestep1p3c . png \n Binary files a / src / docs / resources / images / threestep1p3c . png and b / src / docs / resources / images / threestep1p3c . png differ \n src \ docs \ resources \ images \ unicast1p1c . png \n Binary files a / src / docs / resources / images / unicast1p1c . png and b / src / docs / resources / images / unicast1p1c . png differ \n
build . gradle \n + test { \n + useJUnitPlatform ( ) \n + } \n + \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ common \ utils \ NetUtils . java \n - private static final String SPLIT _ IPV4 _ CHARECTER = " \ \ . " ; \n - private static final String SPLIT _ IPV6 _ CHARECTER = " : " ; \n + private static final String SPLIT _ IPV4 _ CHARACTER = " \ \ . " ; \n + private static final String SPLIT _ IPV6 _ CHARACTER = " : " ; \n - String splitCharacter = SPLIT _ IPV4 _ CHARECTER ; \n + String splitCharacter = SPLIT _ IPV4 _ CHARACTER ; \n - splitCharacter = SPLIT _ IPV6 _ CHARECTER ; \n + splitCharacter = SPLIT _ IPV6 _ CHARACTER ; \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ common \ utils \ ClassUtils . java \n - import java . util . Collection ; \n + import java . util . LinkedList ; \n + import java . util . Queue ; \n - import static java . util . Arrays . asList ; \n - import static java . util . stream . Collectors . toList ; \n - \n - if ( superClass ! = null ) { \n + while ( superClass ! = null ) { \n - / / add ancestor classes \n - allSuperClasses . addAll ( getAllSuperClasses ( superClass ) ) ; \n + superClass = superClass . getSuperclass ( ) ; \n - \n + Set < Class < ? > > resolved = new LinkedHashSet < > ( ) ; \n + Queue < Class < ? > > waitResolve = new LinkedList < > ( ) ; \n + \n + resolved . add ( type ) ; \n + Class < ? > clazz = type ; \n + while ( clazz ! = null ) { \n + \n + Class < ? > [ ] interfaces = clazz . getInterfaces ( ) ; \n + \n + if ( isNotEmpty ( interfaces ) ) { \n + / / add current interfaces \n + Arrays . stream ( interfaces ) \n + . filter ( resolved : : add ) \n + . forEach ( cls - > { \n + allInterfaces . add ( cls ) ; \n + waitResolve . add ( cls ) ; \n + } ) ; \n + } \n - Class < ? > [ ] interfaces = type . getInterfaces ( ) ; \n + / / add all super classes to waitResolve \n + getAllSuperClasses ( clazz ) \n + . stream ( ) \n + . filter ( resolved : : add ) \n + . forEach ( waitResolve : : add ) ; \n - if ( isNotEmpty ( interfaces ) ) { \n - / / add current interfaces \n - allInterfaces . addAll ( asList ( interfaces ) ) ; \n + clazz = waitResolve . poll ( ) ; \n - / / add all super interfaces \n - getAllSuperClasses ( type ) . forEach ( superType - > allInterfaces . addAll ( getAllInterfaces ( superType ) ) ) ; \n - \n - / / add all super interfaces from all interfaces \n - allInterfaces . stream ( ) \n - . map ( ClassUtils : : getAllInterfaces ) \n - . flatMap ( Collection : : stream ) \n - . collect ( toList ( ) ) \n - . forEach ( allInterfaces : : add ) ; \n - \n
dubbo - filter \ dubbo - filter - cache \ src \ main \ java \ org \ apache \ dubbo \ cache \ support \ expiring \ ExpiringMap . java \n + if ( timeToLiveMillis < = 0 ) { \n + return ; \n + } \n - if ( timeToLiveMillis < = 0 ) { \n - continue ; \n - } \n dubbo - filter \ dubbo - filter - cache \ src \ test \ java \ org \ apache \ dubbo \ cache \ support \ expiring \ ExpiringCacheFactoryTest . java \n + import org . apache . dubbo . common . URL ; \n + import org . apache . dubbo . rpc . Invocation ; \n + import org . apache . dubbo . rpc . RpcInvocation ; \n - import static org . hamcrest . core . Is . is ; \n + import static org . hamcrest . core . Is . is ; \n + import static org . junit . jupiter . api . Assertions . assertNotNull ; \n + import static org . junit . jupiter . api . Assertions . assertNull ; \n - public void testLruCacheFactory ( ) throws Exception { \n + public void testExpiringCacheFactory ( ) throws Exception { \n + @ Test \n + public void testExpiringCacheGetExpired ( ) throws Exception { \n + URL url = URL . valueOf ( " test : / / test : 12 / test ? cache = expiring & cache . seconds = 1 & cache . interval = 1 " ) ; \n + AbstractCacheFactory cacheFactory = getCacheFactory ( ) ; \n + Invocation invocation = new RpcInvocation ( ) ; \n + Cache cache = cacheFactory . getCache ( url , invocation ) ; \n + cache . put ( " testKey " , " testValue " ) ; \n + Thread . sleep ( 2100 ) ; \n + assertNull ( cache . get ( " testKey " ) ) ; \n + } \n + \n + @ Test \n + public void testExpiringCacheUnExpired ( ) throws Exception { \n + URL url = URL . valueOf ( " test : / / test : 12 / test ? cache = expiring & cache . seconds = 0 & cache . interval = 1 " ) ; \n + AbstractCacheFactory cacheFactory = getCacheFactory ( ) ; \n + Invocation invocation = new RpcInvocation ( ) ; \n + Cache cache = cacheFactory . getCache ( url , invocation ) ; \n + cache . put ( " testKey " , " testValue " ) ; \n + Thread . sleep ( 1100 ) ; \n + assertNotNull ( cache . get ( " testKey " ) ) ; \n + } \n + \n
src \ test \ shell \ integration \ bazel _ query _ test . sh \n - add _ to _ bazelrc " query - - order _ output = auto " \n + order _ output _ arg = - - order _ output = auto \n - add _ to _ bazelrc " query - - order _ output = no " \n + order _ output _ arg = - - order _ output = no \n - bazel query ' deps ( / / depth : one , 4 ) ' $ universe _ arg > $ TEST _ log \ \n - | | fail " Expected success " \n + bazel query ' deps ( / / depth : one , 4 ) ' $ order _ output _ arg $ universe _ arg \ \n + > $ TEST _ log | | fail " Expected success " \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ query2 \ common \ AbstractBlazeQueryEnvironment . java \n + import com . google . common . base . Predicates ; \n + import java . util . Iterator ; \n + protected void validateScopeOfTargets ( Set < Target > targets ) throws QueryException { \n + / / Sets . filter would be more convenient here , but can ' t deal with exceptions . \n + if ( labelFilter ! = Predicates . < Label > alwaysTrue ( ) ) { \n + / / The labelFilter is always true for bazel query ; it ' s only used for genquery rules . \n + Iterator < Target > targetIterator = targets . iterator ( ) ; \n + while ( targetIterator . hasNext ( ) ) { \n + Target target = targetIterator . next ( ) ; \n + if ( ! validateScope ( target . getLabel ( ) , strictScope ) ) { \n + targetIterator . remove ( ) ; \n + } \n + } \n + } \n + } \n + \n src \ main \ java \ com \ google \ devtools \ build \ lib \ query2 \ query \ BlazeQueryEnvironment . java \n - import com . google . common . base . Predicates ; \n - import java . util . Iterator ; \n - / / Sets . filter would be more convenient here , but can ' t deal with exceptions . \n - if ( labelFilter ! = Predicates . < Label > alwaysTrue ( ) ) { \n - / / The labelFilter is always true for bazel query ; it ' s only used for genquery rules . \n - Iterator < Target > targetIterator = targets . iterator ( ) ; \n - while ( targetIterator . hasNext ( ) ) { \n - Target target = targetIterator . next ( ) ; \n - if ( ! validateScope ( target . getLabel ( ) , strictScope ) ) { \n - targetIterator . remove ( ) ; \n - } \n - } \n - } \n + validateScopeOfTargets ( targets ) ; \n src \ main \ java \ com \ google \ devtools \ build \ lib \ query2 \ query \ GraphlessBlazeQueryEnvironment . java \n + import java . util . LinkedHashSet ; \n - callback . process ( resolvedTargetPatterns . get ( pattern ) ) ; \n + Set < Target > targets = new LinkedHashSet < > ( resolvedTargetPatterns . get ( pattern ) ) ; \n + validateScopeOfTargets ( targets ) ; \n + callback . process ( targets ) ; \n
site \ docs \ query . html \n - The default value of this flag is < code > auto < / code > , which is equivalent to \n - < code > full < / code > for every output format except for < code > proto < / code > , \n - < code > graph < / code > , < code > minrank < / code > , and < code > maxrank < / code > , for which \n - it is equivalent to < code > deps < / code > . \n + The default value of this flag is < code > auto < / code > , which prints results in < b > lexicographical \n + order < / b > . However , when < code > somepath ( a , b ) < / code > is used , the results will be printed in \n + < code > deps < / code > order instead . \n src \ main \ java \ com \ google \ devtools \ build \ lib \ query2 \ query \ output \ QueryOptions . java \n - defaultValue = " false " , \n + defaultValue = " true " , \n src \ test \ java \ com \ google \ devtools \ build \ lib \ buildtool \ QueryIntegrationTest . java \n - Collections . sort ( expected , Collections . reverseOrder ( ) ) ; \n + Collections . sort ( expected ) ; \n src \ test \ shell \ integration \ loading _ phase _ test . sh \n - fail " Expected null success " \n - printf " / / $ pkg / y : rules . bzl \ 0 / / $ pkg / y : BUILD \ 0 / / $ pkg / x : BUILD \ 0 " > $ pkg / null . ref . log \n + fail " Expected null success " § \n + printf " / / $ pkg / x : BUILD \ 0 / / $ pkg / y : BUILD \ 0 / / $ pkg / y : rules . bzl \ 0 " > $ pkg / null . ref . log \n
demo \ build . gradle \n - buildToolsVersion " 21 . 0 . 1 " \n + buildToolsVersion " 23 . 0 . 2 " \n library \ build . gradle \n - buildToolsVersion " 22 . 0 . 1 " \n + buildToolsVersion " 23 . 0 . 2 " \n
library \ src \ com \ sothree \ slidinguppanel \ SlidingUpPanelLayout . java \n - } else if ( lp . height = = LayoutParams . MATCH _ PARENT ) { \n - childHeightSpec = MeasureSpec . makeMeasureSpec ( height , MeasureSpec . EXACTLY ) ; \n - childHeightSpec = MeasureSpec . makeMeasureSpec ( lp . height , MeasureSpec . EXACTLY ) ; \n + / / Modify the height based on the weight . \n + if ( lp . weight > 0 & & lp . weight < 1 ) { \n + height = ( int ) ( height * lp . weight ) ; \n + } else if ( lp . height ! = LayoutParams . MATCH _ PARENT ) { \n + height = lp . height ; \n + } \n + childHeightSpec = MeasureSpec . makeMeasureSpec ( height , MeasureSpec . EXACTLY ) ; \n + public float weight = 0 ; \n + \n + public LayoutParams ( int width , int height , float weight ) { \n + super ( width , height ) ; \n + this . weight = weight ; \n + } \n + \n - final TypedArray a = c . obtainStyledAttributes ( attrs , ATTRS ) ; \n - a . recycle ( ) ; \n + final TypedArray ta = c . obtainStyledAttributes ( attrs , ATTRS ) ; \n + if ( ta ! = null ) { \n + this . weight = ta . getFloat ( 0 , 0 ) ; \n + } \n + \n + ta . recycle ( ) ; \n
demo \ src \ com \ sothree \ slidinguppanel \ demo \ DemoActivity . java \n + mLayout . setFadeOnClickListener ( new OnClickListener ( ) { \n + @ Override \n + public void onClick ( View view ) { \n + mLayout . setPanelState ( PanelState . COLLAPSED ) ; \n + } \n + } ) ; \n library \ src \ com \ sothree \ slidinguppanel \ SlidingUpPanelLayout . java \n + private View . OnClickListener mFadeOnClickListener ; \n + / * * \n + * Provides an on click for the portion of the main view that is dimmed . The listener is not \n + * triggered if the panel is in a collapsed or a hidden position . If the on click listener is \n + * not provided , the clicks on the dimmed area are passed through to the main layout . \n + * @ param listener \n + * / \n + public void setFadeOnClickListener ( View . OnClickListener listener ) { \n + mFadeOnClickListener = listener ; \n + } \n + final float adx = Math . abs ( x - mInitialMotionX ) ; \n + final float ady = Math . abs ( y - mInitialMotionY ) ; \n + final int dragSlop = mDragHelper . getTouchSlop ( ) ; \n - final float adx = Math . abs ( x - mInitialMotionX ) ; \n - final float ady = Math . abs ( y - mInitialMotionY ) ; \n - final int dragSlop = mDragHelper . getTouchSlop ( ) ; \n - \n + / / Check if this was a click on the faded part of the screen , and fire off the listener if there is one . \n + if ( ady < = dragSlop \n + & & adx < = dragSlop \n + & & mSlideOffset > = 0 & & ! isViewUnder ( mSlideableView , ( int ) mInitialMotionX , ( int ) mInitialMotionY ) & & mFadeOnClickListener ! = null ) { \n + playSoundEffect ( android . view . SoundEffectConstants . CLICK ) ; \n + mFadeOnClickListener . onClick ( this ) ; \n + return true ; \n + } \n - } else if ( action = = MotionEvent . ACTION _ UP & & mIsScrollableViewHandlingTouch ) { \n + } else if ( action = = MotionEvent . ACTION _ UP ) { \n - mDragHelper . setDragState ( ViewDragHelper . STATE _ IDLE ) ; \n + if ( mIsScrollableViewHandlingTouch ) { \n + mDragHelper . setDragState ( ViewDragHelper . STATE _ IDLE ) ; \n + } \n
dubbo - cluster \ src \ main \ java \ org \ apache \ dubbo \ rpc \ cluster \ loadbalance \ RandomLoadBalance . java \n - int totalWeight = 0 ; / / The sum of weights \n - for ( int i = 0 ; i < length ; i + + ) { \n + int firstWeight = getWeight ( invokers . get ( 0 ) , invocation ) ; \n + int totalWeight = firstWeight ; / / The sum of weights \n + for ( int i = 1 ; i < length ; i + + ) { \n - if ( sameWeight & & i > 0 \n - & & weight ! = getWeight ( invokers . get ( i - 1 ) , invocation ) ) { \n + if ( sameWeight & & weight ! = firstWeight ) { \n
dubbo - registry \ dubbo - registry - api \ src \ test \ java \ org \ apache \ dubbo \ registry \ support \ FailbackRegistryTest . java \n + import org . junit . Assert ; \n + @ Test \n + public void testRecover ( ) throws Exception { \n + CountDownLatch countDownLatch = new CountDownLatch ( 4 ) ; \n + final AtomicReference < Boolean > notified = new AtomicReference < Boolean > ( false ) ; \n + NotifyListener listener = new NotifyListener ( ) { \n + @ Override \n + public void notify ( List < URL > urls ) { \n + notified . set ( Boolean . TRUE ) ; \n + } \n + } ; \n + \n + MockRegistry mockRegistry = new MockRegistry ( registryUrl , countDownLatch ) ; \n + mockRegistry . register ( serviceUrl ) ; \n + mockRegistry . subscribe ( serviceUrl , listener ) ; \n + Assert . assertEquals ( 1 , mockRegistry . getRegistered ( ) . size ( ) ) ; \n + Assert . assertEquals ( 1 , mockRegistry . getSubscribed ( ) . size ( ) ) ; \n + mockRegistry . recover ( ) ; \n + countDownLatch . await ( ) ; \n + Assert . assertEquals ( 0 , mockRegistry . getFailedRegistered ( ) . size ( ) ) ; \n + Assert . assertEquals ( null , mockRegistry . getFailedSubscribed ( ) . get ( registryUrl ) ) ; \n + Assert . assertEquals ( countDownLatch . getCount ( ) , 0 ) ; \n + } \n
dubbo - rpc \ dubbo - rpc - dubbo \ src \ main \ java \ org \ apache \ dubbo \ rpc \ protocol \ dubbo \ telnet \ InvokeTelnetHandler . java \n + Class < ? > boxedType = ReflectUtils . getBoxedClass ( type ) ; \n + if ( boxedType ! = arg . getClass ( ) ) { \n + return false ; \n + } \n
dubbo - config \ dubbo - config - api \ src \ main \ java \ org \ apache \ dubbo \ config \ utils \ ConfigValidationUtils . java \n - checkMultiExtension ( InvokerListener . class , LISTENER _ KEY , config . getListener ( ) ) ; \n - checkMultiExtension ( ExporterListener . class , " listener " , config . getListener ( ) ) ; \n + checkMultiExtension ( ExporterListener . class , LISTENER _ KEY , config . getListener ( ) ) ; \n - checkMultiExtension ( InvokerListener . class , " listener " , config . getListener ( ) ) ; \n + checkMultiExtension ( InvokerListener . class , LISTENER _ KEY , config . getListener ( ) ) ; \n
dubbo - registry \ dubbo - registry - nacos \ src \ main \ java \ org \ apache \ dubbo \ registry \ nacos \ NacosRegistryFactory . java \n + import org . apache . dubbo . common . utils . StringUtils ; \n + import static org . apache . dubbo . common . constants . CommonConstants . CONFIG _ NAMESPACE _ KEY ; \n + String namespace = url . getParameter ( CONFIG _ NAMESPACE _ KEY ) ; \n + url = URL . valueOf ( url . toServiceStringWithoutResolving ( ) ) ; \n + if ( StringUtils . isNotEmpty ( namespace ) ) { \n + url = url . addParameter ( CONFIG _ NAMESPACE _ KEY , namespace ) ; \n + } \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ config \ context \ ConfigConfigurationAdapter . java \n - metaData = new HashMap < > ( configMetadata . size ( ) ) ; \n + metaData = new HashMap < > ( configMetadata . size ( ) , 1 . 0f ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ genquery \ GenQuery . java \n - Profiler . instance ( ) . profile ( " GenQuery . executeQuery / " + ruleContext . getLabel ( ) ) ) { \n + Profiler . instance ( ) . profile ( " GenQuery . executeQuery " + ruleContext . getLabel ( ) ) ) { \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CppCompileAction . java \n + import java . util . Collections ; \n + Collections . sort ( includes , Artifact . EXEC _ PATH _ COMPARATOR ) ; \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ profiler \ ProfilerTask . java \n + FILESYSTEM _ TRAVERSAL ( " filesystem traversal " ) , \n src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ BUILD \n + " / / src / main / java / com / google / devtools / build / lib / profiler " , \n src \ main \ java \ com \ google \ devtools \ build \ lib \ skyframe \ RecursiveFilesystemTraversalFunction . java \n + import com . google . devtools . build . lib . profiler . Profiler ; \n + import com . google . devtools . build . lib . profiler . ProfilerTask ; \n + import com . google . devtools . build . lib . profiler . SilentCloseable ; \n - try { \n + try ( SilentCloseable c = \n + Profiler . instance ( ) \n + . profile ( ProfilerTask . FILESYSTEM _ TRAVERSAL , traversal . getRoot ( ) . toString ( ) ) ) { \n
library \ src \ main \ java \ uk \ co \ senab \ photoview \ IPhotoView . java \n - / * * \n - * PhotoViewAttacher . OnPhotoTapListener reference should be stored in a variable instead , this \n - * will be removed in future release . \n - * < p > & nbsp ; < / p > \n - * Returns a listener to be invoked when the Photo displayed by this View is tapped with a \n - * single tap . \n - * \n - * @ return PhotoViewAttacher . OnPhotoTapListener currently set , may be null \n - * / \n - PhotoViewAttacher . OnPhotoTapListener getOnPhotoTapListener ( ) ; \n - \n - / * * \n - * PhotoViewAttacher . OnViewTapListener reference should be stored in a variable instead , this \n - * will be removed in future release . \n - * < p > & nbsp ; < / p > \n - * Returns a callback listener to be invoked when the View is tapped with a single tap . \n - * \n - * @ return PhotoViewAttacher . OnViewTapListener currently set , may be null \n - * / \n - PhotoViewAttacher . OnViewTapListener getOnViewTapListener ( ) ; \n - \n library \ src \ main \ java \ uk \ co \ senab \ photoview \ PhotoView . java \n - @ Override \n - public OnPhotoTapListener getOnPhotoTapListener ( ) { \n - return mAttacher . getOnPhotoTapListener ( ) ; \n - } \n - \n - @ Override \n - public OnViewTapListener getOnViewTapListener ( ) { \n - return mAttacher . getOnViewTapListener ( ) ; \n - } \n - \n library \ src \ main \ java \ uk \ co \ senab \ photoview \ PhotoViewAttacher . java \n + import android . support . annotation . Nullable ; \n - @ Override \n - public OnPhotoTapListener getOnPhotoTapListener ( ) { \n + @ Nullable \n + OnPhotoTapListener getOnPhotoTapListener ( ) { \n - @ Override \n - public OnViewTapListener getOnViewTapListener ( ) { \n + @ Nullable \n + OnViewTapListener getOnViewTapListener ( ) { \n
sample \ src \ main \ java \ uk \ co \ senab \ photoview \ sample \ ViewPagerActivity . java \n - import android . support . annotation . NonNull ; \n - import android . view . Menu ; \n - import android . view . MenuItem ; \n - import android . view . MenuItem . OnMenuItemClickListener ; \n - \n - private ViewPager mViewPager ; \n - \n - @ Override \n + \n + @ Override \n - mViewPager = ( HackyViewPager ) findViewById ( R . id . view _ pager ) ; \n + ViewPager mViewPager = ( HackyViewPager ) findViewById ( R . id . view _ pager ) ; \n sample \ src \ main \ res \ values \ strings . xml \n - < string name = " menu _ lock " > Lock < / string > \n - < string name = " menu _ unlock " > Unlock < / string > \n
sample \ src \ main \ res \ menu \ main _ menu . xml \n - < menu xmlns : tools = " http : / / schemas . android . com / tools " \n - xmlns : android = " http : / / schemas . android . com / apk / res / android " \n + < menu xmlns : android = " http : / / schemas . android . com / apk / res / android " \n + xmlns : tools = " http : / / schemas . android . com / tools " \n - android : showAsAction = " never " \n - android : showAsAction = " never " \n - android : showAsAction = " never " \n - android : showAsAction = " never " \n - android : showAsAction = " never " \n - android : showAsAction = " never " \n - android : showAsAction = " never " \n - android : showAsAction = " never " \n - android : showAsAction = " never " \n
android \ src \ com \ google \ zxing \ client \ android \ wifi \ Killer . java \n - * Close the parent after a delay . \n + * Start a browser after a delay to let the user read the informative \n + * message . \n - / / Three full seconds \n + / / Wait for this long , to enable the user to read the status . \n - / / This will kill the parent , a bad idea . \n - / / parent . finish ( ) ; \n - / / This will start the browser , a better idea \n + / / This will start the browser . \n
android \ src \ com \ google \ zxing \ client \ android \ wifi \ WifiReceiver . java \n + / / Wifi supplicant ( WPA client software ) changed state . \n + / / The network state changed . \n + / / We might be connected . \n + / / Yes , we connected to the network specified in the barcode . \n + / / Let ' s save the configuration , since we know it works . Then , \n + / / we stop this application by calling the killer . \n + / / We couldn ' t connect to the specified network . Let the parent \n + / / know that we were unsuccessful . \n - } \n + } \n
android \ src \ com \ google \ zxing \ client \ android \ wifi \ WifiActivity . java \n - wifiReceiver = new WifiReceiver ( wifiManager , this , statusView , ssid ) ; \n + wifiReceiver = new WifiReceiver ( wifiManager , this , statusView ) ; \n android \ src \ com \ google \ zxing \ client \ android \ wifi \ WifiReceiver . java \n - / / FIXME : Why is ssid ignored here ? \n - WifiReceiver ( WifiManager wifiManager , WifiActivity wifiActivity , TextView statusView , \n - String ssid ) { \n + WifiReceiver ( WifiManager wifiManager , WifiActivity wifiActivity , TextView statusView ) { \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcCompilationHelper . java \n + boolean isObjcFile = CppFileTypes . OBJC _ SOURCE . matches ( path ) ; \n + boolean isObjcppFile = CppFileTypes . OBJCPP _ SOURCE . matches ( path ) ; \n - if ( ! isCFile & & ! isCppFile ) { \n + if ( ! isCFile & & ! isCppFile & & ! isObjcFile & & ! isObjcppFile ) { \n
src \ main \ java \ com \ google \ devtools \ build \ lib \ rules \ cpp \ CcLinkingHelper . java \n + String mnemonic = \n + ( linkType . equals ( LinkTargetType . OBJCPP _ EXECUTABLE ) \n + | | linkType . equals ( LinkTargetType . OBJC _ EXECUTABLE ) ) \n + ? " ObjcLink " \n + : null ; \n - . setMnemonic ( \n - featureConfiguration . isEnabled ( CppRuleClasses . LANG _ OBJC ) ? " ObjcLink " : null ) \n + . setMnemonic ( mnemonic ) \n src \ test \ java \ com \ google \ devtools \ build \ lib \ rules \ objc \ ObjcLibraryTest . java \n + import com . google . devtools . build . lib . rules . cpp . CppLinkAction ; \n + @ Test \n + public void testLinkActionMnemonic ( ) throws Exception { \n + scratchConfiguredTarget ( " foo " , " x " , " objc _ library ( name = ' x ' , srcs = [ ' a . m ' ] ) " ) ; \n + \n + CppLinkAction archiveAction = ( CppLinkAction ) archiveAction ( " / / foo : x " ) ; \n + assertThat ( archiveAction . getMnemonic ( ) ) . isEqualTo ( " CppLink " ) ; \n + CppLinkAction fullyArchiveAction = \n + ( CppLinkAction ) getGeneratingActionForLabel ( " / / foo : x _ fully _ linked . a " ) ; \n + assertThat ( fullyArchiveAction . getMnemonic ( ) ) . isEqualTo ( " CppLink " ) ; \n + } \n + \n
src \ test \ java \ com \ google \ devtools \ build \ lib \ rules \ objc \ BazelJ2ObjcLibraryTest . java \n - useConfiguration ( " - - experimental _ objc _ enable _ module _ maps " ) ; \n src \ test \ java \ com \ google \ devtools \ build \ lib \ rules \ objc \ ObjcRuleTestCase . java \n - useConfiguration ( " - - experimental _ objc _ enable _ module _ maps " ) ; \n
src \ main \ java \ com \ alibaba \ fastjson \ parser \ deserializer \ NumberDeserializer . java \n - BigDecimal val = lexer . decimalValue ( ) ; \n - lexer . nextToken ( JSONToken . COMMA ) ; \n - \n - if ( val . compareTo ( BigDecimal . valueOf ( Short . MAX _ VALUE ) ) > 0 | | val . compareTo ( BigDecimal . valueOf ( Short . MIN _ VALUE ) ) < 0 ) { \n + Number val = lexer . decimalValue ( false ) ; \n + lexer . nextToken ( JSONToken . COMMA ) ; \n + int intValue = val . intValue ( ) ; \n + if ( intValue > Short . MAX _ VALUE | | intValue < Short . MIN _ VALUE ) { \n - return ( T ) Short . valueOf ( val . shortValue ( ) ) ; \n + return ( T ) Short . valueOf ( ( short ) intValue ) ; \n - return ( T ) Byte . valueOf ( val . byteValue ( ) ) ; \n + Number val = lexer . decimalValue ( false ) ; \n + lexer . nextToken ( JSONToken . COMMA ) ; \n + int intValue = val . intValue ( ) ; \n + if ( intValue > Byte . MAX _ VALUE | | intValue < Byte . MIN _ VALUE ) { \n + throw new JSONException ( " byte overflow : " + val ) ; \n + } \n + return ( T ) Byte . valueOf ( ( byte ) intValue ) ; \n + BigDecimal val = lexer . decimalValue ( ) ; \n + lexer . nextToken ( JSONToken . COMMA ) ; \n + \n + \n + \n
src \ main \ java \ com \ alibaba \ fastjson \ JSON . java \n - \n - \n - \n - / / public static String DEFFAULT _ LOCAL _ DATE _ TIME _ FORMAT = " yyyy - MM - dd ' T ' HH : mm : ss . SSSSSS " ; \n - \n + public static int DEFAULT _ GENERATE _ FEATURE ; \n - public static int DEFAULT _ GENERATE _ FEATURE ; \n + static { \n + { \n + if ( " true " . equals ( IOUtils . DEFAULT _ PROPERTIES . getProperty ( " parser . features . NonStringKeyAsString " ) ) ) { \n + DEFAULT _ PARSER _ FEATURE | = Feature . NonStringKeyAsString . getMask ( ) ; \n + } \n + } \n + } \n + \n
src \ main \ java \ com \ alibaba \ fastjson \ serializer \ SerializeWriter . java \n - private final static ThreadLocal < char [ ] > bufLocal = new ThreadLocal < char [ ] > ( ) ; \n - private final static ThreadLocal < byte [ ] > bytesBufLocal = new ThreadLocal < byte [ ] > ( ) ; \n + private final static ThreadLocal < char [ ] > bufLocal = new ThreadLocal < char [ ] > ( ) ; \n + private final static ThreadLocal < byte [ ] > bytesBufLocal = new ThreadLocal < byte [ ] > ( ) ; \n + private static int BUFFER _ THRESHOLD = 1024 * 128 ; \n + \n + static { \n + try { \n + String prop = IOUtils . getStringProperty ( " fastjson . serializer _ buffer _ threshold " ) ; \n + if ( prop ! = null & & prop . length ( ) > 0 ) { \n + int serializer _ buffer _ threshold = Integer . parseInt ( prop ) ; \n + if ( serializer _ buffer _ threshold > = 64 & & serializer _ buffer _ threshold < = 1024 * 64 ) { \n + BUFFER _ THRESHOLD = serializer _ buffer _ threshold * 1024 ; \n + } \n + } \n + } catch ( Throwable error ) { \n + / / skip \n + } \n + } \n - if ( buf . length < = 1024 * 128 ) { \n + if ( buf . length < = BUFFER _ THRESHOLD ) { \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ common \ utils \ IOUtils . java \n + / * * \n + * Miscellaneous io utility methods . \n + * Mainly for internal use within the framework . \n + * \n + * @ author william . liangf \n + * @ since 2 . 0 . 7 \n + * / \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - public static long write ( final InputStream input , final OutputStream output , final byte [ ] buffer ) throws IOException { \n + / * * \n + * write . \n + * \n + * @ param input InputStream instance . \n + * @ param output OutputStream instance . \n + * @ param buffer buffer byte array \n + * @ return count . \n + * @ throws IOException If an I / O error occurs \n + * / \n + public static long write ( final InputStream input , final OutputStream output , final byte [ ] buffer ) throws IOException { \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n - * @ throws IOException \n + * @ throws IOException If an I / O error occurs \n
dubbo - rpc \ dubbo - rpc - dubbo \ src \ main \ java \ org \ apache \ dubbo \ rpc \ protocol \ dubbo \ DubboProtocol . java \n - / * * \n + / * \n - / * * \n + / * \n - / * * \n + / * \n
dubbo - rpc \ dubbo - rpc - rmi \ src \ main \ java \ com \ alibaba \ dubbo \ rpc \ protocol \ rmi \ RmiRemoteInvocation . java \n + * This class is deprecated , please use { @ link org . apache . dubbo . rpc . protocol . rmi . RmiRemoteInvocation } . \n + * @ author chickenlj \n + * @ deprecated \n + \n
src \ test \ java \ spark \ BooksIntegrationTest . java \n + import java . io . IOException ; \n - private static UrlResponse doMethod ( String requestMethod , String path , String body ) throws Exception { \n - URL url = new URL ( " http : / / localhost : " + PORT + path ) ; \n - HttpURLConnection connection = ( HttpURLConnection ) url . openConnection ( ) ; \n - connection . setRequestMethod ( requestMethod ) ; \n + private static UrlResponse doMethod ( String requestMethod , String path , String body ) { \n + UrlResponse response = new UrlResponse ( ) ; \n + \n + try { \n + URL url = new URL ( " http : / / localhost : " + PORT + path ) ; \n + HttpURLConnection connection = ( HttpURLConnection ) url . openConnection ( ) ; \n + connection . setRequestMethod ( requestMethod ) ; \n - connection . connect ( ) ; \n + connection . connect ( ) ; \n + \n + String res = IOUtils . toString ( connection . getInputStream ( ) ) ; \n + \n + response . body = res ; \n + response . status = connection . getResponseCode ( ) ; \n + response . headers = connection . getHeaderFields ( ) ; \n + } catch ( IOException e ) { \n + e . printStackTrace ( ) ; \n + } \n - String res = IOUtils . toString ( connection . getInputStream ( ) ) ; \n - UrlResponse response = new UrlResponse ( ) ; \n - response . body = res ; \n - response . status = connection . getResponseCode ( ) ; \n - response . headers = connection . getHeaderFields ( ) ; \n
src \ test \ java \ spark \ BooksIntegrationTest . java \n - @ Test \n - public void wontFindBook ( ) { \n - try { \n - getResponse ( " GET " , " / books / " + bookId , null ) ; \n - } catch ( Exception e ) { \n - if ( e instanceof FileNotFoundException ) { \n - assertTrue ( true ) ; \n - } else { \n - e . printStackTrace ( ) ; \n - throw new RuntimeException ( e ) ; \n - } \n - } \n + @ Test ( expected = FileNotFoundException . class ) \n + public void wontFindBook ( ) throws IOException { \n + getResponse ( " GET " , " / books / " + bookId , null ) ; \n
src \ test \ java \ spark \ BooksIntegrationTest . java \n - import org . junit . Before ; \n + import org . junit . AfterClass ; \n + import org . junit . BeforeClass ; \n + @ AfterClass \n + public static void tearDown ( ) { \n + Spark . stop ( ) ; \n + } \n + \n - public void tearDown ( ) { \n + public void clearBooks ( ) { \n - Spark . stop ( ) ; \n - @ Before \n - public void setup ( ) { \n + @ BeforeClass \n + public static void setup ( ) { \n
AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ logger \ LoggerContext . java \n - import java . util . ArrayList ; \n - import java . util . List ; \n - \n - import javax . annotation . processing . ProcessingEnvironment ; \n - import javax . lang . model . element . AnnotationMirror ; \n - import javax . lang . model . element . Element ; \n - \n + import javax . annotation . processing . ProcessingEnvironment ; \n + import javax . lang . model . element . AnnotationMirror ; \n + import javax . lang . model . element . Element ; \n + import java . util . ArrayList ; \n + import java . util . List ; \n + \n + OptionsHelper optionsHelper = new OptionsHelper ( processingEnv ) ; \n + resolveLogLevel ( optionsHelper ) ; \n + addConsoleAppender ( optionsHelper ) ; \n + \n - \n - OptionsHelper optionsHelper = new OptionsHelper ( processingEnv ) ; \n - resolveLogLevel ( optionsHelper ) ; \n - addConsoleAppender ( optionsHelper ) ; \n AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ logger \ appender \ FileAppender . java \n - import java . io . File ; \n - import java . io . FileNotFoundException ; \n - import java . io . FileOutputStream ; \n - import java . io . IOException ; \n + import org . androidannotations . helper . FileHelper ; \n + import org . androidannotations . logger . Level ; \n + import org . androidannotations . logger . LoggerContext ; \n + import org . androidannotations . logger . formatter . FormatterFull ; \n - \n - import org . androidannotations . helper . FileHelper ; \n - import org . androidannotations . logger . Level ; \n - import org . androidannotations . logger . formatter . FormatterFull ; \n + import java . io . File ; \n + import java . io . FileNotFoundException ; \n + import java . io . FileOutputStream ; \n + import java . io . IOException ; \n + Level logLevel = LoggerContext . getInstance ( ) . getCurrentLevel ( ) ; \n - messager . printMessage ( Kind . WARNING , " Can ' t resolve log file " ) ; \n - } else { \n + if ( Level . WARN . isGreaterOrEquals ( logLevel ) ) { \n + messager . printMessage ( Kind . WARNING , " Can ' t resolve log file " ) ; \n + } \n + } else if ( Level . INFO . isGreaterOrEquals ( logLevel ) ) { \n
AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ handler \ ExtraHandler . java \n + \n + validatorHelper . canBePutInABundle ( element , valid ) ; \n AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ handler \ FragmentArgHandler . java \n + \n + validatorHelper . canBePutInABundle ( element , valid ) ; \n AndroidAnnotations \ androidannotations \ src \ main \ java \ org \ androidannotations \ helper \ BundleHelper . java \n - public boolean restoreCallNeedCastStatement ( ) { \n - return restoreCallNeedCastStatement ; \n - } \n - \n - public boolean restoreCallNeedsSuppressWarning ( ) { \n - return restoreCallNeedsSuppressWarning ; \n - } \n - \n - public String getMethodNameToRestore ( ) { \n - return methodNameToRestore ; \n - } \n - \n - \n - \n - if ( restoreCallNeedCastStatement ( ) ) { \n + if ( restoreCallNeedCastStatement ) { \n - if ( restoreCallNeedsSuppressWarning ( ) ) { \n + if ( restoreCallNeedsSuppressWarning ) { \n AndroidAnnotations \ functional - test - 1 - 5 \ src \ main \ java \ org \ androidannotations \ test15 \ ExtraInjectedActivity . java \n - import java . util . List ; \n + import java . util . ArrayList ; \n - List < String > listExtra ; \n + ArrayList < String > listExtra ; \n
AndroidAnnotations \ androidannotations - otto \ otto \ src \ main \ java \ org \ androidannotations \ otto \ handler \ AbstractOttoHandler . java \n + import com . sun . codemodel . JMethod ; \n + import javax . lang . model . element . AnnotationMirror ; \n - codeModelHelper . overrideAnnotatedMethod ( executableElement , holder ) ; \n + JMethod method = codeModelHelper . overrideAnnotatedMethod ( executableElement , holder ) ; \n + \n + addOttoAnnotation ( executableElement , method ) ; \n + } \n + \n + private void addOttoAnnotation ( ExecutableElement element , JMethod method ) { \n + for ( AnnotationMirror annotationMirror : element . getAnnotationMirrors ( ) ) { \n + if ( annotationMirror . getAnnotationType ( ) . toString ( ) . equals ( getTarget ( ) ) ) { \n + codeModelHelper . addAnnotation ( method , annotationMirror ) ; \n + break ; \n + } \n + } \n
dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ RpcStatus . java \n - private static final ConcurrentMap < String , RpcStatus > SERVICE _ STATISTICS = new ConcurrentHashMap < String , RpcStatus > ( ) ; \n + private static final ConcurrentMap < String , RpcStatus > SERVICE _ STATISTICS = new ConcurrentHashMap < String , \n + RpcStatus > ( ) ; \n + \n + private static final ConcurrentMap < String , ConcurrentMap < String , RpcStatus > > METHOD _ STATISTICS = \n + new ConcurrentHashMap < String , ConcurrentMap < String , RpcStatus > > ( ) ; \n - private static final ConcurrentMap < String , ConcurrentMap < String , RpcStatus > > METHOD _ STATISTICS = new ConcurrentHashMap < String , ConcurrentMap < String , RpcStatus > > ( ) ; \n + \n - if ( i + 1 > max ) { \n + \n + if ( i = = Integer . MAX _ VALUE | | i + 1 > max ) { \n + \n + \n + \n + \n + \n + \n
dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ filter \ TokenFilter . java \n - throw new RpcException ( " Invalid token ! Forbid invoke remote service " + serviceType + " method " + inv . getMethodName ( ) + " ( ) from consumer " + RpcContext . getContext ( ) . getRemoteHost ( ) + " to provider " + RpcContext . getContext ( ) . getLocalHost ( ) ) ; \n + throw new RpcException ( " Invalid token ! Forbid invoke remote service " + serviceType + " method " + inv . getMethodName ( ) \n + + " ( ) from consumer " + RpcContext . getContext ( ) . getRemoteHost ( ) + " to provider " + RpcContext . getContext ( ) . getLocalHost ( ) \n + + " , consumer incorrect token is " + remoteToken ) ; \n
dubbo - rpc \ dubbo - rpc - dubbo \ src \ main \ java \ org \ apache \ dubbo \ rpc \ protocol \ dubbo \ DubboProtocol . java \n + @ Override \n - / / dubbo check \n + / / double check \n + * But " locks . remove ( key ) ; " can lead to " synchronized ( locks . get ( key ) ) { " NPE , considering that the key of locks is " IP + port " , \n + * it will not lead to the expansion of " locks " in theory , so I will annotate it here . \n - locks . remove ( key ) ; \n + / / locks . remove ( key ) ; \n
dubbo - registry \ dubbo - registry - api \ src \ main \ java \ org \ apache \ dubbo \ registry \ support \ AbstractRegistry . java \n - if ( key ! = null & & key . length ( ) > 0 & & key . equals ( url . getServiceKey ( ) ) \n + if ( StringUtils . isNotEmpty ( key ) & & key . equals ( url . getServiceKey ( ) ) \n - & & value ! = null & & value . length ( ) > 0 ) { \n + & & StringUtils . isNotEmpty ( value ) ) { \n - if ( notifiedUrls ! = null & & notifiedUrls . size ( ) > 0 ) { \n + if ( CollectionUtils . isNotEmptyMap ( notifiedUrls ) ) { \n
dubbo - rpc \ dubbo - rpc - api \ src \ main \ java \ org \ apache \ dubbo \ rpc \ support \ RpcUtils . java \n - Class < ? > invokerInterface = invocation . getInvoker ( ) . getInterface ( ) ; \n - Class < ? > cls = invokerInterface ! = null ? ReflectUtils . forName ( invokerInterface . getClassLoader ( ) , service ) \n - : ReflectUtils . forName ( service ) ; \n - Method method = cls . getMethod ( invocation . getMethodName ( ) , invocation . getParameterTypes ( ) ) ; \n - if ( method . getReturnType ( ) = = void . class ) { \n - return null ; \n - } \n + Method method = getMethodByService ( invocation , service ) ; \n - Class < ? > invokerInterface = invocation . getInvoker ( ) . getInterface ( ) ; \n - Class < ? > cls = invokerInterface ! = null ? ReflectUtils . forName ( invokerInterface . getClassLoader ( ) , service ) \n - : ReflectUtils . forName ( service ) ; \n - Method method = cls . getMethod ( invocation . getMethodName ( ) , invocation . getParameterTypes ( ) ) ; \n - if ( method . getReturnType ( ) = = void . class ) { \n - return null ; \n - } \n + Method method = getMethodByService ( invocation , service ) ; \n + \n + private static Method getMethodByService ( Invocation invocation , String service ) throws NoSuchMethodException { \n + Class < ? > invokerInterface = invocation . getInvoker ( ) . getInterface ( ) ; \n + Class < ? > cls = invokerInterface ! = null ? ReflectUtils . forName ( invokerInterface . getClassLoader ( ) , service ) \n + : ReflectUtils . forName ( service ) ; \n + Method method = cls . getMethod ( invocation . getMethodName ( ) , invocation . getParameterTypes ( ) ) ; \n + if ( method . getReturnType ( ) = = void . class ) { \n + return null ; \n + } \n + return method ; \n + } \n
dubbo - common \ src \ main \ java \ org \ apache \ dubbo \ rpc \ support \ ProtocolUtils . java \n - return generic ! = null \n - & & ! " " . equals ( generic ) \n + return StringUtils . isNotEmpty ( generic ) \n
src \ main \ java \ rx \ internal \ operators \ OperatorDebounceWithTime . java \n + \n + @ Override \n + public void onStart ( ) { \n + request ( Long . MAX _ VALUE ) ; \n + } \n + \n
src \ test \ java \ rx \ internal \ operators \ OperatorDebounceTest . java \n + import java . util . Arrays ; \n + import rx . observers . TestSubscriber ; \n + \n + @ Test \n + public void debounceWithTimeBackpressure ( ) throws InterruptedException { \n + TestScheduler scheduler = new TestScheduler ( ) ; \n + TestSubscriber < Integer > subscriber = new TestSubscriber < Integer > ( ) ; \n + Observable . merge ( \n + Observable . just ( 1 ) , \n + Observable . just ( 2 ) . delay ( 10 , TimeUnit . MILLISECONDS , scheduler ) \n + ) . debounce ( 20 , TimeUnit . MILLISECONDS , scheduler ) . take ( 1 ) . subscribe ( subscriber ) ; \n + \n + scheduler . advanceTimeBy ( 30 , TimeUnit . MILLISECONDS ) ; \n + \n + subscriber . assertReceivedOnNext ( Arrays . asList ( 2 ) ) ; \n + subscriber . assertTerminalEvent ( ) ; \n + subscriber . assertNoErrors ( ) ; \n + } \n
src \ main \ java \ rx \ internal \ operators \ OperatorPublish . java \n + public synchronized boolean hasNoSubscriber ( ) { \n + return subscribers . length = = 0 ; \n + } \n + \n - OriginSubscriber < T > origin = state . getOrigin ( ) ; \n - if ( emitted > 0 & & origin ! = null ) { \n - long r = origin . originOutstanding . addAndGet ( - emitted ) ; \n - if ( r < = origin . THRESHOLD ) { \n - origin . requestMore ( RxRingBuffer . SIZE - origin . THRESHOLD ) ; \n + if ( emitted > 0 ) { \n + OriginSubscriber < T > origin = state . getOrigin ( ) ; \n + if ( origin ! = null ) { \n + long r = origin . originOutstanding . addAndGet ( - emitted ) ; \n + if ( r < = origin . THRESHOLD ) { \n + origin . requestMore ( RxRingBuffer . SIZE - origin . THRESHOLD ) ; \n + } \n - \n + if ( localState . hasNoSubscriber ( ) ) { \n + / / Drop items due to no subscriber \n + if ( localBuffer . poll ( ) = = null ) { \n + / / Exit due to no more item \n + break ; \n + } else { \n + / / Keep dropping cached items . \n + continue ; \n + } \n + } \n + \n src \ test \ java \ rx \ internal \ operators \ OperatorPublishTest . java \n + import rx . schedulers . TestScheduler ; \n + \n + @ Test \n + public void testConnectWithNoSubscriber ( ) { \n + TestScheduler scheduler = new TestScheduler ( ) ; \n + ConnectableObservable < Long > co = Observable . timer ( 10 , 10 , TimeUnit . MILLISECONDS , scheduler ) . take ( 3 ) . publish ( ) ; \n + co . connect ( ) ; \n + / / Emit 0 \n + scheduler . advanceTimeBy ( 15 , TimeUnit . MILLISECONDS ) ; \n + TestSubscriber subscriber = new TestSubscriber < Long > ( ) ; \n + co . subscribe ( subscriber ) ; \n + / / Emit 1 and 2 \n + scheduler . advanceTimeBy ( 50 , TimeUnit . MILLISECONDS ) ; \n + subscriber . assertReceivedOnNext ( Arrays . asList ( 1L , 2L ) ) ; \n + subscriber . assertNoErrors ( ) ; \n + subscriber . assertTerminalEvent ( ) ; \n + } \n
spring - aop \ src \ main \ java \ org \ springframework \ aop \ framework \ CglibAopProxy . java \n + final boolean infoEnabled = logger . isInfoEnabled ( ) ; \n + final boolean debugEnabled = logger . isDebugEnabled ( ) ; \n - if ( implementsInterface ( method , ifcs ) ) { \n + if ( infoEnabled & & implementsInterface ( method , ifcs ) ) { \n - logger . debug ( " Final method [ " + method + " ] cannot get proxied via CGLIB : " + \n - " Calls to this method will NOT be routed to the target instance and " + \n - " might lead to NPEs against uninitialized fields in the proxy instance . " ) ; \n + if ( debugEnabled ) { \n + logger . debug ( " Final method [ " + method + " ] cannot get proxied via CGLIB : " + \n + " Calls to this method will NOT be routed to the target instance and " + \n + " might lead to NPEs against uninitialized fields in the proxy instance . " ) ; \n + } \n - else if ( ! Modifier . isPublic ( mod ) & & ! Modifier . isProtected ( mod ) & & \n + else if ( debugEnabled & & ! Modifier . isPublic ( mod ) & & ! Modifier . isProtected ( mod ) & & \n - private Object target ; \n + private final Object target ; \n - public Object loadObject ( ) throws Exception { \n + public Object loadObject ( ) { \n - private boolean equalsAdviceClasses ( Advisor a , Advisor b ) { \n + private static boolean equalsAdviceClasses ( Advisor a , Advisor b ) { \n - private boolean equalsPointcuts ( Advisor a , Advisor b ) { \n + private static boolean equalsPointcuts ( Advisor a , Advisor b ) { \n
spring - core \ src \ main \ java \ org \ springframework \ util \ ReflectionUtils . java \n + * @ throws IllegalArgumentException if method ' s argument is { @ code null } \n + Assert . notNull ( next , " Next MethodFilter must not be null ! " ) ; \n
spring - web \ src \ main \ java \ org \ springframework \ http \ ContentDisposition . java \n + * @ author Sergey Tsypanov \n - sb . append ( ( c = = ' " ' & & ! escaped ) ? " \ \ \ " " : c ) ; \n + if ( ! escaped & & c = = ' " ' ) { \n + sb . append ( " \ \ \ " " ) ; \n + } else { \n + sb . append ( c ) ; \n + } \n
README . md \n - compile " com . daimajia . swipelayout : library : 1 . 0 . 7 @ aar " \n + compile " com . daimajia . swipelayout : library : 1 . 0 . 8 @ aar " \n - < version > 1 . 0 . 7 < / version > \n + < version > 1 . 0 . 8 < / version > \n
README . md \n - ` ` ` sh \n - adb devices \n - List of devices attached \n - 004c03eb5615429f device \n - ` ` ` \n + ` ` ` sh \n + adb devices \n + List of devices attached \n + 004c03eb5615429f device \n + ` ` ` \n + \n
README . md \n - [ ! [ Gitter ] ( https : / / badges . gitter . im / Join % 20Chat . svg ) ] ( https : / / gitter . im / daimajia / AndroidViewAnimations ? utm _ source = badge & utm _ medium = badge & utm _ campaign = pr - badge & utm _ content = badge ) \n - \n - \n - [ ! [ Insight . io ] ( https : / / insight . io / repoBadge / github . com / daimajia / AndroidViewAnimations ) ] ( https : / / insight . io / github . com / daimajia / AndroidViewAnimations ) \n - \n - [ AFViewShaker ] ( https : / / github . com / ArtFeel / AFViewShaker ) \n - [ Animate . css ] ( https : / / github . com / daneden / animate . css ) \n + # Why YoYo ? \n + \n + YoYo is a [ toy ] ( https : / / en . wikipedia . org / wiki / Yo - yo ) , with a lot of [ Techniques ] ( . / library / src / main / java / com / daimajia / androidanimations / library / Techniques . java ) . \n + \n - A student in mainland China . \n + ( 2013 ) \n + A student in mainland China . \n + \n + ( 2019 ) \n + Five years later , now I become an investment associate in China . \n + \n + Welcome to send your business plan to [ me ] ( mailto : daimajia @ gmail . com ) . Maybe I would have a better understanding on your startup project than others . Trust me . \n
buffer \ src \ main \ java \ io \ netty \ buffer \ PoolArena . java \n - tableIdx = elemSize > > > 4 ; \n + tableIdx = tinyIdx ( elemSize ) ; \n - tableIdx = 0 ; \n - elemSize > > > = 10 ; \n - while ( elemSize ! = 0 ) { \n - elemSize > > > = 1 ; \n - tableIdx + + ; \n - } \n + tableIdx = smallIdx ( elemSize ) ; \n
handler \ src \ main \ java \ io \ netty \ handler \ flush \ FlushConsolidationHandler . java \n + import io . netty . util . internal . ObjectUtil ; \n - if ( explicitFlushAfterFlushes < = 0 ) { \n - throw new IllegalArgumentException ( " explicitFlushAfterFlushes : " \n - + explicitFlushAfterFlushes + " ( expected : > 0 ) " ) ; \n - } \n - this . explicitFlushAfterFlushes = explicitFlushAfterFlushes ; \n + this . explicitFlushAfterFlushes = \n + ObjectUtil . checkPositive ( explicitFlushAfterFlushes , " explicitFlushAfterFlushes " ) ; \n - flushTask = consolidateWhenNoReadInProgress ? \n + this . flushTask = consolidateWhenNoReadInProgress ? \n - ctx . flush ( ) ; \n + ctx . flush ( ) ; \n handler \ src \ test \ java \ io \ netty \ handler \ flush \ FlushConsolidationHandlerTest . java \n + import io . netty . util . concurrent . Future ; \n + import io . netty . util . concurrent . GenericFutureListener ; \n + / * * \n + * See https : / / github . com / netty / netty / issues / 9923 \n + * / \n + @ Test \n + public void testResend ( ) throws Exception { \n + final AtomicInteger flushCount = new AtomicInteger ( ) ; \n + final EmbeddedChannel channel = newChannel ( flushCount , true ) ; \n + channel . writeAndFlush ( 1L ) . addListener ( new GenericFutureListener < Future < ? super Void > > ( ) { \n + @ Override \n + public void operationComplete ( Future < ? super Void > future ) throws Exception { \n + channel . writeAndFlush ( 1L ) ; \n + } \n + } ) ; \n + channel . flushOutbound ( ) ; \n + assertEquals ( 1L , channel . readOutbound ( ) ) ; \n + assertEquals ( 1L , channel . readOutbound ( ) ) ; \n + assertNull ( channel . readOutbound ( ) ) ; \n + assertFalse ( channel . finish ( ) ) ; \n + } \n + \n
common \ src \ main \ java \ io \ netty \ util \ ResourceLeakDetector . java \n + / * * \n + * When the return value is { @ code true } , { @ link # reportTracedLeak } and { @ link # reportUntracedLeak } \n + * will be called once a leak is detected , otherwise not . \n + * \n + * @ return { @ code true } to enable leak reporting . \n + * / \n + protected boolean needReport ( ) { \n + return logger . isErrorEnabled ( ) ; \n + } \n + \n - if ( ! logger . isErrorEnabled ( ) ) { \n + if ( ! needReport ( ) ) { \n
dubbo - config \ dubbo - config - api \ src \ main \ java \ org \ apache \ dubbo \ config \ bootstrap \ DubboBootstrap . java \n - startMetadataCenter ( ) ; \n
dubbo - metadata \ dubbo - metadata - api \ src \ main \ java \ org \ apache \ dubbo \ metadata \ report \ MetadataReportInstance . java \n + import org . apache . dubbo . rpc . model . ApplicationModel ; \n + import static org . apache . dubbo . common . constants . CommonConstants . APPLICATION _ KEY ; \n + url = url . addParameterIfAbsent ( APPLICATION _ KEY , ApplicationModel . getApplicationConfig ( ) . getName ( ) ) ; \n
common \ src \ main \ java \ io \ netty \ util \ concurrent \ AbstractEventExecutor . java \n - * This is equivalent to submitting a { @ link EventExecutor . LazyRunnable } to \n + * This is equivalent to submitting a { @ link AbstractEventExecutor . LazyRunnable } to \n
spring - beans \ src \ main \ java \ org \ springframework \ beans \ factory \ ListableBeanFactory . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - * { @ code getBeanNamesOfType } and { @ code getBeansOfType } which will check \n + * { @ code getBeanNamesForType } and { @ code getBeansOfType } which will check \n spring - beans \ src \ main \ java \ org \ springframework \ beans \ factory \ support \ AbstractAutowireCapableBeanFactory . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n - " ' getBeanNamesOfType ' with the ' allowEagerInit ' flag turned off , for example . " ) ; \n + " ' getBeanNamesForType ' with the ' allowEagerInit ' flag turned off , for example . " ) ; \n
spring - context \ src \ main \ java \ org \ springframework \ context \ support \ ResourceBundleMessageSource . java \n + * @ author Qimiao Chen \n - codeMap = new ConcurrentHashMap < > ( ) ; \n - Map < String , Map < Locale , MessageFormat > > existing = \n - this . cachedBundleMessageFormats . putIfAbsent ( bundle , codeMap ) ; \n - if ( existing ! = null ) { \n - codeMap = existing ; \n - } \n + codeMap = this . cachedBundleMessageFormats . computeIfAbsent ( bundle , b - > new ConcurrentHashMap < > ( ) ) ; \n - localeMap = new ConcurrentHashMap < > ( ) ; \n - Map < Locale , MessageFormat > existing = codeMap . putIfAbsent ( code , localeMap ) ; \n - if ( existing ! = null ) { \n - localeMap = existing ; \n - } \n + localeMap = codeMap . computeIfAbsent ( code , c - > new ConcurrentHashMap < > ( ) ) ; \n
spring - tx \ src \ main \ java \ org \ springframework \ transaction \ support \ AbstractPlatformTransactionManager . java \n - * Copyright 2002 - 2019 the original author or authors . \n + * Copyright 2002 - 2020 the original author or authors . \n + import org . springframework . lang . NonNull ; \n - boolean newSynchronization = ( getTransactionSynchronization ( ) ! = SYNCHRONIZATION _ NEVER ) ; \n - DefaultTransactionStatus status = newTransactionStatus ( \n - def , transaction , true , newSynchronization , debugEnabled , suspendedResources ) ; \n - doBegin ( transaction , def ) ; \n - prepareSynchronization ( status , def ) ; \n - return status ; \n + return openNewTransaction ( def , transaction , debugEnabled , suspendedResources ) ; \n + / * * \n + * Open a new transaction with transaction definition . \n + * / \n + @ NonNull \n + private TransactionStatus openNewTransaction ( TransactionDefinition def , Object transaction , \n + boolean debugEnabled , @ Nullable SuspendedResourcesHolder suspendedResources ) { \n + boolean newSynchronization = ( getTransactionSynchronization ( ) ! = SYNCHRONIZATION _ NEVER ) ; \n + DefaultTransactionStatus status = newTransactionStatus ( \n + def , transaction , true , newSynchronization , debugEnabled , suspendedResources ) ; \n + doBegin ( transaction , def ) ; \n + prepareSynchronization ( status , def ) ; \n + return status ; \n + } \n + \n - boolean newSynchronization = ( getTransactionSynchronization ( ) ! = SYNCHRONIZATION _ NEVER ) ; \n - DefaultTransactionStatus status = newTransactionStatus ( \n - definition , transaction , true , newSynchronization , debugEnabled , suspendedResources ) ; \n - doBegin ( transaction , definition ) ; \n - prepareSynchronization ( status , definition ) ; \n - return status ; \n + return openNewTransaction ( definition , transaction , debugEnabled , suspendedResources ) ; \n - boolean newSynchronization = ( getTransactionSynchronization ( ) ! = SYNCHRONIZATION _ NEVER ) ; \n - DefaultTransactionStatus status = newTransactionStatus ( \n - definition , transaction , true , newSynchronization , debugEnabled , null ) ; \n - doBegin ( transaction , definition ) ; \n - prepareSynchronization ( status , definition ) ; \n - return status ; \n + return openNewTransaction ( definition , transaction , debugEnabled , null ) ; \n
src \ main \ java \ com \ alibaba \ fastjson \ JSONValidator . java \n - protected boolean supportMultiValue = true ; \n + protected boolean supportMultiValue = false ; \n - public void setSupportMultiValue ( boolean supportMultiValue ) { \n + public JSONValidator setSupportMultiValue ( boolean supportMultiValue ) { \n + return this ; \n new file \n src \ test \ java \ com \ alibaba \ json \ bvt \ issue _ 3400 \ Issue3460 . java \n + package com . alibaba . json . bvt . issue _ 3400 ; \n + \n + import com . alibaba . fastjson . JSON ; \n + import com . alibaba . fastjson . JSONValidator ; \n + import com . alibaba . json . bvt . issue _ 3200 . Issue3293 ; \n + import junit . framework . TestCase ; \n + import org . junit . Assert ; \n + \n + / * * \n + * Description : < br > \n + * \n + * @ author byw \n + * @ create 2020 / 9 / 20 \n + * / \n + public class Issue3460 extends TestCase { \n + \n + public void test _ for _ issue ( ) throws Exception { \n + String body = " 11 { \ " time \ " : " + System . currentTimeMillis ( ) + " } " ; \n + \n + assertFalse ( \n + JSONValidator . from ( body ) \n + . validate ( ) ) ; \n + \n + assertTrue ( \n + JSONValidator . from ( body ) \n + . setSupportMultiValue ( true ) \n + . validate ( ) ) ; \n + } \n + \n + } \n
src \ main \ java \ com \ alibaba \ fastjson \ JSONPath . java \n - init ( ) ; \n - for ( int i = 0 ; i < segments . length ; + + i ) { \n - Segment segment = segments [ i ] ; \n - Class segmentType = segment . getClass ( ) ; \n - if ( segmentType = = ArrayAccessSegment . class \n - | | segmentType = = PropertySegment . class ) { \n - continue ; \n + try { \n + init ( ) ; \n + for ( int i = 0 ; i < segments . length ; + + i ) { \n + Segment segment = segments [ i ] ; \n + Class segmentType = segment . getClass ( ) ; \n + if ( segmentType = = ArrayAccessSegment . class \n + | | segmentType = = PropertySegment . class ) { \n + continue ; \n + } \n + return false ; \n + return true ; \n + } catch ( JSONPathException ex ) { \n + / / skip \n - return true ; \n src \ main \ java \ com \ alibaba \ fastjson \ parser \ DefaultJSONParser . java \n - addResolveTask ( new ResolveTask ( context , ref ) ) ; \n - setResolveStatus ( DefaultJSONParser . NeedToResolve ) ; \n + JSONPath jsonpath = JSONPath . compile ( ref ) ; \n + if ( jsonpath . isRef ( ) ) { \n + addResolveTask ( new ResolveTask ( context , ref ) ) ; \n + setResolveStatus ( DefaultJSONParser . NeedToResolve ) ; \n + } else { \n + refValue = new JSONObject ( ) \n + . fluentPut ( " $ ref " , ref ) ; \n + } \n
new file \n src \ test \ java \ com \ alibaba \ json \ bvt \ issue _ 3300 \ Issue3336 . java \n + package com . alibaba . json . bvt . issue _ 3300 ; \n + \n + import com . alibaba . fastjson . JSON ; \n + import junit . framework . TestCase ; \n + \n + public class Issue3336 extends TestCase { \n + public void test _ for _ issue ( ) throws Exception { \n + String s = " { \ " schema \ " : { \ " $ ref \ " : \ " # / definitions / URLJumpConfig \ " } } " ; \n + assertEquals ( s , JSON . parseObject ( s ) \n + . toJSONString ( ) ) ; \n + \n + String s1 = " { \ " schema \ " : { \ " ref \ " : \ " # / definitions / URLJumpConfig \ " } } " ; \n + assertEquals ( s1 , JSON . parseObject ( s1 ) \n + . toJSONString ( ) ) ; \n + \n + String s2 = " { \ " schema \ " : { \ " $ ref \ " : \ " # / definitions / URLJumpConfig \ " } } " ; \n + assertEquals ( s2 , JSON . parseObject ( s2 ) \n + . toJSONString ( ) ) ; \n + } \n + } \n
